function HE(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function _f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yy={exports:{}},jd={},Jy={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),GE=Symbol.for("react.portal"),qE=Symbol.for("react.fragment"),KE=Symbol.for("react.strict_mode"),XE=Symbol.for("react.profiler"),YE=Symbol.for("react.provider"),JE=Symbol.for("react.context"),QE=Symbol.for("react.forward_ref"),ZE=Symbol.for("react.suspense"),e4=Symbol.for("react.memo"),t4=Symbol.for("react.lazy"),gg=Symbol.iterator;function r4(e){return e===null||typeof e!="object"?null:(e=gg&&e[gg]||e["@@iterator"],typeof e=="function"?e:null)}var Qy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zy=Object.assign,eb={};function Ia(e,t,r){this.props=e,this.context=t,this.refs=eb,this.updater=r||Qy}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ia.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tb(){}tb.prototype=Ia.prototype;function Tf(e,t,r){this.props=e,this.context=t,this.refs=eb,this.updater=r||Qy}var Rf=Tf.prototype=new tb;Rf.constructor=Tf;Zy(Rf,Ia.prototype);Rf.isPureReactComponent=!0;var vg=Array.isArray,rb=Object.prototype.hasOwnProperty,Af={current:null},nb={key:!0,ref:!0,__self:!0,__source:!0};function sb(e,t,r){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)rb.call(t,s)&&!nb.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:ll,type:e,key:a,ref:o,props:i,_owner:Af.current}}function n4(e,t){return{$$typeof:ll,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Of(e){return typeof e=="object"&&e!==null&&e.$$typeof===ll}function s4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yg=/\/+/g;function zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s4(""+e.key):t.toString(36)}function xc(e,t,r,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ll:case GE:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+zu(o,0):s,vg(i)?(r="",e!=null&&(r=e.replace(yg,"$&/")+"/"),xc(i,t,r,"",function(d){return d})):i!=null&&(Of(i)&&(i=n4(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",vg(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+zu(a,l);o+=xc(a,t,r,c,i)}else if(c=r4(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+zu(a,l++),o+=xc(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ml(e,t,r){if(e==null)return e;var s=[],i=0;return xc(e,s,"","",function(a){return t.call(r,a,i++)}),s}function i4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sr={current:null},gc={transition:null},a4={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:gc,ReactCurrentOwner:Af};function ib(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Ml,forEach:function(e,t,r){Ml(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ml(e,function(){t++}),t},toArray:function(e){return Ml(e,function(t){return t})||[]},only:function(e){if(!Of(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=Ia;Oe.Fragment=qE;Oe.Profiler=XE;Oe.PureComponent=Tf;Oe.StrictMode=KE;Oe.Suspense=ZE;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a4;Oe.act=ib;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Zy({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Af.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)rb.call(t,c)&&!nb.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:ll,type:e.type,key:i,ref:a,props:s,_owner:o}};Oe.createContext=function(e){return e={$$typeof:JE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YE,_context:e},e.Consumer=e};Oe.createElement=sb;Oe.createFactory=function(e){var t=sb.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:QE,render:e}};Oe.isValidElement=Of;Oe.lazy=function(e){return{$$typeof:t4,_payload:{_status:-1,_result:e},_init:i4}};Oe.memo=function(e,t){return{$$typeof:e4,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=gc.transition;gc.transition={};try{e()}finally{gc.transition=t}};Oe.unstable_act=ib;Oe.useCallback=function(e,t){return sr.current.useCallback(e,t)};Oe.useContext=function(e){return sr.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return sr.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return sr.current.useEffect(e,t)};Oe.useId=function(){return sr.current.useId()};Oe.useImperativeHandle=function(e,t,r){return sr.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return sr.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return sr.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return sr.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return sr.current.useReducer(e,t,r)};Oe.useRef=function(e){return sr.current.useRef(e)};Oe.useState=function(e){return sr.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return sr.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return sr.current.useTransition()};Oe.version="18.3.1";Jy.exports=Oe;var u=Jy.exports;const me=_f(u),Nd=HE({__proto__:null,default:me},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o4=u,l4=Symbol.for("react.element"),c4=Symbol.for("react.fragment"),d4=Object.prototype.hasOwnProperty,u4=o4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h4={key:!0,ref:!0,__self:!0,__source:!0};function ab(e,t,r){var s,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)d4.call(t,s)&&!h4.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:l4,type:e,key:a,ref:o,props:i,_owner:u4.current}}jd.Fragment=c4;jd.jsx=ab;jd.jsxs=ab;Yy.exports=jd;var n=Yy.exports,Gh={},ob={exports:{}},Pr={},lb={exports:{}},cb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,F){var H=$.length;$.push(F);e:for(;0<H;){var W=H-1>>>1,T=$[W];if(0<i(T,F))$[W]=F,$[H]=T,H=W;else break e}}function r($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var F=$[0],H=$.pop();if(H!==F){$[0]=H;e:for(var W=0,T=$.length,q=T>>>1;W<q;){var re=2*(W+1)-1,Q=$[re],de=re+1,X=$[de];if(0>i(Q,H))de<T&&0>i(X,Q)?($[W]=X,$[de]=H,W=de):($[W]=Q,$[re]=H,W=re);else if(de<T&&0>i(X,H))$[W]=X,$[de]=H,W=de;else break e}}return F}function i($,F){var H=$.sortIndex-F.sortIndex;return H!==0?H:$.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,h=null,p=3,b=!1,j=!1,f=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var F=r(d);F!==null;){if(F.callback===null)s(d);else if(F.startTime<=$)s(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(d)}}function N($){if(f=!1,y($),!j)if(r(c)!==null)j=!0,z(P);else{var F=r(d);F!==null&&U(N,F.startTime-$)}}function P($,F){j=!1,f&&(f=!1,g(E),E=-1),b=!0;var H=p;try{for(y(F),h=r(c);h!==null&&(!(h.expirationTime>F)||$&&!M());){var W=h.callback;if(typeof W=="function"){h.callback=null,p=h.priorityLevel;var T=W(h.expirationTime<=F);F=e.unstable_now(),typeof T=="function"?h.callback=T:h===r(c)&&s(c),y(F)}else s(c);h=r(c)}if(h!==null)var q=!0;else{var re=r(d);re!==null&&U(N,re.startTime-F),q=!1}return q}finally{h=null,p=H,b=!1}}var _=!1,k=null,E=-1,O=5,R=-1;function M(){return!(e.unstable_now()-R<O)}function L(){if(k!==null){var $=e.unstable_now();R=$;var F=!0;try{F=k(!0,$)}finally{F?D():(_=!1,k=null)}}else _=!1}var D;if(typeof x=="function")D=function(){x(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=L,D=function(){G.postMessage(null)}}else D=function(){w(L,0)};function z($){k=$,_||(_=!0,D())}function U($,F){E=w(function(){$(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){j||b||(j=!0,z(P))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var H=p;p=F;try{return $()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,F){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=p;p=$;try{return F()}finally{p=H}},e.unstable_scheduleCallback=function($,F,H){var W=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,$){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=H+T,$={id:m++,callback:F,priorityLevel:$,startTime:H,expirationTime:T,sortIndex:-1},H>W?($.sortIndex=H,t(d,$),r(c)===null&&$===r(d)&&(f?(g(E),E=-1):f=!0,U(N,H-W))):($.sortIndex=T,t(c,$),j||b||(j=!0,z(P))),$},e.unstable_shouldYield=M,e.unstable_wrapCallback=function($){var F=p;return function(){var H=p;p=F;try{return $.apply(this,arguments)}finally{p=H}}}})(cb);lb.exports=cb;var m4=lb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4=u,Sr=m4;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var db=new Set,Ao={};function _i(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(Ao[e]=t,e=0;e<t.length;e++)db.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qh=Object.prototype.hasOwnProperty,p4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bg={},wg={};function x4(e){return qh.call(wg,e)?!0:qh.call(bg,e)?!1:p4.test(e)?wg[e]=!0:(bg[e]=!0,!1)}function g4(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v4(e,t,r,s){if(t===null||typeof t>"u"||g4(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(e,t,r,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mf=/[\-:]([a-z])/g;function $f(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mf,$f);Lt[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mf,$f);Lt[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mf,$f);Lt[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function If(e,t,r,s){var i=Lt.hasOwnProperty(t)?Lt[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v4(t,r,i,s)&&(r=null),s||i===null?x4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,s=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var ss=f4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),Xi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),ub=Symbol.for("react.provider"),hb=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Yh=Symbol.for("react.suspense_list"),Ff=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),mb=Symbol.for("react.offscreen"),jg=Symbol.iterator;function Ya(e){return e===null||typeof e!="object"?null:(e=jg&&e[jg]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Object.assign,Bu;function co(e){if(Bu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bu=t&&t[1]||""}return`
`+Bu+e}var Uu=!1;function Wu(e,t){if(!e||Uu)return"";Uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Uu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?co(e):""}function y4(e){switch(e.tag){case 5:return co(e.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return e=Wu(e.type,!1),e;case 11:return e=Wu(e.type.render,!1),e;case 1:return e=Wu(e.type,!0),e;default:return""}}function Jh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case Xi:return"Portal";case Kh:return"Profiler";case Df:return"StrictMode";case Xh:return"Suspense";case Yh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hb:return(e.displayName||"Context")+".Consumer";case ub:return(e._context.displayName||"Context")+".Provider";case Lf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ff:return t=e.displayName||null,t!==null?t:Jh(e.type)||"Memo";case ms:t=e._payload,e=e._init;try{return Jh(e(t))}catch{}}return null}function b4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jh(t);case 8:return t===Df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w4(e){var t=fb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Il(e){e._valueTracker||(e._valueTracker=w4(e))}function pb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=fb(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Rc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qh(e,t){var r=t.checked;return lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ng(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=$s(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xb(e,t){t=t.checked,t!=null&&If(e,"checked",t,!1)}function Zh(e,t){xb(e,t);var r=$s(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?em(e,t.type,r):t.hasOwnProperty("defaultValue")&&em(e,t.type,$s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function em(e,t,r){(t!=="number"||Rc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var uo=Array.isArray;function ua(e,t,r,s){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&s&&(e[r].defaultSelected=!0)}else{for(r=""+$s(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(uo(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$s(r)}}function gb(e,t){var r=$s(t.value),s=$s(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Pg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dl,yb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j4=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(e){j4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xo[t]=xo[e]})});function bb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xo.hasOwnProperty(e)&&xo[e]?(""+t).trim():t+"px"}function wb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,i=bb(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,i):e[r]=i}}var N4=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(e,t){if(t){if(N4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function sm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function Vf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var am=null,ha=null,ma=null;function kg(e){if(e=ul(e)){if(typeof am!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Ed(t),am(e.stateNode,e.type,t))}}function jb(e){ha?ma?ma.push(e):ma=[e]:ha=e}function Nb(){if(ha){var e=ha,t=ma;if(ma=ha=null,kg(e),t)for(e=0;e<t.length;e++)kg(t[e])}}function Sb(e,t){return e(t)}function Cb(){}var Hu=!1;function Pb(e,t,r){if(Hu)return e(t,r);Hu=!0;try{return Sb(e,t,r)}finally{Hu=!1,(ha!==null||ma!==null)&&(Cb(),Nb())}}function Mo(e,t){var r=e.stateNode;if(r===null)return null;var s=Ed(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var om=!1;if(qn)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){om=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{om=!1}function S4(e,t,r,s,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(m){this.onError(m)}}var go=!1,Ac=null,Oc=!1,lm=null,C4={onError:function(e){go=!0,Ac=e}};function P4(e,t,r,s,i,a,o,l,c){go=!1,Ac=null,S4.apply(C4,arguments)}function k4(e,t,r,s,i,a,o,l,c){if(P4.apply(this,arguments),go){if(go){var d=Ac;go=!1,Ac=null}else throw Error(ne(198));Oc||(Oc=!0,lm=d)}}function Ti(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eg(e){if(Ti(e)!==e)throw Error(ne(188))}function E4(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,s=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){r=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Eg(i),e;if(a===s)return Eg(i),t;a=a.sibling}throw Error(ne(188))}if(r.return!==s.return)r=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o)throw Error(ne(189))}}if(r.alternate!==s)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function Eb(e){return e=E4(e),e!==null?_b(e):null}function _b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_b(e);if(t!==null)return t;e=e.sibling}return null}var Tb=Sr.unstable_scheduleCallback,_g=Sr.unstable_cancelCallback,_4=Sr.unstable_shouldYield,T4=Sr.unstable_requestPaint,mt=Sr.unstable_now,R4=Sr.unstable_getCurrentPriorityLevel,zf=Sr.unstable_ImmediatePriority,Rb=Sr.unstable_UserBlockingPriority,Mc=Sr.unstable_NormalPriority,A4=Sr.unstable_LowPriority,Ab=Sr.unstable_IdlePriority,Sd=null,Sn=null;function O4(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Sd,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:I4,M4=Math.log,$4=Math.LN2;function I4(e){return e>>>=0,e===0?32:31-(M4(e)/$4|0)|0}var Ll=64,Fl=4194304;function ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $c(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?s=ho(l):(a&=o,a!==0&&(s=ho(a)))}else o=r&~i,o!==0?s=ho(o):a!==0&&(s=ho(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-rn(t),i=1<<r,s|=e[r],t&=~i;return s}function D4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L4(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-rn(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&s)&&(i[o]=D4(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function cm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ob(){var e=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),e}function Gu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=r}function F4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-rn(r),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,r&=~a}}function Bf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-rn(r),i=1<<s;i&t|e[s]&t&&(e[s]|=t),r&=~i}}var Ge=0;function Mb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $b,Uf,Ib,Db,Lb,dm=!1,Vl=[],Ns=null,Ss=null,Cs=null,$o=new Map,Io=new Map,xs=[],V4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tg(e,t){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":$o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(t.pointerId)}}function Qa(e,t,r,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ul(t),t!==null&&Uf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function z4(e,t,r,s,i){switch(t){case"focusin":return Ns=Qa(Ns,e,t,r,s,i),!0;case"dragenter":return Ss=Qa(Ss,e,t,r,s,i),!0;case"mouseover":return Cs=Qa(Cs,e,t,r,s,i),!0;case"pointerover":var a=i.pointerId;return $o.set(a,Qa($o.get(a)||null,e,t,r,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Io.set(a,Qa(Io.get(a)||null,e,t,r,s,i)),!0}return!1}function Fb(e){var t=oi(e.target);if(t!==null){var r=Ti(t);if(r!==null){if(t=r.tag,t===13){if(t=kb(r),t!==null){e.blockedOn=t,Lb(e.priority,function(){Ib(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=um(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);im=s,r.target.dispatchEvent(s),im=null}else return t=ul(r),t!==null&&Uf(t),e.blockedOn=r,!1;t.shift()}return!0}function Rg(e,t,r){vc(e)&&r.delete(t)}function B4(){dm=!1,Ns!==null&&vc(Ns)&&(Ns=null),Ss!==null&&vc(Ss)&&(Ss=null),Cs!==null&&vc(Cs)&&(Cs=null),$o.forEach(Rg),Io.forEach(Rg)}function Za(e,t){e.blockedOn===t&&(e.blockedOn=null,dm||(dm=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,B4)))}function Do(e){function t(i){return Za(i,e)}if(0<Vl.length){Za(Vl[0],e);for(var r=1;r<Vl.length;r++){var s=Vl[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Ns!==null&&Za(Ns,e),Ss!==null&&Za(Ss,e),Cs!==null&&Za(Cs,e),$o.forEach(t),Io.forEach(t),r=0;r<xs.length;r++)s=xs[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<xs.length&&(r=xs[0],r.blockedOn===null);)Fb(r),r.blockedOn===null&&xs.shift()}var fa=ss.ReactCurrentBatchConfig,Ic=!0;function U4(e,t,r,s){var i=Ge,a=fa.transition;fa.transition=null;try{Ge=1,Wf(e,t,r,s)}finally{Ge=i,fa.transition=a}}function W4(e,t,r,s){var i=Ge,a=fa.transition;fa.transition=null;try{Ge=4,Wf(e,t,r,s)}finally{Ge=i,fa.transition=a}}function Wf(e,t,r,s){if(Ic){var i=um(e,t,r,s);if(i===null)rh(e,t,s,Dc,r),Tg(e,s);else if(z4(i,e,t,r,s))s.stopPropagation();else if(Tg(e,s),t&4&&-1<V4.indexOf(e)){for(;i!==null;){var a=ul(i);if(a!==null&&$b(a),a=um(e,t,r,s),a===null&&rh(e,t,s,Dc,r),a===i)break;i=a}i!==null&&s.stopPropagation()}else rh(e,t,s,null,r)}}var Dc=null;function um(e,t,r,s){if(Dc=null,e=Vf(s),e=oi(e),e!==null)if(t=Ti(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dc=e,null}function Vb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R4()){case zf:return 1;case Rb:return 4;case Mc:case A4:return 16;case Ab:return 536870912;default:return 16}default:return 16}}var ys=null,Hf=null,yc=null;function zb(){if(yc)return yc;var e,t=Hf,r=t.length,s,i="value"in ys?ys.value:ys.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===i[a-s];s++);return yc=i.slice(e,1<s?1-s:void 0)}function bc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zl(){return!0}function Ag(){return!1}function kr(e){function t(r,s,i,a,o){this._reactName=r,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zl:Ag,this.isPropagationStopped=Ag,this}return lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),t}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=kr(Da),dl=lt({},Da,{view:0,detail:0}),H4=kr(dl),qu,Ku,eo,Cd=lt({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==eo&&(eo&&e.type==="mousemove"?(qu=e.screenX-eo.screenX,Ku=e.screenY-eo.screenY):Ku=qu=0,eo=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Ku}}),Og=kr(Cd),G4=lt({},Cd,{dataTransfer:0}),q4=kr(G4),K4=lt({},dl,{relatedTarget:0}),Xu=kr(K4),X4=lt({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),Y4=kr(X4),J4=lt({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q4=kr(J4),Z4=lt({},Da,{data:0}),Mg=kr(Z4),e_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r_[e])?!!t[e]:!1}function qf(){return n_}var s_=lt({},dl,{key:function(e){if(e.key){var t=e_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qf,charCode:function(e){return e.type==="keypress"?bc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i_=kr(s_),a_=lt({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=kr(a_),o_=lt({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qf}),l_=kr(o_),c_=lt({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),d_=kr(c_),u_=lt({},Cd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h_=kr(u_),m_=[9,13,27,32],Kf=qn&&"CompositionEvent"in window,vo=null;qn&&"documentMode"in document&&(vo=document.documentMode);var f_=qn&&"TextEvent"in window&&!vo,Bb=qn&&(!Kf||vo&&8<vo&&11>=vo),Ig=String.fromCharCode(32),Dg=!1;function Ub(e,t){switch(e){case"keyup":return m_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function p_(e,t){switch(e){case"compositionend":return Wb(t);case"keypress":return t.which!==32?null:(Dg=!0,Ig);case"textInput":return e=t.data,e===Ig&&Dg?null:e;default:return null}}function x_(e,t){if(Ji)return e==="compositionend"||!Kf&&Ub(e,t)?(e=zb(),yc=Hf=ys=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bb&&t.locale!=="ko"?null:t.data;default:return null}}var g_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g_[e.type]:t==="textarea"}function Hb(e,t,r,s){jb(s),t=Lc(t,"onChange"),0<t.length&&(r=new Gf("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var yo=null,Lo=null;function v_(e){rw(e,0)}function Pd(e){var t=ea(e);if(pb(t))return e}function y_(e,t){if(e==="change")return t}var Gb=!1;if(qn){var Yu;if(qn){var Ju="oninput"in document;if(!Ju){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Ju=typeof Fg.oninput=="function"}Yu=Ju}else Yu=!1;Gb=Yu&&(!document.documentMode||9<document.documentMode)}function Vg(){yo&&(yo.detachEvent("onpropertychange",qb),Lo=yo=null)}function qb(e){if(e.propertyName==="value"&&Pd(Lo)){var t=[];Hb(t,Lo,e,Vf(e)),Pb(v_,t)}}function b_(e,t,r){e==="focusin"?(Vg(),yo=t,Lo=r,yo.attachEvent("onpropertychange",qb)):e==="focusout"&&Vg()}function w_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pd(Lo)}function j_(e,t){if(e==="click")return Pd(t)}function N_(e,t){if(e==="input"||e==="change")return Pd(t)}function S_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:S_;function Fo(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var i=r[s];if(!qh.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bg(e,t){var r=zg(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zg(r)}}function Kb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xb(){for(var e=window,t=Rc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rc(e.document)}return t}function Xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function C_(e){var t=Xb(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Kb(r.ownerDocument.documentElement,r)){if(s!==null&&Xf(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=Bg(r,a);var o=Bg(r,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P_=qn&&"documentMode"in document&&11>=document.documentMode,Qi=null,hm=null,bo=null,mm=!1;function Ug(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mm||Qi==null||Qi!==Rc(s)||(s=Qi,"selectionStart"in s&&Xf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),bo&&Fo(bo,s)||(bo=s,s=Lc(hm,"onSelect"),0<s.length&&(t=new Gf("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Qi)))}function Bl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zi={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},Qu={},Yb={};qn&&(Yb=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function kd(e){if(Qu[e])return Qu[e];if(!Zi[e])return e;var t=Zi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yb)return Qu[e]=t[r];return e}var Jb=kd("animationend"),Qb=kd("animationiteration"),Zb=kd("animationstart"),ew=kd("transitionend"),tw=new Map,Wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(e,t){tw.set(e,t),_i(t,[e])}for(var Zu=0;Zu<Wg.length;Zu++){var eh=Wg[Zu],k_=eh.toLowerCase(),E_=eh[0].toUpperCase()+eh.slice(1);Us(k_,"on"+E_)}Us(Jb,"onAnimationEnd");Us(Qb,"onAnimationIteration");Us(Zb,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(ew,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),__=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function Hg(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,k4(s,t,void 0,e),e.currentTarget=null}function rw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Hg(i,l,d),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Hg(i,l,d),a=c}}}if(Oc)throw e=lm,Oc=!1,lm=null,e}function Qe(e,t){var r=t[vm];r===void 0&&(r=t[vm]=new Set);var s=e+"__bubble";r.has(s)||(nw(t,e,2,!1),r.add(s))}function th(e,t,r){var s=0;t&&(s|=4),nw(r,e,s,t)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[Ul]){e[Ul]=!0,db.forEach(function(r){r!=="selectionchange"&&(__.has(r)||th(r,!1,e),th(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ul]||(t[Ul]=!0,th("selectionchange",!1,t))}}function nw(e,t,r,s){switch(Vb(t)){case 1:var i=U4;break;case 4:i=W4;break;default:i=Wf}r=i.bind(null,t,r,e),i=void 0,!om||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function rh(e,t,r,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=oi(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}Pb(function(){var d=a,m=Vf(r),h=[];e:{var p=tw.get(e);if(p!==void 0){var b=Gf,j=e;switch(e){case"keypress":if(bc(r)===0)break e;case"keydown":case"keyup":b=i_;break;case"focusin":j="focus",b=Xu;break;case"focusout":j="blur",b=Xu;break;case"beforeblur":case"afterblur":b=Xu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=q4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=l_;break;case Jb:case Qb:case Zb:b=Y4;break;case ew:b=d_;break;case"scroll":b=H4;break;case"wheel":b=h_;break;case"copy":case"cut":case"paste":b=Q4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=$g}var f=(t&4)!==0,w=!f&&e==="scroll",g=f?p!==null?p+"Capture":null:p;f=[];for(var x=d,y;x!==null;){y=x;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,g!==null&&(N=Mo(x,g),N!=null&&f.push(zo(x,N,y)))),w)break;x=x.return}0<f.length&&(p=new b(p,j,null,r,m),h.push({event:p,listeners:f}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",p&&r!==im&&(j=r.relatedTarget||r.fromElement)&&(oi(j)||j[Kn]))break e;if((b||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,b?(j=r.relatedTarget||r.toElement,b=d,j=j?oi(j):null,j!==null&&(w=Ti(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(b=null,j=d),b!==j)){if(f=Og,N="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(f=$g,N="onPointerLeave",g="onPointerEnter",x="pointer"),w=b==null?p:ea(b),y=j==null?p:ea(j),p=new f(N,x+"leave",b,r,m),p.target=w,p.relatedTarget=y,N=null,oi(m)===d&&(f=new f(g,x+"enter",j,r,m),f.target=y,f.relatedTarget=w,N=f),w=N,b&&j)t:{for(f=b,g=j,x=0,y=f;y;y=zi(y))x++;for(y=0,N=g;N;N=zi(N))y++;for(;0<x-y;)f=zi(f),x--;for(;0<y-x;)g=zi(g),y--;for(;x--;){if(f===g||g!==null&&f===g.alternate)break t;f=zi(f),g=zi(g)}f=null}else f=null;b!==null&&Gg(h,p,b,f,!1),j!==null&&w!==null&&Gg(h,w,j,f,!0)}}e:{if(p=d?ea(d):window,b=p.nodeName&&p.nodeName.toLowerCase(),b==="select"||b==="input"&&p.type==="file")var P=y_;else if(Lg(p))if(Gb)P=N_;else{P=w_;var _=b_}else(b=p.nodeName)&&b.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=j_);if(P&&(P=P(e,d))){Hb(h,P,r,m);break e}_&&_(e,p,d),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&em(p,"number",p.value)}switch(_=d?ea(d):window,e){case"focusin":(Lg(_)||_.contentEditable==="true")&&(Qi=_,hm=d,bo=null);break;case"focusout":bo=hm=Qi=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,Ug(h,r,m);break;case"selectionchange":if(P_)break;case"keydown":case"keyup":Ug(h,r,m)}var k;if(Kf)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ji?Ub(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Bb&&r.locale!=="ko"&&(Ji||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ji&&(k=zb()):(ys=m,Hf="value"in ys?ys.value:ys.textContent,Ji=!0)),_=Lc(d,E),0<_.length&&(E=new Mg(E,e,null,r,m),h.push({event:E,listeners:_}),k?E.data=k:(k=Wb(r),k!==null&&(E.data=k)))),(k=f_?p_(e,r):x_(e,r))&&(d=Lc(d,"onBeforeInput"),0<d.length&&(m=new Mg("onBeforeInput","beforeinput",null,r,m),h.push({event:m,listeners:d}),m.data=k))}rw(h,t)})}function zo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lc(e,t){for(var r=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Mo(e,r),a!=null&&s.unshift(zo(e,a,i)),a=Mo(e,t),a!=null&&s.push(zo(e,a,i))),e=e.return}return s}function zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gg(e,t,r,s,i){for(var a=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,i?(c=Mo(r,a),c!=null&&o.unshift(zo(r,c,l))):i||(c=Mo(r,a),c!=null&&o.push(zo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var T_=/\r\n?/g,R_=/\u0000|\uFFFD/g;function qg(e){return(typeof e=="string"?e:""+e).replace(T_,`
`).replace(R_,"")}function Wl(e,t,r){if(t=qg(t),qg(e)!==t&&r)throw Error(ne(425))}function Fc(){}var fm=null,pm=null;function xm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,O_=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(e){return Kg.resolve(null).then(e).catch(M_)}:gm;function M_(e){setTimeout(function(){throw e})}function nh(e,t){var r=t,s=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(s===0){e.removeChild(i),Do(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=i}while(r);Do(t)}function Ps(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var La=Math.random().toString(36).slice(2),wn="__reactFiber$"+La,Bo="__reactProps$"+La,Kn="__reactContainer$"+La,vm="__reactEvents$"+La,$_="__reactListeners$"+La,I_="__reactHandles$"+La;function oi(e){var t=e[wn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kn]||r[wn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xg(e);e!==null;){if(r=e[wn])return r;e=Xg(e)}return t}e=r,r=e.parentNode}return null}function ul(e){return e=e[wn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Ed(e){return e[Bo]||null}var ym=[],ta=-1;function Ws(e){return{current:e}}function Ze(e){0>ta||(e.current=ym[ta],ym[ta]=null,ta--)}function Ke(e,t){ta++,ym[ta]=e.current,e.current=t}var Is={},Xt=Ws(Is),hr=Ws(!1),yi=Is;function Na(e,t){var r=e.type.contextTypes;if(!r)return Is;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mr(e){return e=e.childContextTypes,e!=null}function Vc(){Ze(hr),Ze(Xt)}function Yg(e,t,r){if(Xt.current!==Is)throw Error(ne(168));Ke(Xt,t),Ke(hr,r)}function sw(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(ne(108,b4(e)||"Unknown",i));return lt({},r,s)}function zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Is,yi=Xt.current,Ke(Xt,e),Ke(hr,hr.current),!0}function Jg(e,t,r){var s=e.stateNode;if(!s)throw Error(ne(169));r?(e=sw(e,t,yi),s.__reactInternalMemoizedMergedChildContext=e,Ze(hr),Ze(Xt),Ke(Xt,e)):Ze(hr),Ke(hr,r)}var Ln=null,_d=!1,sh=!1;function iw(e){Ln===null?Ln=[e]:Ln.push(e)}function D_(e){_d=!0,iw(e)}function Hs(){if(!sh&&Ln!==null){sh=!0;var e=0,t=Ge;try{var r=Ln;for(Ge=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ln=null,_d=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(e+1)),Tb(zf,Hs),i}finally{Ge=t,sh=!1}}return null}var ra=[],na=0,Bc=null,Uc=0,Ar=[],Or=0,bi=null,Fn=1,Vn="";function ei(e,t){ra[na++]=Uc,ra[na++]=Bc,Bc=e,Uc=t}function aw(e,t,r){Ar[Or++]=Fn,Ar[Or++]=Vn,Ar[Or++]=bi,bi=e;var s=Fn;e=Vn;var i=32-rn(s)-1;s&=~(1<<i),r+=1;var a=32-rn(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Fn=1<<32-rn(t)+i|r<<i|s,Vn=a+e}else Fn=1<<a|r<<i|s,Vn=e}function Yf(e){e.return!==null&&(ei(e,1),aw(e,1,0))}function Jf(e){for(;e===Bc;)Bc=ra[--na],ra[na]=null,Uc=ra[--na],ra[na]=null;for(;e===bi;)bi=Ar[--Or],Ar[Or]=null,Vn=Ar[--Or],Ar[Or]=null,Fn=Ar[--Or],Ar[Or]=null}var jr=null,wr=null,tt=!1,Zr=null;function ow(e,t){var r=Mr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jr=e,wr=Ps(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jr=e,wr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bi!==null?{id:Fn,overflow:Vn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,jr=e,wr=null,!0):!1;default:return!1}}function bm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wm(e){if(tt){var t=wr;if(t){var r=t;if(!Qg(e,t)){if(bm(e))throw Error(ne(418));t=Ps(r.nextSibling);var s=jr;t&&Qg(e,t)?ow(s,r):(e.flags=e.flags&-4097|2,tt=!1,jr=e)}}else{if(bm(e))throw Error(ne(418));e.flags=e.flags&-4097|2,tt=!1,jr=e}}}function Zg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jr=e}function Hl(e){if(e!==jr)return!1;if(!tt)return Zg(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xm(e.type,e.memoizedProps)),t&&(t=wr)){if(bm(e))throw lw(),Error(ne(418));for(;t;)ow(e,t),t=Ps(t.nextSibling)}if(Zg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wr=Ps(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wr=null}}else wr=jr?Ps(e.stateNode.nextSibling):null;return!0}function lw(){for(var e=wr;e;)e=Ps(e.nextSibling)}function Sa(){wr=jr=null,tt=!1}function Qf(e){Zr===null?Zr=[e]:Zr.push(e)}var L_=ss.ReactCurrentBatchConfig;function to(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var s=r.stateNode}if(!s)throw Error(ne(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Gl(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ev(e){var t=e._init;return t(e._payload)}function cw(e){function t(g,x){if(e){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Ts(g,x),g.index=0,g.sibling=null,g}function a(g,x,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=2,x):y):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,y,N){return x===null||x.tag!==6?(x=uh(y,g.mode,N),x.return=g,x):(x=i(x,y),x.return=g,x)}function c(g,x,y,N){var P=y.type;return P===Yi?m(g,x,y.props.children,N,y.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ms&&ev(P)===x.type)?(N=i(x,y.props),N.ref=to(g,x,y),N.return=g,N):(N=kc(y.type,y.key,y.props,null,g.mode,N),N.ref=to(g,x,y),N.return=g,N)}function d(g,x,y,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=hh(y,g.mode,N),x.return=g,x):(x=i(x,y.children||[]),x.return=g,x)}function m(g,x,y,N,P){return x===null||x.tag!==7?(x=fi(y,g.mode,N,P),x.return=g,x):(x=i(x,y),x.return=g,x)}function h(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=uh(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $l:return y=kc(x.type,x.key,x.props,null,g.mode,y),y.ref=to(g,null,x),y.return=g,y;case Xi:return x=hh(x,g.mode,y),x.return=g,x;case ms:var N=x._init;return h(g,N(x._payload),y)}if(uo(x)||Ya(x))return x=fi(x,g.mode,y,null),x.return=g,x;Gl(g,x)}return null}function p(g,x,y,N){var P=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return P!==null?null:l(g,x,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $l:return y.key===P?c(g,x,y,N):null;case Xi:return y.key===P?d(g,x,y,N):null;case ms:return P=y._init,p(g,x,P(y._payload),N)}if(uo(y)||Ya(y))return P!==null?null:m(g,x,y,N,null);Gl(g,y)}return null}function b(g,x,y,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(y)||null,l(x,g,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $l:return g=g.get(N.key===null?y:N.key)||null,c(x,g,N,P);case Xi:return g=g.get(N.key===null?y:N.key)||null,d(x,g,N,P);case ms:var _=N._init;return b(g,x,y,_(N._payload),P)}if(uo(N)||Ya(N))return g=g.get(y)||null,m(x,g,N,P,null);Gl(x,N)}return null}function j(g,x,y,N){for(var P=null,_=null,k=x,E=x=0,O=null;k!==null&&E<y.length;E++){k.index>E?(O=k,k=null):O=k.sibling;var R=p(g,k,y[E],N);if(R===null){k===null&&(k=O);break}e&&k&&R.alternate===null&&t(g,k),x=a(R,x,E),_===null?P=R:_.sibling=R,_=R,k=O}if(E===y.length)return r(g,k),tt&&ei(g,E),P;if(k===null){for(;E<y.length;E++)k=h(g,y[E],N),k!==null&&(x=a(k,x,E),_===null?P=k:_.sibling=k,_=k);return tt&&ei(g,E),P}for(k=s(g,k);E<y.length;E++)O=b(k,g,E,y[E],N),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?E:O.key),x=a(O,x,E),_===null?P=O:_.sibling=O,_=O);return e&&k.forEach(function(M){return t(g,M)}),tt&&ei(g,E),P}function f(g,x,y,N){var P=Ya(y);if(typeof P!="function")throw Error(ne(150));if(y=P.call(y),y==null)throw Error(ne(151));for(var _=P=null,k=x,E=x=0,O=null,R=y.next();k!==null&&!R.done;E++,R=y.next()){k.index>E?(O=k,k=null):O=k.sibling;var M=p(g,k,R.value,N);if(M===null){k===null&&(k=O);break}e&&k&&M.alternate===null&&t(g,k),x=a(M,x,E),_===null?P=M:_.sibling=M,_=M,k=O}if(R.done)return r(g,k),tt&&ei(g,E),P;if(k===null){for(;!R.done;E++,R=y.next())R=h(g,R.value,N),R!==null&&(x=a(R,x,E),_===null?P=R:_.sibling=R,_=R);return tt&&ei(g,E),P}for(k=s(g,k);!R.done;E++,R=y.next())R=b(k,g,E,R.value,N),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?E:R.key),x=a(R,x,E),_===null?P=R:_.sibling=R,_=R);return e&&k.forEach(function(L){return t(g,L)}),tt&&ei(g,E),P}function w(g,x,y,N){if(typeof y=="object"&&y!==null&&y.type===Yi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $l:e:{for(var P=y.key,_=x;_!==null;){if(_.key===P){if(P=y.type,P===Yi){if(_.tag===7){r(g,_.sibling),x=i(_,y.props.children),x.return=g,g=x;break e}}else if(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ms&&ev(P)===_.type){r(g,_.sibling),x=i(_,y.props),x.ref=to(g,_,y),x.return=g,g=x;break e}r(g,_);break}else t(g,_);_=_.sibling}y.type===Yi?(x=fi(y.props.children,g.mode,N,y.key),x.return=g,g=x):(N=kc(y.type,y.key,y.props,null,g.mode,N),N.ref=to(g,x,y),N.return=g,g=N)}return o(g);case Xi:e:{for(_=y.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(g,x.sibling),x=i(x,y.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=hh(y,g.mode,N),x.return=g,g=x}return o(g);case ms:return _=y._init,w(g,x,_(y._payload),N)}if(uo(y))return j(g,x,y,N);if(Ya(y))return f(g,x,y,N);Gl(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(g,x.sibling),x=i(x,y),x.return=g,g=x):(r(g,x),x=uh(y,g.mode,N),x.return=g,g=x),o(g)):r(g,x)}return w}var Ca=cw(!0),dw=cw(!1),Wc=Ws(null),Hc=null,sa=null,Zf=null;function ep(){Zf=sa=Hc=null}function tp(e){var t=Wc.current;Ze(Wc),e._currentValue=t}function jm(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function pa(e,t){Hc=e,Zf=sa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dr=!0),e.firstContext=null)}function zr(e){var t=e._currentValue;if(Zf!==e)if(e={context:e,memoizedValue:t,next:null},sa===null){if(Hc===null)throw Error(ne(308));sa=e,Hc.dependencies={lanes:0,firstContext:e}}else sa=sa.next=e;return t}var li=null;function rp(e){li===null?li=[e]:li.push(e)}function uw(e,t,r,s){var i=t.interleaved;return i===null?(r.next=r,rp(t)):(r.next=i.next,i.next=r),t.interleaved=r,Xn(e,s)}function Xn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fs=!1;function np(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ks(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,De&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Xn(e,r)}return i=s.interleaved,i===null?(t.next=t,rp(s)):(t.next=i.next,i.next=t),s.interleaved=t,Xn(e,r)}function wc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Bf(e,r)}}function tv(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gc(e,t,r,s){var i=e.updateQueue;fs=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,m=d=c=null,l=a;do{var p=l.lane,b=l.eventTime;if((s&p)===p){m!==null&&(m=m.next={eventTime:b,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,f=l;switch(p=t,b=r,f.tag){case 1:if(j=f.payload,typeof j=="function"){h=j.call(b,h,p);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=f.payload,p=typeof j=="function"?j.call(b,h,p):j,p==null)break e;h=lt({},h,p);break e;case 2:fs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else b={eventTime:b,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=b,c=h):m=m.next=b,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(m===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ji|=o,e.lanes=o,e.memoizedState=h}}function rv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=r,typeof i!="function")throw Error(ne(191,i));i.call(s)}}}var hl={},Cn=Ws(hl),Uo=Ws(hl),Wo=Ws(hl);function ci(e){if(e===hl)throw Error(ne(174));return e}function sp(e,t){switch(Ke(Wo,t),Ke(Uo,e),Ke(Cn,hl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rm(t,e)}Ze(Cn),Ke(Cn,t)}function Pa(){Ze(Cn),Ze(Uo),Ze(Wo)}function mw(e){ci(Wo.current);var t=ci(Cn.current),r=rm(t,e.type);t!==r&&(Ke(Uo,e),Ke(Cn,r))}function ip(e){Uo.current===e&&(Ze(Cn),Ze(Uo))}var it=Ws(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ih=[];function ap(){for(var e=0;e<ih.length;e++)ih[e]._workInProgressVersionPrimary=null;ih.length=0}var jc=ss.ReactCurrentDispatcher,ah=ss.ReactCurrentBatchConfig,wi=0,ot=null,wt=null,Pt=null,Kc=!1,wo=!1,Ho=0,F_=0;function zt(){throw Error(ne(321))}function op(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function lp(e,t,r,s,i,a){if(wi=a,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jc.current=e===null||e.memoizedState===null?U_:W_,e=r(s,i),wo){a=0;do{if(wo=!1,Ho=0,25<=a)throw Error(ne(301));a+=1,Pt=wt=null,t.updateQueue=null,jc.current=H_,e=r(s,i)}while(wo)}if(jc.current=Xc,t=wt!==null&&wt.next!==null,wi=0,Pt=wt=ot=null,Kc=!1,t)throw Error(ne(300));return e}function cp(){var e=Ho!==0;return Ho=0,e}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ot.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Br(){if(wt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Pt===null?ot.memoizedState:Pt.next;if(t!==null)Pt=t,wt=e;else{if(e===null)throw Error(ne(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Pt===null?ot.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Go(e,t){return typeof t=="function"?t(e):t}function oh(e){var t=Br(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var s=wt,i=s.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,d=a;do{var m=d.lane;if((wi&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,ot.lanes|=m,ji|=m}d=d.next}while(d!==null&&d!==a);c===null?o=s:c.next=l,sn(s,t.memoizedState)||(dr=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ot.lanes|=a,ji|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function lh(e){var t=Br(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var s=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);sn(a,t.memoizedState)||(dr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function fw(){}function pw(e,t){var r=ot,s=Br(),i=t(),a=!sn(s.memoizedState,i);if(a&&(s.memoizedState=i,dr=!0),s=s.queue,dp(vw.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||Pt!==null&&Pt.memoizedState.tag&1){if(r.flags|=2048,qo(9,gw.bind(null,r,s,i,t),void 0,null),At===null)throw Error(ne(349));wi&30||xw(r,t,i)}return i}function xw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gw(e,t,r,s){t.value=r,t.getSnapshot=s,yw(t)&&bw(e)}function vw(e,t,r){return r(function(){yw(t)&&bw(e)})}function yw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch{return!0}}function bw(e){var t=Xn(e,1);t!==null&&nn(t,e,1,-1)}function nv(e){var t=yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=B_.bind(null,ot,e),[t.memoizedState,e]}function qo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function ww(){return Br().memoizedState}function Nc(e,t,r,s){var i=yn();ot.flags|=e,i.memoizedState=qo(1|t,r,void 0,s===void 0?null:s)}function Td(e,t,r,s){var i=Br();s=s===void 0?null:s;var a=void 0;if(wt!==null){var o=wt.memoizedState;if(a=o.destroy,s!==null&&op(s,o.deps)){i.memoizedState=qo(t,r,a,s);return}}ot.flags|=e,i.memoizedState=qo(1|t,r,a,s)}function sv(e,t){return Nc(8390656,8,e,t)}function dp(e,t){return Td(2048,8,e,t)}function jw(e,t){return Td(4,2,e,t)}function Nw(e,t){return Td(4,4,e,t)}function Sw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cw(e,t,r){return r=r!=null?r.concat([e]):null,Td(4,4,Sw.bind(null,t,e),r)}function up(){}function Pw(e,t){var r=Br();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&op(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function kw(e,t){var r=Br();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&op(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Ew(e,t,r){return wi&21?(sn(r,t)||(r=Ob(),ot.lanes|=r,ji|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dr=!0),e.memoizedState=r)}function V_(e,t){var r=Ge;Ge=r!==0&&4>r?r:4,e(!0);var s=ah.transition;ah.transition={};try{e(!1),t()}finally{Ge=r,ah.transition=s}}function _w(){return Br().memoizedState}function z_(e,t,r){var s=_s(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Tw(e))Rw(t,r);else if(r=uw(e,t,r,s),r!==null){var i=nr();nn(r,e,s,i),Aw(r,t,s)}}function B_(e,t,r){var s=_s(e),i={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tw(e))Rw(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,sn(l,o)){var c=t.interleaved;c===null?(i.next=i,rp(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=uw(e,t,i,s),r!==null&&(i=nr(),nn(r,e,s,i),Aw(r,t,s))}}function Tw(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Rw(e,t){wo=Kc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Aw(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Bf(e,r)}}var Xc={readContext:zr,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},U_={readContext:zr,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:zr,useEffect:sv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nc(4194308,4,Sw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nc(4,2,e,t)},useMemo:function(e,t){var r=yn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=yn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=z_.bind(null,ot,e),[s.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:nv,useDebugValue:up,useDeferredValue:function(e){return yn().memoizedState=e},useTransition:function(){var e=nv(!1),t=e[0];return e=V_.bind(null,e[1]),yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ot,i=yn();if(tt){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),At===null)throw Error(ne(349));wi&30||xw(s,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,sv(vw.bind(null,s,a,e),[e]),s.flags|=2048,qo(9,gw.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=yn(),t=At.identifierPrefix;if(tt){var r=Vn,s=Fn;r=(s&~(1<<32-rn(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ho++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=F_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W_={readContext:zr,useCallback:Pw,useContext:zr,useEffect:dp,useImperativeHandle:Cw,useInsertionEffect:jw,useLayoutEffect:Nw,useMemo:kw,useReducer:oh,useRef:ww,useState:function(){return oh(Go)},useDebugValue:up,useDeferredValue:function(e){var t=Br();return Ew(t,wt.memoizedState,e)},useTransition:function(){var e=oh(Go)[0],t=Br().memoizedState;return[e,t]},useMutableSource:fw,useSyncExternalStore:pw,useId:_w,unstable_isNewReconciler:!1},H_={readContext:zr,useCallback:Pw,useContext:zr,useEffect:dp,useImperativeHandle:Cw,useInsertionEffect:jw,useLayoutEffect:Nw,useMemo:kw,useReducer:lh,useRef:ww,useState:function(){return lh(Go)},useDebugValue:up,useDeferredValue:function(e){var t=Br();return wt===null?t.memoizedState=e:Ew(t,wt.memoizedState,e)},useTransition:function(){var e=lh(Go)[0],t=Br().memoizedState;return[e,t]},useMutableSource:fw,useSyncExternalStore:pw,useId:_w,unstable_isNewReconciler:!1};function Jr(e,t){if(e&&e.defaultProps){t=lt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nm(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:lt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rd={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=nr(),i=_s(e),a=Un(s,i);a.payload=t,r!=null&&(a.callback=r),t=ks(e,a,i),t!==null&&(nn(t,e,i,s),wc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=nr(),i=_s(e),a=Un(s,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ks(e,a,i),t!==null&&(nn(t,e,i,s),wc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nr(),s=_s(e),i=Un(r,s);i.tag=2,t!=null&&(i.callback=t),t=ks(e,i,s),t!==null&&(nn(t,e,s,r),wc(t,e,s))}};function iv(e,t,r,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Fo(r,s)||!Fo(i,a):!0}function Ow(e,t,r){var s=!1,i=Is,a=t.contextType;return typeof a=="object"&&a!==null?a=zr(a):(i=mr(t)?yi:Xt.current,s=t.contextTypes,a=(s=s!=null)?Na(e,i):Is),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rd,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function av(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Rd.enqueueReplaceState(t,t.state,null)}function Sm(e,t,r,s){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},np(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=zr(a):(a=mr(t)?yi:Xt.current,i.context=Na(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Nm(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rd.enqueueReplaceState(i,i.state,null),Gc(e,r,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ka(e,t){try{var r="",s=t;do r+=y4(s),s=s.return;while(s);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ch(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var G_=typeof WeakMap=="function"?WeakMap:Map;function Mw(e,t,r){r=Un(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Jc||(Jc=!0,$m=s),Cm(e,t)},r}function $w(e,t,r){r=Un(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;r.payload=function(){return s(i)},r.callback=function(){Cm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Cm(e,t),typeof s!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ov(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new G_;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(r)||(i.add(r),e=aT.bind(null,e,t,r),t.then(e,e))}function lv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cv(e,t,r,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Un(-1,1),t.tag=2,ks(r,t,1))),r.lanes|=1),e)}var q_=ss.ReactCurrentOwner,dr=!1;function er(e,t,r,s){t.child=e===null?dw(t,null,r,s):Ca(t,e.child,r,s)}function dv(e,t,r,s,i){r=r.render;var a=t.ref;return pa(t,i),s=lp(e,t,r,s,a,i),r=cp(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(tt&&r&&Yf(t),t.flags|=1,er(e,t,s,i),t.child)}function uv(e,t,r,s,i){if(e===null){var a=r.type;return typeof a=="function"&&!yp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Iw(e,t,a,s,i)):(e=kc(r.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(o,s)&&e.ref===t.ref)return Yn(e,t,i)}return t.flags|=1,e=Ts(a,s),e.ref=t.ref,e.return=t,t.child=e}function Iw(e,t,r,s,i){if(e!==null){var a=e.memoizedProps;if(Fo(a,s)&&e.ref===t.ref)if(dr=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(dr=!0);else return t.lanes=e.lanes,Yn(e,t,i)}return Pm(e,t,r,s,i)}function Dw(e,t,r){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(aa,vr),vr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(aa,vr),vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,Ke(aa,vr),vr|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,Ke(aa,vr),vr|=s;return er(e,t,i,r),t.child}function Lw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pm(e,t,r,s,i){var a=mr(r)?yi:Xt.current;return a=Na(t,a),pa(t,i),r=lp(e,t,r,s,a,i),s=cp(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(tt&&s&&Yf(t),t.flags|=1,er(e,t,r,i),t.child)}function hv(e,t,r,s,i){if(mr(r)){var a=!0;zc(t)}else a=!1;if(pa(t,i),t.stateNode===null)Sc(e,t),Ow(t,r,s),Sm(t,r,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=zr(d):(d=mr(r)?yi:Xt.current,d=Na(t,d));var m=r.getDerivedStateFromProps,h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&av(t,o,s,d),fs=!1;var p=t.memoizedState;o.state=p,Gc(t,s,o,i),c=t.memoizedState,l!==s||p!==c||hr.current||fs?(typeof m=="function"&&(Nm(t,r,m,s),c=t.memoizedState),(l=fs||iv(t,r,l,s,p,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,hw(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Jr(t.type,l),o.props=d,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=zr(c):(c=mr(r)?yi:Xt.current,c=Na(t,c));var b=r.getDerivedStateFromProps;(m=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&av(t,o,s,c),fs=!1,p=t.memoizedState,o.state=p,Gc(t,s,o,i);var j=t.memoizedState;l!==h||p!==j||hr.current||fs?(typeof b=="function"&&(Nm(t,r,b,s),j=t.memoizedState),(d=fs||iv(t,r,d,s,p,j,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return km(e,t,r,s,a,i)}function km(e,t,r,s,i,a){Lw(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&Jg(t,r,!1),Yn(e,t,a);s=t.stateNode,q_.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,l,a)):er(e,t,l,a),t.memoizedState=s.state,i&&Jg(t,r,!0),t.child}function Fw(e){var t=e.stateNode;t.pendingContext?Yg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yg(e,t.context,!1),sp(e,t.containerInfo)}function mv(e,t,r,s,i){return Sa(),Qf(i),t.flags|=256,er(e,t,r,s),t.child}var Em={dehydrated:null,treeContext:null,retryLane:0};function _m(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vw(e,t,r){var s=t.pendingProps,i=it.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ke(it,i&1),e===null)return wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Md(o,s,0,null),e=fi(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=_m(r),t.memoizedState=Em,e):hp(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return K_(e,t,o,s,l,i,r);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ts(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ts(l,a):(a=fi(a,o,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?_m(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Em,s}return a=e.child,e=a.sibling,s=Ts(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function hp(e,t){return t=Md({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ql(e,t,r,s){return s!==null&&Qf(s),Ca(t,e.child,null,r),e=hp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K_(e,t,r,s,i,a,o){if(r)return t.flags&256?(t.flags&=-257,s=ch(Error(ne(422))),ql(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Md({mode:"visible",children:s.children},i,0,null),a=fi(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Ca(t,e.child,null,o),t.child.memoizedState=_m(o),t.memoizedState=Em,a);if(!(t.mode&1))return ql(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(ne(419)),s=ch(a,s,void 0),ql(e,t,o,s)}if(l=(o&e.childLanes)!==0,dr||l){if(s=At,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Xn(e,i),nn(s,e,i,-1))}return vp(),s=ch(Error(ne(421))),ql(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=oT.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,wr=Ps(i.nextSibling),jr=t,tt=!0,Zr=null,e!==null&&(Ar[Or++]=Fn,Ar[Or++]=Vn,Ar[Or++]=bi,Fn=e.id,Vn=e.overflow,bi=t),t=hp(t,s.children),t.flags|=4096,t)}function fv(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),jm(e.return,t,r)}function dh(e,t,r,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=i)}function zw(e,t,r){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(er(e,t,s.children,r),s=it.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fv(e,r,t);else if(e.tag===19)fv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ke(it,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&qc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),dh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}dh(t,!0,r,null,a);break;case"together":dh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Ts(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ts(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function X_(e,t,r){switch(t.tag){case 3:Fw(t),Sa();break;case 5:mw(t);break;case 1:mr(t.type)&&zc(t);break;case 4:sp(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Ke(Wc,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ke(it,it.current&1),t.flags|=128,null):r&t.child.childLanes?Vw(e,t,r):(Ke(it,it.current&1),e=Yn(e,t,r),e!==null?e.sibling:null);Ke(it,it.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return zw(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(it,it.current),s)break;return null;case 22:case 23:return t.lanes=0,Dw(e,t,r)}return Yn(e,t,r)}var Bw,Tm,Uw,Ww;Bw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tm=function(){};Uw=function(e,t,r,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,ci(Cn.current);var a=null;switch(r){case"input":i=Qh(e,i),s=Qh(e,s),a=[];break;case"select":i=lt({},i,{value:void 0}),s=lt({},s,{value:void 0}),a=[];break;case"textarea":i=tm(e,i),s=tm(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Fc)}nm(r,s);var o;r=null;for(d in i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ao.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=i!=null?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ao.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Ww=function(e,t,r,s){r!==s&&(t.flags|=4)};function ro(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Y_(e,t,r){var s=t.pendingProps;switch(Jf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return mr(t.type)&&Vc(),Bt(t),null;case 3:return s=t.stateNode,Pa(),Ze(hr),Ze(Xt),ap(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Hl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zr!==null&&(Lm(Zr),Zr=null))),Tm(e,t),Bt(t),null;case 5:ip(t);var i=ci(Wo.current);if(r=t.type,e!==null&&t.stateNode!=null)Uw(e,t,r,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ne(166));return Bt(t),null}if(e=ci(Cn.current),Hl(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[wn]=t,s[Bo]=a,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(i=0;i<mo.length;i++)Qe(mo[i],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Ng(s,a),Qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Qe("invalid",s);break;case"textarea":Cg(s,a),Qe("invalid",s)}nm(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Wl(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Wl(s.textContent,l,e),i=["children",""+l]):Ao.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",s)}switch(r){case"input":Il(s),Sg(s,a,!0);break;case"textarea":Il(s),Pg(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Fc)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[wn]=t,e[Bo]=s,Bw(e,t,!1,!1),t.stateNode=e;e:{switch(o=sm(r,s),r){case"dialog":Qe("cancel",e),Qe("close",e),i=s;break;case"iframe":case"object":case"embed":Qe("load",e),i=s;break;case"video":case"audio":for(i=0;i<mo.length;i++)Qe(mo[i],e);i=s;break;case"source":Qe("error",e),i=s;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),i=s;break;case"details":Qe("toggle",e),i=s;break;case"input":Ng(e,s),i=Qh(e,s),Qe("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=lt({},s,{value:void 0}),Qe("invalid",e);break;case"textarea":Cg(e,s),i=tm(e,s),Qe("invalid",e);break;default:i=s}nm(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?wb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yb(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Oo(e,c):typeof c=="number"&&Oo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ao.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Qe("scroll",e):c!=null&&If(e,a,c,o))}switch(r){case"input":Il(e),Sg(e,s,!1);break;case"textarea":Il(e),Pg(e);break;case"option":s.value!=null&&e.setAttribute("value",""+$s(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?ua(e,!!s.multiple,a,!1):s.defaultValue!=null&&ua(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Fc)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)Ww(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ne(166));if(r=ci(Wo.current),ci(Cn.current),Hl(t)){if(s=t.stateNode,r=t.memoizedProps,s[wn]=t,(a=s.nodeValue!==r)&&(e=jr,e!==null))switch(e.tag){case 3:Wl(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wl(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[wn]=t,t.stateNode=s}return Bt(t),null;case 13:if(Ze(it),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&wr!==null&&t.mode&1&&!(t.flags&128))lw(),Sa(),t.flags|=98560,a=!1;else if(a=Hl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[wn]=t}else Sa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),a=!1}else Zr!==null&&(Lm(Zr),Zr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?Nt===0&&(Nt=3):vp())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Pa(),Tm(e,t),e===null&&Vo(t.stateNode.containerInfo),Bt(t),null;case 10:return tp(t.type._context),Bt(t),null;case 17:return mr(t.type)&&Vc(),Bt(t),null;case 19:if(Ze(it),a=t.memoizedState,a===null)return Bt(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)ro(a,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qc(e),o!==null){for(t.flags|=128,ro(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(it,it.current&1|2),t.child}e=e.sibling}a.tail!==null&&mt()>Ea&&(t.flags|=128,s=!0,ro(a,!1),t.lanes=4194304)}else{if(!s)if(e=qc(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ro(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!tt)return Bt(t),null}else 2*mt()-a.renderingStartTime>Ea&&r!==1073741824&&(t.flags|=128,s=!0,ro(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mt(),t.sibling=null,r=it.current,Ke(it,s?r&1|2:r&1),t):(Bt(t),null);case 22:case 23:return gp(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?vr&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function J_(e,t){switch(Jf(t),t.tag){case 1:return mr(t.type)&&Vc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(),Ze(hr),Ze(Xt),ap(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ip(t),null;case 13:if(Ze(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(it),null;case 4:return Pa(),null;case 10:return tp(t.type._context),null;case 22:case 23:return gp(),null;case 24:return null;default:return null}}var Kl=!1,Ht=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ia(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ct(e,t,s)}else r.current=null}function Rm(e,t,r){try{r()}catch(s){ct(e,t,s)}}var pv=!1;function Z_(e,t){if(fm=Ic,e=Xb(),Xf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,m=0,h=e,p=null;t:for(;;){for(var b;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(b=h.firstChild)!==null;)p=h,h=b;for(;;){if(h===e)break t;if(p===r&&++d===i&&(l=o),p===a&&++m===s&&(c=o),(b=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=b}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pm={focusedElem:e,selectionRange:r},Ic=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var f=j.memoizedProps,w=j.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?f:Jr(t.type,f),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(N){ct(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return j=pv,pv=!1,j}function jo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Rm(t,r,a)}i=i.next}while(i!==s)}}function Ad(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Am(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hw(e){var t=e.alternate;t!==null&&(e.alternate=null,Hw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[Bo],delete t[vm],delete t[$_],delete t[I_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gw(e){return e.tag===5||e.tag===3||e.tag===4}function xv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Om(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fc));else if(s!==4&&(e=e.child,e!==null))for(Om(e,t,r),e=e.sibling;e!==null;)Om(e,t,r),e=e.sibling}function Mm(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Mm(e,t,r),e=e.sibling;e!==null;)Mm(e,t,r),e=e.sibling}var Mt=null,Qr=!1;function ls(e,t,r){for(r=r.child;r!==null;)qw(e,t,r),r=r.sibling}function qw(e,t,r){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Sd,r)}catch{}switch(r.tag){case 5:Ht||ia(r,t);case 6:var s=Mt,i=Qr;Mt=null,ls(e,t,r),Mt=s,Qr=i,Mt!==null&&(Qr?(e=Mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mt.removeChild(r.stateNode));break;case 18:Mt!==null&&(Qr?(e=Mt,r=r.stateNode,e.nodeType===8?nh(e.parentNode,r):e.nodeType===1&&nh(e,r),Do(e)):nh(Mt,r.stateNode));break;case 4:s=Mt,i=Qr,Mt=r.stateNode.containerInfo,Qr=!0,ls(e,t,r),Mt=s,Qr=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Rm(r,t,o),i=i.next}while(i!==s)}ls(e,t,r);break;case 1:if(!Ht&&(ia(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){ct(r,t,l)}ls(e,t,r);break;case 21:ls(e,t,r);break;case 22:r.mode&1?(Ht=(s=Ht)||r.memoizedState!==null,ls(e,t,r),Ht=s):ls(e,t,r);break;default:ls(e,t,r)}}function gv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Q_),t.forEach(function(s){var i=lT.bind(null,e,s);r.has(s)||(r.add(s),s.then(i,i))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,Qr=!1;break e;case 3:Mt=l.stateNode.containerInfo,Qr=!0;break e;case 4:Mt=l.stateNode.containerInfo,Qr=!0;break e}l=l.return}if(Mt===null)throw Error(ne(160));qw(a,o,i),Mt=null,Qr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ct(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kw(t,e),t=t.sibling}function Kw(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),vn(e),s&4){try{jo(3,e,e.return),Ad(3,e)}catch(f){ct(e,e.return,f)}try{jo(5,e,e.return)}catch(f){ct(e,e.return,f)}}break;case 1:Xr(t,e),vn(e),s&512&&r!==null&&ia(r,r.return);break;case 5:if(Xr(t,e),vn(e),s&512&&r!==null&&ia(r,r.return),e.flags&32){var i=e.stateNode;try{Oo(i,"")}catch(f){ct(e,e.return,f)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&xb(i,a),sm(l,o);var d=sm(l,a);for(o=0;o<c.length;o+=2){var m=c[o],h=c[o+1];m==="style"?wb(i,h):m==="dangerouslySetInnerHTML"?yb(i,h):m==="children"?Oo(i,h):If(i,m,h,d)}switch(l){case"input":Zh(i,a);break;case"textarea":gb(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?ua(i,!!a.multiple,b,!1):p!==!!a.multiple&&(a.defaultValue!=null?ua(i,!!a.multiple,a.defaultValue,!0):ua(i,!!a.multiple,a.multiple?[]:"",!1))}i[Bo]=a}catch(f){ct(e,e.return,f)}}break;case 6:if(Xr(t,e),vn(e),s&4){if(e.stateNode===null)throw Error(ne(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(f){ct(e,e.return,f)}}break;case 3:if(Xr(t,e),vn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(f){ct(e,e.return,f)}break;case 4:Xr(t,e),vn(e);break;case 13:Xr(t,e),vn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(pp=mt())),s&4&&gv(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(Ht=(d=Ht)||m,Xr(t,e),Ht=d):Xr(t,e),vn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(xe=e,m=e.child;m!==null;){for(h=xe=m;xe!==null;){switch(p=xe,b=p.child,p.tag){case 0:case 11:case 14:case 15:jo(4,p,p.return);break;case 1:ia(p,p.return);var j=p.stateNode;if(typeof j.componentWillUnmount=="function"){s=p,r=p.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(f){ct(s,r,f)}}break;case 5:ia(p,p.return);break;case 22:if(p.memoizedState!==null){yv(h);continue}}b!==null?(b.return=p,xe=b):yv(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bb("display",o))}catch(f){ct(e,e.return,f)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){ct(e,e.return,f)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xr(t,e),vn(e),s&4&&gv(e);break;case 21:break;default:Xr(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gw(r)){var s=r;break e}r=r.return}throw Error(ne(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Oo(i,""),s.flags&=-33);var a=xv(e);Mm(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=xv(e);Om(e,l,o);break;default:throw Error(ne(161))}}catch(c){ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eT(e,t,r){xe=e,Xw(e)}function Xw(e,t,r){for(var s=(e.mode&1)!==0;xe!==null;){var i=xe,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Kl;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ht;l=Kl;var d=Ht;if(Kl=o,(Ht=c)&&!d)for(xe=i;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?bv(i):c!==null?(c.return=o,xe=c):bv(i);for(;a!==null;)xe=a,Xw(a),a=a.sibling;xe=i,Kl=l,Ht=d}vv(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,xe=a):vv(e)}}function vv(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ht||Ad(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ht)if(r===null)s.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Jr(t.type,r.memoizedProps);s.componentDidUpdate(i,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&rv(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Do(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Ht||t.flags&512&&Am(t)}catch(p){ct(t,t.return,p)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function yv(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function bv(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ad(4,t)}catch(c){ct(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){ct(t,i,c)}}var a=t.return;try{Am(t)}catch(c){ct(t,a,c)}break;case 5:var o=t.return;try{Am(t)}catch(c){ct(t,o,c)}}}catch(c){ct(t,t.return,c)}if(t===e){xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,xe=l;break}xe=t.return}}var tT=Math.ceil,Yc=ss.ReactCurrentDispatcher,mp=ss.ReactCurrentOwner,Dr=ss.ReactCurrentBatchConfig,De=0,At=null,yt=null,Dt=0,vr=0,aa=Ws(0),Nt=0,Ko=null,ji=0,Od=0,fp=0,No=null,cr=null,pp=0,Ea=1/0,In=null,Jc=!1,$m=null,Es=null,Xl=!1,bs=null,Qc=0,So=0,Im=null,Cc=-1,Pc=0;function nr(){return De&6?mt():Cc!==-1?Cc:Cc=mt()}function _s(e){return e.mode&1?De&2&&Dt!==0?Dt&-Dt:L_.transition!==null?(Pc===0&&(Pc=Ob()),Pc):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:Vb(e.type)),e):1}function nn(e,t,r,s){if(50<So)throw So=0,Im=null,Error(ne(185));cl(e,r,s),(!(De&2)||e!==At)&&(e===At&&(!(De&2)&&(Od|=r),Nt===4&&gs(e,Dt)),fr(e,s),r===1&&De===0&&!(t.mode&1)&&(Ea=mt()+500,_d&&Hs()))}function fr(e,t){var r=e.callbackNode;L4(e,t);var s=$c(e,e===At?Dt:0);if(s===0)r!==null&&_g(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&_g(r),t===1)e.tag===0?D_(wv.bind(null,e)):iw(wv.bind(null,e)),O_(function(){!(De&6)&&Hs()}),r=null;else{switch(Mb(s)){case 1:r=zf;break;case 4:r=Rb;break;case 16:r=Mc;break;case 536870912:r=Ab;break;default:r=Mc}r=nj(r,Yw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yw(e,t){if(Cc=-1,Pc=0,De&6)throw Error(ne(327));var r=e.callbackNode;if(xa()&&e.callbackNode!==r)return null;var s=$c(e,e===At?Dt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Zc(e,s);else{t=s;var i=De;De|=2;var a=Qw();(At!==e||Dt!==t)&&(In=null,Ea=mt()+500,mi(e,t));do try{sT();break}catch(l){Jw(e,l)}while(1);ep(),Yc.current=a,De=i,yt!==null?t=0:(At=null,Dt=0,t=Nt)}if(t!==0){if(t===2&&(i=cm(e),i!==0&&(s=i,t=Dm(e,i))),t===1)throw r=Ko,mi(e,0),gs(e,s),fr(e,mt()),r;if(t===6)gs(e,s);else{if(i=e.current.alternate,!(s&30)&&!rT(i)&&(t=Zc(e,s),t===2&&(a=cm(e),a!==0&&(s=a,t=Dm(e,a))),t===1))throw r=Ko,mi(e,0),gs(e,s),fr(e,mt()),r;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(ne(345));case 2:ti(e,cr,In);break;case 3:if(gs(e,s),(s&130023424)===s&&(t=pp+500-mt(),10<t)){if($c(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){nr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gm(ti.bind(null,e,cr,In),t);break}ti(e,cr,In);break;case 4:if(gs(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-rn(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=mt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*tT(s/1960))-s,10<s){e.timeoutHandle=gm(ti.bind(null,e,cr,In),s);break}ti(e,cr,In);break;case 5:ti(e,cr,In);break;default:throw Error(ne(329))}}}return fr(e,mt()),e.callbackNode===r?Yw.bind(null,e):null}function Dm(e,t){var r=No;return e.current.memoizedState.isDehydrated&&(mi(e,t).flags|=256),e=Zc(e,t),e!==2&&(t=cr,cr=r,t!==null&&Lm(t)),e}function Lm(e){cr===null?cr=e:cr.push.apply(cr,e)}function rT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var i=r[s],a=i.getSnapshot;i=i.value;try{if(!sn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gs(e,t){for(t&=~fp,t&=~Od,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rn(t),s=1<<r;e[r]=-1,t&=~s}}function wv(e){if(De&6)throw Error(ne(327));xa();var t=$c(e,0);if(!(t&1))return fr(e,mt()),null;var r=Zc(e,t);if(e.tag!==0&&r===2){var s=cm(e);s!==0&&(t=s,r=Dm(e,s))}if(r===1)throw r=Ko,mi(e,0),gs(e,t),fr(e,mt()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ti(e,cr,In),fr(e,mt()),null}function xp(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(Ea=mt()+500,_d&&Hs())}}function Ni(e){bs!==null&&bs.tag===0&&!(De&6)&&xa();var t=De;De|=1;var r=Dr.transition,s=Ge;try{if(Dr.transition=null,Ge=1,e)return e()}finally{Ge=s,Dr.transition=r,De=t,!(De&6)&&Hs()}}function gp(){vr=aa.current,Ze(aa)}function mi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,A_(r)),yt!==null)for(r=yt.return;r!==null;){var s=r;switch(Jf(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Vc();break;case 3:Pa(),Ze(hr),Ze(Xt),ap();break;case 5:ip(s);break;case 4:Pa();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:tp(s.type._context);break;case 22:case 23:gp()}r=r.return}if(At=e,yt=e=Ts(e.current,null),Dt=vr=t,Nt=0,Ko=null,fp=Od=ji=0,cr=No=null,li!==null){for(t=0;t<li.length;t++)if(r=li[t],s=r.interleaved,s!==null){r.interleaved=null;var i=s.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}r.pending=s}li=null}return e}function Jw(e,t){do{var r=yt;try{if(ep(),jc.current=Xc,Kc){for(var s=ot.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Kc=!1}if(wi=0,Pt=wt=ot=null,wo=!1,Ho=0,mp.current=null,r===null||r.return===null){Nt=1,Ko=t,yt=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var b=lv(o);if(b!==null){b.flags&=-257,cv(b,o,l,a,t),b.mode&1&&ov(a,d,t),t=b,c=d;var j=t.updateQueue;if(j===null){var f=new Set;f.add(c),t.updateQueue=f}else j.add(c);break e}else{if(!(t&1)){ov(a,d,t),vp();break e}c=Error(ne(426))}}else if(tt&&l.mode&1){var w=lv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cv(w,o,l,a,t),Qf(ka(c,l));break e}}a=c=ka(c,l),Nt!==4&&(Nt=2),No===null?No=[a]:No.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Mw(a,c,t);tv(a,g);break e;case 1:l=c;var x=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Es===null||!Es.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=$w(a,l,t);tv(a,N);break e}}a=a.return}while(a!==null)}ej(r)}catch(P){t=P,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(1)}function Qw(){var e=Yc.current;return Yc.current=Xc,e===null?Xc:e}function vp(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),At===null||!(ji&268435455)&&!(Od&268435455)||gs(At,Dt)}function Zc(e,t){var r=De;De|=2;var s=Qw();(At!==e||Dt!==t)&&(In=null,mi(e,t));do try{nT();break}catch(i){Jw(e,i)}while(1);if(ep(),De=r,Yc.current=s,yt!==null)throw Error(ne(261));return At=null,Dt=0,Nt}function nT(){for(;yt!==null;)Zw(yt)}function sT(){for(;yt!==null&&!_4();)Zw(yt)}function Zw(e){var t=rj(e.alternate,e,vr);e.memoizedProps=e.pendingProps,t===null?ej(e):yt=t,mp.current=null}function ej(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=J_(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,yt=null;return}}else if(r=Y_(r,t,vr),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);Nt===0&&(Nt=5)}function ti(e,t,r){var s=Ge,i=Dr.transition;try{Dr.transition=null,Ge=1,iT(e,t,r,s)}finally{Dr.transition=i,Ge=s}return null}function iT(e,t,r,s){do xa();while(bs!==null);if(De&6)throw Error(ne(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(F4(e,a),e===At&&(yt=At=null,Dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xl||(Xl=!0,nj(Mc,function(){return xa(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Dr.transition,Dr.transition=null;var o=Ge;Ge=1;var l=De;De|=4,mp.current=null,Z_(e,r),Kw(r,e),C_(pm),Ic=!!fm,pm=fm=null,e.current=r,eT(r),T4(),De=l,Ge=o,Dr.transition=a}else e.current=r;if(Xl&&(Xl=!1,bs=e,Qc=i),a=e.pendingLanes,a===0&&(Es=null),O4(r.stateNode),fr(e,mt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],s(i.value,{componentStack:i.stack,digest:i.digest});if(Jc)throw Jc=!1,e=$m,$m=null,e;return Qc&1&&e.tag!==0&&xa(),a=e.pendingLanes,a&1?e===Im?So++:(So=0,Im=e):So=0,Hs(),null}function xa(){if(bs!==null){var e=Mb(Qc),t=Dr.transition,r=Ge;try{if(Dr.transition=null,Ge=16>e?16:e,bs===null)var s=!1;else{if(e=bs,bs=null,Qc=0,De&6)throw Error(ne(331));var i=De;for(De|=4,xe=e.current;xe!==null;){var a=xe,o=a.child;if(xe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(xe=d;xe!==null;){var m=xe;switch(m.tag){case 0:case 11:case 15:jo(8,m,a)}var h=m.child;if(h!==null)h.return=m,xe=h;else for(;xe!==null;){m=xe;var p=m.sibling,b=m.return;if(Hw(m),m===d){xe=null;break}if(p!==null){p.return=b,xe=p;break}xe=b}}}var j=a.alternate;if(j!==null){var f=j.child;if(f!==null){j.child=null;do{var w=f.sibling;f.sibling=null,f=w}while(f!==null)}}xe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,xe=o;else e:for(;xe!==null;){if(a=xe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:jo(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,xe=g;break e}xe=a.return}}var x=e.current;for(xe=x;xe!==null;){o=xe;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,xe=y;else e:for(o=x;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ad(9,l)}}catch(P){ct(l,l.return,P)}if(l===o){xe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,xe=N;break e}xe=l.return}}if(De=i,Hs(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Sd,e)}catch{}s=!0}return s}finally{Ge=r,Dr.transition=t}}return!1}function jv(e,t,r){t=ka(r,t),t=Mw(e,t,1),e=ks(e,t,1),t=nr(),e!==null&&(cl(e,1,t),fr(e,t))}function ct(e,t,r){if(e.tag===3)jv(e,e,r);else for(;t!==null;){if(t.tag===3){jv(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Es===null||!Es.has(s))){e=ka(r,e),e=$w(t,e,1),t=ks(t,e,1),e=nr(),t!==null&&(cl(t,1,e),fr(t,e));break}}t=t.return}}function aT(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=nr(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Dt&r)===r&&(Nt===4||Nt===3&&(Dt&130023424)===Dt&&500>mt()-pp?mi(e,0):fp|=r),fr(e,t)}function tj(e,t){t===0&&(e.mode&1?(t=Fl,Fl<<=1,!(Fl&130023424)&&(Fl=4194304)):t=1);var r=nr();e=Xn(e,t),e!==null&&(cl(e,t,r),fr(e,r))}function oT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tj(e,r)}function lT(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ne(314))}s!==null&&s.delete(t),tj(e,r)}var rj;rj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||hr.current)dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dr=!1,X_(e,t,r);dr=!!(e.flags&131072)}else dr=!1,tt&&t.flags&1048576&&aw(t,Uc,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Sc(e,t),e=t.pendingProps;var i=Na(t,Xt.current);pa(t,r),i=lp(null,t,s,e,i,r);var a=cp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(s)?(a=!0,zc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,np(t),i.updater=Rd,t.stateNode=i,i._reactInternals=t,Sm(t,s,e,r),t=km(null,t,s,!0,a,r)):(t.tag=0,tt&&a&&Yf(t),er(null,t,i,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Sc(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=dT(s),e=Jr(s,e),i){case 0:t=Pm(null,t,s,e,r);break e;case 1:t=hv(null,t,s,e,r);break e;case 11:t=dv(null,t,s,e,r);break e;case 14:t=uv(null,t,s,Jr(s.type,e),r);break e}throw Error(ne(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Jr(s,i),Pm(e,t,s,i,r);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Jr(s,i),hv(e,t,s,i,r);case 3:e:{if(Fw(t),e===null)throw Error(ne(387));s=t.pendingProps,a=t.memoizedState,i=a.element,hw(e,t),Gc(t,s,null,r);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ka(Error(ne(423)),t),t=mv(e,t,s,r,i);break e}else if(s!==i){i=ka(Error(ne(424)),t),t=mv(e,t,s,r,i);break e}else for(wr=Ps(t.stateNode.containerInfo.firstChild),jr=t,tt=!0,Zr=null,r=dw(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sa(),s===i){t=Yn(e,t,r);break e}er(e,t,s,r)}t=t.child}return t;case 5:return mw(t),e===null&&wm(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,xm(s,i)?o=null:a!==null&&xm(s,a)&&(t.flags|=32),Lw(e,t),er(e,t,o,r),t.child;case 6:return e===null&&wm(t),null;case 13:return Vw(e,t,r);case 4:return sp(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ca(t,null,s,r):er(e,t,s,r),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Jr(s,i),dv(e,t,s,i,r);case 7:return er(e,t,t.pendingProps,r),t.child;case 8:return er(e,t,t.pendingProps.children,r),t.child;case 12:return er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ke(Wc,s._currentValue),s._currentValue=o,a!==null)if(sn(a.value,o)){if(a.children===i.children&&!hr.current){t=Yn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Un(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),jm(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ne(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),jm(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}er(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,pa(t,r),i=zr(i),s=s(i),t.flags|=1,er(e,t,s,r),t.child;case 14:return s=t.type,i=Jr(s,t.pendingProps),i=Jr(s.type,i),uv(e,t,s,i,r);case 15:return Iw(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Jr(s,i),Sc(e,t),t.tag=1,mr(s)?(e=!0,zc(t)):e=!1,pa(t,r),Ow(t,s,i),Sm(t,s,i,r),km(null,t,s,!0,e,r);case 19:return zw(e,t,r);case 22:return Dw(e,t,r)}throw Error(ne(156,t.tag))};function nj(e,t){return Tb(e,t)}function cT(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,r,s){return new cT(e,t,r,s)}function yp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dT(e){if(typeof e=="function")return yp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lf)return 11;if(e===Ff)return 14}return 2}function Ts(e,t){var r=e.alternate;return r===null?(r=Mr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kc(e,t,r,s,i,a){var o=2;if(s=e,typeof e=="function")yp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yi:return fi(r.children,i,a,t);case Df:o=8,i|=8;break;case Kh:return e=Mr(12,r,t,i|2),e.elementType=Kh,e.lanes=a,e;case Xh:return e=Mr(13,r,t,i),e.elementType=Xh,e.lanes=a,e;case Yh:return e=Mr(19,r,t,i),e.elementType=Yh,e.lanes=a,e;case mb:return Md(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ub:o=10;break e;case hb:o=9;break e;case Lf:o=11;break e;case Ff:o=14;break e;case ms:o=16,s=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Mr(o,r,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function fi(e,t,r,s){return e=Mr(7,e,s,t),e.lanes=r,e}function Md(e,t,r,s){return e=Mr(22,e,s,t),e.elementType=mb,e.lanes=r,e.stateNode={isHidden:!1},e}function uh(e,t,r){return e=Mr(6,e,null,t),e.lanes=r,e}function hh(e,t,r){return t=Mr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uT(e,t,r,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bp(e,t,r,s,i,a,o,l,c){return e=new uT(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Mr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},np(a),e}function hT(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function sj(e){if(!e)return Is;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(mr(r))return sw(e,r,t)}return t}function ij(e,t,r,s,i,a,o,l,c){return e=bp(r,s,!0,e,i,a,o,l,c),e.context=sj(null),r=e.current,s=nr(),i=_s(r),a=Un(s,i),a.callback=t??null,ks(r,a,i),e.current.lanes=i,cl(e,i,s),fr(e,s),e}function $d(e,t,r,s){var i=t.current,a=nr(),o=_s(i);return r=sj(r),t.context===null?t.context=r:t.pendingContext=r,t=Un(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ks(i,t,o),e!==null&&(nn(e,i,o,a),wc(e,i,o)),o}function ed(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wp(e,t){Nv(e,t),(e=e.alternate)&&Nv(e,t)}function mT(){return null}var aj=typeof reportError=="function"?reportError:function(e){console.error(e)};function jp(e){this._internalRoot=e}Id.prototype.render=jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));$d(e,t,null,null)};Id.prototype.unmount=jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){$d(null,e,null,null)}),t[Kn]=null}};function Id(e){this._internalRoot=e}Id.prototype.unstable_scheduleHydration=function(e){if(e){var t=Db();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xs.length&&t!==0&&t<xs[r].priority;r++);xs.splice(r,0,e),r===0&&Fb(e)}};function Np(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function fT(e,t,r,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var d=ed(o);a.call(d)}}var o=ij(t,s,e,0,null,!1,!1,"",Sv);return e._reactRootContainer=o,e[Kn]=o.current,Vo(e.nodeType===8?e.parentNode:e),Ni(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var d=ed(c);l.call(d)}}var c=bp(e,0,!1,null,null,!1,!1,"",Sv);return e._reactRootContainer=c,e[Kn]=c.current,Vo(e.nodeType===8?e.parentNode:e),Ni(function(){$d(t,c,r,s)}),c}function Ld(e,t,r,s,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=ed(o);l.call(c)}}$d(t,o,e,i)}else o=fT(r,t,e,i,s);return ed(o)}$b=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ho(t.pendingLanes);r!==0&&(Bf(t,r|1),fr(t,mt()),!(De&6)&&(Ea=mt()+500,Hs()))}break;case 13:Ni(function(){var s=Xn(e,1);if(s!==null){var i=nr();nn(s,e,1,i)}}),wp(e,1)}};Uf=function(e){if(e.tag===13){var t=Xn(e,134217728);if(t!==null){var r=nr();nn(t,e,134217728,r)}wp(e,134217728)}};Ib=function(e){if(e.tag===13){var t=_s(e),r=Xn(e,t);if(r!==null){var s=nr();nn(r,e,t,s)}wp(e,t)}};Db=function(){return Ge};Lb=function(e,t){var r=Ge;try{return Ge=e,t()}finally{Ge=r}};am=function(e,t,r){switch(t){case"input":if(Zh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var i=Ed(s);if(!i)throw Error(ne(90));pb(s),Zh(s,i)}}}break;case"textarea":gb(e,r);break;case"select":t=r.value,t!=null&&ua(e,!!r.multiple,t,!1)}};Sb=xp;Cb=Ni;var pT={usingClientEntryPoint:!1,Events:[ul,ea,Ed,jb,Nb,xp]},no={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xT={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Eb(e),e===null?null:e.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||mT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Sd=Yl.inject(xT),Sn=Yl}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pT;Pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Np(t))throw Error(ne(200));return hT(e,t,null,r)};Pr.createRoot=function(e,t){if(!Np(e))throw Error(ne(299));var r=!1,s="",i=aj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=bp(e,1,!1,null,null,r,!1,s,i),e[Kn]=t.current,Vo(e.nodeType===8?e.parentNode:e),new jp(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=Eb(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Ni(e)};Pr.hydrate=function(e,t,r){if(!Dd(t))throw Error(ne(200));return Ld(null,e,t,!0,r)};Pr.hydrateRoot=function(e,t,r){if(!Np(e))throw Error(ne(405));var s=r!=null&&r.hydratedSources||null,i=!1,a="",o=aj;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ij(t,null,e,1,r??null,i,!1,a,o),e[Kn]=t.current,Vo(e),s)for(e=0;e<s.length;e++)r=s[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Id(t)};Pr.render=function(e,t,r){if(!Dd(t))throw Error(ne(200));return Ld(null,e,t,!1,r)};Pr.unmountComponentAtNode=function(e){if(!Dd(e))throw Error(ne(40));return e._reactRootContainer?(Ni(function(){Ld(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1};Pr.unstable_batchedUpdates=xp;Pr.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Dd(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Ld(e,t,r,!1,s)};Pr.version="18.3.1-next-f1338f8080-20240426";function oj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oj)}catch(e){console.error(e)}}oj(),ob.exports=Pr;var Gs=ob.exports;const lj=_f(Gs);var Cv=Gs;Gh.createRoot=Cv.createRoot,Gh.hydrateRoot=Cv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xo.apply(this,arguments)}var ws;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ws||(ws={}));const Pv="popstate";function gT(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return Fm("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:td(i)}return yT(t,r,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vT(){return Math.random().toString(36).substr(2,8)}function kv(e,t){return{usr:e.state,key:e.key,idx:t}}function Fm(e,t,r,s){return r===void 0&&(r=null),Xo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fa(t):t,{state:r,key:t&&t.key||s||vT()})}function td(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Fa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function yT(e,t,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=ws.Pop,c=null,d=m();d==null&&(d=0,o.replaceState(Xo({},o.state,{idx:d}),""));function m(){return(o.state||{idx:null}).idx}function h(){l=ws.Pop;let w=m(),g=w==null?null:w-d;d=w,c&&c({action:l,location:f.location,delta:g})}function p(w,g){l=ws.Push;let x=Fm(f.location,w,g);r&&r(x,w),d=m()+1;let y=kv(x,d),N=f.createHref(x);try{o.pushState(y,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(N)}a&&c&&c({action:l,location:f.location,delta:1})}function b(w,g){l=ws.Replace;let x=Fm(f.location,w,g);r&&r(x,w),d=m();let y=kv(x,d),N=f.createHref(x);o.replaceState(y,"",N),a&&c&&c({action:l,location:f.location,delta:0})}function j(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:td(w);return x=x.replace(/ $/,"%20"),pt(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let f={get action(){return l},get location(){return e(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Pv,h),c=w,()=>{i.removeEventListener(Pv,h),c=null}},createHref(w){return t(i,w)},createURL:j,encodeLocation(w){let g=j(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:b,go(w){return o.go(w)}};return f}var Ev;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ev||(Ev={}));function bT(e,t,r){return r===void 0&&(r="/"),wT(e,t,r,!1)}function wT(e,t,r,s){let i=typeof t=="string"?Fa(t):t,a=Sp(i.pathname||"/",r);if(a==null)return null;let o=dj(e);jT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=OT(a);l=RT(o[c],d,s)}return l}function dj(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Rs([s,c.relativePath]),m=r.concat(c);a.children&&a.children.length>0&&(pt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),dj(a.children,t,m,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:_T(d,a.index),routesMeta:m})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of uj(a.path))i(a,o,c)}),t}function uj(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=uj(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function jT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TT(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const NT=/^:[\w-]+$/,ST=3,CT=2,PT=1,kT=10,ET=-2,_v=e=>e==="*";function _T(e,t){let r=e.split("/"),s=r.length;return r.some(_v)&&(s+=ET),t&&(s+=CT),r.filter(i=>!_v(i)).reduce((i,a)=>i+(NT.test(a)?ST:a===""?PT:kT),s)}function TT(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function RT(e,t,r){r===void 0&&(r=!1);let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,m=a==="/"?t:t.slice(a.length)||"/",h=Tv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),p=c.route;if(!h&&d&&r&&!s[s.length-1].route.index&&(h=Tv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Rs([a,h.pathname]),pathnameBase:DT(Rs([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Rs([a,h.pathnameBase]))}return o}function Tv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=AT(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((d,m,h)=>{let{paramName:p,isOptional:b}=m;if(p==="*"){let f=l[h]||"";o=a.slice(0,a.length-f.length).replace(/(.)\/+$/,"$1")}const j=l[h];return b&&!j?d[p]=void 0:d[p]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function AT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function OT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function MT(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:i=""}=typeof e=="string"?Fa(e):e;return{pathname:r?r.startsWith("/")?r:$T(r,t):t,search:LT(s),hash:FT(i)}}function $T(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function mh(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cp(e,t){let r=IT(e);return t?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Pp(e,t,r,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Fa(e):(i=Xo({},e),pt(!i.pathname||!i.pathname.includes("?"),mh("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),mh("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),mh("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=MT(i,l),d=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const Rs=e=>e.join("/").replace(/\/\/+/g,"/"),DT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hj=["post","put","patch","delete"];new Set(hj);const zT=["get",...hj];new Set(zT);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Yo.apply(this,arguments)}const kp=u.createContext(null),BT=u.createContext(null),qs=u.createContext(null),Fd=u.createContext(null),An=u.createContext({outlet:null,matches:[],isDataRoute:!1}),mj=u.createContext(null);function UT(e,t){let{relative:r}=t===void 0?{}:t;Va()||pt(!1);let{basename:s,navigator:i}=u.useContext(qs),{hash:a,pathname:o,search:l}=pj(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Rs([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Va(){return u.useContext(Fd)!=null}function Ft(){return Va()||pt(!1),u.useContext(Fd).location}function fj(e){u.useContext(qs).static||u.useLayoutEffect(e)}function Ve(){let{isDataRoute:e}=u.useContext(An);return e?s5():WT()}function WT(){Va()||pt(!1);let e=u.useContext(kp),{basename:t,future:r,navigator:s}=u.useContext(qs),{matches:i}=u.useContext(An),{pathname:a}=Ft(),o=JSON.stringify(Cp(i,r.v7_relativeSplatPath)),l=u.useRef(!1);return fj(()=>{l.current=!0}),u.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Pp(d,JSON.parse(o),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Rs([t,h.pathname])),(m.replace?s.replace:s.push)(h,m.state,m)},[t,s,o,a,e])}const HT=u.createContext(null);function GT(e){let t=u.useContext(An).outlet;return t&&u.createElement(HT.Provider,{value:e},t)}function za(){let{matches:e}=u.useContext(An),t=e[e.length-1];return t?t.params:{}}function pj(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=u.useContext(qs),{matches:i}=u.useContext(An),{pathname:a}=Ft(),o=JSON.stringify(Cp(i,s.v7_relativeSplatPath));return u.useMemo(()=>Pp(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function qT(e,t){return KT(e,t)}function KT(e,t,r,s){Va()||pt(!1);let{navigator:i,static:a}=u.useContext(qs),{matches:o}=u.useContext(An),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let m=Ft(),h;if(t){var p;let g=typeof t=="string"?Fa(t):t;d==="/"||(p=g.pathname)!=null&&p.startsWith(d)||pt(!1),h=g}else h=m;let b=h.pathname||"/",j=b;if(d!=="/"){let g=d.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=!a&&r&&r.matches&&r.matches.length>0?r.matches:bT(e,{pathname:j}),w=ZT(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Rs([d,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:Rs([d,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,s);return t&&w?u.createElement(Fd.Provider,{value:{location:Yo({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ws.Pop}},w):w}function XT(){let e=n5(),t=VT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),r?u.createElement("pre",{style:i},r):null,a)}const YT=u.createElement(XT,null);class JT extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?u.createElement(An.Provider,{value:this.props.routeContext},u.createElement(mj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QT(e){let{routeContext:t,match:r,children:s}=e,i=u.useContext(kp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(An.Provider,{value:t},s)}function ZT(e,t,r,s){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let m=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);m>=0||pt(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let m=0;m<o.length;m++){let h=o[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:p,errors:b}=r,j=h.route.loader&&p[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||j){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,h,p)=>{let b,j=!1,f=null,w=null;r&&(b=l&&h.route.id?l[h.route.id]:void 0,f=h.route.errorElement||YT,c&&(d<0&&p===0?(i5("route-fallback",!1),j=!0,w=null):d===p&&(j=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,p+1)),x=()=>{let y;return b?y=f:j?y=w:h.route.Component?y=u.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=m,u.createElement(QT,{match:h,routeContext:{outlet:m,matches:g,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?u.createElement(JT,{location:r.location,revalidation:r.revalidation,component:f,error:b,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var xj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xj||{}),rd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rd||{});function e5(e){let t=u.useContext(kp);return t||pt(!1),t}function t5(e){let t=u.useContext(BT);return t||pt(!1),t}function r5(e){let t=u.useContext(An);return t||pt(!1),t}function gj(e){let t=r5(),r=t.matches[t.matches.length-1];return r.route.id||pt(!1),r.route.id}function n5(){var e;let t=u.useContext(mj),r=t5(rd.UseRouteError),s=gj(rd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function s5(){let{router:e}=e5(xj.UseNavigateStable),t=gj(rd.UseNavigateStable),r=u.useRef(!1);return fj(()=>{r.current=!0}),u.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yo({fromRouteId:t},a)))},[e,t])}const Rv={};function i5(e,t,r){!t&&!Rv[e]&&(Rv[e]=!0)}function a5(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ri(e){let{to:t,replace:r,state:s,relative:i}=e;Va()||pt(!1);let{future:a,static:o}=u.useContext(qs),{matches:l}=u.useContext(An),{pathname:c}=Ft(),d=Ve(),m=Pp(t,Cp(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(m);return u.useEffect(()=>d(JSON.parse(h),{replace:r,state:s,relative:i}),[d,h,i,r,s]),null}function Ep(e){return GT(e.context)}function Ae(e){pt(!1)}function o5(e){let{basename:t="/",children:r=null,location:s,navigationType:i=ws.Pop,navigator:a,static:o=!1,future:l}=e;Va()&&pt(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:a,static:o,future:Yo({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Fa(s));let{pathname:m="/",search:h="",hash:p="",state:b=null,key:j="default"}=s,f=u.useMemo(()=>{let w=Sp(m,c);return w==null?null:{location:{pathname:w,search:h,hash:p,state:b,key:j},navigationType:i}},[c,m,h,p,b,j,i]);return f==null?null:u.createElement(qs.Provider,{value:d},u.createElement(Fd.Provider,{children:r,value:f}))}function l5(e){let{children:t,location:r}=e;return qT(Vm(t),r)}new Promise(()=>{});function Vm(e,t){t===void 0&&(t=[]);let r=[];return u.Children.forEach(e,(s,i)=>{if(!u.isValidElement(s))return;let a=[...t,i];if(s.type===u.Fragment){r.push.apply(r,Vm(s.props.children,a));return}s.type!==Ae&&pt(!1),!s.props.index||!s.props.children||pt(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Vm(s.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zm.apply(this,arguments)}function c5(e,t){if(e==null)return{};var r={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function d5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u5(e,t){return e.button===0&&(!t||t==="_self")&&!d5(e)}function Bm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(i=>[r,i]):[[r,s]])},[]))}function h5(e,t){let r=Bm(e);return t&&t.forEach((s,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const m5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f5="6";try{window.__reactRouterVersion=f5}catch{}const p5="startTransition",Av=Nd[p5];function x5(e){let{basename:t,children:r,future:s,window:i}=e,a=u.useRef();a.current==null&&(a.current=gT({window:i,v5Compat:!0}));let o=a.current,[l,c]=u.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},m=u.useCallback(h=>{d&&Av?Av(()=>c(h)):c(h)},[c,d]);return u.useLayoutEffect(()=>o.listen(m),[o,m]),u.useEffect(()=>a5(s),[s]),u.createElement(o5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const g5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=u.forwardRef(function(t,r){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:m,viewTransition:h}=t,p=c5(t,m5),{basename:b}=u.useContext(qs),j,f=!1;if(typeof d=="string"&&v5.test(d)&&(j=d,g5))try{let y=new URL(window.location.href),N=d.startsWith("//")?new URL(y.protocol+d):new URL(d),P=Sp(N.pathname,b);N.origin===y.origin&&P!=null?d=P+N.search+N.hash:f=!0}catch{}let w=UT(d,{relative:i}),g=y5(d,{replace:o,state:l,target:c,preventScrollReset:m,relative:i,viewTransition:h});function x(y){s&&s(y),y.defaultPrevented||g(y)}return u.createElement("a",zm({},p,{href:j||w,onClick:f||a?s:x,ref:r,target:c}))});var Ov;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ov||(Ov={}));var Mv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mv||(Mv={}));function y5(e,t){let{target:r,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ve(),d=Ft(),m=pj(e,{relative:o});return u.useCallback(h=>{if(u5(h,r)){h.preventDefault();let p=s!==void 0?s:td(d)===td(m);c(e,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,m,s,i,r,e,a,o,l])}function vj(e){let t=u.useRef(Bm(e)),r=u.useRef(!1),s=Ft(),i=u.useMemo(()=>h5(s.search,r.current?null:t.current),[s.search]),a=Ve(),o=u.useCallback((l,c)=>{const d=Bm(typeof l=="function"?l(i):l);r.current=!0,a("?"+d,c)},[a,i]);return[i,o]}function yj(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=yj(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function bj(){for(var e,t,r=0,s="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=yj(e))&&(s&&(s+=" "),s+=t);return s}function b5(){for(var e=0,t,r,s="";e<arguments.length;)(t=arguments[e++])&&(r=wj(t))&&(s&&(s+=" "),s+=r);return s}function wj(e){if(typeof e=="string")return e;for(var t,r="",s=0;s<e.length;s++)e[s]&&(t=wj(e[s]))&&(r&&(r+=" "),r+=t);return r}var _p="-";function w5(e){var t=N5(e),r=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,i=s===void 0?{}:s;function a(l){var c=l.split(_p);return c[0]===""&&c.length!==1&&c.shift(),jj(c,t)||j5(l)}function o(l,c){var d=r[l]||[];return c&&i[l]?[].concat(d,i[l]):d}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function jj(e,t){var o;if(e.length===0)return t.classGroupId;var r=e[0],s=t.nextPart.get(r),i=s?jj(e.slice(1),s):void 0;if(i)return i;if(t.validators.length!==0){var a=e.join(_p);return(o=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:o.classGroupId}}var $v=/^\[(.+)\]$/;function j5(e){if($v.test(e)){var t=$v.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function N5(e){var t=e.theme,r=e.prefix,s={nextPart:new Map,validators:[]},i=C5(Object.entries(e.classGroups),r);return i.forEach(function(a){var o=a[0],l=a[1];Um(l,s,o,t)}),s}function Um(e,t,r,s){e.forEach(function(i){if(typeof i=="string"){var a=i===""?t:Iv(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(S5(i)){Um(i(s),t,r,s);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(o){var l=o[0],c=o[1];Um(c,Iv(t,l),r,s)})})}function Iv(e,t){var r=e;return t.split(_p).forEach(function(s){r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r}function S5(e){return e.isThemeGetter}function C5(e,t){return t?e.map(function(r){var s=r[0],i=r[1],a=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],d=l[1];return[t+c,d]})):o});return[s,a]}):e}function P5(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,s=new Map;function i(a,o){r.set(a,o),t++,t>e&&(t=0,s=r,r=new Map)}return{get:function(o){var l=r.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return i(o,l),l},set:function(o,l){r.has(o)?r.set(o,l):i(o,l)}}}var Nj="!";function k5(e){var t=e.separator||":",r=t.length===1,s=t[0],i=t.length;return function(o){for(var l=[],c=0,d=0,m,h=0;h<o.length;h++){var p=o[h];if(c===0){if(p===s&&(r||o.slice(h,h+i)===t)){l.push(o.slice(d,h)),d=h+i;continue}if(p==="/"){m=h;continue}}p==="["?c++:p==="]"&&c--}var b=l.length===0?o:o.substring(d),j=b.startsWith(Nj),f=j?b.substring(1):b,w=m&&m>d?m-d:void 0;return{modifiers:l,hasImportantModifier:j,baseClassName:f,maybePostfixModifierPosition:w}}}function E5(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(s){var i=s[0]==="[";i?(t.push.apply(t,r.sort().concat([s])),r=[]):r.push(s)}),t.push.apply(t,r.sort()),t}function _5(e){return{cache:P5(e.cacheSize),splitModifiers:k5(e),...w5(e)}}var T5=/\s+/;function R5(e,t){var r=t.splitModifiers,s=t.getClassGroupId,i=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(T5).map(function(o){var l=r(o),c=l.modifiers,d=l.hasImportantModifier,m=l.baseClassName,h=l.maybePostfixModifierPosition,p=s(h?m.substring(0,h):m),b=!!h;if(!p){if(!h)return{isTailwindClass:!1,originalClassName:o};if(p=s(m),!p)return{isTailwindClass:!1,originalClassName:o};b=!1}var j=E5(c).join(":"),f=d?j+Nj:j;return{isTailwindClass:!0,modifierId:f,classGroupId:p,originalClassName:o,hasPostfixModifier:b}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,m=l+c;return a.has(m)?!1:(a.add(m),i(c,d).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function A5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s,i,a,o=l;function l(d){var m=t[0],h=t.slice(1),p=h.reduce(function(b,j){return j(b)},m());return s=_5(p),i=s.cache.get,a=s.cache.set,o=c,c(d)}function c(d){var m=i(d);if(m)return m;var h=R5(d,s);return a(d,h),h}return function(){return o(b5.apply(null,arguments))}}function Je(e){var t=function(s){return s[e]||[]};return t.isThemeGetter=!0,t}var Sj=/^\[(?:([a-z-]+):)?(.+)\]$/i,O5=/^\d+\/\d+$/,M5=new Set(["px","full","screen"]),$5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,I5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,D5=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Yr(e){return di(e)||M5.has(e)||O5.test(e)||Wm(e)}function Wm(e){return Ri(e,"length",U5)}function L5(e){return Ri(e,"size",Cj)}function F5(e){return Ri(e,"position",Cj)}function V5(e){return Ri(e,"url",W5)}function Jl(e){return Ri(e,"number",di)}function di(e){return!Number.isNaN(Number(e))}function z5(e){return e.endsWith("%")&&di(e.slice(0,-1))}function so(e){return Dv(e)||Ri(e,"number",Dv)}function Me(e){return Sj.test(e)}function io(){return!0}function cs(e){return $5.test(e)}function B5(e){return Ri(e,"",H5)}function Ri(e,t,r){var s=Sj.exec(e);return s?s[1]?s[1]===t:r(s[2]):!1}function U5(e){return I5.test(e)}function Cj(){return!1}function W5(e){return e.startsWith("url(")}function Dv(e){return Number.isInteger(Number(e))}function H5(e){return D5.test(e)}function G5(){var e=Je("colors"),t=Je("spacing"),r=Je("blur"),s=Je("brightness"),i=Je("borderColor"),a=Je("borderRadius"),o=Je("borderSpacing"),l=Je("borderWidth"),c=Je("contrast"),d=Je("grayscale"),m=Je("hueRotate"),h=Je("invert"),p=Je("gap"),b=Je("gradientColorStops"),j=Je("gradientColorStopPositions"),f=Je("inset"),w=Je("margin"),g=Je("opacity"),x=Je("padding"),y=Je("saturate"),N=Je("scale"),P=Je("sepia"),_=Je("skew"),k=Je("space"),E=Je("translate"),O=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",Me,t]},L=function(){return[Me,t]},D=function(){return["",Yr]},B=function(){return["auto",di,Me]},G=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},z=function(){return["solid","dashed","dotted","double","none"]},U=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},$=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",Me]},H=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},W=function(){return[di,Jl]},T=function(){return[di,Me]};return{cacheSize:500,theme:{colors:[io],spacing:[Yr],blur:["none","",cs,Me],brightness:W(),borderColor:[e],borderRadius:["none","","full",cs,Me],borderSpacing:L(),borderWidth:D(),contrast:W(),grayscale:F(),hueRotate:T(),invert:F(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[z5,Wm],inset:M(),margin:M(),opacity:W(),padding:L(),saturate:W(),scale:W(),sepia:F(),skew:T(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(G(),[Me])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",so]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",so]}],"grid-cols":[{"grid-cols":[io]}],"col-start-end":[{col:["auto",{span:["full",so]},Me]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[io]}],"row-start-end":[{row:["auto",{span:[so]},Me]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat($())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat($(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat($(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Me,t]}],"min-w":[{"min-w":["min","max","fit",Me,Yr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[cs]},cs,Me]}],h:[{h:[Me,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Me,Yr]}],"max-h":[{"max-h":[Me,t,"min","max","fit"]}],"font-size":[{text:["base",cs,Wm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jl]}],"font-family":[{font:[io]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",di,Jl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Me,Yr]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(z(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr]}],"underline-offset":[{"underline-offset":["auto",Me,Yr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(G(),[F5])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",L5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},V5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(z(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(z())}],"outline-offset":[{"outline-offset":[Me,Yr]}],"outline-w":[{outline:[Yr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Yr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cs,B5]}],"shadow-color":[{shadow:[io]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cs,Me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[so,Me]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yr,Jl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var q5=A5(G5);function ge(...e){return q5(bj(e))}function be(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Lv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vd(...e){return t=>{let r=!1;const s=e.map(i=>{const a=Lv(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Lv(e[i],null)}}}}function Fe(...e){return u.useCallback(Vd(...e),e)}function K5(e,t){const r=u.createContext(t),s=a=>{const{children:o,...l}=a,c=u.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=u.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function Er(e,t=[]){let r=[];function s(a,o){const l=u.createContext(o),c=r.length;r=[...r,o];const d=h=>{var g;const{scope:p,children:b,...j}=h,f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,w=u.useMemo(()=>j,Object.values(j));return n.jsx(f.Provider,{value:w,children:b})};d.displayName=a+"Provider";function m(h,p){var f;const b=((f=p==null?void 0:p[e])==null?void 0:f[c])||l,j=u.useContext(b);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,m]}const i=()=>{const a=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,X5(i,...t)]}function X5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function _a(e){const t=J5(e),r=u.forwardRef((s,i)=>{const{children:a,...o}=s,l=u.Children.toArray(a),c=l.find(Z5);if(c){const d=c.props.children,m=l.map(h=>h===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...o,ref:i,children:u.isValidElement(d)?u.cloneElement(d,void 0,m):null})}return n.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var Y5=_a("Slot");function J5(e){const t=u.forwardRef((r,s)=>{const{children:i,...a}=r,o=u.isValidElement(i)?tR(i):void 0,l=Fe(o,s);if(u.isValidElement(i)){const c=eR(a,i.props);return i.type!==u.Fragment&&(c.ref=l),u.cloneElement(i,c)}return u.Children.count(i)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pj=Symbol("radix.slottable");function Q5(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Pj,t}function Z5(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pj}function eR(e,t){const r={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?r[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[s]=i):s==="style"?r[s]={...i,...a}:s==="className"&&(r[s]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function tR(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zd(e){const t=e+"CollectionProvider",[r,s]=Er(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:w,children:g}=f,x=me.useRef(null),y=me.useRef(new Map).current;return n.jsx(i,{scope:w,itemMap:y,collectionRef:x,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=_a(l),d=me.forwardRef((f,w)=>{const{scope:g,children:x}=f,y=a(l,g),N=Fe(w,y.collectionRef);return n.jsx(c,{ref:N,children:x})});d.displayName=l;const m=e+"CollectionItemSlot",h="data-radix-collection-item",p=_a(m),b=me.forwardRef((f,w)=>{const{scope:g,children:x,...y}=f,N=me.useRef(null),P=Fe(w,N),_=a(m,g);return me.useEffect(()=>(_.itemMap.set(N,{ref:N,...y}),()=>void _.itemMap.delete(N))),n.jsx(p,{[h]:"",ref:P,children:x})});b.displayName=m;function j(f){const w=a(e+"CollectionConsumer",f);return me.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((_,k)=>y.indexOf(_.ref.current)-y.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:b},j,s]}var rR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=rR.reduce((e,t)=>{const r=_a(`Primitive.${t}`),s=u.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Tp(e,t){e&&Gs.flushSync(()=>e.dispatchEvent(t))}function pr(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function nR(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e);u.useEffect(()=>{const s=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var sR="DismissableLayer",Hm="dismissableLayer.update",iR="dismissableLayer.pointerDownOutside",aR="dismissableLayer.focusOutside",Fv,kj=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bd=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(kj),[m,h]=u.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=u.useState({}),j=Fe(t,k=>h(k)),f=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=f.indexOf(w),x=m?f.indexOf(m):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,N=x>=g,P=lR(k=>{const E=k.target,O=[...d.branches].some(R=>R.contains(E));!N||O||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),_=cR(k=>{const E=k.target;[...d.branches].some(R=>R.contains(E))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return nR(k=>{x===d.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),u.useEffect(()=>{if(m)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Fv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Vv(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Fv)}},[m,p,r,d]),u.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Vv())},[m,d]),u.useEffect(()=>{const k=()=>b({});return document.addEventListener(Hm,k),()=>document.removeEventListener(Hm,k)},[]),n.jsx(_e.div,{...c,ref:j,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,_.onFocusCapture),onBlurCapture:be(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,P.onPointerDownCapture)})});Bd.displayName=sR;var oR="DismissableLayerBranch",Ej=u.forwardRef((e,t)=>{const r=u.useContext(kj),s=u.useRef(null),i=Fe(t,s);return u.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),n.jsx(_e.div,{...e,ref:i})});Ej.displayName=oR;function lR(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),s=u.useRef(!1),i=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){_j(iR,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function cR(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),s=u.useRef(!1);return u.useEffect(()=>{const i=a=>{a.target&&!s.current&&_j(aR,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Vv(){const e=new CustomEvent(Hm);document.dispatchEvent(e)}function _j(e,t,r,{discrete:s}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),s?Tp(i,a):i.dispatchEvent(a)}var dR=Bd,uR=Ej,Ur=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},hR="Portal",Ud=u.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[i,a]=u.useState(!1);Ur(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?lj.createPortal(n.jsx(_e.div,{...s,ref:t}),o):null});Ud.displayName=hR;function mR(e,t){return u.useReducer((r,s)=>t[r][s]??r,e)}var xn=e=>{const{present:t,children:r}=e,s=fR(t),i=typeof r=="function"?r({present:s.isPresent}):u.Children.only(r),a=Fe(s.ref,pR(i));return typeof r=="function"||s.isPresent?u.cloneElement(i,{ref:a}):null};xn.displayName="Presence";function fR(e){const[t,r]=u.useState(),s=u.useRef(null),i=u.useRef(e),a=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=mR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Ql(s.current);a.current=l==="mounted"?d:"none"},[l]),Ur(()=>{const d=s.current,m=i.current;if(m!==e){const p=a.current,b=Ql(d);e?c("MOUNT"):b==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&p!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Ur(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,h=b=>{const f=Ql(s.current).includes(b.animationName);if(b.target===t&&f&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=b=>{b.target===t&&(a.current=Ql(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function Ql(e){return(e==null?void 0:e.animationName)||"none"}function pR(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xR=Nd[" useInsertionEffect ".trim().toString()]||Ur;function Ks({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[i,a,o]=gR({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const m=u.useRef(e!==void 0);u.useEffect(()=>{const h=m.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,s])}const d=u.useCallback(m=>{var h;if(l){const p=vR(m)?m(e):m;p!==e&&((h=o.current)==null||h.call(o,p))}else a(m)},[l,e,a,o]);return[c,d]}function gR({defaultProp:e,onChange:t}){const[r,s]=u.useState(e),i=u.useRef(r),a=u.useRef(t);return xR(()=>{a.current=t},[t]),u.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,s,a]}function vR(e){return typeof e=="function"}var yR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bR="VisuallyHidden",Rp=u.forwardRef((e,t)=>n.jsx(_e.span,{...e,ref:t,style:{...yR,...e.style}}));Rp.displayName=bR;var Ap="ToastProvider",[Op,wR,jR]=zd("Toast"),[Tj,FV]=Er("Toast",[jR]),[NR,Wd]=Tj(Ap),Rj=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=u.useState(null),[d,m]=u.useState(0),h=u.useRef(!1),p=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ap}\`. Expected non-empty \`string\`.`),n.jsx(Op.Provider,{scope:t,children:n.jsx(NR,{scope:t,label:r,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>m(b=>b+1),[]),onToastRemove:u.useCallback(()=>m(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};Rj.displayName=Ap;var Aj="ToastViewport",SR=["F8"],Gm="toast.viewportPause",qm="toast.viewportResume",Oj=u.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=SR,label:i="Notifications ({hotkey})",...a}=e,o=Wd(Aj,r),l=wR(r),c=u.useRef(null),d=u.useRef(null),m=u.useRef(null),h=u.useRef(null),p=Fe(t,h,o.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;u.useEffect(()=>{const w=g=>{var y;s.length!==0&&s.every(N=>g[N]||g.code===N)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),u.useEffect(()=>{const w=c.current,g=h.current;if(j&&w&&g){const x=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(Gm);g.dispatchEvent(_),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(qm);g.dispatchEvent(_),o.isClosePausedRef.current=!1}},N=_=>{!w.contains(_.relatedTarget)&&y()},P=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",x),w.addEventListener("focusout",N),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",P),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",P),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[j,o.isClosePausedRef]);const f=u.useCallback(({tabbingDirection:w})=>{const x=l().map(y=>{const N=y.ref.current,P=[N,...DR(N)];return w==="forwards"?P:P.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return u.useEffect(()=>{const w=h.current;if(w){const g=x=>{var P,_,k;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const E=document.activeElement,O=x.shiftKey;if(x.target===w&&O){(P=d.current)==null||P.focus();return}const L=f({tabbingDirection:O?"backwards":"forwards"}),D=L.findIndex(B=>B===E);fh(L.slice(D+1))?x.preventDefault():O?(_=d.current)==null||_.focus():(k=m.current)==null||k.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[l,f]),n.jsxs(uR,{ref:c,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&n.jsx(Km,{ref:d,onFocusFromOutsideViewport:()=>{const w=f({tabbingDirection:"forwards"});fh(w)}}),n.jsx(Op.Slot,{scope:r,children:n.jsx(_e.ol,{tabIndex:-1,...a,ref:p})}),j&&n.jsx(Km,{ref:m,onFocusFromOutsideViewport:()=>{const w=f({tabbingDirection:"backwards"});fh(w)}})]})});Oj.displayName=Aj;var Mj="ToastFocusProxy",Km=u.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...i}=e,a=Wd(Mj,r);return n.jsx(Rp,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&s()}})});Km.displayName=Mj;var ml="Toast",CR="toast.swipeStart",PR="toast.swipeMove",kR="toast.swipeCancel",ER="toast.swipeEnd",$j=u.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=Ks({prop:s,defaultProp:i??!0,onChange:a,caller:ml});return n.jsx(xn,{present:r||l,children:n.jsx(RR,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:pr(e.onPause),onResume:pr(e.onResume),onSwipeStart:be(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(e.onSwipeMove,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:be(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(e.onSwipeEnd,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});$j.displayName=ml;var[_R,TR]=Tj(ml,{onClose(){}}),RR=u.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:b,...j}=e,f=Wd(ml,r),[w,g]=u.useState(null),x=Fe(t,B=>g(B)),y=u.useRef(null),N=u.useRef(null),P=i||f.duration,_=u.useRef(0),k=u.useRef(P),E=u.useRef(0),{onToastAdd:O,onToastRemove:R}=f,M=pr(()=>{var G;(w==null?void 0:w.contains(document.activeElement))&&((G=f.viewport)==null||G.focus()),o()}),L=u.useCallback(B=>{!B||B===1/0||(window.clearTimeout(E.current),_.current=new Date().getTime(),E.current=window.setTimeout(M,B))},[M]);u.useEffect(()=>{const B=f.viewport;if(B){const G=()=>{L(k.current),d==null||d()},z=()=>{const U=new Date().getTime()-_.current;k.current=k.current-U,window.clearTimeout(E.current),c==null||c()};return B.addEventListener(Gm,z),B.addEventListener(qm,G),()=>{B.removeEventListener(Gm,z),B.removeEventListener(qm,G)}}},[f.viewport,P,c,d,L]),u.useEffect(()=>{a&&!f.isClosePausedRef.current&&L(P)},[a,P,f.isClosePausedRef,L]),u.useEffect(()=>(O(),()=>R()),[O,R]);const D=u.useMemo(()=>w?Bj(w):null,[w]);return f.viewport?n.jsxs(n.Fragment,{children:[D&&n.jsx(AR,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),n.jsx(_R,{scope:r,onClose:M,children:Gs.createPortal(n.jsx(Op.ItemSlot,{scope:r,children:n.jsx(dR,{asChild:!0,onEscapeKeyDown:be(l,()=>{f.isFocusedToastEscapeKeyDownRef.current||M(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":f.swipeDirection,...j,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:be(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:be(e.onPointerDown,B=>{B.button===0&&(y.current={x:B.clientX,y:B.clientY})}),onPointerMove:be(e.onPointerMove,B=>{if(!y.current)return;const G=B.clientX-y.current.x,z=B.clientY-y.current.y,U=!!N.current,$=["left","right"].includes(f.swipeDirection),F=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,H=$?F(0,G):0,W=$?0:F(0,z),T=B.pointerType==="touch"?10:2,q={x:H,y:W},re={originalEvent:B,delta:q};U?(N.current=q,Zl(PR,h,re,{discrete:!1})):zv(q,f.swipeDirection,T)?(N.current=q,Zl(CR,m,re,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(G)>T||Math.abs(z)>T)&&(y.current=null)}),onPointerUp:be(e.onPointerUp,B=>{const G=N.current,z=B.target;if(z.hasPointerCapture(B.pointerId)&&z.releasePointerCapture(B.pointerId),N.current=null,y.current=null,G){const U=B.currentTarget,$={originalEvent:B,delta:G};zv(G,f.swipeDirection,f.swipeThreshold)?Zl(ER,b,$,{discrete:!0}):Zl(kR,p,$,{discrete:!0}),U.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),AR=e=>{const{__scopeToast:t,children:r,...s}=e,i=Wd(ml,t),[a,o]=u.useState(!1),[l,c]=u.useState(!1);return $R(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Ud,{asChild:!0,children:n.jsx(Rp,{...s,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",r]})})})},OR="ToastTitle",Ij=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(_e.div,{...s,ref:t})});Ij.displayName=OR;var MR="ToastDescription",Dj=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(_e.div,{...s,ref:t})});Dj.displayName=MR;var Lj="ToastAction",Fj=u.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(zj,{altText:r,asChild:!0,children:n.jsx(Mp,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Lj}\`. Expected non-empty \`string\`.`),null)});Fj.displayName=Lj;var Vj="ToastClose",Mp=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,i=TR(Vj,r);return n.jsx(zj,{asChild:!0,children:n.jsx(_e.button,{type:"button",...s,ref:t,onClick:be(e.onClick,i.onClose)})})});Mp.displayName=Vj;var zj=u.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...i}=e;return n.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function Bj(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),IR(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Bj(s))}}),t}function Zl(e,t,r,{discrete:s}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),s?Tp(i,a):i.dispatchEvent(a)}var zv=(e,t,r=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>r:!a&&i>r};function $R(e=()=>{}){const t=pr(e);Ur(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function IR(e){return e.nodeType===e.ELEMENT_NODE}function DR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var LR=Rj,Uj=Oj,Wj=$j,Hj=Ij,Gj=Dj,qj=Fj,Kj=Mp;const Bv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Uv=bj,Hd=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return Uv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const m=r==null?void 0:r[d],h=a==null?void 0:a[d];if(m===null)return null;const p=Bv(m)||Bv(h);return i[d][p]}),l=r&&Object.entries(r).reduce((d,m)=>{let[h,p]=m;return p===void 0||(d[h]=p),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,m)=>{let{class:h,className:p,...b}=m;return Object.entries(b).every(j=>{let[f,w]=j;return Array.isArray(w)?w.includes({...a,...l}[f]):{...a,...l}[f]===w})?[...d,h,p]:d},[]);return Uv(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};var FR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ee=(e,t)=>{const r=u.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},d)=>u.createElement("svg",{ref:d,...FR,width:i,height:i,stroke:s,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${VR(e)}`,...c},[...t.map(([m,h])=>u.createElement(m,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r},pi=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Si=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),zR=ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),$r=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),BR=ee("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),br=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Xj=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),UR=ee("Axe",[["path",{d:"m14 12-8.5 8.5a2.12 2.12 0 1 1-3-3L11 9",key:"csbz4o"}],["path",{d:"M15 13 9 7l4-4 6 6h3a8 8 0 0 1-7 7z",key:"113wfo"}]]),ga=ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),$p=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),WR=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),zn=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),HR=ee("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),GR=ee("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Xm=ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),qR=ee("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Jo=ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),KR=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Et=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),tr=ee("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Yj=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),fl=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Gd=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),XR=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),YR=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ci=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),JR=ee("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),jn=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),an=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Wv=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),QR=ee("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),Qo=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Wr=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ZR=ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Ip=ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),e3=ee("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),ui=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),t3=ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),r3=ee("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),Ym=ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Hv=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),n3=ee("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),Gv=ee("HandMetal",[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4",key:"7eki13"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2",key:"94qvcw"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9",key:"m1ah89"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5",key:"t1skq1"}]]),Jj=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),s3=ee("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),i3=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Ba=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),a3=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),o3=ee("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),Qj=ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),xi=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),qv=ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Kv=ee("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Re=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ta=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Zj=ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),qd=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Jn=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Qn=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Dp=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Hr=ee("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Lr=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),l3=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),c3=ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Lp=ee("PackageOpen",[["path",{d:"M20.91 8.84 8.56 2.23a1.93 1.93 0 0 0-1.81 0L3.1 4.13a2.12 2.12 0 0 0-.05 3.69l12.22 6.93a2 2 0 0 0 1.94 0L21 12.51a2.12 2.12 0 0 0-.09-3.67Z",key:"1vy178"}],["path",{d:"m3.09 8.84 12.35-6.61a1.93 1.93 0 0 1 1.81 0l3.65 1.9a2.12 2.12 0 0 1 .1 3.69L8.73 14.75a2 2 0 0 1-1.94 0L3 12.51a2.12 2.12 0 0 1 .09-3.67Z",key:"s3bv25"}],["line",{x1:"12",x2:"12",y1:"22",y2:"13",key:"1o4xyi"}],["path",{d:"M20 13.5v3.37a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13.5",key:"1na2nq"}]]),Ir=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),e1=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),d3=ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),u3=ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Kd=ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Pn=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),js=ee("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),t1=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),va=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Nn=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),h3=ee("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),_n=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Jm=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ds=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m3=ee("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),f3=ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Fr=ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),r1=ee("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),ft=ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Fp=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),He=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),n1=ee("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Ls=ee("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Xv=ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),is=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),p3=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Zo=ee("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),x3=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),nd=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),gi=ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),g3=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),s1=ee("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),It=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Pi=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),i1=ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),v3=ee("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]),y3=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ct=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),b3=ee("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),w3=LR,a1=me.forwardRef(({className:e,...t},r)=>n.jsx(Uj,{ref:r,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));a1.displayName=Uj.displayName;const j3=Hd("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),o1=me.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(Wj,{ref:s,className:ge(j3({variant:t}),e),...r}));o1.displayName=Wj.displayName;const N3=me.forwardRef(({className:e,...t},r)=>n.jsx(qj,{ref:r,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));N3.displayName=qj.displayName;const l1=me.forwardRef(({className:e,...t},r)=>n.jsx(Kj,{ref:r,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Ct,{className:"h-4 w-4"})}));l1.displayName=Kj.displayName;const c1=me.forwardRef(({className:e,...t},r)=>n.jsx(Hj,{ref:r,className:ge("text-sm font-semibold",e),...t}));c1.displayName=Hj.displayName;const d1=me.forwardRef(({className:e,...t},r)=>n.jsx(Gj,{ref:r,className:ge("text-sm opacity-90",e),...t}));d1.displayName=Gj.displayName;const S3=1;let ph=0;function C3(){return ph=(ph+1)%Number.MAX_VALUE,ph.toString()}const Qt={state:{toasts:[]},listeners:[],getState:()=>Qt.state,setState:e=>{typeof e=="function"?Qt.state=e(Qt.state):Qt.state={...Qt.state,...e},Qt.listeners.forEach(t=>t(Qt.state))},subscribe:e=>(Qt.listeners.push(e),()=>{Qt.listeners=Qt.listeners.filter(t=>t!==e)})},P3=({...e})=>{const t=C3(),r=i=>Qt.setState(a=>({...a,toasts:a.toasts.map(o=>o.id===t?{...o,...i}:o)})),s=()=>Qt.setState(i=>({...i,toasts:i.toasts.filter(a=>a.id!==t)}));return Qt.setState(i=>({...i,toasts:[{...e,id:t,dismiss:s},...i.toasts].slice(0,S3)})),{id:t,dismiss:s,update:r}};function st(){const[e,t]=u.useState(Qt.getState());return u.useEffect(()=>Qt.subscribe(s=>{t(s)}),[]),u.useEffect(()=>{const r=[];return e.toasts.forEach(s=>{if(s.duration===1/0)return;const i=setTimeout(()=>{s.dismiss()},s.duration||5e3);r.push(i)}),()=>{r.forEach(s=>clearTimeout(s))}},[e.toasts]),{toast:P3,toasts:e.toasts}}function k3(){const{toasts:e}=st();return n.jsxs(w3,{children:[e.map(({id:t,title:r,description:s,action:i,dismiss:a,...o})=>n.jsxs(o1,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(c1,{children:r}),s&&n.jsx(d1,{children:s})]}),i,n.jsx(l1,{})]},t)),n.jsx(a1,{})]})}const E3="https://handy3.abanoubsamir.com/backend/public/api/";function lr(e){return`${E3.replace(/\/$/,"")}/${e.replace(/^\//,"")}`}async function ie(e,t={}){const r=localStorage.getItem("token"),s={headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}}},i=await fetch(lr(e),{...s,...t});if(!i.ok){const a=await i.text();throw new Error(`API error: ${i.status} - ${a}`)}return i.json()}async function ai(e,t={}){const r=localStorage.getItem("token"),s={Accept:"application/json",...r?{Authorization:`Bearer ${r}`}:{}},i=await fetch(lr(e),{...t,headers:s});if(!i.ok){const a=await i.text();throw new Error(`API error: ${i.status} - ${a}`)}return i.json()}const Se={getCategories:()=>ie("listcategories"),getSeller:e=>ie(`listsellers/${e}`),getSellerProducts:e=>ie(`listsellers/${e}/products`),getSellers:()=>ie("listsellers"),getTopSellers:()=>ie("sellers/top"),getFeaturedProducts:()=>ie("TopProducts?featured=1&status=active&limit=10"),getProductById:e=>ie(`Listpoducts/${e}`),sendEmailVerificationOTP:e=>ie("send-email-verification-otp",{method:"POST",body:JSON.stringify({email:e})}),verifyEmail:(e,t)=>ie("verify-email",{method:"POST",body:JSON.stringify({email:e,otp_code:t})}),registerWithVerification:e=>ie("register-with-verification",{method:"POST",body:JSON.stringify(e)}),sendPasswordResetOTP:e=>ie("send-password-reset-otp",{method:"POST",body:JSON.stringify({email:e})}),verifyPasswordResetOTP:(e,t)=>ie("verify-password-reset-otp",{method:"POST",body:JSON.stringify({email:e,otp_code:t})}),resetPassword:(e,t,r,s)=>ie("reset-password",{method:"POST",body:JSON.stringify({email:e,otp_code:t,password:r,password_confirmation:s})}),uploadProfileImage:(e,t)=>{const r=new FormData;return r.append("avatar",t),ai(`users/${e}/upload-avatar`,{method:"POST",body:r})},getCart:()=>ie("cart"),addToCart:(e,t=1)=>ie("cart/add",{method:"POST",body:JSON.stringify({product_id:e,quantity:t})}),updateCartItem:(e,t)=>ie(`cart-items/${e}`,{method:"PATCH",body:JSON.stringify({quantity:t})}),removeFromCart:e=>ie(`cart-items/${e}`,{method:"DELETE"}),clearCart:()=>ie("cart/clear",{method:"DELETE"}),createOrder:e=>ie("orders",{method:"POST",body:JSON.stringify(e)}),createOrderWithFiles:e=>ai("orders",{method:"POST",body:e}),getOrders:(e={})=>{const r=new URLSearchParams(e).toString();return ie(`orders${r?`?${r}`:""}`)},getOrder:e=>ie(`orders/${e}`),updateOrder:(e,t)=>ie(`orders/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteOrder:e=>ie(`orders/${e}`,{method:"DELETE"}),uploadPaymentProof:(e,t)=>{const r=new FormData;return r.append("payment_proof",t),ai(`orders/${e}/upload-payment-proof`,{method:"POST",body:r})},completeOrder:e=>ie(`orders/${e}/complete`,{method:"POST"}),cancelOrder:(e,t)=>ie(`orders/${e}/cancel`,{method:"POST",body:JSON.stringify({reason:t})}),getWishlist:()=>ie("wishlist-items"),addToWishlist:e=>ie("wishlist-items",{method:"POST",body:JSON.stringify({product_id:e})}),removeFromWishlist:e=>ie(`wishlist-items/${e}`,{method:"DELETE"}),getConversations:()=>ie("chat/conversations"),getMessages:e=>ie(`chat/conversations/${e}/messages`),sendMessage:e=>ie("chat/messages",{method:"POST",body:JSON.stringify(e)}),sendMessageWithFiles:e=>ai("chat/messages",{method:"POST",body:e}),updateOnlineStatus:()=>ie("chat/update-online-status",{method:"POST"}),getSellerServices:e=>ie(`users/${e}/services`),createServiceOrder:e=>ai("orders",{method:"POST",body:e}),startConversation:e=>ie("chat/conversations/start",{method:"POST",body:JSON.stringify({recipient_id:e})}),markAsRead:e=>ie(`chat/conversations/${e}/mark-read`,{method:"POST"}),deleteConversation:e=>ie(`chat/conversations/${e}`,{method:"DELETE"}),getNotifications:()=>ie("notifications"),getUnreadNotificationCount:()=>ie("notifications/unread-count"),markNotificationAsRead:e=>ie(`notifications/${e}/mark-read`,{method:"POST"}),markAllNotificationsAsRead:()=>ie("notifications/mark-all-read",{method:"POST"}),deleteNotification:e=>ie(`notifications/${e}`,{method:"DELETE"}),getProductReviews:e=>ie(`products/${e}/reviews`),getSellerReviews:e=>ie(`sellers/${e}/reviews`),getOrderReviews:e=>ie(`orders/${e}/reviews`),canReviewOrder:e=>ie(`orders/${e}/can-review`),createReview:e=>ie("reviews",{method:"POST",body:JSON.stringify(e)}),updateReview:(e,t)=>ie(`reviews/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteReview:e=>ie(`reviews/${e}`,{method:"DELETE"})},St={getDashboardStats:()=>ie("admin/dashboard"),getUsers:(e={})=>{const t=new URLSearchParams(e);return ie(`admin/users?${t}`)},updateUserStatus:(e,t)=>ie(`admin/users/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),deleteUser:e=>ie(`admin/users/${e}`,{method:"DELETE"}),getSellers:(e={})=>{const t=new URLSearchParams(e);return ie(`admin/sellers?${t}`)},updateSellerStatus:(e,t)=>ie(`admin/sellers/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),getProducts:(e={})=>{const t=new URLSearchParams(e);return ie(`admin/products?${t}`)},toggleProductFeatured:e=>ie(`admin/products/${e}/featured`,{method:"PATCH"}),deleteProduct:e=>ie(`admin/products/${e}`,{method:"DELETE"}),updateProductStatus:(e,t)=>ie(`admin/products/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),getRecentActivity:()=>ie("admin/recent-activity"),getCategories:(e={})=>{const t=new URLSearchParams(e);return ie(`categories?${t}`)},createCategory:e=>ie("categories",{method:"POST",body:JSON.stringify(e)}),updateCategory:(e,t)=>ie(`categories/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteCategory:e=>ie(`categories/${e}`,{method:"DELETE"}),getOrders:(e={})=>{const t=new URLSearchParams(e);return ie(`admin/orders?${t}`)},getPendingOrders:()=>ie("admin/orders/pending"),approveOrder:(e,t="")=>ie(`admin/orders/${e}/approve`,{method:"POST",body:JSON.stringify({notes:t})}),rejectOrder:(e,t)=>ie(`admin/orders/${e}/reject`,{method:"POST",body:JSON.stringify({reason:t})}),adminApproveOrder:(e,t="")=>ie(`orders/${e}/admin-approve`,{method:"POST",body:JSON.stringify({notes:t})}),getPendingApprovalOrders:()=>ie("orders/pending-approval")},ur={getSellerProducts:async()=>ie("seller/products"),getProductById:async e=>ie(`seller/products/${e}`),createProduct:async e=>{const t=new FormData;return Object.entries(e).forEach(([r,s])=>{Array.isArray(s)?r==="images"?s.forEach(i=>t.append("images[]",i)):r==="tags"&&s.forEach(i=>t.append("tags[]",i)):t.append(r,s)}),ai("seller/products",{method:"POST",body:t})},updateProduct:async(e,t)=>{const r=new FormData;return Object.entries(t).forEach(([s,i])=>{Array.isArray(i)?s==="images"?i.forEach(a=>{a instanceof File&&r.append("images[]",a)}):s==="tags"?i.forEach(a=>r.append("tags[]",a)):s==="existing_images"?i.forEach((a,o)=>{r.append(`existing_images[${o}]`,a)}):i.forEach(a=>r.append(`${s}[]`,a)):i!=null&&r.append(s,i)}),r.append("_method","PUT"),ai(`seller/products/${e}`,{method:"POST",body:r})},deleteProduct:async e=>ie(`seller/products/${e}`,{method:"DELETE"}),getSellerOrders:(e={})=>{const t=new URLSearchParams({seller_orders:!0,...e});return ie(`orders?${t}`)},approveOrder:(e,t="")=>ie(`orders/${e}/seller-approve`,{method:"POST",body:JSON.stringify({notes:t})}),startWork:(e,t="")=>ie(`orders/${e}/start-work`,{method:"POST",body:JSON.stringify({notes:t})}),completeWork:(e,t="",r=null)=>ie(`orders/${e}/complete-work`,{method:"POST",body:JSON.stringify({notes:t,delivery_date:r})})},Yv={getReadyForDelivery:()=>ie("orders/ready-for-delivery"),pickupOrder:(e,t="")=>ie(`orders/${e}/pickup-delivery`,{method:"POST",body:JSON.stringify({notes:t})}),markAsDelivered:(e,t="")=>ie(`orders/${e}/mark-delivered`,{method:"POST",body:JSON.stringify({notes:t})}),getDeliveryOrders:(e={})=>{const t=new URLSearchParams(e);return ie(`orders?delivery=true&${t}`)}},u1=u.createContext(),$e=()=>u.useContext(u1),_3=({children:e})=>{const[t,r]=u.useState(null),[s,i]=u.useState(!0),{toast:a}=st(),o=()=>localStorage.getItem("token");u.useEffect(()=>{if(!t)return;Se.updateOnlineStatus().catch(E=>console.error("Failed to update online status:",E));const _=setInterval(()=>{Se.updateOnlineStatus().catch(E=>console.error("Failed to update online status:",E))},48e4),k=()=>{document.visibilityState==="visible"&&Se.updateOnlineStatus().catch(E=>console.error("Failed to update online status:",E))};return document.addEventListener("visibilitychange",k),()=>{clearInterval(_),document.removeEventListener("visibilitychange",k)}},[t]),u.useEffect(()=>{const _=o();_?(i(!0),fetch(lr("me"),{headers:{Authorization:`Bearer ${_}`,Accept:"application/json"}}).then(async k=>{if(k.ok){const E=(await k.json()).data;r(E),localStorage.setItem("user",JSON.stringify(E))}else r(null),localStorage.removeItem("user"),localStorage.removeItem("token")}).catch(k=>{r(null),localStorage.removeItem("user"),localStorage.removeItem("token")}).finally(()=>{i(!1)})):(r(null),i(!1))},[]);const P={user:t,loading:s,login:async _=>{try{const k=await fetch(lr("login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(_)});if(!k.ok){const O=await k.json().catch(()=>({}));return a({variant:"destructive",title:"فشل تسجيل الدخول",description:O.message||"البريد الإلكتروني أو كلمة المرور غير صحيحة"}),!1}const E=await k.json();return localStorage.setItem("token",E.token),r(E.user),localStorage.setItem("user",JSON.stringify(E.user)),a({title:"تم تسجيل الدخول بنجاح",description:`مرحباً بك ${E.user.name}`}),!0}catch{return a({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تسجيل الدخول"}),!1}},register:async _=>{try{const k=await fetch(lr("register"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(_)});if(!k.ok){const O=await k.json().catch(()=>({}));return a({variant:"destructive",title:"فشل إنشاء الحساب",description:O.message||"حدث خطأ أثناء إنشاء الحساب"}),!1}const E=await k.json();return localStorage.setItem("token",E.token),r(E.user),localStorage.setItem("user",JSON.stringify(E.user)),a({title:"تم إنشاء الحساب بنجاح",description:`مرحباً بك ${_.name}`}),!0}catch{return a({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء إنشاء الحساب"}),!1}},logout:async()=>{const _=o();if(_)try{await fetch(lr("logout"),{method:"POST",headers:{Authorization:`Bearer ${_}`}})}catch{}r(null),localStorage.removeItem("user"),localStorage.removeItem("token"),a({title:"تم تسجيل الخروج",description:"نتمنى رؤيتك مرة أخرى قريباً"})},updateProfile:async _=>{try{const k=o();if(!k||!t)throw new Error("Not authenticated");const E={name:_.name||t.name,bio:_.bio||t.bio||"",location:_.location||t.location||"",avatar:typeof _.avatar=="string"?_.avatar:t.avatar||"",phone:typeof _.phone=="string"?_.phone:t.phone||""};Array.isArray(_.skills)&&t.active_role==="seller"&&(E.skills=_.skills);const O=await fetch(lr(`users/${t.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(E)});if(!O.ok){const M=await O.text();throw new Error(`Update failed: ${O.status} ${M}`)}const R=(await O.json()).data;return r(R),localStorage.setItem("user",JSON.stringify(R)),a({title:"تم تحديث الملف الشخصي",description:"تم تحديث بياناتك بنجاح"}),!0}catch{return a({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تحديث الملف الشخصي"}),!1}},uploadProfileImage:async _=>{try{if(!o()||!t)throw new Error("Not authenticated");const E=await Se.uploadProfileImage(t.id,_),O=E.data;return r(O),localStorage.setItem("user",JSON.stringify(O)),a({title:"تم تحديث صورة الملف الشخصي",description:"تم تحديث صورتك الشخصية بنجاح"}),{success:!0,data:O,avatarUrl:E.avatar_url}}catch(k){return console.error("Profile image upload failed:",k),a({variant:"destructive",title:"خطأ في رفع الصورة",description:"حدث خطأ أثناء رفع صورة الملف الشخصي"}),{success:!1,error:k.message}}},switchRole:async _=>{try{const k=o();if(!k||!t)throw new Error("Not authenticated");const E=await fetch(lr("switch-role"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({role:_})});if(!E.ok){const M=await E.json().catch(()=>({}));throw new Error(M.message||"Failed to switch role")}const R=(await E.json()).user;return r(R),localStorage.setItem("user",JSON.stringify(R)),a({title:"تم تبديل الدور بنجاح",description:`تم التبديل إلى دور ${_==="seller"?"البائع":"المشتري"}`}),!0}catch(k){return a({variant:"destructive",title:"خطأ",description:k.message||"حدث خطأ أثناء تبديل الدور"}),!1}},enableSellerMode:async()=>{try{const _=o();if(!_||!t)throw new Error("Not authenticated");const k=await fetch(lr("enable-seller-mode"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${_}`}});if(!k.ok){const R=await k.json().catch(()=>({}));throw new Error(R.message||"Failed to enable seller mode")}const O=(await k.json()).user;return r(O),localStorage.setItem("user",JSON.stringify(O)),a({title:"تم تفعيل وضع البائع",description:"يمكنك الآن إضافة منتجات وإدارة متجرك"}),!0}catch(_){return a({variant:"destructive",title:"خطأ",description:_.message||"حدث خطأ أثناء تفعيل وضع البائع"}),!1}},changePassword:async({currentPassword:_,newPassword:k,confirmPassword:E})=>{try{const O=o();if(!O||!t)throw new Error("Not authenticated");const R=await fetch(lr("change-password"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({current_password:_,new_password:k,new_password_confirmation:E})}),M=await R.json();return R.ok?(a({title:"تم تغيير كلمة المرور",description:M.message||"تم تغيير كلمة المرور بنجاح."}),!0):(a({variant:"destructive",title:"خطأ",description:M.message||"حدث خطأ أثناء تغيير كلمة المرور"}),!1)}catch(O){return a({variant:"destructive",title:"خطأ",description:O.message||"حدث خطأ أثناء تغيير كلمة المرور"}),!1}},sendEmailVerificationOTP:async _=>{try{return await Se.sendEmailVerificationOTP(_),a({title:"تم الإرسال بنجاح",description:"تم إرسال رمز التحقق إلى بريدك الإلكتروني"}),!0}catch(k){const E=k.message.includes("Email is already verified")?"البريد الإلكتروني مُفعل بالفعل":"حدث خطأ أثناء إرسال رمز التحقق";return a({variant:"destructive",title:"خطأ في الإرسال",description:E}),!1}},verifyEmail:async(_,k)=>{try{return await Se.verifyEmail(_,k),a({title:"تم التحقق بنجاح",description:"تم تأكيد بريدك الإلكتروني بنجاح"}),!0}catch{return a({variant:"destructive",title:"خطأ في التحقق",description:"رمز التحقق غير صحيح أو منتهي الصلاحية"}),!1}},registerWithEmailVerification:async _=>{try{const k=await Se.registerWithVerification(_);return localStorage.setItem("token",k.token),r(k.user),localStorage.setItem("user",JSON.stringify(k.user)),a({title:"تم إنشاء الحساب بنجاح",description:`مرحباً بك ${_.name}`}),!0}catch(k){const E=k.message.includes("Invalid or expired verification code")?"رمز التحقق غير صحيح أو منتهي الصلاحية":"حدث خطأ أثناء إنشاء الحساب";return a({variant:"destructive",title:"فشل إنشاء الحساب",description:E}),!1}},sendPasswordResetOTP:async _=>{try{return await Se.sendPasswordResetOTP(_),a({title:"تم الإرسال بنجاح",description:"تم إرسال رمز إعادة تعيين كلمة المرور إلى بريدك الإلكتروني"}),!0}catch(k){const E=k.message.includes("No user found")?"لا يوجد مستخدم بهذا البريد الإلكتروني":"حدث خطأ أثناء إرسال رمز إعادة التعيين";return a({variant:"destructive",title:"خطأ في الإرسال",description:E}),!1}},verifyPasswordResetOTP:async(_,k)=>{try{return await Se.verifyPasswordResetOTP(_,k),a({title:"تم التحقق بنجاح",description:"رمز التحقق صحيح، يمكنك الآن تغيير كلمة المرور"}),!0}catch{return a({variant:"destructive",title:"رمز غير صحيح",description:"رمز التحقق غير صحيح أو منتهي الصلاحية"}),!1}},resetPassword:async(_,k,E,O)=>{try{return await Se.resetPassword(_,k,E,O),a({title:"تم تغيير كلمة المرور بنجاح",description:"يمكنك الآن تسجيل الدخول بكلمة المرور الجديدة"}),!0}catch(R){const M=R.message.includes("Invalid or expired reset code")?"رمز التحقق غير صحيح أو منتهي الصلاحية":R.message.includes("password")?"كلمتا المرور غير متطابقتين أو ضعيفتان":"حدث خطأ أثناء تغيير كلمة المرور";return a({variant:"destructive",title:"خطأ في تغيير كلمة المرور",description:M}),!1}}};return n.jsx(u1.Provider,{value:P,children:e})},h1=u.createContext(),Xd=()=>u.useContext(h1),T3=({children:e})=>{const[t,r]=u.useState([]),{toast:s}=st();u.useEffect(()=>{const m=localStorage.getItem("cart");m&&r(JSON.parse(m))},[]),u.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const i=m=>{const h=t.findIndex(p=>p.id===m.id);if(h!==-1){const p=[...t];p[h].quantity+=m.quantity||1,r(p)}else r([...t,{...m,quantity:m.quantity||1}]);s({title:"تمت الإضافة إلى السلة",description:`تمت إضافة ${m.title} إلى سلة التسوق`})},a=m=>{r(t.filter(h=>h.id!==m)),s({title:"تمت الإزالة من السلة",description:"تم حذف المنتج من سلة التسوق"})},d={cart:t,addToCart:i,removeFromCart:a,updateQuantity:(m,h)=>{if(h<=0){a(m);return}const p=t.map(b=>b.id===m?{...b,quantity:h}:b);r(p)},clearCart:()=>{r([]),s({title:"تم تفريغ السلة",description:"تم حذف جميع المنتجات من سلة التسوق"})},getCartTotal:()=>t.reduce((m,h)=>m+h.price*h.quantity,0)};return n.jsx(h1.Provider,{value:d,children:e})};class Vp{listenForWhisper(t,r){return this.listen(".client-"+t,r)}notification(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}stopListeningForWhisper(t,r){return this.stopListening(".client-"+t,r)}}class m1{constructor(t){this.namespace=t}format(t){return[".","\\"].includes(t.charAt(0))?t.substring(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}setNamespace(t){this.namespace=t}}function R3(e){try{new e}catch(t){if(t instanceof Error&&t.message.includes("is not a constructor"))return!1}return!0}class zp extends Vp{constructor(t,r,s){super(),this.name=r,this.pusher=t,this.options=s,this.eventFormatter=new m1(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(t,r){return this.on(this.eventFormatter.format(t),r),this}listenToAll(t){return this.subscription.bind_global((r,s)=>{if(r.startsWith("pusher:"))return;let i=String(this.options.namespace??"").replace(/\./g,"\\"),a=r.startsWith(i)?r.substring(i.length+1):"."+r;t(a,s)}),this}stopListening(t,r){return r?this.subscription.unbind(this.eventFormatter.format(t),r):this.subscription.unbind(this.eventFormatter.format(t)),this}stopListeningToAll(t){return t?this.subscription.unbind_global(t):this.subscription.unbind_global(),this}subscribed(t){return this.on("pusher:subscription_succeeded",()=>{t()}),this}error(t){return this.on("pusher:subscription_error",r=>{t(r)}),this}on(t,r){return this.subscription.bind(t,r),this}}class f1 extends zp{whisper(t,r){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,r),this}}class A3 extends zp{whisper(t,r){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,r),this}}class O3 extends f1{here(t){return this.on("pusher:subscription_succeeded",r=>{t(Object.keys(r.members).map(s=>r.members[s]))}),this}joining(t){return this.on("pusher:member_added",r=>{t(r.info)}),this}whisper(t,r){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,r),this}leaving(t){return this.on("pusher:member_removed",r=>{t(r.info)}),this}}class p1 extends Vp{constructor(t,r,s){super(),this.events={},this.listeners={},this.name=r,this.socket=t,this.options=s,this.eventFormatter=new m1(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(t,r){return this.on(this.eventFormatter.format(t),r),this}stopListening(t,r){return this.unbindEvent(this.eventFormatter.format(t),r),this}subscribed(t){return this.on("connect",r=>{t(r)}),this}error(t){return this}on(t,r){return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=(s,i)=>{this.name===s&&this.listeners[t]&&this.listeners[t].forEach(a=>a(i))},this.socket.on(t,this.events[t])),this.listeners[t].push(r),this}unbind(){Object.keys(this.events).forEach(t=>{this.unbindEvent(t)})}unbindEvent(t,r){this.listeners[t]=this.listeners[t]||[],r&&(this.listeners[t]=this.listeners[t].filter(s=>s!==r)),(!r||this.listeners[t].length===0)&&(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}class x1 extends p1{whisper(t,r){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:r}),this}}class M3 extends x1{here(t){return this.on("presence:subscribed",r=>{t(r.map(s=>s.user_info))}),this}joining(t){return this.on("presence:joining",r=>t(r.user_info)),this}whisper(t,r){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:r}),this}leaving(t){return this.on("presence:leaving",r=>t(r.user_info)),this}}class sd extends Vp{subscribe(){}unsubscribe(){}listen(t,r){return this}listenToAll(t){return this}stopListening(t,r){return this}subscribed(t){return this}error(t){return this}on(t,r){return this}}class g1 extends sd{whisper(t,r){return this}}class $3 extends sd{whisper(t,r){return this}}class I3 extends g1{here(t){return this}joining(t){return this}whisper(t,r){return this}leaving(t){return this}}const v1=class y1{constructor(t){this.setOptions(t),this.connect()}setOptions(t){this.options={...y1._defaultOptions,...t,broadcaster:t.broadcaster};let r=this.csrfToken();r&&(this.options.auth.headers["X-CSRF-TOKEN"]=r,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=r),r=this.options.bearerToken,r&&(this.options.auth.headers.Authorization="Bearer "+r,this.options.userAuthentication.headers.Authorization="Bearer "+r)}csrfToken(){var t,r;return typeof window<"u"&&(t=window.Laravel)!=null&&t.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))??null:null}};v1._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let Bp=v1;class ec extends Bp{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(t,r,s){return this.channel(t).listen(r,s)}channel(t){return this.channels[t]||(this.channels[t]=new zp(this.pusher,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new f1(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}encryptedPrivateChannel(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new A3(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new O3(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"private-encrypted-"+t,"presence-"+t].forEach(r=>{this.leaveChannel(r)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class D3 extends Bp{constructor(){super(...arguments),this.channels={}}connect(){let t=this.getSocketIO();this.socket=t(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(r=>{r.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(t,r,s){return this.channel(t).listen(r,s)}channel(t){return this.channels[t]||(this.channels[t]=new p1(this.socket,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new x1(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new M3(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"presence-"+t].forEach(r=>{this.leaveChannel(r)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class Jv extends Bp{constructor(){super(...arguments),this.channels={}}connect(){}listen(t,r,s){return new sd}channel(t){return new sd}privateChannel(t){return new g1}encryptedPrivateChannel(t){return new $3}presenceChannel(t){return new I3}leave(t){}leaveChannel(t){}socketId(){return"fake-socket-id"}disconnect(){}}class L3{constructor(t){this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(t){return this.connector.channel(t)}connect(){if(this.options.broadcaster==="reverb")this.connector=new ec({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new ec(this.options);else if(this.options.broadcaster==="ably")this.connector=new ec({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new D3(this.options);else if(this.options.broadcaster==="null")this.connector=new Jv(this.options);else if(typeof this.options.broadcaster=="function"&&R3(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(t){return this.connector.presenceChannel(t)}leave(t){this.connector.leave(t)}leaveChannel(t){this.connector.leaveChannel(t)}leaveAllChannels(){for(const t in this.connector.channels)this.leaveChannel(t)}listen(t,r,s){return this.connector.listen(t,r,s)}private(t){return this.connector.privateChannel(t)}encryptedPrivate(t){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(t);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(t){return t instanceof ec||t instanceof Jv}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((t,r)=>{this.socketId()&&t.headers.set("X-Socket-ID",this.socketId()),r()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(t=>(this.socketId()&&(t.headers["X-Socket-Id"]=this.socketId()),t))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((t,r,s)=>{this.socketId()&&s.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",t=>{t.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var b1={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(e,t){(function(s,i){e.exports=i()})(window,function(){return function(r){var s={};function i(a){if(s[a])return s[a].exports;var o=s[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=s,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:l})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(o&1&&(a=i(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var c in a)i.d(l,c,(function(d){return a[d]}).bind(null,c));return l},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=2)}([function(r,s,i){var a=this&&this.__extends||function(){var f=function(w,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var N in y)y.hasOwnProperty(N)&&(x[N]=y[N])},f(w,g)};return function(w,g){f(w,g);function x(){this.constructor=w}w.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=256,l=function(){function f(w){w===void 0&&(w="="),this._paddingCharacter=w}return f.prototype.encodedLength=function(w){return this._paddingCharacter?(w+2)/3*4|0:(w*8+5)/6|0},f.prototype.encode=function(w){for(var g="",x=0;x<w.length-2;x+=3){var y=w[x]<<16|w[x+1]<<8|w[x+2];g+=this._encodeByte(y>>>3*6&63),g+=this._encodeByte(y>>>2*6&63),g+=this._encodeByte(y>>>1*6&63),g+=this._encodeByte(y>>>0*6&63)}var N=w.length-x;if(N>0){var y=w[x]<<16|(N===2?w[x+1]<<8:0);g+=this._encodeByte(y>>>3*6&63),g+=this._encodeByte(y>>>2*6&63),N===2?g+=this._encodeByte(y>>>1*6&63):g+=this._paddingCharacter||"",g+=this._paddingCharacter||""}return g},f.prototype.maxDecodedLength=function(w){return this._paddingCharacter?w/4*3|0:(w*6+7)/8|0},f.prototype.decodedLength=function(w){return this.maxDecodedLength(w.length-this._getPaddingLength(w))},f.prototype.decode=function(w){if(w.length===0)return new Uint8Array(0);for(var g=this._getPaddingLength(w),x=w.length-g,y=new Uint8Array(this.maxDecodedLength(x)),N=0,P=0,_=0,k=0,E=0,O=0,R=0;P<x-4;P+=4)k=this._decodeChar(w.charCodeAt(P+0)),E=this._decodeChar(w.charCodeAt(P+1)),O=this._decodeChar(w.charCodeAt(P+2)),R=this._decodeChar(w.charCodeAt(P+3)),y[N++]=k<<2|E>>>4,y[N++]=E<<4|O>>>2,y[N++]=O<<6|R,_|=k&o,_|=E&o,_|=O&o,_|=R&o;if(P<x-1&&(k=this._decodeChar(w.charCodeAt(P)),E=this._decodeChar(w.charCodeAt(P+1)),y[N++]=k<<2|E>>>4,_|=k&o,_|=E&o),P<x-2&&(O=this._decodeChar(w.charCodeAt(P+2)),y[N++]=E<<4|O>>>2,_|=O&o),P<x-3&&(R=this._decodeChar(w.charCodeAt(P+3)),y[N++]=O<<6|R,_|=R&o),_!==0)throw new Error("Base64Coder: incorrect characters for decoding");return y},f.prototype._encodeByte=function(w){var g=w;return g+=65,g+=25-w>>>8&0-65-26+97,g+=51-w>>>8&26-97-52+48,g+=61-w>>>8&52-48-62+43,g+=62-w>>>8&62-43-63+47,String.fromCharCode(g)},f.prototype._decodeChar=function(w){var g=o;return g+=(42-w&w-44)>>>8&-o+w-43+62,g+=(46-w&w-48)>>>8&-o+w-47+63,g+=(47-w&w-58)>>>8&-o+w-48+52,g+=(64-w&w-91)>>>8&-o+w-65+0,g+=(96-w&w-123)>>>8&-o+w-97+26,g},f.prototype._getPaddingLength=function(w){var g=0;if(this._paddingCharacter){for(var x=w.length-1;x>=0&&w[x]===this._paddingCharacter;x--)g++;if(w.length<4||g>2)throw new Error("Base64Coder: incorrect padding")}return g},f}();s.Coder=l;var c=new l;function d(f){return c.encode(f)}s.encode=d;function m(f){return c.decode(f)}s.decode=m;var h=function(f){a(w,f);function w(){return f!==null&&f.apply(this,arguments)||this}return w.prototype._encodeByte=function(g){var x=g;return x+=65,x+=25-g>>>8&0-65-26+97,x+=51-g>>>8&26-97-52+48,x+=61-g>>>8&52-48-62+45,x+=62-g>>>8&62-45-63+95,String.fromCharCode(x)},w.prototype._decodeChar=function(g){var x=o;return x+=(44-g&g-46)>>>8&-o+g-45+62,x+=(94-g&g-96)>>>8&-o+g-95+63,x+=(47-g&g-58)>>>8&-o+g-48+52,x+=(64-g&g-91)>>>8&-o+g-65+0,x+=(96-g&g-123)>>>8&-o+g-97+26,x},w}(l);s.URLSafeCoder=h;var p=new h;function b(f){return p.encode(f)}s.encodeURLSafe=b;function j(f){return p.decode(f)}s.decodeURLSafe=j,s.encodedLength=function(f){return c.encodedLength(f)},s.maxDecodedLength=function(f){return c.maxDecodedLength(f)},s.decodedLength=function(f){return c.decodedLength(f)}},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a="utf8: invalid string",o="utf8: invalid source encoding";function l(m){for(var h=new Uint8Array(c(m)),p=0,b=0;b<m.length;b++){var j=m.charCodeAt(b);j<128?h[p++]=j:j<2048?(h[p++]=192|j>>6,h[p++]=128|j&63):j<55296?(h[p++]=224|j>>12,h[p++]=128|j>>6&63,h[p++]=128|j&63):(b++,j=(j&1023)<<10,j|=m.charCodeAt(b)&1023,j+=65536,h[p++]=240|j>>18,h[p++]=128|j>>12&63,h[p++]=128|j>>6&63,h[p++]=128|j&63)}return h}s.encode=l;function c(m){for(var h=0,p=0;p<m.length;p++){var b=m.charCodeAt(p);if(b<128)h+=1;else if(b<2048)h+=2;else if(b<55296)h+=3;else if(b<=57343){if(p>=m.length-1)throw new Error(a);p++,h+=4}else throw new Error(a)}return h}s.encodedLength=c;function d(m){for(var h=[],p=0;p<m.length;p++){var b=m[p];if(b&128){var j=void 0;if(b<224){if(p>=m.length)throw new Error(o);var f=m[++p];if((f&192)!==128)throw new Error(o);b=(b&31)<<6|f&63,j=128}else if(b<240){if(p>=m.length-1)throw new Error(o);var f=m[++p],w=m[++p];if((f&192)!==128||(w&192)!==128)throw new Error(o);b=(b&15)<<12|(f&63)<<6|w&63,j=2048}else if(b<248){if(p>=m.length-2)throw new Error(o);var f=m[++p],w=m[++p],g=m[++p];if((f&192)!==128||(w&192)!==128||(g&192)!==128)throw new Error(o);b=(b&15)<<18|(f&63)<<12|(w&63)<<6|g&63,j=65536}else throw new Error(o);if(b<j||b>=55296&&b<=57343)throw new Error(o);if(b>=65536){if(b>1114111)throw new Error(o);b-=65536,h.push(String.fromCharCode(55296|b>>10)),b=56320|b&1023}}h.push(String.fromCharCode(b))}return h.join("")}s.decode=d},function(r,s,i){r.exports=i(3).default},function(r,s,i){i.r(s);class a{constructor(v,S){this.lastId=0,this.prefix=v,this.name=S}create(v){this.lastId++;var S=this.lastId,A=this.prefix+S,I=this.name+"["+S+"]",Y=!1,le=function(){Y||(v.apply(null,arguments),Y=!0)};return this[S]=le,{number:S,id:A,name:I,callback:le}}remove(v){delete this[v.number]}}var o=new a("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},c=l;class d{constructor(v){this.options=v,this.receivers=v.receivers||o,this.loading={}}load(v,S,A){var I=this;if(I.loading[v]&&I.loading[v].length>0)I.loading[v].push(A);else{I.loading[v]=[A];var Y=Te.createScriptRequest(I.getPath(v,S)),le=I.receivers.create(function(we){if(I.receivers.remove(le),I.loading[v]){var Ee=I.loading[v];delete I.loading[v];for(var Le=function(gt){gt||Y.cleanup()},Ue=0;Ue<Ee.length;Ue++)Ee[Ue](we,Le)}});Y.send(le)}}getRoot(v){var S,A=Te.getDocument().location.protocol;return v&&v.useTLS||A==="https:"?S=this.options.cdn_https:S=this.options.cdn_http,S.replace(/\/*$/,"")+"/"+this.options.version}getPath(v,S){return this.getRoot(S)+"/"+v+this.options.suffix+".js"}}var m=new a("_pusher_dependencies","Pusher.DependenciesReceivers"),h=new d({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:m});const p={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var j={buildLogSuffix:function(C){const v="See:",S=p.urls[C];if(!S)return"";let A;return S.fullUrl?A=S.fullUrl:S.path&&(A=p.baseUrl+S.path),A?`${v} ${A}`:""}},f;(function(C){C.UserAuthentication="user-authentication",C.ChannelAuthorization="channel-authorization"})(f||(f={}));class w extends Error{constructor(v){super(v),Object.setPrototypeOf(this,new.target.prototype)}}class g extends Error{constructor(v){super(v),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(v){super(v),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(v){super(v),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(v){super(v),Object.setPrototypeOf(this,new.target.prototype)}}class P extends Error{constructor(v){super(v),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(v){super(v),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(v){super(v),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(v,S){super(S),this.status=v,Object.setPrototypeOf(this,new.target.prototype)}}var R=function(C,v,S,A,I){const Y=Te.createXHR();Y.open("POST",S.endpoint,!0),Y.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var le in S.headers)Y.setRequestHeader(le,S.headers[le]);if(S.headersProvider!=null){let we=S.headersProvider();for(var le in we)Y.setRequestHeader(le,we[le])}return Y.onreadystatechange=function(){if(Y.readyState===4)if(Y.status===200){let we,Ee=!1;try{we=JSON.parse(Y.responseText),Ee=!0}catch{I(new E(200,`JSON returned from ${A.toString()} endpoint was invalid, yet status code was 200. Data was: ${Y.responseText}`),null)}Ee&&I(null,we)}else{let we="";switch(A){case f.UserAuthentication:we=j.buildLogSuffix("authenticationEndpoint");break;case f.ChannelAuthorization:we=`Clients must be authorized to join private or presence channels. ${j.buildLogSuffix("authorizationEndpoint")}`;break}I(new E(Y.status,`Unable to retrieve auth string from ${A.toString()} endpoint - received status: ${Y.status} from ${S.endpoint}. ${we}`),null)}},Y.send(v),Y};function M(C){return U(G(C))}var L=String.fromCharCode,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=function(C){var v=C.charCodeAt(0);return v<128?C:v<2048?L(192|v>>>6)+L(128|v&63):L(224|v>>>12&15)+L(128|v>>>6&63)+L(128|v&63)},G=function(C){return C.replace(/[^\x00-\x7F]/g,B)},z=function(C){var v=[0,2,1][C.length%3],S=C.charCodeAt(0)<<16|(C.length>1?C.charCodeAt(1):0)<<8|(C.length>2?C.charCodeAt(2):0),A=[D.charAt(S>>>18),D.charAt(S>>>12&63),v>=2?"=":D.charAt(S>>>6&63),v>=1?"=":D.charAt(S&63)];return A.join("")},U=window.btoa||function(C){return C.replace(/[\s\S]{1,3}/g,z)};class ${constructor(v,S,A,I){this.clear=S,this.timer=v(()=>{this.timer&&(this.timer=I(this.timer))},A)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var F=$;function H(C){window.clearTimeout(C)}function W(C){window.clearInterval(C)}class T extends F{constructor(v,S){super(setTimeout,H,v,function(A){return S(),null})}}class q extends F{constructor(v,S){super(setInterval,W,v,function(A){return S(),A})}}var re={now(){return Date.now?Date.now():new Date().valueOf()},defer(C){return new T(0,C)},method(C,...v){var S=Array.prototype.slice.call(arguments,1);return function(A){return A[C].apply(A,S.concat(arguments))}}},Q=re;function de(C,...v){for(var S=0;S<v.length;S++){var A=v[S];for(var I in A)A[I]&&A[I].constructor&&A[I].constructor===Object?C[I]=de(C[I]||{},A[I]):C[I]=A[I]}return C}function X(){for(var C=["Pusher"],v=0;v<arguments.length;v++)typeof arguments[v]=="string"?C.push(arguments[v]):C.push(Li(arguments[v]));return C.join(" : ")}function K(C,v){var S=Array.prototype.indexOf;if(C===null)return-1;if(S&&C.indexOf===S)return C.indexOf(v);for(var A=0,I=C.length;A<I;A++)if(C[A]===v)return A;return-1}function se(C,v){for(var S in C)Object.prototype.hasOwnProperty.call(C,S)&&v(C[S],S,C)}function ue(C){var v=[];return se(C,function(S,A){v.push(A)}),v}function ve(C){var v=[];return se(C,function(S){v.push(S)}),v}function ke(C,v,S){for(var A=0;A<C.length;A++)v.call(S||window,C[A],A,C)}function ce(C,v){for(var S=[],A=0;A<C.length;A++)S.push(v(C[A],A,C,S));return S}function Ie(C,v){var S={};return se(C,function(A,I){S[I]=v(A)}),S}function Be(C,v){v=v||function(I){return!!I};for(var S=[],A=0;A<C.length;A++)v(C[A],A,C,S)&&S.push(C[A]);return S}function ut(C,v){var S={};return se(C,function(A,I){(v&&v(A,I,C,S)||A)&&(S[I]=A)}),S}function xt(C){var v=[];return se(C,function(S,A){v.push([A,S])}),v}function gr(C,v){for(var S=0;S<C.length;S++)if(v(C[S],S,C))return!0;return!1}function _r(C,v){for(var S=0;S<C.length;S++)if(!v(C[S],S,C))return!1;return!0}function qr(C){return Ie(C,function(v){return typeof v=="object"&&(v=Li(v)),encodeURIComponent(M(v.toString()))})}function Su(C){var v=ut(C,function(A){return A!==void 0}),S=ce(xt(qr(v)),Q.method("join","=")).join("&");return S}function Sl(C){var v=[],S=[];return function A(I,Y){var le,we,Ee;switch(typeof I){case"object":if(!I)return null;for(le=0;le<v.length;le+=1)if(v[le]===I)return{$ref:S[le]};if(v.push(I),S.push(Y),Object.prototype.toString.apply(I)==="[object Array]")for(Ee=[],le=0;le<I.length;le+=1)Ee[le]=A(I[le],Y+"["+le+"]");else{Ee={};for(we in I)Object.prototype.hasOwnProperty.call(I,we)&&(Ee[we]=A(I[we],Y+"["+JSON.stringify(we)+"]"))}return Ee;case"number":case"string":case"boolean":return I}}(C,"$")}function Li(C){try{return JSON.stringify(C)}catch{return JSON.stringify(Sl(C))}}class Cu{constructor(){this.globalLog=v=>{window.console&&window.console.log&&window.console.log(v)}}debug(...v){this.log(this.globalLog,v)}warn(...v){this.log(this.globalLogWarn,v)}error(...v){this.log(this.globalLogError,v)}globalLogWarn(v){window.console&&window.console.warn?window.console.warn(v):this.globalLog(v)}globalLogError(v){window.console&&window.console.error?window.console.error(v):this.globalLogWarn(v)}log(v,...S){var A=X.apply(this,arguments);Lu.log?Lu.log(A):Lu.logToConsole&&v.bind(this)(A)}}var Ye=new Cu,Pu=function(C,v,S,A,I){(S.headers!==void 0||S.headersProvider!=null)&&Ye.warn(`To send headers with the ${A.toString()} request, you must use AJAX, rather than JSONP.`);var Y=C.nextAuthCallbackID.toString();C.nextAuthCallbackID++;var le=C.getDocument(),we=le.createElement("script");C.auth_callbacks[Y]=function(Ue){I(null,Ue)};var Ee="Pusher.auth_callbacks['"+Y+"']";we.src=S.endpoint+"?callback="+encodeURIComponent(Ee)+"&"+v;var Le=le.getElementsByTagName("head")[0]||le.documentElement;Le.insertBefore(we,Le.firstChild)},ku=Pu;class Eu{constructor(v){this.src=v}send(v){var S=this,A="Error loading "+S.src;S.script=document.createElement("script"),S.script.id=v.id,S.script.src=S.src,S.script.type="text/javascript",S.script.charset="UTF-8",S.script.addEventListener?(S.script.onerror=function(){v.callback(A)},S.script.onload=function(){v.callback(null)}):S.script.onreadystatechange=function(){(S.script.readyState==="loaded"||S.script.readyState==="complete")&&v.callback(null)},S.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(S.errorScript=document.createElement("script"),S.errorScript.id=v.id+"_error",S.errorScript.text=v.name+"('"+A+"');",S.script.async=S.errorScript.async=!1):S.script.async=!0;var I=document.getElementsByTagName("head")[0];I.insertBefore(S.script,I.firstChild),S.errorScript&&I.insertBefore(S.errorScript,S.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class _u{constructor(v,S){this.url=v,this.data=S}send(v){if(!this.request){var S=Su(this.data),A=this.url+"/"+v.number+"?"+S;this.request=Te.createScriptRequest(A),this.request.send(v)}}cleanup(){this.request&&this.request.cleanup()}}var Tu=function(C,v){return function(S,A){var I="http"+(v?"s":"")+"://",Y=I+(C.host||C.options.host)+C.options.path,le=Te.createJSONPRequest(Y,S),we=Te.ScriptReceivers.create(function(Ee,Le){o.remove(we),le.cleanup(),Le&&Le.host&&(C.host=Le.host),A&&A(Ee,Le)});le.send(we)}},Cl={name:"jsonp",getAgent:Tu},Pl=Cl;function Fi(C,v,S){var A=C+(v.useTLS?"s":""),I=v.useTLS?v.hostTLS:v.hostNonTLS;return A+"://"+I+S}function Vi(C,v){var S="/app/"+C,A="?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(v?"&"+v:"");return S+A}var kl={getInitial:function(C,v){var S=(v.httpPath||"")+Vi(C,"flash=false");return Fi("ws",v,S)}},El={getInitial:function(C,v){var S=(v.httpPath||"/pusher")+Vi(C);return Fi("http",v,S)}},J={getInitial:function(C,v){return Fi("http",v,v.httpPath||"/pusher")},getPath:function(C,v){return Vi(C)}};class Ce{constructor(){this._callbacks={}}get(v){return this._callbacks[qe(v)]}add(v,S,A){var I=qe(v);this._callbacks[I]=this._callbacks[I]||[],this._callbacks[I].push({fn:S,context:A})}remove(v,S,A){if(!v&&!S&&!A){this._callbacks={};return}var I=v?[qe(v)]:ue(this._callbacks);S||A?this.removeCallback(I,S,A):this.removeAllCallbacks(I)}removeCallback(v,S,A){ke(v,function(I){this._callbacks[I]=Be(this._callbacks[I]||[],function(Y){return S&&S!==Y.fn||A&&A!==Y.context}),this._callbacks[I].length===0&&delete this._callbacks[I]},this)}removeAllCallbacks(v){ke(v,function(S){delete this._callbacks[S]},this)}}function qe(C){return"_"+C}class bt{constructor(v){this.callbacks=new Ce,this.global_callbacks=[],this.failThrough=v}bind(v,S,A){return this.callbacks.add(v,S,A),this}bind_global(v){return this.global_callbacks.push(v),this}unbind(v,S,A){return this.callbacks.remove(v,S,A),this}unbind_global(v){return v?(this.global_callbacks=Be(this.global_callbacks||[],S=>S!==v),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(v,S,A){for(var I=0;I<this.global_callbacks.length;I++)this.global_callbacks[I](v,S);var Y=this.callbacks.get(v),le=[];if(A?le.push(S,A):S&&le.push(S),Y&&Y.length>0)for(var I=0;I<Y.length;I++)Y[I].fn.apply(Y[I].context||window,le);else this.failThrough&&this.failThrough(v,S);return this}}class ht extends bt{constructor(v,S,A,I,Y){super(),this.initialize=Te.transportConnectionInitializer,this.hooks=v,this.name=S,this.priority=A,this.key=I,this.options=Y,this.state="new",this.timeline=Y.timeline,this.activityTimeout=Y.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var v=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(v,this.options)}catch(S){return Q.defer(()=>{this.onError(S),this.changeState("closed")}),!1}return this.bindListeners(),Ye.debug("Connecting",{transport:this.name,url:v}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(v){return this.state==="open"?(Q.defer(()=>{this.socket&&this.socket.send(v)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(v){this.emit("error",{type:"WebSocketError",error:v}),this.timeline.error(this.buildTimelineMessage({error:v.toString()}))}onClose(v){v?this.changeState("closed",{code:v.code,reason:v.reason,wasClean:v.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(v){this.emit("message",v)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=v=>{this.onError(v)},this.socket.onclose=v=>{this.onClose(v)},this.socket.onmessage=v=>{this.onMessage(v)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(v,S){this.state=v,this.timeline.info(this.buildTimelineMessage({state:v,params:S})),this.emit(v,S)}buildTimelineMessage(v){return de({cid:this.id},v)}}class Mn{constructor(v){this.hooks=v}isSupported(v){return this.hooks.isSupported(v)}createConnection(v,S,A,I){return new ht(this.hooks,v,S,A,I)}}var _l=new Mn({urls:kl,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Te.getWebSocketAPI()},isSupported:function(){return!!Te.getWebSocketAPI()},getSocket:function(C){return Te.createWebSocket(C)}}),Kr={urls:El,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Qx=de({getSocket:function(C){return Te.HTTPFactory.createStreamingSocket(C)}},Kr),Zx=de({getSocket:function(C){return Te.HTTPFactory.createPollingSocket(C)}},Kr),eg={isSupported:function(){return Te.isXHRSupported()}},mk=new Mn(de({},Qx,eg)),fk=new Mn(de({},Zx,eg)),pk={ws:_l,xhr_streaming:mk,xhr_polling:fk},Tl=pk,xk=new Mn({file:"sockjs",urls:J,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(C,v){return new window.SockJS(C,null,{js_path:h.getPath("sockjs",{useTLS:v.useTLS}),ignore_null_origin:v.ignoreNullOrigin})},beforeOpen:function(C,v){C.send(JSON.stringify({path:v}))}}),tg={isSupported:function(C){var v=Te.isXDRSupported(C.useTLS);return v}},gk=new Mn(de({},Qx,tg)),vk=new Mn(de({},Zx,tg));Tl.xdr_streaming=gk,Tl.xdr_polling=vk,Tl.sockjs=xk;var yk=Tl;class bk extends bt{constructor(){super();var v=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){v.emit("online")},!1),window.addEventListener("offline",function(){v.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var wk=new bk;class jk{constructor(v,S,A){this.manager=v,this.transport=S,this.minPingDelay=A.minPingDelay,this.maxPingDelay=A.maxPingDelay,this.pingDelay=void 0}createConnection(v,S,A,I){I=de({},I,{activityTimeout:this.pingDelay});var Y=this.transport.createConnection(v,S,A,I),le=null,we=function(){Y.unbind("open",we),Y.bind("closed",Ee),le=Q.now()},Ee=Le=>{if(Y.unbind("closed",Ee),Le.code===1002||Le.code===1003)this.manager.reportDeath();else if(!Le.wasClean&&le){var Ue=Q.now()-le;Ue<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Ue/2,this.minPingDelay))}};return Y.bind("open",we),Y}isSupported(v){return this.manager.isAlive()&&this.transport.isSupported(v)}}const rg={decodeMessage:function(C){try{var v=JSON.parse(C.data),S=v.data;if(typeof S=="string")try{S=JSON.parse(v.data)}catch{}var A={event:v.event,channel:v.channel,data:S};return v.user_id&&(A.user_id=v.user_id),A}catch(I){throw{type:"MessageParseError",error:I,data:C.data}}},encodeMessage:function(C){return JSON.stringify(C)},processHandshake:function(C){var v=rg.decodeMessage(C);if(v.event==="pusher:connection_established"){if(!v.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:v.data.socket_id,activityTimeout:v.data.activity_timeout*1e3}}else{if(v.event==="pusher:error")return{action:this.getCloseAction(v.data),error:this.getCloseError(v.data)};throw"Invalid handshake"}},getCloseAction:function(C){return C.code<4e3?C.code>=1002&&C.code<=1004?"backoff":null:C.code===4e3?"tls_only":C.code<4100?"refused":C.code<4200?"backoff":C.code<4300?"retry":"refused"},getCloseError:function(C){return C.code!==1e3&&C.code!==1001?{type:"PusherError",data:{code:C.code,message:C.reason||C.message}}:null}};var Ys=rg;class Nk extends bt{constructor(v,S){super(),this.id=v,this.transport=S,this.activityTimeout=S.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(v){return this.transport.send(v)}send_event(v,S,A){var I={event:v,data:S};return A&&(I.channel=A),Ye.debug("Event sent",I),this.send(Ys.encodeMessage(I))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var v={message:A=>{var I;try{I=Ys.decodeMessage(A)}catch(Y){this.emit("error",{type:"MessageParseError",error:Y,data:A.data})}if(I!==void 0){switch(Ye.debug("Event recd",I),I.event){case"pusher:error":this.emit("error",{type:"PusherError",data:I.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",I)}},activity:()=>{this.emit("activity")},error:A=>{this.emit("error",A)},closed:A=>{S(),A&&A.code&&this.handleCloseEvent(A),this.transport=null,this.emit("closed")}},S=()=>{se(v,(A,I)=>{this.transport.unbind(I,A)})};se(v,(A,I)=>{this.transport.bind(I,A)})}handleCloseEvent(v){var S=Ys.getCloseAction(v),A=Ys.getCloseError(v);A&&this.emit("error",A),S&&this.emit(S,{action:S,error:A})}}class Sk{constructor(v,S){this.transport=v,this.callback=S,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=v=>{this.unbindListeners();var S;try{S=Ys.processHandshake(v)}catch(A){this.finish("error",{error:A}),this.transport.close();return}S.action==="connected"?this.finish("connected",{connection:new Nk(S.id,this.transport),activityTimeout:S.activityTimeout}):(this.finish(S.action,{error:S.error}),this.transport.close())},this.onClosed=v=>{this.unbindListeners();var S=Ys.getCloseAction(v)||"backoff",A=Ys.getCloseError(v);this.finish(S,{error:A})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(v,S){this.callback(de({transport:this.transport,action:v},S))}}class Ck{constructor(v,S){this.timeline=v,this.options=S||{}}send(v,S){this.timeline.isEmpty()||this.timeline.send(Te.TimelineTransport.getAgent(this,v),S)}}class Ru extends bt{constructor(v,S){super(function(A,I){Ye.debug("No callbacks on "+v+" for "+A)}),this.name=v,this.pusher=S,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(v,S){return S(null,{auth:""})}trigger(v,S){if(v.indexOf("client-")!==0)throw new w("Event '"+v+"' does not start with 'client-'");if(!this.subscribed){var A=j.buildLogSuffix("triggeringClientEvents");Ye.warn(`Client event triggered before channel 'subscription_succeeded' event . ${A}`)}return this.pusher.send_event(v,S,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(v){var S=v.event,A=v.data;if(S==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(v);else if(S==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(v);else if(S.indexOf("pusher_internal:")!==0){var I={};this.emit(S,A,I)}}handleSubscriptionSucceededEvent(v){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",v.data)}handleSubscriptionCountEvent(v){v.data.subscription_count&&(this.subscriptionCount=v.data.subscription_count),this.emit("pusher:subscription_count",v.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(v,S)=>{v?(this.subscriptionPending=!1,Ye.error(v.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:v.message},v instanceof E?{status:v.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:S.auth,channel_data:S.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Au extends Ru{authorize(v,S){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:v},S)}}class Pk{constructor(){this.reset()}get(v){return Object.prototype.hasOwnProperty.call(this.members,v)?{id:v,info:this.members[v]}:null}each(v){se(this.members,(S,A)=>{v(this.get(A))})}setMyID(v){this.myID=v}onSubscription(v){this.members=v.presence.hash,this.count=v.presence.count,this.me=this.get(this.myID)}addMember(v){return this.get(v.user_id)===null&&this.count++,this.members[v.user_id]=v.user_info,this.get(v.user_id)}removeMember(v){var S=this.get(v.user_id);return S&&(delete this.members[v.user_id],this.count--),S}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var kk=function(C,v,S,A){function I(Y){return Y instanceof S?Y:new S(function(le){le(Y)})}return new(S||(S=Promise))(function(Y,le){function we(Ue){try{Le(A.next(Ue))}catch(gt){le(gt)}}function Ee(Ue){try{Le(A.throw(Ue))}catch(gt){le(gt)}}function Le(Ue){Ue.done?Y(Ue.value):I(Ue.value).then(we,Ee)}Le((A=A.apply(C,v||[])).next())})};class Ek extends Au{constructor(v,S){super(v,S),this.members=new Pk}authorize(v,S){super.authorize(v,(A,I)=>kk(this,void 0,void 0,function*(){if(!A)if(I=I,I.channel_data!=null){var Y=JSON.parse(I.channel_data);this.members.setMyID(Y.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let le=j.buildLogSuffix("authorizationEndpoint");Ye.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${le}, or the user should be signed in.`),S("Invalid auth response");return}S(A,I)}))}handleEvent(v){var S=v.event;if(S.indexOf("pusher_internal:")===0)this.handleInternalEvent(v);else{var A=v.data,I={};v.user_id&&(I.user_id=v.user_id),this.emit(S,A,I)}}handleInternalEvent(v){var S=v.event,A=v.data;switch(S){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(v);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(v);break;case"pusher_internal:member_added":var I=this.members.addMember(A);this.emit("pusher:member_added",I);break;case"pusher_internal:member_removed":var Y=this.members.removeMember(A);Y&&this.emit("pusher:member_removed",Y);break}}handleSubscriptionSucceededEvent(v){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(v.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var _k=i(1),Ou=i(0);class Tk extends Au{constructor(v,S,A){super(v,S),this.key=null,this.nacl=A}authorize(v,S){super.authorize(v,(A,I)=>{if(A){S(A,I);return}let Y=I.shared_secret;if(!Y){S(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Ou.decode)(Y),delete I.shared_secret,S(null,I)})}trigger(v,S){throw new P("Client events are not currently supported for encrypted channels")}handleEvent(v){var S=v.event,A=v.data;if(S.indexOf("pusher_internal:")===0||S.indexOf("pusher:")===0){super.handleEvent(v);return}this.handleEncryptedEvent(S,A)}handleEncryptedEvent(v,S){if(!this.key){Ye.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!S.ciphertext||!S.nonce){Ye.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+S);return}let A=Object(Ou.decode)(S.ciphertext);if(A.length<this.nacl.secretbox.overheadLength){Ye.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${A.length}`);return}let I=Object(Ou.decode)(S.nonce);if(I.length<this.nacl.secretbox.nonceLength){Ye.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${I.length}`);return}let Y=this.nacl.secretbox.open(A,I,this.key);if(Y===null){Ye.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(le,we)=>{if(le){Ye.error(`Failed to make a request to the authEndpoint: ${we}. Unable to fetch new key, so dropping encrypted event`);return}if(Y=this.nacl.secretbox.open(A,I,this.key),Y===null){Ye.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(v,this.getDataToEmit(Y))});return}this.emit(v,this.getDataToEmit(Y))}getDataToEmit(v){let S=Object(_k.decode)(v);try{return JSON.parse(S)}catch{return S}}}class Rk extends bt{constructor(v,S){super(),this.state="initialized",this.connection=null,this.key=v,this.options=S,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var A=Te.getNetwork();A.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),A.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(v){return this.connection?this.connection.send(v):!1}send_event(v,S,A){return this.connection?this.connection.send_event(v,S,A):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var v=(S,A)=>{S?this.runner=this.strategy.connect(0,v):A.action==="error"?(this.emit("error",{type:"HandshakeError",error:A.error}),this.timeline.error({handshakeError:A.error})):(this.abortConnecting(),this.handshakeCallbacks[A.action](A))};this.runner=this.strategy.connect(0,v)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var v=this.abandonConnection();v.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(v){this.timeline.info({action:"retry",delay:v}),v>0&&this.emit("connecting_in",Math.round(v/1e3)),this.retryTimer=new T(v||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new T(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new T(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new T(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(v){return de({},v,{message:S=>{this.resetActivityCheck(),this.emit("message",S)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:S=>{this.emit("error",S)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(v){return de({},v,{connected:S=>{this.activityTimeout=Math.min(this.options.activityTimeout,S.activityTimeout,S.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(S.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let v=S=>A=>{A.error&&this.emit("error",{type:"WebSocketError",error:A.error}),S(A)};return{tls_only:v(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:v(()=>{this.disconnect()}),backoff:v(()=>{this.retryIn(1e3)}),retry:v(()=>{this.retryIn(0)})}}setConnection(v){this.connection=v;for(var S in this.connectionCallbacks)this.connection.bind(S,this.connectionCallbacks[S]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var v in this.connectionCallbacks)this.connection.unbind(v,this.connectionCallbacks[v]);var S=this.connection;return this.connection=null,S}}updateState(v,S){var A=this.state;if(this.state=v,A!==v){var I=v;I==="connected"&&(I+=" with new socket ID "+S.socket_id),Ye.debug("State changed",A+" -> "+I),this.timeline.info({state:v,params:S}),this.emit("state_change",{previous:A,current:v}),this.emit(v,S)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Ak{constructor(){this.channels={}}add(v,S){return this.channels[v]||(this.channels[v]=Ok(v,S)),this.channels[v]}all(){return ve(this.channels)}find(v){return this.channels[v]}remove(v){var S=this.channels[v];return delete this.channels[v],S}disconnect(){se(this.channels,function(v){v.disconnect()})}}function Ok(C,v){if(C.indexOf("private-encrypted-")===0){if(v.config.nacl)return $n.createEncryptedChannel(C,v,v.config.nacl);let S="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",A=j.buildLogSuffix("encryptedChannelSupport");throw new P(`${S}. ${A}`)}else{if(C.indexOf("private-")===0)return $n.createPrivateChannel(C,v);if(C.indexOf("presence-")===0)return $n.createPresenceChannel(C,v);if(C.indexOf("#")===0)throw new g('Cannot create a channel with name "'+C+'".');return $n.createChannel(C,v)}}var Mk={createChannels(){return new Ak},createConnectionManager(C,v){return new Rk(C,v)},createChannel(C,v){return new Ru(C,v)},createPrivateChannel(C,v){return new Au(C,v)},createPresenceChannel(C,v){return new Ek(C,v)},createEncryptedChannel(C,v,S){return new Tk(C,v,S)},createTimelineSender(C,v){return new Ck(C,v)},createHandshake(C,v){return new Sk(C,v)},createAssistantToTheTransportManager(C,v,S){return new jk(C,v,S)}},$n=Mk;class ng{constructor(v){this.options=v||{},this.livesLeft=this.options.lives||1/0}getAssistant(v){return $n.createAssistantToTheTransportManager(this,v,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Js{constructor(v,S){this.strategies=v,this.loop=!!S.loop,this.failFast=!!S.failFast,this.timeout=S.timeout,this.timeoutLimit=S.timeoutLimit}isSupported(){return gr(this.strategies,Q.method("isSupported"))}connect(v,S){var A=this.strategies,I=0,Y=this.timeout,le=null,we=(Ee,Le)=>{Le?S(null,Le):(I=I+1,this.loop&&(I=I%A.length),I<A.length?(Y&&(Y=Y*2,this.timeoutLimit&&(Y=Math.min(Y,this.timeoutLimit))),le=this.tryStrategy(A[I],v,{timeout:Y,failFast:this.failFast},we)):S(!0))};return le=this.tryStrategy(A[I],v,{timeout:Y,failFast:this.failFast},we),{abort:function(){le.abort()},forceMinPriority:function(Ee){v=Ee,le&&le.forceMinPriority(Ee)}}}tryStrategy(v,S,A,I){var Y=null,le=null;return A.timeout>0&&(Y=new T(A.timeout,function(){le.abort(),I(!0)})),le=v.connect(S,function(we,Ee){we&&Y&&Y.isRunning()&&!A.failFast||(Y&&Y.ensureAborted(),I(we,Ee))}),{abort:function(){Y&&Y.ensureAborted(),le.abort()},forceMinPriority:function(we){le.forceMinPriority(we)}}}}class Mu{constructor(v){this.strategies=v}isSupported(){return gr(this.strategies,Q.method("isSupported"))}connect(v,S){return $k(this.strategies,v,function(A,I){return function(Y,le){if(I[A].error=Y,Y){Ik(I)&&S(!0);return}ke(I,function(we){we.forceMinPriority(le.transport.priority)}),S(null,le)}})}}function $k(C,v,S){var A=ce(C,function(I,Y,le,we){return I.connect(v,S(Y,we))});return{abort:function(){ke(A,Dk)},forceMinPriority:function(I){ke(A,function(Y){Y.forceMinPriority(I)})}}}function Ik(C){return _r(C,function(v){return!!v.error})}function Dk(C){!C.error&&!C.aborted&&(C.abort(),C.aborted=!0)}class Lk{constructor(v,S,A){this.strategy=v,this.transports=S,this.ttl=A.ttl||1800*1e3,this.usingTLS=A.useTLS,this.timeline=A.timeline}isSupported(){return this.strategy.isSupported()}connect(v,S){var A=this.usingTLS,I=Fk(A),Y=I&&I.cacheSkipCount?I.cacheSkipCount:0,le=[this.strategy];if(I&&I.timestamp+this.ttl>=Q.now()){var we=this.transports[I.transport];we&&(["ws","wss"].includes(I.transport)||Y>3?(this.timeline.info({cached:!0,transport:I.transport,latency:I.latency}),le.push(new Js([we],{timeout:I.latency*2+1e3,failFast:!0}))):Y++)}var Ee=Q.now(),Le=le.pop().connect(v,function Ue(gt,Ol){gt?(sg(A),le.length>0?(Ee=Q.now(),Le=le.pop().connect(v,Ue)):S(gt)):(Vk(A,Ol.transport.name,Q.now()-Ee,Y),S(null,Ol))});return{abort:function(){Le.abort()},forceMinPriority:function(Ue){v=Ue,Le&&Le.forceMinPriority(Ue)}}}}function $u(C){return"pusherTransport"+(C?"TLS":"NonTLS")}function Fk(C){var v=Te.getLocalStorage();if(v)try{var S=v[$u(C)];if(S)return JSON.parse(S)}catch{sg(C)}return null}function Vk(C,v,S,A){var I=Te.getLocalStorage();if(I)try{I[$u(C)]=Li({timestamp:Q.now(),transport:v,latency:S,cacheSkipCount:A})}catch{}}function sg(C){var v=Te.getLocalStorage();if(v)try{delete v[$u(C)]}catch{}}class Rl{constructor(v,{delay:S}){this.strategy=v,this.options={delay:S}}isSupported(){return this.strategy.isSupported()}connect(v,S){var A=this.strategy,I,Y=new T(this.options.delay,function(){I=A.connect(v,S)});return{abort:function(){Y.ensureAborted(),I&&I.abort()},forceMinPriority:function(le){v=le,I&&I.forceMinPriority(le)}}}}class Ka{constructor(v,S,A){this.test=v,this.trueBranch=S,this.falseBranch=A}isSupported(){var v=this.test()?this.trueBranch:this.falseBranch;return v.isSupported()}connect(v,S){var A=this.test()?this.trueBranch:this.falseBranch;return A.connect(v,S)}}class zk{constructor(v){this.strategy=v}isSupported(){return this.strategy.isSupported()}connect(v,S){var A=this.strategy.connect(v,function(I,Y){Y&&A.abort(),S(I,Y)});return A}}function Xa(C){return function(){return C.isSupported()}}var Bk=function(C,v,S){var A={};function I(pg,zE,BE,UE,WE){var xg=S(C,pg,zE,BE,UE,WE);return A[pg]=xg,xg}var Y=Object.assign({},v,{hostNonTLS:C.wsHost+":"+C.wsPort,hostTLS:C.wsHost+":"+C.wssPort,httpPath:C.wsPath}),le=Object.assign({},Y,{useTLS:!0}),we=Object.assign({},v,{hostNonTLS:C.httpHost+":"+C.httpPort,hostTLS:C.httpHost+":"+C.httpsPort,httpPath:C.httpPath}),Ee={loop:!0,timeout:15e3,timeoutLimit:6e4},Le=new ng({minPingDelay:1e4,maxPingDelay:C.activityTimeout}),Ue=new ng({lives:2,minPingDelay:1e4,maxPingDelay:C.activityTimeout}),gt=I("ws","ws",3,Y,Le),Ol=I("wss","ws",3,le,Le),IE=I("sockjs","sockjs",1,we),cg=I("xhr_streaming","xhr_streaming",1,we,Ue),DE=I("xdr_streaming","xdr_streaming",1,we,Ue),dg=I("xhr_polling","xhr_polling",1,we),LE=I("xdr_polling","xdr_polling",1,we),ug=new Js([gt],Ee),FE=new Js([Ol],Ee),VE=new Js([IE],Ee),hg=new Js([new Ka(Xa(cg),cg,DE)],Ee),mg=new Js([new Ka(Xa(dg),dg,LE)],Ee),fg=new Js([new Ka(Xa(hg),new Mu([hg,new Rl(mg,{delay:4e3})]),mg)],Ee),Fu=new Ka(Xa(fg),fg,VE),Vu;return v.useTLS?Vu=new Mu([ug,new Rl(Fu,{delay:2e3})]):Vu=new Mu([ug,new Rl(FE,{delay:2e3}),new Rl(Fu,{delay:5e3})]),new Lk(new zk(new Ka(Xa(gt),Vu,Fu)),A,{ttl:18e5,timeline:v.timeline,useTLS:v.useTLS})},Uk=Bk,Wk=function(){var C=this;C.timeline.info(C.buildTimelineMessage({transport:C.name+(C.options.useTLS?"s":"")})),C.hooks.isInitialized()?C.changeState("initialized"):C.hooks.file?(C.changeState("initializing"),h.load(C.hooks.file,{useTLS:C.options.useTLS},function(v,S){C.hooks.isInitialized()?(C.changeState("initialized"),S(!0)):(v&&C.onError(v),C.onClose(),S(!1))})):C.onClose()},Hk={getRequest:function(C){var v=new window.XDomainRequest;return v.ontimeout=function(){C.emit("error",new x),C.close()},v.onerror=function(S){C.emit("error",S),C.close()},v.onprogress=function(){v.responseText&&v.responseText.length>0&&C.onChunk(200,v.responseText)},v.onload=function(){v.responseText&&v.responseText.length>0&&C.onChunk(200,v.responseText),C.emit("finished",200),C.close()},v},abortRequest:function(C){C.ontimeout=C.onerror=C.onprogress=C.onload=null,C.abort()}},Gk=Hk;const qk=256*1024;class Kk extends bt{constructor(v,S,A){super(),this.hooks=v,this.method=S,this.url=A}start(v){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},Te.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(v)}close(){this.unloader&&(Te.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(v,S){for(;;){var A=this.advanceBuffer(S);if(A)this.emit("chunk",{status:v,data:A});else break}this.isBufferTooLong(S)&&this.emit("buffer_too_long")}advanceBuffer(v){var S=v.slice(this.position),A=S.indexOf(`
`);return A!==-1?(this.position+=A+1,S.slice(0,A)):null}isBufferTooLong(v){return this.position===v.length&&v.length>qk}}var Iu;(function(C){C[C.CONNECTING=0]="CONNECTING",C[C.OPEN=1]="OPEN",C[C.CLOSED=3]="CLOSED"})(Iu||(Iu={}));var Qs=Iu,Xk=1;class Yk{constructor(v,S){this.hooks=v,this.session=ag(1e3)+"/"+eE(8),this.location=Jk(S),this.readyState=Qs.CONNECTING,this.openStream()}send(v){return this.sendRaw(JSON.stringify([v]))}ping(){this.hooks.sendHeartbeat(this)}close(v,S){this.onClose(v,S,!0)}sendRaw(v){if(this.readyState===Qs.OPEN)try{return Te.createSocketRequest("POST",ig(Qk(this.location,this.session))).start(v),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(v,S,A){this.closeStream(),this.readyState=Qs.CLOSED,this.onclose&&this.onclose({code:v,reason:S,wasClean:A})}onChunk(v){if(v.status===200){this.readyState===Qs.OPEN&&this.onActivity();var S,A=v.data.slice(0,1);switch(A){case"o":S=JSON.parse(v.data.slice(1)||"{}"),this.onOpen(S);break;case"a":S=JSON.parse(v.data.slice(1)||"[]");for(var I=0;I<S.length;I++)this.onEvent(S[I]);break;case"m":S=JSON.parse(v.data.slice(1)||"null"),this.onEvent(S);break;case"h":this.hooks.onHeartbeat(this);break;case"c":S=JSON.parse(v.data.slice(1)||"[]"),this.onClose(S[0],S[1],!0);break}}}onOpen(v){this.readyState===Qs.CONNECTING?(v&&v.hostname&&(this.location.base=Zk(this.location.base,v.hostname)),this.readyState=Qs.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(v){this.readyState===Qs.OPEN&&this.onmessage&&this.onmessage({data:v})}onActivity(){this.onactivity&&this.onactivity()}onError(v){this.onerror&&this.onerror(v)}openStream(){this.stream=Te.createSocketRequest("POST",ig(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",v=>{this.onChunk(v)}),this.stream.bind("finished",v=>{this.hooks.onFinished(this,v)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(v){Q.defer(()=>{this.onError(v),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Jk(C){var v=/([^\?]*)\/*(\??.*)/.exec(C);return{base:v[1],queryString:v[2]}}function Qk(C,v){return C.base+"/"+v+"/xhr_send"}function ig(C){var v=C.indexOf("?")===-1?"?":"&";return C+v+"t="+ +new Date+"&n="+Xk++}function Zk(C,v){var S=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(C);return S[1]+v+S[3]}function ag(C){return Te.randomInt(C)}function eE(C){for(var v=[],S=0;S<C;S++)v.push(ag(32).toString(32));return v.join("")}var tE=Yk,rE={getReceiveURL:function(C,v){return C.base+"/"+v+"/xhr_streaming"+C.queryString},onHeartbeat:function(C){C.sendRaw("[]")},sendHeartbeat:function(C){C.sendRaw("[]")},onFinished:function(C,v){C.onClose(1006,"Connection interrupted ("+v+")",!1)}},nE=rE,sE={getReceiveURL:function(C,v){return C.base+"/"+v+"/xhr"+C.queryString},onHeartbeat:function(){},sendHeartbeat:function(C){C.sendRaw("[]")},onFinished:function(C,v){v===200?C.reconnect():C.onClose(1006,"Connection interrupted ("+v+")",!1)}},iE=sE,aE={getRequest:function(C){var v=Te.getXHRAPI(),S=new v;return S.onreadystatechange=S.onprogress=function(){switch(S.readyState){case 3:S.responseText&&S.responseText.length>0&&C.onChunk(S.status,S.responseText);break;case 4:S.responseText&&S.responseText.length>0&&C.onChunk(S.status,S.responseText),C.emit("finished",S.status),C.close();break}},S},abortRequest:function(C){C.onreadystatechange=null,C.abort()}},oE=aE,lE={createStreamingSocket(C){return this.createSocket(nE,C)},createPollingSocket(C){return this.createSocket(iE,C)},createSocket(C,v){return new tE(C,v)},createXHR(C,v){return this.createRequest(oE,C,v)},createRequest(C,v,S){return new Kk(C,v,S)}},og=lE;og.createXDR=function(C,v){return this.createRequest(Gk,C,v)};var cE=og,dE={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:m,getDefaultStrategy:Uk,Transports:yk,transportConnectionInitializer:Wk,HTTPFactory:cE,TimelineTransport:Pl,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(C){window.Pusher=C;var v=()=>{this.onDocumentBody(C.ready)};window.JSON?v():h.load("json2",{},v)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:R,jsonp:ku}},onDocumentBody(C){document.body?C():setTimeout(()=>{this.onDocumentBody(C)},0)},createJSONPRequest(C,v){return new _u(C,v)},createScriptRequest(C){return new Eu(C)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var C=this.getXHRAPI();return new C},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return wk},createWebSocket(C){var v=this.getWebSocketAPI();return new v(C)},createSocketRequest(C,v){if(this.isXHRSupported())return this.HTTPFactory.createXHR(C,v);if(this.isXDRSupported(v.indexOf("https:")===0))return this.HTTPFactory.createXDR(C,v);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var C=this.getXHRAPI();return!!C&&new C().withCredentials!==void 0},isXDRSupported(C){var v=C?"https:":"http:",S=this.getProtocol();return!!window.XDomainRequest&&S===v},addUnloadListener(C){window.addEventListener!==void 0?window.addEventListener("unload",C,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",C)},removeUnloadListener(C){window.addEventListener!==void 0?window.removeEventListener("unload",C,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",C)},randomInt(C){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*C)}},Te=dE,Du;(function(C){C[C.ERROR=3]="ERROR",C[C.INFO=6]="INFO",C[C.DEBUG=7]="DEBUG"})(Du||(Du={}));var Al=Du;class uE{constructor(v,S,A){this.key=v,this.session=S,this.events=[],this.options=A||{},this.sent=0,this.uniqueID=0}log(v,S){v<=this.options.level&&(this.events.push(de({},S,{timestamp:Q.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(v){this.log(Al.ERROR,v)}info(v){this.log(Al.INFO,v)}debug(v){this.log(Al.DEBUG,v)}isEmpty(){return this.events.length===0}send(v,S){var A=de({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],v(A,(I,Y)=>{I||this.sent++,S&&S(I,Y)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class hE{constructor(v,S,A,I){this.name=v,this.priority=S,this.transport=A,this.options=I||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(v,S){if(this.isSupported()){if(this.priority<v)return lg(new y,S)}else return lg(new k,S);var A=!1,I=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Y=null,le=function(){I.unbind("initialized",le),I.connect()},we=function(){Y=$n.createHandshake(I,function(gt){A=!0,Ue(),S(null,gt)})},Ee=function(gt){Ue(),S(gt)},Le=function(){Ue();var gt;gt=Li(I),S(new N(gt))},Ue=function(){I.unbind("initialized",le),I.unbind("open",we),I.unbind("error",Ee),I.unbind("closed",Le)};return I.bind("initialized",le),I.bind("open",we),I.bind("error",Ee),I.bind("closed",Le),I.initialize(),{abort:()=>{A||(Ue(),Y?Y.close():I.close())},forceMinPriority:gt=>{A||this.priority<gt&&(Y?Y.close():I.close())}}}}function lg(C,v){return Q.defer(function(){v(C)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:mE}=Te;var fE=function(C,v,S,A,I,Y){var le=mE[S];if(!le)throw new _(S);var we=(!C.enabledTransports||K(C.enabledTransports,v)!==-1)&&(!C.disabledTransports||K(C.disabledTransports,v)===-1),Ee;return we?(I=Object.assign({ignoreNullOrigin:C.ignoreNullOrigin},I),Ee=new hE(v,A,Y?Y.getAssistant(le):le,I)):Ee=pE,Ee},pE={isSupported:function(){return!1},connect:function(C,v){var S=Q.defer(function(){v(new k)});return{abort:function(){S.ensureAborted()},forceMinPriority:function(){}}}};function xE(C){if(C==null)throw"You must pass an options object";if(C.cluster==null)throw"Options object must provide a cluster";"disableStats"in C&&Ye.warn("The disableStats option is deprecated in favor of enableStats")}const gE=(C,v)=>{var S="socket_id="+encodeURIComponent(C.socketId);for(var A in v.params)S+="&"+encodeURIComponent(A)+"="+encodeURIComponent(v.params[A]);if(v.paramsProvider!=null){let I=v.paramsProvider();for(var A in I)S+="&"+encodeURIComponent(A)+"="+encodeURIComponent(I[A])}return S};var vE=C=>{if(typeof Te.getAuthorizers()[C.transport]>"u")throw`'${C.transport}' is not a recognized auth transport`;return(v,S)=>{const A=gE(v,C);Te.getAuthorizers()[C.transport](Te,A,C,f.UserAuthentication,S)}};const yE=(C,v)=>{var S="socket_id="+encodeURIComponent(C.socketId);S+="&channel_name="+encodeURIComponent(C.channelName);for(var A in v.params)S+="&"+encodeURIComponent(A)+"="+encodeURIComponent(v.params[A]);if(v.paramsProvider!=null){let I=v.paramsProvider();for(var A in I)S+="&"+encodeURIComponent(A)+"="+encodeURIComponent(I[A])}return S};var bE=C=>{if(typeof Te.getAuthorizers()[C.transport]>"u")throw`'${C.transport}' is not a recognized auth transport`;return(v,S)=>{const A=yE(v,C);Te.getAuthorizers()[C.transport](Te,A,C,f.ChannelAuthorization,S)}};const wE=(C,v,S)=>{const A={authTransport:v.transport,authEndpoint:v.endpoint,auth:{params:v.params,headers:v.headers}};return(I,Y)=>{const le=C.channel(I.channelName);S(le,A).authorize(I.socketId,Y)}};function jE(C,v){let S={activityTimeout:C.activityTimeout||c.activityTimeout,cluster:C.cluster,httpPath:C.httpPath||c.httpPath,httpPort:C.httpPort||c.httpPort,httpsPort:C.httpsPort||c.httpsPort,pongTimeout:C.pongTimeout||c.pongTimeout,statsHost:C.statsHost||c.stats_host,unavailableTimeout:C.unavailableTimeout||c.unavailableTimeout,wsPath:C.wsPath||c.wsPath,wsPort:C.wsPort||c.wsPort,wssPort:C.wssPort||c.wssPort,enableStats:kE(C),httpHost:NE(C),useTLS:PE(C),wsHost:SE(C),userAuthenticator:EE(C),channelAuthorizer:TE(C,v)};return"disabledTransports"in C&&(S.disabledTransports=C.disabledTransports),"enabledTransports"in C&&(S.enabledTransports=C.enabledTransports),"ignoreNullOrigin"in C&&(S.ignoreNullOrigin=C.ignoreNullOrigin),"timelineParams"in C&&(S.timelineParams=C.timelineParams),"nacl"in C&&(S.nacl=C.nacl),S}function NE(C){return C.httpHost?C.httpHost:C.cluster?`sockjs-${C.cluster}.pusher.com`:c.httpHost}function SE(C){return C.wsHost?C.wsHost:CE(C.cluster)}function CE(C){return`ws-${C}.pusher.com`}function PE(C){return Te.getProtocol()==="https:"?!0:C.forceTLS!==!1}function kE(C){return"enableStats"in C?C.enableStats:"disableStats"in C?!C.disableStats:!1}function EE(C){const v=Object.assign(Object.assign({},c.userAuthentication),C.userAuthentication);return"customHandler"in v&&v.customHandler!=null?v.customHandler:vE(v)}function _E(C,v){let S;return"channelAuthorization"in C?S=Object.assign(Object.assign({},c.channelAuthorization),C.channelAuthorization):(S={transport:C.authTransport||c.authTransport,endpoint:C.authEndpoint||c.authEndpoint},"auth"in C&&("params"in C.auth&&(S.params=C.auth.params),"headers"in C.auth&&(S.headers=C.auth.headers)),"authorizer"in C&&(S.customHandler=wE(v,S,C.authorizer))),S}function TE(C,v){const S=_E(C,v);return"customHandler"in S&&S.customHandler!=null?S.customHandler:bE(S)}class RE extends bt{constructor(v){super(function(S,A){Ye.debug(`No callbacks on watchlist events for ${S}`)}),this.pusher=v,this.bindWatchlistInternalEvent()}handleEvent(v){v.data.events.forEach(S=>{this.emit(S.name,S)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",v=>{var S=v.event;S==="pusher_internal:watchlist_events"&&this.handleEvent(v)})}}function AE(){let C,v;return{promise:new Promise((A,I)=>{C=A,v=I}),resolve:C,reject:v}}var OE=AE;class ME extends bt{constructor(v){super(function(S,A){Ye.debug("No callbacks on user for "+S)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(S,A)=>{if(S){Ye.warn(`Error during signin: ${S}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:A.auth,user_data:A.user_data})},this.pusher=v,this.pusher.connection.bind("state_change",({previous:S,current:A})=>{S!=="connected"&&A==="connected"&&this._signin(),S==="connected"&&A!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new RE(v),this.pusher.connection.bind("message",S=>{var A=S.event;A==="pusher:signin_success"&&this._onSigninSuccess(S.data),this.serverToUserChannel&&this.serverToUserChannel.name===S.channel&&this.serverToUserChannel.handleEvent(S)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(v){try{this.user_data=JSON.parse(v.user_data)}catch{Ye.error(`Failed parsing user data after signin: ${v.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ye.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const v=S=>{S.subscriptionPending&&S.subscriptionCancelled?S.reinstateSubscription():!S.subscriptionPending&&this.pusher.connection.state==="connected"&&S.subscribe()};this.serverToUserChannel=new Ru(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((S,A)=>{S.indexOf("pusher_internal:")===0||S.indexOf("pusher:")===0||this.emit(S,A)}),v(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:v,resolve:S,reject:A}=OE();v.done=!1;const I=()=>{v.done=!0};v.then(I).catch(I),this.signinDonePromise=v,this._signinDoneResolve=S}}class Ot{static ready(){Ot.isReady=!0;for(var v=0,S=Ot.instances.length;v<S;v++)Ot.instances[v].connect()}static getClientFeatures(){return ue(ut({ws:Te.Transports.ws},function(v){return v.isSupported({})}))}constructor(v,S){$E(v),xE(S),this.key=v,this.config=jE(S,this),this.channels=$n.createChannels(),this.global_emitter=new bt,this.sessionID=Te.randomInt(1e9),this.timeline=new uE(this.key,this.sessionID,{cluster:this.config.cluster,features:Ot.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Al.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=$n.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Te.TimelineTransport.name}));var A=I=>Te.getDefaultStrategy(this.config,I,fE);this.connection=$n.createConnectionManager(this.key,{getStrategy:A,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",I=>{var Y=I.event,le=Y.indexOf("pusher_internal:")===0;if(I.channel){var we=this.channel(I.channel);we&&we.handleEvent(I)}le||this.global_emitter.emit(I.event,I.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",I=>{Ye.warn(I)}),Ot.instances.push(this),this.timeline.info({instances:Ot.instances.length}),this.user=new ME(this),Ot.isReady&&this.connect()}channel(v){return this.channels.find(v)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var v=this.connection.isUsingTLS(),S=this.timelineSender;this.timelineSenderTimer=new q(6e4,function(){S.send(v)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(v,S,A){return this.global_emitter.bind(v,S,A),this}unbind(v,S,A){return this.global_emitter.unbind(v,S,A),this}bind_global(v){return this.global_emitter.bind_global(v),this}unbind_global(v){return this.global_emitter.unbind_global(v),this}unbind_all(v){return this.global_emitter.unbind_all(),this}subscribeAll(){var v;for(v in this.channels.channels)this.channels.channels.hasOwnProperty(v)&&this.subscribe(v)}subscribe(v){var S=this.channels.add(v,this);return S.subscriptionPending&&S.subscriptionCancelled?S.reinstateSubscription():!S.subscriptionPending&&this.connection.state==="connected"&&S.subscribe(),S}unsubscribe(v){var S=this.channels.find(v);S&&S.subscriptionPending?S.cancelSubscription():(S=this.channels.remove(v),S&&S.subscribed&&S.unsubscribe())}send_event(v,S,A){return this.connection.send_event(v,S,A)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Ot.instances=[],Ot.isReady=!1,Ot.logToConsole=!1,Ot.Runtime=Te,Ot.ScriptReceivers=Te.ScriptReceivers,Ot.DependenciesReceivers=Te.DependenciesReceivers,Ot.auth_callbacks=Te.auth_callbacks;var Lu=s.default=Ot;function $E(C){if(C==null)throw"You must pass your app key when you instantiate Pusher."}Te.setup(Ot)}])})})(b1);var F3=b1.exports;const V3=_f(F3);window.Pusher=V3;const w1=()=>{const e=localStorage.getItem("token");return e?`Bearer ${e}`:""},z3=()=>"https://handy3.abanoubsamir.com/backend/public";let vs;try{vs=new L3({broadcaster:"pusher",key:"fc7fffaa70ba48b0ab84",cluster:"eu",forceTLS:!0,encrypted:!0,authEndpoint:`${z3()}/api/broadcasting/auth`,auth:{headers:{Authorization:w1(),Accept:"application/json"}}})}catch{vs=null}const B3=()=>{try{vs&&vs.connector&&vs.connector.pusher&&vs.connector.pusher.config&&(vs.connector.pusher.config.auth={headers:{Authorization:w1(),Accept:"application/json"}})}catch{}},We=vs,j1=u.createContext(),as=()=>u.useContext(j1),U3=({children:e})=>{const[t,r]=u.useState([]),[s,i]=u.useState(null),[a,o]=u.useState({}),[l,c]=u.useState(!1),[d,m]=u.useState(!1),[h,p]=u.useState(new Set),{user:b}=$e(),{toast:j}=st(),f=u.useRef({}),w=u.useRef(0);u.useEffect(()=>{if(b){B3(),P(),g();const B=setInterval(()=>{P()},48e4),G=setInterval(()=>{g()},48e4);return()=>{clearInterval(B),clearInterval(G),y()}}return()=>{y()}},[b]),u.useEffect(()=>{if(b&&t.length>0){const B=t.map(z=>`conversation.${z.id}`).sort().join(","),G=Array.from(h).sort().join(",");(!d||B!==G)&&x()}},[b,t,d,h]);const g=async()=>{if(!b)return;const B=Date.now();if(!(B-w.current<6e4)){w.current=B;try{await Se.updateOnlineStatus()}catch{}}},x=()=>{if(!(!b||!We))try{We.connector&&We.connector.pusher&&(We.connector.pusher.disconnect(),setTimeout(()=>{We.connector.pusher.connect()},500)),t.forEach(B=>{const G=`conversation.${B.id}`;if(h.has(G)){try{const U=`private-${G}`,$=We.connector.pusher.channels.channels[U];$&&($.unbind("message.sent"),$.unbind(".message.sent"),$.bind("message.sent",F=>{F&&F.message?k(F.message):F&&k(F)}),$.bind(".message.sent",F=>{F&&F.message?k(F.message):F&&k(F)}))}catch{}return}const z=We.private(G);z.listen("message.sent",U=>{U&&U.message?k(U.message):U&&k(U)}),z.listen(".message.sent",U=>{U&&U.message?k(U.message):U&&k(U)}),z.listenForWhisper("message.sent",U=>{U&&k(U)}),p(U=>new Set([...U,G]))}),m(!0)}catch{j({title:"اتصال خطأ",description:"فشل في الاتصال بخدمة الرسائل المباشرة",variant:"destructive"}),m(!1)}},y=()=>{We&&h.size>0&&h.forEach(B=>{try{We.leave(B)}catch{}}),p(new Set),m(!1)},N=B=>{if(!b||!We)return;const G=`conversation.${B}`;if(!h.has(G))try{We.private(G).listen("message.sent",U=>{console.log("Received message event:",U),U&&U.message?k(U.message):U&&k(U)}),p(U=>new Set([...U,G]))}catch{}},P=async()=>{try{c(!0);const B=await Se.getConversations();r(B)}catch{j({title:"خطأ",description:"فشل في تحميل المحادثات",variant:"destructive"})}finally{c(!1)}},_=async B=>{try{c(!0);const G=await Se.getMessages(B),U=(Array.isArray(G)?G:[]).map($=>({...$,attachments:$.attachments?$.attachments.map(F=>({id:F.id,file_url:F.file_url||F.url,file_type:F.file_type||F.type})):[]}));return o($=>({...$,[B]:U})),U}catch{return j({title:"خطأ",description:"فشل في تحميل الرسائل",variant:"destructive"}),[]}finally{c(!1)}},k=B=>{const G=B.message||B,z=G.conversation_id||G.conversationId||(typeof G=="string"?s:null);if(!G||!z)return;const U=G.sender_id||G.senderId;if(U===(b==null?void 0:b.id))return;const $=a[z]||[],F=G.id||G._id;if(F&&$.some(X=>X.id===F))return;const W=G.id||G._id,T=G.message_text||G.text||G.content,q=G.message_time||G.timestamp||G.created_at||new Date().toISOString(),re=G.sender,Q=G.attachments?G.attachments.map(X=>({id:X.id,file_url:X.file_url||X.url,file_type:X.file_type||X.type})):[],de=G.read_status||G.readStatus;o(X=>({...X,[z]:[...X[z]||[],{id:W,text:T,timestamp:q,senderId:U,sender:re,attachments:Q,readStatus:de}]})),r(X=>X.map(se=>se.id===z?{...se,lastMessage:{id:W,text:T,timestamp:q,senderId:U},unreadCount:U!==(b==null?void 0:b.id)&&s!==z?se.unreadCount+1:se.unreadCount,lastMessageTime:q}:se).sort((se,ue)=>new Date(ue.lastMessageTime)-new Date(se.lastMessageTime))),U!==(b==null?void 0:b.id)&&s!==z&&j({title:"رسالة جديدة",description:`${(re==null?void 0:re.name)||"مستخدم"}: ${T}`}),s===z&&U!==(b==null?void 0:b.id)&&M(z)},E=async(B,G,z=null)=>{var U,$;if(!b||!(G!=null&&G.trim())&&!z){j({title:"خطأ",description:"يجب إدخال نص الرسالة أو إرفاق ملف",variant:"destructive"});return}try{let F;if(z&&z.length>0){const H=new FormData;H.append("recipient_id",B),G!=null&&G.trim()&&H.append("message_text",G),z.forEach((W,T)=>{H.append(`attachments[${T}]`,W)}),F=await Se.sendMessageWithFiles(H)}else F=await Se.sendMessage({recipient_id:B,message_text:G});if(F.message){const H={id:F.message.id,text:F.message.text,timestamp:F.message.timestamp,senderId:F.message.senderId,sender:F.message.sender,attachments:F.message.attachments?F.message.attachments.map(T=>({id:T.id,file_url:T.file_url||T.url,file_type:T.file_type||T.type})):[],readStatus:F.message.readStatus};let W=s;if(!W){const T=t.find(q=>q.participant.id===B);W=T==null?void 0:T.id}W&&(o(T=>({...T,[W]:[...T[W]||[],H]})),r(T=>T.map(q=>q.id===W?{...q,lastMessage:{id:H.id,text:H.text,timestamp:H.timestamp,senderId:H.senderId},lastMessageTime:H.timestamp}:q)))}return F.message}catch(F){throw j({title:"خطأ",description:(($=(U=F.response)==null?void 0:U.data)==null?void 0:$.message)||"فشل في إرسال الرسالة",variant:"destructive"}),F}},O=async B=>{if(!B||!B.id)return;const G=B.id;try{const z=await Se.startConversation(G);if(!z.conversationId||!z.participant)return;if(!t.find($=>$.id===z.conversationId)){const $={id:z.conversationId,participant:z.participant,lastMessage:null,unreadCount:0,lastMessageTime:new Date().toISOString()};r(F=>[$,...F]),N(z.conversationId)}return i(z.conversationId),a[z.conversationId]||await _(z.conversationId),z.conversationId}catch(z){throw j({title:"خطأ",description:"فشل في بدء المحادثة",variant:"destructive"}),z}},R=async B=>{i(B),B&&!a[B]&&await _(B)},M=async B=>{if(!B)return;const G=t.find($=>$.id===B);if(G&&G.unreadCount===0)return;const z=Date.now(),U=f.current[B]||0;if(!(z-U<5e3)){f.current[B]=z;try{await Se.markAsRead(B),r($=>$.map(F=>F.id===B?{...F,unreadCount:0}:F))}catch{}}},L=async B=>{try{await Se.deleteConversation(B),r(z=>z.filter(U=>U.id!==B)),o(z=>{const U={...z};return delete U[B],U});const G=`conversation.${B}`;if(We)try{We.leave(G)}catch{}p(z=>{const U=new Set(z);return U.delete(G),U}),s===B&&i(null),j({title:"تم الحذف",description:"تم حذف المحادثة بنجاح"})}catch{j({title:"خطأ",description:"فشل في حذف المحادثة",variant:"destructive"})}};u.useEffect(()=>{if(!We||!We.connector||!We.connector.pusher)return;const B=()=>{m(!0)},G=()=>{m(!1)},z=U=>{m(!1),j({title:"خطأ في الاتصال",description:"تم قطع الاتصال بخدمة الرسائل المباشرة",variant:"destructive"})};return We.connector.pusher.connection.bind("connected",B),We.connector.pusher.connection.bind("disconnected",G),We.connector.pusher.connection.bind("error",z),()=>{We.connector&&We.connector.pusher&&(We.connector.pusher.connection.unbind("connected",B),We.connector.pusher.connection.unbind("disconnected",G),We.connector.pusher.connection.unbind("error",z))}},[We,j]);const D={conversations:t,messages:a,activeConversation:s,loading:l,connected:d,setActiveConversation:R,sendMessage:E,startConversation:O,markConversationAsRead:M,deleteConversation:L,loadConversations:P,loadMessages:_};return n.jsx(j1.Provider,{value:D,children:e})},N1=u.createContext(),Up=()=>{const e=u.useContext(N1);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},W3=({children:e})=>{const[t,r]=u.useState([]),[s,i]=u.useState(!0),[a,o]=u.useState(null),{user:l}=$e(),c=async()=>{try{i(!0),o(null),console.log("Fetching notifications for user:",l==null?void 0:l.id);const y=await Se.getNotifications();console.log("Notifications fetched:",y),r(y.notifications||[])}catch(y){console.error("Error fetching notifications:",y),o(y.message),r([])}finally{i(!1)}},d=async()=>{try{return(await Se.getUnreadNotificationCount()).count||0}catch(y){return console.error("Error fetching unread count:",y),t.filter(N=>!N.read).length}};u.useEffect(()=>{if(l&&(c(),We&&l.id))try{We.private(`App.Models.User.${l.id}`).listen("notification.created",y=>{console.log("Real-time notification received:",y),r(N=>[y,...N])})}catch(y){console.error("Error setting up real-time notifications:",y)}return()=>{if(We&&(l!=null&&l.id))try{We.leave(`App.Models.User.${l.id}`)}catch(y){console.error("Error cleaning up echo listeners:",y)}}},[l]);const m=t.filter(y=>!y.read).length,x={notifications:t,unreadCount:m,loading:s,error:a,addNotification:y=>{const N={id:Date.now(),createdAt:new Date,read:!1,...y};r(P=>[N,...P])},markAsRead:async y=>{try{await Se.markNotificationAsRead(y),r(N=>N.map(P=>P.id===y?{...P,read:!0}:P))}catch(N){console.error("Error marking notification as read:",N),r(P=>P.map(_=>_.id===y?{..._,read:!0}:_))}},markAllAsRead:async()=>{try{await Se.markAllNotificationsAsRead(),r(y=>y.map(N=>({...N,read:!0})))}catch(y){console.error("Error marking all notifications as read:",y),r(N=>N.map(P=>({...P,read:!0})))}},deleteNotification:async y=>{try{await Se.deleteNotification(y),r(N=>N.filter(P=>P.id!==y))}catch(N){console.error("Error deleting notification:",N),r(P=>P.filter(_=>_.id!==y))}},clearAllNotifications:()=>{r([])},refreshNotifications:()=>{c()},fetchUnreadCount:d,sendTestNotification:async(y="message",N="رسالة تجريبية",P="/chat")=>{try{await Se.testNotification(y,N,P),await c()}catch(_){console.error("Error sending test notification:",_)}}};return n.jsx(N1.Provider,{value:x,children:e})};function H3(){const{pathname:e}=Ft();return u.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const Jt=({children:e,requireAuth:t=!0,redirectTo:r="/login",allowedRoles:s=null})=>{var l,c;const{user:i,loading:a}=$e(),o=Ft();if(a)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-olivePrimary mx-auto mb-4"}),n.jsx("p",{className:"text-darkOlive",children:"جاري التحميل..."})]})});if(t&&!i)return n.jsx(ri,{to:r,state:{from:o},replace:!0});if(!t&&i){const d=(c=(l=o.state)==null?void 0:l.from)==null?void 0:c.pathname;return d?n.jsx(ri,{to:d,replace:!0}):i.role==="admin"?n.jsx(ri,{to:"/admin/dashboard",replace:!0}):n.jsx(ri,{to:"/dashboard",replace:!0})}return s&&i&&!s.includes(i.role)?i.role==="admin"?n.jsx(ri,{to:"/admin/dashboard",replace:!0}):n.jsx(ri,{to:"/dashboard",replace:!0}):e},S1=u.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Yd=u.createContext({}),Jd=u.createContext(null),Qd=typeof document<"u",Wp=Qd?u.useLayoutEffect:u.useEffect,C1=u.createContext({strict:!1}),Hp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),G3="framerAppearId",P1="data-"+Hp(G3);function q3(e,t,r,s){const{visualElement:i}=u.useContext(Yd),a=u.useContext(C1),o=u.useContext(Jd),l=u.useContext(S1).reducedMotion,c=u.useRef();s=s||a.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;u.useInsertionEffect(()=>{d&&d.update(r,o)});const m=u.useRef(!!(r[P1]&&!window.HandoffComplete));return Wp(()=>{d&&(d.render(),m.current&&d.animationState&&d.animationState.animateChanges())}),u.useEffect(()=>{d&&(d.updateFeatures(),!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),d}function oa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function K3(e,t,r){return u.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):oa(r)&&(r.current=s))},[t])}function el(e){return typeof e=="string"||Array.isArray(e)}function Zd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Gp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qp=["initial",...Gp];function eu(e){return Zd(e.animate)||qp.some(t=>el(e[t]))}function k1(e){return!!(eu(e)||e.variants)}function X3(e,t){if(eu(e)){const{initial:r,animate:s}=e;return{initial:r===!1||el(r)?r:void 0,animate:el(s)?s:void 0}}return e.inherit!==!1?t:{}}function Y3(e){const{initial:t,animate:r}=X3(e,u.useContext(Yd));return u.useMemo(()=>({initial:t,animate:r}),[Qv(t),Qv(r)])}function Qv(e){return Array.isArray(e)?e.join(" "):e}const Zv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const e in Zv)tl[e]={isEnabled:t=>Zv[e].some(r=>!!t[r])};function J3(e){for(const t in e)tl[t]={...tl[t],...e[t]}}const Kp=u.createContext({}),E1=u.createContext({}),Q3=Symbol.for("motionComponentSymbol");function Z3({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:i}){e&&J3(e);function a(l,c){let d;const m={...u.useContext(S1),...l,layoutId:eA(l)},{isStatic:h}=m,p=Y3(l),b=s(l,h);if(!h&&Qd){p.visualElement=q3(i,b,m,t);const j=u.useContext(E1),f=u.useContext(C1).strict;p.visualElement&&(d=p.visualElement.loadFeatures(m,f,e,j))}return u.createElement(Yd.Provider,{value:p},d&&p.visualElement?u.createElement(d,{visualElement:p.visualElement,...m}):null,r(i,l,K3(b,p.visualElement,c),b,h,p.visualElement))}const o=u.forwardRef(a);return o[Q3]=i,o}function eA({layoutId:e}){const t=u.useContext(Kp).id;return t&&e!==void 0?t+"-"+e:e}function tA(e){function t(s,i={}){return Z3(e(s,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(s,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const rA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xp(e){return typeof e!="string"||e.includes("-")?!1:!!(rA.indexOf(e)>-1||/[A-Z]/.test(e))}const id={};function nA(e){Object.assign(id,e)}const pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ai=new Set(pl);function _1(e,{layout:t,layoutId:r}){return Ai.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!id[e]||e==="opacity")}const xr=e=>!!(e&&e.getVelocity),sA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iA=pl.length;function aA(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},s,i){let a="";for(let o=0;o<iA;o++){const l=pl[o];if(e[l]!==void 0){const c=sA[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,s?"":a):r&&s&&(a="none"),a}const T1=e=>t=>typeof t=="string"&&t.startsWith(e),R1=T1("--"),Qm=T1("var(--"),oA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Fs=(e,t,r)=>Math.min(Math.max(r,e),t),Oi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Co={...Oi,transform:e=>Fs(0,1,e)},tc={...Oi,default:1},Po=e=>Math.round(e*1e5)/1e5,tu=/(-)?([\d]*\.?[\d])+/g,A1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xl(e){return typeof e=="string"}const gl=e=>({test:t=>xl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ds=gl("deg"),kn=gl("%"),Pe=gl("px"),dA=gl("vh"),uA=gl("vw"),e0={...kn,parse:e=>kn.parse(e)/100,transform:e=>kn.transform(e*100)},t0={...Oi,transform:Math.round},O1={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,size:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:tc,scaleX:tc,scaleY:tc,scaleZ:tc,skew:ds,skewX:ds,skewY:ds,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Co,originX:e0,originY:e0,originZ:Pe,zIndex:t0,fillOpacity:Co,strokeOpacity:Co,numOctaves:t0};function Yp(e,t,r,s){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,d=!1,m=!0;for(const h in t){const p=t[h];if(R1(h)){a[h]=p;continue}const b=O1[h],j=lA(p,b);if(Ai.has(h)){if(c=!0,o[h]=j,!m)continue;p!==(b.default||0)&&(m=!1)}else h.startsWith("origin")?(d=!0,l[h]=j):i[h]=j}if(t.transform||(c||s?i.transform=aA(e.transform,r,m,s):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:b=0}=l;i.transformOrigin=`${h} ${p} ${b}`}}const Jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function M1(e,t,r){for(const s in t)!xr(t[s])&&!_1(s,r)&&(e[s]=t[s])}function hA({transformTemplate:e},t,r){return u.useMemo(()=>{const s=Jp();return Yp(s,t,{enableHardwareAcceleration:!r},e),Object.assign({},s.vars,s.style)},[t])}function mA(e,t,r){const s=e.style||{},i={};return M1(i,s,e),Object.assign(i,hA(e,t,r)),e.transformValues?e.transformValues(i):i}function fA(e,t,r){const s={},i=mA(e,t,r);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const pA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pA.has(e)}let $1=e=>!ad(e);function xA(e){e&&($1=t=>t.startsWith("on")?!ad(t):e(t))}try{xA(require("@emotion/is-prop-valid").default)}catch{}function gA(e,t,r){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||($1(i)||r===!0&&ad(i)||!t&&!ad(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function r0(e,t,r){return typeof e=="string"?e:Pe.transform(t+r*e)}function vA(e,t,r){const s=r0(t,e.x,e.width),i=r0(r,e.y,e.height);return`${s} ${i}`}const yA={offset:"stroke-dashoffset",array:"stroke-dasharray"},bA={offset:"strokeDashoffset",array:"strokeDasharray"};function wA(e,t,r=1,s=0,i=!0){e.pathLength=1;const a=i?yA:bA;e[a.offset]=Pe.transform(-s);const o=Pe.transform(t),l=Pe.transform(r);e[a.array]=`${o} ${l}`}function Qp(e,{attrX:t,attrY:r,attrScale:s,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},m,h,p){if(Yp(e,d,m,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:j,dimensions:f}=e;b.transform&&(f&&(j.transform=b.transform),delete b.transform),f&&(i!==void 0||a!==void 0||j.transform)&&(j.transformOrigin=vA(f,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(b.x=t),r!==void 0&&(b.y=r),s!==void 0&&(b.scale=s),o!==void 0&&wA(b,o,l,c,!1)}const I1=()=>({...Jp(),attrs:{}}),Zp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jA(e,t,r,s){const i=u.useMemo(()=>{const a=I1();return Qp(a,t,{enableHardwareAcceleration:!1},Zp(s),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};M1(a,e.style,e),i.style={...a,...i.style}}return i}function NA(e=!1){return(r,s,i,{latestValues:a},o)=>{const c=(Xp(r)?jA:fA)(s,a,o,r),m={...gA(s,typeof r=="string",e),...c,ref:i},{children:h}=s,p=u.useMemo(()=>xr(h)?h.get():h,[h]);return u.createElement(r,{...m,children:p})}}function D1(e,{style:t,vars:r},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const a in r)e.style.setProperty(a,r[a])}const L1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F1(e,t,r,s){D1(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(L1.has(i)?i:Hp(i),t.attrs[i])}function ex(e,t){const{style:r}=e,s={};for(const i in r)(xr(r[i])||t.style&&xr(t.style[i])||_1(i,e))&&(s[i]=r[i]);return s}function V1(e,t){const r=ex(e,t);for(const s in e)if(xr(e[s])||xr(t[s])){const i=pl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function tx(e,t,r,s={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,s,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,s,i)),t}function z1(e){const t=u.useRef(null);return t.current===null&&(t.current=e()),t.current}const od=e=>Array.isArray(e),SA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),CA=e=>od(e)?e[e.length-1]||0:e;function Ec(e){const t=xr(e)?e.get():e;return SA(t)?t.toValue():t}function PA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},s,i,a){const o={latestValues:kA(s,i,a,e),renderState:t()};return r&&(o.mount=l=>r(s,l,o)),o}const B1=e=>(t,r)=>{const s=u.useContext(Yd),i=u.useContext(Jd),a=()=>PA(e,t,s,i);return r?a():z1(a)};function kA(e,t,r,s){const i={},a=s(e,{});for(const p in a)i[p]=Ec(a[p]);let{initial:o,animate:l}=e;const c=eu(e),d=k1(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let m=r?r.initial===!1:!1;m=m||o===!1;const h=m?l:o;return h&&typeof h!="boolean"&&!Zd(h)&&(Array.isArray(h)?h:[h]).forEach(b=>{const j=tx(e,b);if(!j)return;const{transitionEnd:f,transition:w,...g}=j;for(const x in g){let y=g[x];if(Array.isArray(y)){const N=m?y.length-1:0;y=y[N]}y!==null&&(i[x]=y)}for(const x in f)i[x]=f[x]}),i}const dt=e=>e;class n0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function EA(e){let t=new n0,r=new n0,s=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,m=!1)=>{const h=m&&i,p=h?t:r;return d&&o.add(c),p.add(c)&&h&&i&&(s=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,r]=[r,t],r.clear(),s=t.order.length,s)for(let d=0;d<s;d++){const m=t.order[d];m(c),o.has(m)&&(l.schedule(m),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const rc=["prepare","read","update","preRender","render","postRender"],_A=40;function TA(e,t){let r=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=rc.reduce((h,p)=>(h[p]=EA(()=>r=!0),h),{}),o=h=>a[h].process(i),l=()=>{const h=performance.now();r=!1,i.delta=s?1e3/60:Math.max(Math.min(h-i.timestamp,_A),1),i.timestamp=h,i.isProcessing=!0,rc.forEach(o),i.isProcessing=!1,r&&t&&(s=!1,e(l))},c=()=>{r=!0,s=!0,i.isProcessing||e(l)};return{schedule:rc.reduce((h,p)=>{const b=a[p];return h[p]=(j,f=!1,w=!1)=>(r||c(),b.schedule(j,f,w)),h},{}),cancel:h=>rc.forEach(p=>a[p].cancel(h)),state:i,steps:a}}const{schedule:Xe,cancel:Zn,state:Wt,steps:xh}=TA(typeof requestAnimationFrame<"u"?requestAnimationFrame:dt,!0),RA={useVisualState:B1({scrapeMotionValuesFromProps:V1,createRenderState:I1,onMount:(e,t,{renderState:r,latestValues:s})=>{Xe.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Xe.render(()=>{Qp(r,s,{enableHardwareAcceleration:!1},Zp(t.tagName),e.transformTemplate),F1(t,r)})}})},AA={useVisualState:B1({scrapeMotionValuesFromProps:ex,createRenderState:Jp})};function OA(e,{forwardMotionProps:t=!1},r,s){return{...Xp(e)?RA:AA,preloadedFeatures:r,useRender:NA(t),createVisualElement:s,Component:e}}function Bn(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}const U1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ru(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const MA=e=>t=>U1(t)&&e(t,ru(t));function Wn(e,t,r,s){return Bn(e,t,MA(r),s)}const $A=(e,t)=>r=>t(e(r)),As=(...e)=>e.reduce($A);function W1(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const s0=W1("dragHorizontal"),i0=W1("dragVertical");function H1(e){let t=!1;if(e==="y")t=i0();else if(e==="x")t=s0();else{const r=s0(),s=i0();r&&s?t=()=>{r(),s()}:(r&&r(),s&&s())}return t}function G1(){const e=H1(!0);return e?(e(),!1):!0}class Xs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function a0(e,t){const r="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||G1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&Xe.update(()=>l[s](a,o))};return Wn(e.current,r,i,{passive:!e.getProps()[s]})}class IA extends Xs{mount(){this.unmount=As(a0(this.node,!0),a0(this.node,!1))}unmount(){}}class DA extends Xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=As(Bn(this.node.current,"focus",()=>this.onFocus()),Bn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const q1=(e,t)=>t?e===t?!0:q1(e,t.parentElement):!1;function gh(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,ru(r))}class LA extends Xs{constructor(){super(...arguments),this.removeStartListeners=dt,this.removeEndListeners=dt,this.removeAccessibleListeners=dt,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=Wn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:m,globalTapTarget:h}=this.node.getProps();Xe.update(()=>{!h&&!q1(this.node.current,l.target)?m&&m(l,c):d&&d(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=Wn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=As(a,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||gh("up",(c,d)=>{const{onTap:m}=this.node.getProps();m&&Xe.update(()=>m(c,d))})};this.removeEndListeners(),this.removeEndListeners=Bn(this.node.current,"keyup",o),gh("down",(l,c)=>{this.startPress(l,c)})},r=Bn(this.node.current,"keydown",t),s=()=>{this.isPressing&&gh("cancel",(a,o)=>this.cancelPress(a,o))},i=Bn(this.node.current,"blur",s);this.removeAccessibleListeners=As(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Xe.update(()=>s(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!G1()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Xe.update(()=>s(t,r))}mount(){const t=this.node.getProps(),r=Wn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Bn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=As(r,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Zm=new WeakMap,vh=new WeakMap,FA=e=>{const t=Zm.get(e.target);t&&t(e)},VA=e=>{e.forEach(FA)};function zA({root:e,...t}){const r=e||document;vh.has(r)||vh.set(r,{});const s=vh.get(r),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(VA,{root:e,...t})),s[i]}function BA(e,t,r){const s=zA(t);return Zm.set(e,r),s.observe(e),()=>{Zm.delete(e),s.unobserve(e)}}const UA={some:0,all:1};class WA extends Xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:UA[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:h}=this.node.getProps(),p=d?m:h;p&&p(c)};return BA(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(HA(t,r))&&this.startObserver()}unmount(){}}function HA({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const GA={inView:{Feature:WA},tap:{Feature:LA},focus:{Feature:DA},hover:{Feature:IA}};function K1(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}function qA(e){const t={};return e.values.forEach((r,s)=>t[s]=r.get()),t}function KA(e){const t={};return e.values.forEach((r,s)=>t[s]=r.getVelocity()),t}function nu(e,t,r){const s=e.getProps();return tx(s,t,r!==void 0?r:s.custom,qA(e),KA(e))}let XA=dt,rx=dt;const Os=e=>e*1e3,Hn=e=>e/1e3,YA={current:!1},X1=e=>Array.isArray(e)&&typeof e[0]=="number";function Y1(e){return!!(!e||typeof e=="string"&&J1[e]||X1(e)||Array.isArray(e)&&e.every(Y1))}const fo=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,J1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fo([0,.65,.55,1]),circOut:fo([.55,0,1,.45]),backIn:fo([.31,.01,.66,-.59]),backOut:fo([.33,1.53,.69,.99])};function Q1(e){if(e)return X1(e)?fo(e):Array.isArray(e)?e.map(Q1):J1[e]}function JA(e,t,r,{delay:s=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:r};c&&(d.offset=c);const m=Q1(l);return Array.isArray(m)&&(d.easing=m),e.animate(d,{delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function QA(e,{repeat:t,repeatType:r="loop"}){const s=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[s]}const Z1=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,ZA=1e-7,eO=12;function tO(e,t,r,s,i){let a,o,l=0;do o=t+(r-t)/2,a=Z1(o,s,i)-e,a>0?r=o:t=o;while(Math.abs(a)>ZA&&++l<eO);return o}function vl(e,t,r,s){if(e===t&&r===s)return dt;const i=a=>tO(a,0,1,e,r);return a=>a===0||a===1?a:Z1(i(a),t,s)}const rO=vl(.42,0,1,1),nO=vl(0,0,.58,1),eN=vl(.42,0,.58,1),sO=e=>Array.isArray(e)&&typeof e[0]!="number",tN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rN=e=>t=>1-e(1-t),nx=e=>1-Math.sin(Math.acos(e)),nN=rN(nx),iO=tN(nx),sN=vl(.33,1.53,.69,.99),sx=rN(sN),aO=tN(sx),oO=e=>(e*=2)<1?.5*sx(e):.5*(2-Math.pow(2,-10*(e-1))),lO={linear:dt,easeIn:rO,easeInOut:eN,easeOut:nO,circIn:nx,circInOut:iO,circOut:nN,backIn:sx,backInOut:aO,backOut:sN,anticipate:oO},o0=e=>{if(Array.isArray(e)){rx(e.length===4);const[t,r,s,i]=e;return vl(t,r,s,i)}else if(typeof e=="string")return lO[e];return e},ix=(e,t)=>r=>!!(xl(r)&&cA.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),iN=(e,t,r)=>s=>{if(!xl(s))return s;const[i,a,o,l]=s.match(tu);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},cO=e=>Fs(0,255,e),yh={...Oi,transform:e=>Math.round(cO(e))},hi={test:ix("rgb","red"),parse:iN("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+yh.transform(e)+", "+yh.transform(t)+", "+yh.transform(r)+", "+Po(Co.transform(s))+")"};function dO(e){let t="",r="",s="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const ef={test:ix("#"),parse:dO,transform:hi.transform},la={test:ix("hsl","hue"),parse:iN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+kn.transform(Po(t))+", "+kn.transform(Po(r))+", "+Po(Co.transform(s))+")"},Zt={test:e=>hi.test(e)||ef.test(e)||la.test(e),parse:e=>hi.test(e)?hi.parse(e):la.test(e)?la.parse(e):ef.parse(e),transform:e=>xl(e)?e:e.hasOwnProperty("red")?hi.transform(e):la.transform(e)},at=(e,t,r)=>-r*e+r*t+e;function bh(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function uO({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=bh(c,l,e+1/3),a=bh(c,l,e),o=bh(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const wh=(e,t,r)=>{const s=e*e;return Math.sqrt(Math.max(0,r*(t*t-s)+s))},hO=[ef,hi,la],mO=e=>hO.find(t=>t.test(e));function l0(e){const t=mO(e);let r=t.parse(e);return t===la&&(r=uO(r)),r}const aN=(e,t)=>{const r=l0(e),s=l0(t),i={...r};return a=>(i.red=wh(r.red,s.red,a),i.green=wh(r.green,s.green,a),i.blue=wh(r.blue,s.blue,a),i.alpha=at(r.alpha,s.alpha,a),hi.transform(i))};function fO(e){var t,r;return isNaN(e)&&xl(e)&&(((t=e.match(tu))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(A1))===null||r===void 0?void 0:r.length)||0)>0}const oN={regex:oA,countKey:"Vars",token:"${v}",parse:dt},lN={regex:A1,countKey:"Colors",token:"${c}",parse:Zt.parse},cN={regex:tu,countKey:"Numbers",token:"${n}",parse:Oi.parse};function jh(e,{regex:t,countKey:r,token:s,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...a.map(i)))}function ld(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&jh(r,oN),jh(r,lN),jh(r,cN),r}function dN(e){return ld(e).values}function uN(e){const{values:t,numColors:r,numVars:s,tokenised:i}=ld(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<s?l=l.replace(oN.token,o[c]):c<s+r?l=l.replace(lN.token,Zt.transform(o[c])):l=l.replace(cN.token,Po(o[c]));return l}}const pO=e=>typeof e=="number"?0:e;function xO(e){const t=dN(e);return uN(e)(t.map(pO))}const Vs={test:fO,parse:dN,createTransformer:uN,getAnimatableNone:xO},hN=(e,t)=>r=>`${r>0?t:e}`;function mN(e,t){return typeof e=="number"?r=>at(e,t,r):Zt.test(e)?aN(e,t):e.startsWith("var(")?hN(e,t):pN(e,t)}const fN=(e,t)=>{const r=[...e],s=r.length,i=e.map((a,o)=>mN(a,t[o]));return a=>{for(let o=0;o<s;o++)r[o]=i[o](a);return r}},gO=(e,t)=>{const r={...e,...t},s={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(s[i]=mN(e[i],t[i]));return i=>{for(const a in s)r[a]=s[a](i);return r}},pN=(e,t)=>{const r=Vs.createTransformer(t),s=ld(e),i=ld(t);return s.numVars===i.numVars&&s.numColors===i.numColors&&s.numNumbers>=i.numNumbers?As(fN(s.values,i.values),r):hN(e,t)},rl=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s},c0=(e,t)=>r=>at(e,t,r);function vO(e){return typeof e=="number"?c0:typeof e=="string"?Zt.test(e)?aN:pN:Array.isArray(e)?fN:typeof e=="object"?gO:c0}function yO(e,t,r){const s=[],i=r||vO(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||dt:t;l=As(c,l)}s.push(l)}return s}function xN(e,t,{clamp:r=!0,ease:s,mixer:i}={}){const a=e.length;if(rx(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=yO(t,s,i),l=o.length,c=d=>{let m=0;if(l>1)for(;m<e.length-2&&!(d<e[m+1]);m++);const h=rl(e[m],e[m+1],d);return o[m](h)};return r?d=>c(Fs(e[0],e[a-1],d)):c}function bO(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const i=rl(0,t,s);e.push(at(r,1,i))}}function wO(e){const t=[0];return bO(t,e.length-1),t}function jO(e,t){return e.map(r=>r*t)}function NO(e,t){return e.map(()=>t||eN).splice(0,e.length-1)}function cd({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const i=sO(s)?s.map(o0):o0(s),a={done:!1,value:t[0]},o=jO(r&&r.length===t.length?r:wO(t),e),l=xN(o,t,{ease:Array.isArray(i)?i:NO(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function gN(e,t){return t?e*(1e3/t):0}const SO=5;function vN(e,t,r){const s=Math.max(t-SO,0);return gN(r-e(s),t-s)}const Nh=.001,CO=.01,d0=10,PO=.05,kO=1;function EO({duration:e=800,bounce:t=.25,velocity:r=0,mass:s=1}){let i,a;XA(e<=Os(d0));let o=1-t;o=Fs(PO,kO,o),e=Fs(CO,d0,Hn(e)),o<1?(i=d=>{const m=d*o,h=m*e,p=m-r,b=tf(d,o),j=Math.exp(-h);return Nh-p/b*j},a=d=>{const h=d*o*e,p=h*r+r,b=Math.pow(o,2)*Math.pow(d,2)*e,j=Math.exp(-h),f=tf(Math.pow(d,2),o);return(-i(d)+Nh>0?-1:1)*((p-b)*j)/f}):(i=d=>{const m=Math.exp(-d*e),h=(d-r)*e+1;return-Nh+m*h},a=d=>{const m=Math.exp(-d*e),h=(r-d)*(e*e);return m*h});const l=5/e,c=TO(i,a,l);if(e=Os(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const _O=12;function TO(e,t,r){let s=r;for(let i=1;i<_O;i++)s=s-e(s)/t(s);return s}function tf(e,t){return e*Math.sqrt(1-t*t)}const RO=["duration","bounce"],AO=["stiffness","damping","mass"];function u0(e,t){return t.some(r=>e[r]!==void 0)}function OO(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!u0(e,AO)&&u0(e,RO)){const r=EO(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function yN({keyframes:e,restDelta:t,restSpeed:r,...s}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:m,velocity:h,isResolvedFromDuration:p}=OO({...s,velocity:-Hn(s.velocity||0)}),b=h||0,j=c/(2*Math.sqrt(l*d)),f=a-i,w=Hn(Math.sqrt(l/d)),g=Math.abs(f)<5;r||(r=g?.01:2),t||(t=g?.005:.5);let x;if(j<1){const y=tf(w,j);x=N=>{const P=Math.exp(-j*w*N);return a-P*((b+j*w*f)/y*Math.sin(y*N)+f*Math.cos(y*N))}}else if(j===1)x=y=>a-Math.exp(-w*y)*(f+(b+w*f)*y);else{const y=w*Math.sqrt(j*j-1);x=N=>{const P=Math.exp(-j*w*N),_=Math.min(y*N,300);return a-P*((b+j*w*f)*Math.sinh(_)+y*f*Math.cosh(_))/y}}return{calculatedDuration:p&&m||null,next:y=>{const N=x(y);if(p)o.done=y>=m;else{let P=b;y!==0&&(j<1?P=vN(x,y,N):P=0);const _=Math.abs(P)<=r,k=Math.abs(a-N)<=t;o.done=_&&k}return o.value=o.done?a:N,o}}}function h0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:m}){const h=e[0],p={done:!1,value:h},b=E=>l!==void 0&&E<l||c!==void 0&&E>c,j=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let f=r*t;const w=h+f,g=o===void 0?w:o(w);g!==w&&(f=g-h);const x=E=>-f*Math.exp(-E/s),y=E=>g+x(E),N=E=>{const O=x(E),R=y(E);p.done=Math.abs(O)<=d,p.value=p.done?g:R};let P,_;const k=E=>{b(p.value)&&(P=E,_=yN({keyframes:[p.value,j(p.value)],velocity:vN(y,E,p.value),damping:i,stiffness:a,restDelta:d,restSpeed:m}))};return k(0),{calculatedDuration:null,next:E=>{let O=!1;return!_&&P===void 0&&(O=!0,N(E),k(E)),P!==void 0&&E>P?_.next(E-P):(!O&&N(E),p)}}}const MO=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Xe.update(t,!0),stop:()=>Zn(t),now:()=>Wt.isProcessing?Wt.timestamp:performance.now()}},m0=2e4;function f0(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<m0;)t+=r,s=e.next(t);return t>=m0?1/0:t}const $O={decay:h0,inertia:h0,tween:cd,keyframes:cd,spring:yN};function dd({autoplay:e=!0,delay:t=0,driver:r=MO,keyframes:s,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:m,onUpdate:h,...p}){let b=1,j=!1,f,w;const g=()=>{w=new Promise(W=>{f=W})};g();let x;const y=$O[i]||cd;let N;y!==cd&&typeof s[0]!="number"&&(N=xN([0,100],s,{clamp:!1}),s=[0,100]);const P=y({...p,keyframes:s});let _;l==="mirror"&&(_=y({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let k="idle",E=null,O=null,R=null;P.calculatedDuration===null&&a&&(P.calculatedDuration=f0(P));const{calculatedDuration:M}=P;let L=1/0,D=1/0;M!==null&&(L=M+o,D=L*(a+1)-o);let B=0;const G=W=>{if(O===null)return;b>0&&(O=Math.min(O,W)),b<0&&(O=Math.min(W-D/b,O)),E!==null?B=E:B=Math.round(W-O)*b;const T=B-t*(b>=0?1:-1),q=b>=0?T<0:T>D;B=Math.max(T,0),k==="finished"&&E===null&&(B=D);let re=B,Q=P;if(a){const se=Math.min(B,D)/L;let ue=Math.floor(se),ve=se%1;!ve&&se>=1&&(ve=1),ve===1&&ue--,ue=Math.min(ue,a+1),!!(ue%2)&&(l==="reverse"?(ve=1-ve,o&&(ve-=o/L)):l==="mirror"&&(Q=_)),re=Fs(0,1,ve)*L}const de=q?{done:!1,value:s[0]}:Q.next(re);N&&(de.value=N(de.value));let{done:X}=de;!q&&M!==null&&(X=b>=0?B>=D:B<=0);const K=E===null&&(k==="finished"||k==="running"&&X);return h&&h(de.value),K&&$(),de},z=()=>{x&&x.stop(),x=void 0},U=()=>{k="idle",z(),f(),g(),O=R=null},$=()=>{k="finished",m&&m(),z(),f()},F=()=>{if(j)return;x||(x=r(G));const W=x.now();c&&c(),E!==null?O=W-E:(!O||k==="finished")&&(O=W),k==="finished"&&g(),R=O,E=null,k="running",x.start()};e&&F();const H={then(W,T){return w.then(W,T)},get time(){return Hn(B)},set time(W){W=Os(W),B=W,E!==null||!x||b===0?E=W:O=x.now()-W/b},get duration(){const W=P.calculatedDuration===null?f0(P):P.calculatedDuration;return Hn(W)},get speed(){return b},set speed(W){W===b||!x||(b=W,H.time=Hn(B))},get state(){return k},play:F,pause:()=>{k="paused",E=B},stop:()=>{j=!0,k!=="idle"&&(k="idle",d&&d(),U())},cancel:()=>{R!==null&&G(R),U()},complete:()=>{k="finished"},sample:W=>(O=0,G(W))};return H}function IO(e){let t;return()=>(t===void 0&&(t=e()),t)}const DO=IO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LO=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),nc=10,FO=2e4,VO=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Y1(t.ease);function zO(e,t,{onUpdate:r,onComplete:s,...i}){if(!(DO()&&LO.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const m=()=>{c=new Promise(y=>{l=y})};m();let{keyframes:h,duration:p=300,ease:b,times:j}=i;if(VO(t,i)){const y=dd({...i,repeat:0,delay:0});let N={done:!1,value:h[0]};const P=[];let _=0;for(;!N.done&&_<FO;)N=y.sample(_),P.push(N.value),_+=nc;j=void 0,h=P,p=_-nc,b="linear"}const f=JA(e.owner.current,t,h,{...i,duration:p,ease:b,times:j}),w=()=>{d=!1,f.cancel()},g=()=>{d=!0,Xe.update(w),l(),m()};return f.onfinish=()=>{d||(e.set(QA(h,i)),s&&s(),g())},{then(y,N){return c.then(y,N)},attachTimeline(y){return f.timeline=y,f.onfinish=null,dt},get time(){return Hn(f.currentTime||0)},set time(y){f.currentTime=Os(y)},get speed(){return f.playbackRate},set speed(y){f.playbackRate=y},get duration(){return Hn(p)},play:()=>{o||(f.play(),Zn(w))},pause:()=>f.pause(),stop:()=>{if(o=!0,f.playState==="idle")return;const{currentTime:y}=f;if(y){const N=dd({...i,autoplay:!1});e.setWithVelocity(N.sample(y-nc).value,N.sample(y).value,nc)}g()},complete:()=>{d||f.finish()},cancel:g}}function BO({keyframes:e,delay:t,onUpdate:r,onComplete:s}){const i=()=>(r&&r(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:dt,pause:dt,stop:dt,then:a=>(a(),Promise.resolve()),cancel:dt,complete:dt});return t?dd({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const UO={type:"spring",stiffness:500,damping:25,restSpeed:10},WO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),HO={type:"keyframes",duration:.8},GO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qO=(e,{keyframes:t})=>t.length>2?HO:Ai.has(e)?e.startsWith("scale")?WO(t[1]):UO:GO,rf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vs.test(t)||t==="0")&&!t.startsWith("url(")),KO=new Set(["brightness","contrast","saturate","opacity"]);function XO(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(tu)||[];if(!s)return e;const i=r.replace(s,"");let a=KO.has(t)?1:0;return s!==r&&(a*=100),t+"("+a+i+")"}const YO=/([a-z-]*)\(.*?\)/g,nf={...Vs,getAnimatableNone:e=>{const t=e.match(YO);return t?t.map(XO).join(" "):e}},JO={...O1,color:Zt,backgroundColor:Zt,outlineColor:Zt,fill:Zt,stroke:Zt,borderColor:Zt,borderTopColor:Zt,borderRightColor:Zt,borderBottomColor:Zt,borderLeftColor:Zt,filter:nf,WebkitFilter:nf},ax=e=>JO[e];function bN(e,t){let r=ax(e);return r!==nf&&(r=Vs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const wN=e=>/^0[^.\s]+$/.test(e);function QO(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||wN(e)}function ZO(e,t,r,s){const i=rf(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=s.from!==void 0?s.from:e.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),QO(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(i&&c.length&&l)for(let d=0;d<c.length;d++){const m=c[d];a[m]=bN(t,l)}return a}function eM({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...m}){return!!Object.keys(m).length}function ox(e,t){return e[t]||e.default||e}const tM={skipAnimations:!1},lx=(e,t,r,s={})=>i=>{const a=ox(s,e)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-Os(o);const c=ZO(t,e,r,a),d=c[0],m=c[c.length-1],h=rf(e,d),p=rf(e,m);let b={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:j=>{t.set(j),a.onUpdate&&a.onUpdate(j)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(eM(a)||(b={...b,...qO(e,b)}),b.duration&&(b.duration=Os(b.duration)),b.repeatDelay&&(b.repeatDelay=Os(b.repeatDelay)),!h||!p||YA.current||a.type===!1||tM.skipAnimations)return BO(b);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const j=zO(t,e,b);if(j)return j}return dd(b)};function ud(e){return!!(xr(e)&&e.add)}const jN=e=>/^\-?\d*\.?\d+$/.test(e);function cx(e,t){e.indexOf(t)===-1&&e.push(t)}function dx(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class ux{constructor(){this.subscriptions=[]}add(t){return cx(this.subscriptions,t),()=>dx(this.subscriptions,t)}notify(t,r,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rM=e=>!isNaN(parseFloat(e));class nM{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,i=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=Wt;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rM(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ux);const s=this.events[t].add(r);return t==="change"?()=>{s(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ra(e,t){return new nM(e,t)}const NN=e=>t=>t.test(e),sM={test:e=>e==="auto",parse:e=>e},SN=[Oi,Pe,kn,ds,uA,dA,sM],ao=e=>SN.find(NN(e)),iM=[...SN,Zt,Vs],aM=e=>iM.find(NN(e));function oM(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ra(r))}function lM(e,t){const r=nu(e,t);let{transitionEnd:s={},transition:i={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...s};for(const o in a){const l=CA(a[o]);oM(e,o,l)}}function cM(e,t,r){var s,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=t[c];let m=null;Array.isArray(d)&&(m=d[0]),m===null&&(m=(i=(s=r[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&i!==void 0?i:t[c]),m!=null&&(typeof m=="string"&&(jN(m)||wN(m))?m=parseFloat(m):!aM(m)&&Vs.test(d)&&(m=bN(c,d)),e.addValue(c,Ra(m,{owner:e})),r[c]===void 0&&(r[c]=m),m!==null&&e.setBaseTarget(c,m))}}function dM(e,t){return t?(t[e]||t.default||t).from:void 0}function uM(e,t,r){const s={};for(const i in e){const a=dM(i,t);if(a!==void 0)s[i]=a;else{const o=r.getValue(i);o&&(s[i]=o.get())}}return s}function hM({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function mM(e,t){const r=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==r)return!0}else return r!==t}function CN(e,t,{delay:r=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(a=s);const d=[],m=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const p=e.getValue(h),b=l[h];if(!p||b===void 0||m&&hM(m,h))continue;const j={delay:r,elapsed:0,...ox(a||{},h)};if(window.HandoffAppearAnimations){const g=e.getProps()[P1];if(g){const x=window.HandoffAppearAnimations(g,h,p,Xe);x!==null&&(j.elapsed=x,j.isHandoff=!0)}}let f=!j.isHandoff&&!mM(p,b);if(j.type==="spring"&&(p.getVelocity()||j.velocity)&&(f=!1),p.animation&&(f=!1),f)continue;p.start(lx(h,p,b,e.shouldReduceMotion&&Ai.has(h)?{type:!1}:j));const w=p.animation;ud(c)&&(c.add(h),w.then(()=>c.remove(h))),d.push(w)}return o&&Promise.all(d).then(()=>{o&&lM(e,o)}),d}function sf(e,t,r={}){const s=nu(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(CN(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:h}=i;return fM(e,t,d+c,m,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function fM(e,t,r=0,s=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*s,c=i===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(pM).forEach((d,m)=>{d.notify("AnimationStart",t),o.push(sf(d,t,{...a,delay:r+c(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function pM(e,t){return e.sortNodePosition(t)}function xM(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>sf(e,a,r));s=Promise.all(i)}else if(typeof t=="string")s=sf(e,t,r);else{const i=typeof t=="function"?nu(e,t,r.custom):t;s=Promise.all(CN(e,i,r))}return s.then(()=>e.notify("AnimationComplete",t))}const gM=[...Gp].reverse(),vM=Gp.length;function yM(e){return t=>Promise.all(t.map(({animation:r,options:s})=>xM(e,r,s)))}function bM(e){let t=yM(e);const r=jM();let s=!0;const i=(c,d)=>{const m=nu(e,d);if(m){const{transition:h,transitionEnd:p,...b}=m;c={...c,...b,...p}}return c};function a(c){t=c(e)}function o(c,d){const m=e.getProps(),h=e.getVariantContext(!0)||{},p=[],b=new Set;let j={},f=1/0;for(let g=0;g<vM;g++){const x=gM[g],y=r[x],N=m[x]!==void 0?m[x]:h[x],P=el(N),_=x===d?y.isActive:null;_===!1&&(f=g);let k=N===h[x]&&N!==m[x]&&P;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...j},!y.isActive&&_===null||!N&&!y.prevProp||Zd(N)||typeof N=="boolean")continue;let O=wM(y.prevProp,N)||x===d&&y.isActive&&!k&&P||g>f&&P,R=!1;const M=Array.isArray(N)?N:[N];let L=M.reduce(i,{});_===!1&&(L={});const{prevResolvedValues:D={}}=y,B={...D,...L},G=z=>{O=!0,b.has(z)&&(R=!0,b.delete(z)),y.needsAnimating[z]=!0};for(const z in B){const U=L[z],$=D[z];if(j.hasOwnProperty(z))continue;let F=!1;od(U)&&od($)?F=!K1(U,$):F=U!==$,F?U!==void 0?G(z):b.add(z):U!==void 0&&b.has(z)?G(z):y.protectedKeys[z]=!0}y.prevProp=N,y.prevResolvedValues=L,y.isActive&&(j={...j,...L}),s&&e.blockInitialAnimation&&(O=!1),O&&(!k||R)&&p.push(...M.map(z=>({animation:z,options:{type:x,...c}})))}if(b.size){const g={};b.forEach(x=>{const y=e.getBaseTarget(x);y!==void 0&&(g[x]=y)}),p.push({animation:g})}let w=!!p.length;return s&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?t(p):Promise.resolve()}function l(c,d,m){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(b=>{var j;return(j=b.animationState)===null||j===void 0?void 0:j.setActive(c,d)}),r[c].isActive=d;const p=o(m,c);for(const b in r)r[b].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r}}function wM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!K1(t,e):!1}function Zs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jM(){return{animate:Zs(!0),whileInView:Zs(),whileHover:Zs(),whileTap:Zs(),whileDrag:Zs(),whileFocus:Zs(),exit:Zs()}}class NM extends Xs{constructor(t){super(t),t.animationState||(t.animationState=bM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Zd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let SM=0;class CM extends Xs{constructor(){super(...arguments),this.id=SM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const PM={animation:{Feature:NM},exit:{Feature:CM}},p0=(e,t)=>Math.abs(e-t);function kM(e,t){const r=p0(e.x,t.x),s=p0(e.y,t.y);return Math.sqrt(r**2+s**2)}class PN{constructor(t,r,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ch(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,b=kM(h.offset,{x:0,y:0})>=3;if(!p&&!b)return;const{point:j}=h,{timestamp:f}=Wt;this.history.push({...j,timestamp:f});const{onStart:w,onMove:g}=this.handlers;p||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Sh(p,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ch(h.type==="pointercancel"?this.lastMoveEventInfo:Sh(p,this.transformPagePoint),this.history);this.startEvent&&b&&b(h,w),j&&j(h,w)},!U1(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=s,this.contextWindow=i||window;const o=ru(t),l=Sh(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Wt;this.history=[{...c,timestamp:d}];const{onSessionStart:m}=r;m&&m(t,Ch(l,this.history)),this.removeListeners=As(Wn(this.contextWindow,"pointermove",this.handlePointerMove),Wn(this.contextWindow,"pointerup",this.handlePointerUp),Wn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zn(this.updatePoint)}}function Sh(e,t){return t?{point:t(e.point)}:e}function x0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ch({point:e},t){return{point:e,delta:x0(e,kN(t)),offset:x0(e,EM(t)),velocity:_M(t,.1)}}function EM(e){return e[0]}function kN(e){return e[e.length-1]}function _M(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const i=kN(e);for(;r>=0&&(s=e[r],!(i.timestamp-s.timestamp>Os(t)));)r--;if(!s)return{x:0,y:0};const a=Hn(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Cr(e){return e.max-e.min}function af(e,t=0,r=.01){return Math.abs(e-t)<=r}function g0(e,t,r,s=.5){e.origin=s,e.originPoint=at(t.min,t.max,e.origin),e.scale=Cr(r)/Cr(t),(af(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=at(r.min,r.max,e.origin)-e.originPoint,(af(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ko(e,t,r,s){g0(e.x,t.x,r.x,s?s.originX:void 0),g0(e.y,t.y,r.y,s?s.originY:void 0)}function v0(e,t,r){e.min=r.min+t.min,e.max=e.min+Cr(t)}function TM(e,t,r){v0(e.x,t.x,r.x),v0(e.y,t.y,r.y)}function y0(e,t,r){e.min=t.min-r.min,e.max=e.min+Cr(t)}function Eo(e,t,r){y0(e.x,t.x,r.x),y0(e.y,t.y,r.y)}function RM(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?at(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?at(r,e,s.max):Math.min(e,r)),e}function b0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function AM(e,{top:t,left:r,bottom:s,right:i}){return{x:b0(e.x,r,i),y:b0(e.y,t,s)}}function w0(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function OM(e,t){return{x:w0(e.x,t.x),y:w0(e.y,t.y)}}function MM(e,t){let r=.5;const s=Cr(e),i=Cr(t);return i>s?r=rl(t.min,t.max-s,e.min):s>i&&(r=rl(e.min,e.max-i,t.min)),Fs(0,1,r)}function $M(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const of=.35;function IM(e=of){return e===!1?e=0:e===!0&&(e=of),{x:j0(e,"left","right"),y:j0(e,"top","bottom")}}function j0(e,t,r){return{min:N0(e,t),max:N0(e,r)}}function N0(e,t){return typeof e=="number"?e:e[t]||0}const S0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:S0(),y:S0()}),C0=()=>({min:0,max:0}),vt=()=>({x:C0(),y:C0()});function Rr(e){return[e("x"),e("y")]}function EN({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function DM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LM(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function Ph(e){return e===void 0||e===1}function lf({scale:e,scaleX:t,scaleY:r}){return!Ph(e)||!Ph(t)||!Ph(r)}function ni(e){return lf(e)||_N(e)||e.z||e.rotate||e.rotateX||e.rotateY}function _N(e){return P0(e.x)||P0(e.y)}function P0(e){return e&&e!=="0%"}function hd(e,t,r){const s=e-r,i=t*s;return r+i}function k0(e,t,r,s,i){return i!==void 0&&(e=hd(e,i,s)),hd(e,r,s)+t}function cf(e,t=0,r=1,s,i){e.min=k0(e.min,t,r,s,i),e.max=k0(e.max,t,r,s,i)}function TN(e,{x:t,y:r}){cf(e.x,t.translate,t.scale,t.originPoint),cf(e.y,r.translate,r.scale,r.originPoint)}function FM(e,t,r,s=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&da(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,TN(e,o)),s&&ni(a.latestValues)&&da(e,a.latestValues))}t.x=E0(t.x),t.y=E0(t.y)}function E0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ps(e,t){e.min=e.min+t,e.max=e.max+t}function _0(e,t,[r,s,i]){const a=t[i]!==void 0?t[i]:.5,o=at(e.min,e.max,a);cf(e,t[r],t[s],o,t.scale)}const VM=["x","scaleX","originX"],zM=["y","scaleY","originY"];function da(e,t){_0(e.x,t,VM),_0(e.y,t,zM)}function RN(e,t){return EN(LM(e.getBoundingClientRect(),t))}function BM(e,t,r){const s=RN(e,r),{scroll:i}=t;return i&&(ps(s.x,i.offset.x),ps(s.y,i.offset.y)),s}const AN=({current:e})=>e?e.ownerDocument.defaultView:null,UM=new WeakMap;class WM{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ru(m,"page").point)},a=(m,h)=>{const{drag:p,dragPropagation:b,onDragStart:j}=this.getProps();if(p&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=H1(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(w=>{let g=this.getAxisMotionValue(w).get()||0;if(kn.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const y=x.layout.layoutBox[w];y&&(g=Cr(y)*(parseFloat(g)/100))}}this.originPoint[w]=g}),j&&Xe.update(()=>j(m,h),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(m,h)=>{const{dragPropagation:p,dragDirectionLock:b,onDirectionLock:j,onDrag:f}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:w}=h;if(b&&this.currentDirection===null){this.currentDirection=HM(w),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),f&&f(m,h)},l=(m,h)=>this.stop(m,h),c=()=>Rr(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PN(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:AN(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Xe.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:i}=this.getProps();if(!s||!sc(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=RM(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&oa(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=AM(i.layoutBox,r):this.constraints=!1,this.elastic=IM(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=$M(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!oa(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=BM(s,i.root,this.visualElement.getTransformPagePoint());let o=OM(i.layout.layoutBox,a);if(r){const l=r(DM(o));this.hasMutatedConstraints=!!l,l&&(o=EN(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Rr(m=>{if(!sc(m,r,this.currentDirection))return;let h=c&&c[m]||{};o&&(h={min:0,max:0});const p=i?200:1e6,b=i?40:1e7,j={type:"inertia",velocity:s?t[m]:0,bounceStiffness:p,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(m,j)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return s.start(lx(t,s,0,r))}stopAnimation(){Rr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),i=s[r];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Rr(r=>{const{drag:s}=this.getProps();if(!sc(r,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-at(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!oa(r)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rr(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=MM({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Rr(o=>{if(!sc(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(at(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;UM.set(this.visualElement,this);const t=this.visualElement.current,r=Wn(t,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();oa(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const o=Bn(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rr(m=>{const h=this.getAxisMotionValue(m);h&&(this.originPoint[m]+=c[m].translate,h.set(h.get()+c[m].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=of,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function sc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function HM(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class GM extends Xs{constructor(t){super(t),this.removeGroupControls=dt,this.removeListeners=dt,this.controls=new WM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const T0=e=>(t,r)=>{e&&Xe.update(()=>e(t,r))};class qM extends Xs{constructor(){super(...arguments),this.removePointerDownListener=dt}onPointerDown(t){this.session=new PN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:T0(t),onStart:T0(r),onMove:s,onEnd:(a,o)=>{delete this.session,i&&Xe.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=Wn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function KM(){const e=u.useContext(Jd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,i=u.useId();return u.useEffect(()=>s(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}const _c={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function R0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const oo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pe.test(e))e=parseFloat(e);else return e;const r=R0(e,t.target.x),s=R0(e,t.target.y);return`${r}% ${s}%`}},XM={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,i=Vs.parse(e);if(i.length>5)return s;const a=Vs.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=at(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class YM extends me.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;nA(JM),a&&(r.group&&r.group.add(a),s&&s.register&&i&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_c.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:i,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Xe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ON(e){const[t,r]=KM(),s=u.useContext(Kp);return me.createElement(YM,{...e,layoutGroup:s,switchLayoutGroup:u.useContext(E1),isPresent:t,safeToRemove:r})}const JM={borderRadius:{...oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oo,borderTopRightRadius:oo,borderBottomLeftRadius:oo,borderBottomRightRadius:oo,boxShadow:XM},MN=["TopLeft","TopRight","BottomLeft","BottomRight"],QM=MN.length,A0=e=>typeof e=="string"?parseFloat(e):e,O0=e=>typeof e=="number"||Pe.test(e);function ZM(e,t,r,s,i,a){i?(e.opacity=at(0,r.opacity!==void 0?r.opacity:1,e6(s)),e.opacityExit=at(t.opacity!==void 0?t.opacity:1,0,t6(s))):a&&(e.opacity=at(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<QM;o++){const l=`border${MN[o]}Radius`;let c=M0(t,l),d=M0(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||O0(c)===O0(d)?(e[l]=Math.max(at(A0(c),A0(d),s),0),(kn.test(d)||kn.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=at(t.rotate||0,r.rotate||0,s))}function M0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const e6=$N(0,.5,nN),t6=$N(.5,.95,dt);function $N(e,t,r){return s=>s<e?0:s>t?1:r(rl(e,t,s))}function $0(e,t){e.min=t.min,e.max=t.max}function Tr(e,t){$0(e.x,t.x),$0(e.y,t.y)}function I0(e,t,r,s,i){return e-=t,e=hd(e,1/r,s),i!==void 0&&(e=hd(e,1/i,s)),e}function r6(e,t=0,r=1,s=.5,i,a=e,o=e){if(kn.test(t)&&(t=parseFloat(t),t=at(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=at(a.min,a.max,s);e===a&&(l-=t),e.min=I0(e.min,t,r,l,i),e.max=I0(e.max,t,r,l,i)}function D0(e,t,[r,s,i],a,o){r6(e,t[r],t[s],t[i],t.scale,a,o)}const n6=["x","scaleX","originX"],s6=["y","scaleY","originY"];function L0(e,t,r,s){D0(e.x,t,n6,r?r.x:void 0,s?s.x:void 0),D0(e.y,t,s6,r?r.y:void 0,s?s.y:void 0)}function F0(e){return e.translate===0&&e.scale===1}function IN(e){return F0(e.x)&&F0(e.y)}function i6(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function DN(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function V0(e){return Cr(e.x)/Cr(e.y)}class a6{constructor(){this.members=[]}add(t){cx(this.members,t),t.scheduleRender()}remove(t){if(dx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let s;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z0(e,t,r){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(s=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:d,rotateY:m}=r;c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),m&&(s+=`rotateY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const o6=(e,t)=>e.depth-t.depth;class l6{constructor(){this.children=[],this.isDirty=!1}add(t){cx(this.children,t),this.isDirty=!0}remove(t){dx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(o6),this.isDirty=!1,this.children.forEach(t)}}function c6(e,t){const r=performance.now(),s=({timestamp:i})=>{const a=i-r;a>=t&&(Zn(s),e(a-t))};return Xe.read(s,!0),()=>Zn(s)}function d6(e){window.MotionDebug&&window.MotionDebug.record(e)}function u6(e){return e instanceof SVGElement&&e.tagName!=="svg"}function h6(e,t,r){const s=xr(e)?e:Ra(e);return s.start(lx("",s,t,r)),s.animation}const B0=["","X","Y","Z"],m6={visibility:"hidden"},U0=1e3;let f6=0;const si={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function LN({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=f6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,si.totalNodes=si.resolvedTargetDeltas=si.recalculatedProjection=0,this.nodes.forEach(g6),this.nodes.forEach(j6),this.nodes.forEach(N6),this.nodes.forEach(v6),d6(si)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new l6)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ux),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=u6(o),this.instance=o;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=c6(p,250),_c.hasAnimatedSinceResize&&(_c.hasAnimatedSinceResize=!1,this.nodes.forEach(H0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:b,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||m.getDefaultTransition()||E6,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=m.getProps(),x=!this.targetLayout||!DN(this.targetLayout,j)||b,y=!p&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const N={...ox(f,"layout"),onPlay:w,onComplete:g};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||H0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(S6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const h=this.path[m];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W0);return}this.isUpdating||this.nodes.forEach(b6),this.isUpdating=!1,this.nodes.forEach(w6),this.nodes.forEach(p6),this.nodes.forEach(x6),this.clearAllSnapshots();const l=performance.now();Wt.delta=Fs(0,1e3/60,l-Wt.timestamp),Wt.timestamp=l,Wt.isProcessing=!0,xh.update.process(Wt),xh.preRender.process(Wt),xh.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(y6),this.sharedNodes.forEach(C6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!IN(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&(l||ni(this.latestValues)||m)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_6(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return vt();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(ps(l.x,c.offset.x),ps(l.y,c.offset.y)),l}removeElementScroll(o){const l=vt();Tr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:h}=d;if(d!==this.root&&m&&h.layoutScroll){if(m.isRoot){Tr(l,o);const{scroll:p}=this.root;p&&(ps(l.x,-p.offset.x),ps(l.y,-p.offset.y))}ps(l.x,m.offset.x),ps(l.y,m.offset.y)}}return l}applyTransform(o,l=!1){const c=vt();Tr(c,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&da(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ni(m.latestValues)&&da(c,m.latestValues)}return ni(this.latestValues)&&da(c,this.latestValues),c}removeTransform(o){const l=vt();Tr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ni(d.latestValues))continue;lf(d.latestValues)&&d.updateSnapshot();const m=vt(),h=d.measurePageBox();Tr(m,h),L0(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return ni(this.latestValues)&&L0(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Eo(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tr(this.target,this.layout.layoutBox),TN(this.target,this.targetDelta)):Tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Eo(this.relativeTargetOrigin,this.target,b.target),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}si.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lf(this.parent.latestValues)||_N(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;Tr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,b=this.treeScale.y;FM(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:j}=l;if(!j){this.projectionTransform&&(this.projectionDelta=ca(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca());const f=this.projectionTransform;ko(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=z0(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==p||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),si.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},h=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=vt(),b=c?c.source:void 0,j=this.layout?this.layout.source:void 0,f=b!==j,w=this.getStack(),g=!w||w.members.length<=1,x=!!(f&&!g&&this.options.crossfade===!0&&!this.path.some(k6));this.animationProgress=0;let y;this.mixTargetDelta=N=>{const P=N/1e3;G0(h.x,o.x,P),G0(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P6(this.relativeTarget,this.relativeTargetOrigin,p,P),y&&i6(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=vt()),Tr(y,this.relativeTarget)),f&&(this.animationValues=m,ZM(m,d,this.latestValues,P,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{_c.hasAnimatedSinceResize=!0,this.currentAnimation=h6(0,U0,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:m}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&FN(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||vt();const h=Cr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=Cr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Tr(l,c),da(l,m),ko(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new a6),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let m=0;m<B0.length;m++){const h="rotate"+B0[m];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const m in d)o.setStaticValue(m,d[m]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return m6;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ec(o==null?void 0:o.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Ec(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ni(this.latestValues)&&(f.transform=m?m({},""):"none",this.hasProjected=!1),f}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=z0(this.projectionDeltaWithTransform,this.treeScale,p),m&&(d.transform=m(p,d.transform));const{x:b,y:j}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${j.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const f in id){if(p[f]===void 0)continue;const{correct:w,applyTo:g}=id[f],x=d.transform==="none"?p[f]:w(p[f],h);if(g){const y=g.length;for(let N=0;N<y;N++)d[g[N]]=x}else d[f]=x}return this.options.layoutId&&(d.pointerEvents=h===this?Ec(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(W0),this.root.sharedNodes.clear()}}}function p6(e){e.updateLayout()}function x6(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?Rr(h=>{const p=o?r.measuredBox[h]:r.layoutBox[h],b=Cr(p);p.min=s[h].min,p.max=p.min+b}):FN(a,r.layoutBox,s)&&Rr(h=>{const p=o?r.measuredBox[h]:r.layoutBox[h],b=Cr(s[h]);p.max=p.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+b)});const l=ca();ko(l,s,r.layoutBox);const c=ca();o?ko(c,e.applyTransform(i,!0),r.measuredBox):ko(c,s,r.layoutBox);const d=!IN(l);let m=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:b}=h;if(p&&b){const j=vt();Eo(j,r.layoutBox,p.layoutBox);const f=vt();Eo(f,s,b.layoutBox),DN(j,f)||(m=!0),h.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=j,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function g6(e){si.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function v6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y6(e){e.clearSnapshot()}function W0(e){e.clearMeasurements()}function b6(e){e.isLayoutDirty=!1}function w6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function j6(e){e.resolveTargetDelta()}function N6(e){e.calcProjection()}function S6(e){e.resetRotation()}function C6(e){e.removeLeadSnapshot()}function G0(e,t,r){e.translate=at(t.translate,0,r),e.scale=at(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function q0(e,t,r,s){e.min=at(t.min,r.min,s),e.max=at(t.max,r.max,s)}function P6(e,t,r,s){q0(e.x,t.x,r.x,s),q0(e.y,t.y,r.y,s)}function k6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const E6={duration:.45,ease:[.4,0,.1,1]},K0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),X0=K0("applewebkit/")&&!K0("chrome/")?Math.round:dt;function Y0(e){e.min=X0(e.min),e.max=X0(e.max)}function _6(e){Y0(e.x),Y0(e.y)}function FN(e,t,r){return e==="position"||e==="preserve-aspect"&&!af(V0(t),V0(r),.2)}const T6=LN({attachResizeListener:(e,t)=>Bn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kh={current:void 0},VN=LN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kh.current){const e=new T6({});e.mount(window),e.setOptions({layoutScroll:!0}),kh.current=e}return kh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),R6={pan:{Feature:qM},drag:{Feature:GM,ProjectionNode:VN,MeasureLayout:ON}},A6=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function O6(e){const t=A6.exec(e);if(!t)return[,];const[,r,s]=t;return[r,s]}function df(e,t,r=1){const[s,i]=O6(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return jN(o)?parseFloat(o):o}else return Qm(i)?df(i,t,r+1):i}function M6(e,{...t},r){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const a=i.get();if(!Qm(a))return;const o=df(a,s);o&&i.set(o)});for(const i in t){const a=t[i];if(!Qm(a))continue;const o=df(a,s);o&&(t[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:t,transitionEnd:r}}const $6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zN=e=>$6.has(e),I6=e=>Object.keys(e).some(zN),J0=e=>e===Oi||e===Pe,Q0=(e,t)=>parseFloat(e.split(", ")[t]),Z0=(e,t)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return Q0(i[1],t);{const a=s.match(/^matrix\((.+)\)$/);return a?Q0(a[1],e):0}},D6=new Set(["x","y","z"]),L6=pl.filter(e=>!D6.has(e));function F6(e){const t=[];return L6.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Aa={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Z0(4,13),y:Z0(5,14)};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const V6=(e,t,r)=>{const s=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(d=>{l[d]=Aa[d](s,a)}),t.render();const c=t.measureViewportBox();return r.forEach(d=>{const m=t.getValue(d);m&&m.jump(l[d]),e[d]=Aa[d](c,a)}),e},z6=(e,t,r={},s={})=>{t={...t},s={...s};const i=Object.keys(t).filter(zN);let a=[],o=!1;const l=[];if(i.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let m=r[c],h=ao(m);const p=t[c];let b;if(od(p)){const j=p.length,f=p[0]===null?1:0;m=p[f],h=ao(m);for(let w=f;w<j&&p[w]!==null;w++)b?rx(ao(p[w])===b):b=ao(p[w])}else b=ao(p);if(h!==b)if(J0(h)&&J0(b)){const j=d.get();typeof j=="string"&&d.set(parseFloat(j)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&b===Pe&&(t[c]=p.map(parseFloat))}else h!=null&&h.transform&&(b!=null&&b.transform)&&(m===0||p===0)?m===0?d.set(b.transform(m)):t[c]=h.transform(p):(o||(a=F6(e),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],d.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=V6(t,e,l);return a.length&&a.forEach(([m,h])=>{e.getValue(m).set(h)}),e.render(),Qd&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:s}}else return{target:t,transitionEnd:s}};function B6(e,t,r,s){return I6(t)?z6(e,t,r,s):{target:t,transitionEnd:s}}const U6=(e,t,r,s)=>{const i=M6(e,t,s);return t=i.target,s=i.transitionEnd,B6(e,t,r,s)},uf={current:null},BN={current:!1};function W6(){if(BN.current=!0,!!Qd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uf.current=e.matches;e.addListener(t),t()}else uf.current=!1}function H6(e,t,r){const{willChange:s}=t;for(const i in t){const a=t[i],o=r[i];if(xr(a))e.addValue(i,a),ud(s)&&s.add(i);else if(xr(o))e.addValue(i,Ra(a,{owner:e})),ud(s)&&s.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,Ra(l!==void 0?l:a,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const ey=new WeakMap,UN=Object.keys(tl),G6=UN.length,ty=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],q6=qp.length;class K6{constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=eu(r),this.isVariantNode=k1(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(r,{});for(const h in m){const p=m[h];l[h]!==void 0&&xr(p)&&(p.set(l[h],!1),ud(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,ey.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),BN.current||W6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ey.delete(this.current),this.projection&&this.projection.unmount(),Zn(this.notifyUpdate),Zn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const s=Ai.has(t),i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Xe.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},s,i,a){let o,l;for(let c=0;c<G6;c++){const d=UN[c],{isEnabled:m,Feature:h,ProjectionNode:p,MeasureLayout:b}=tl[d];p&&(o=p),m(r)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),b&&(l=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:m,dragConstraints:h,layoutScroll:p,layoutRoot:b}=r;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!m||h&&oa(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:b})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<ty.length;s++){const i=ty[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=H6(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<q6;s++){const i=qp[s],a=this.props[i];(el(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=Ra(r,{owner:this}),this.addValue(t,s)),s}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:s}=this.props,i=typeof s=="string"||typeof s=="object"?(r=tx(this.props,s))===null||r===void 0?void 0:r[t]:void 0;if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!xr(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ux),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class WN extends K6{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...s},{transformValues:i},a){let o=uM(s,t||{},this);if(i&&(r&&(r=i(r)),s&&(s=i(s)),o&&(o=i(o))),a){cM(this,s,o);const l=U6(this,s,o,r);r=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:r,...s}}}function X6(e){return window.getComputedStyle(e)}class Y6 extends WN{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Ai.has(r)){const s=ax(r);return s&&s.default||0}else{const s=X6(t),i=(R1(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return RN(t,r)}build(t,r,s,i){Yp(t,r,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return ex(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,s,i){D1(t,r,s,i)}}class J6 extends WN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ai.has(r)){const s=ax(r);return s&&s.default||0}return r=L1.has(r)?r:Hp(r),t.getAttribute(r)}measureInstanceViewportBox(){return vt()}scrapeMotionValuesFromProps(t,r){return V1(t,r)}build(t,r,s,i){Qp(t,r,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,s,i){F1(t,r,s,i)}mount(t){this.isSVGTag=Zp(t.tagName),super.mount(t)}}const Q6=(e,t)=>Xp(e)?new J6(t,{enableHardwareAcceleration:!1}):new Y6(t,{enableHardwareAcceleration:!0}),Z6={layout:{ProjectionNode:VN,MeasureLayout:ON}},e$={...PM,...GA,...R6,...Z6},Z=tA((e,t)=>OA(e,t,e$,Q6));function HN(){const e=u.useRef(!1);return Wp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function t$(){const e=HN(),[t,r]=u.useState(0),s=u.useCallback(()=>{e.current&&r(t+1)},[t]);return[u.useCallback(()=>Xe.postRender(s),[s]),t]}class r$ extends u.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function n$({children:e,isPresent:t}){const r=u.useId(),s=u.useRef(null),i=u.useRef({width:0,height:0,top:0,left:0});return u.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!s.current||!a||!o)return;s.current.dataset.motionPopId=r;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),u.createElement(r$,{isPresent:t,childRef:s,sizeRef:i},u.cloneElement(e,{ref:s}))}const Eh=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=z1(s$),c=u.useId(),d=u.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:m=>{l.set(m,!0);for(const h of l.values())if(!h)return;s&&s()},register:m=>(l.set(m,!1),()=>l.delete(m))}),a?void 0:[r]);return u.useMemo(()=>{l.forEach((m,h)=>l.set(h,!1))},[r]),u.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),o==="popLayout"&&(e=u.createElement(n$,{isPresent:r},e)),u.createElement(Jd.Provider,{value:d},e)};function s$(){return new Map}function i$(e){return u.useEffect(()=>()=>e(),[])}const ii=e=>e.key||"";function a$(e,t){e.forEach(r=>{const s=ii(r);t.set(s,r)})}function o$(e){const t=[];return u.Children.forEach(e,r=>{u.isValidElement(r)&&t.push(r)}),t}const hx=({children:e,custom:t,initial:r=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=u.useContext(Kp).forceRender||t$()[0],c=HN(),d=o$(e);let m=d;const h=u.useRef(new Map).current,p=u.useRef(m),b=u.useRef(new Map).current,j=u.useRef(!0);if(Wp(()=>{j.current=!1,a$(d,b),p.current=m}),i$(()=>{j.current=!0,b.clear(),h.clear()}),j.current)return u.createElement(u.Fragment,null,m.map(x=>u.createElement(Eh,{key:ii(x),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},x)));m=[...m];const f=p.current.map(ii),w=d.map(ii),g=f.length;for(let x=0;x<g;x++){const y=f[x];w.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return o==="wait"&&h.size&&(m=[]),h.forEach((x,y)=>{if(w.indexOf(y)!==-1)return;const N=b.get(y);if(!N)return;const P=f.indexOf(y);let _=x;if(!_){const k=()=>{h.delete(y);const E=Array.from(b.keys()).filter(O=>!w.includes(O));if(E.forEach(O=>b.delete(O)),p.current=d.filter(O=>{const R=ii(O);return R===y||E.includes(R)}),!h.size){if(c.current===!1)return;l(),s&&s()}};_=u.createElement(Eh,{key:ii(N),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:a,mode:o},N),h.set(y,_)}m.splice(P,0,_)}),m=m.map(x=>{const y=x.key;return h.has(y)?x:u.createElement(Eh,{key:ii(x),isPresent:!0,presenceAffectsLayout:a,mode:o},x)}),u.createElement(u.Fragment,null,h.size?m:m.map(x=>u.cloneElement(x)))},mx=Hd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-olivePrimary text-white hover:bg-olivePrimary/90",destructive:"bg-brightOrange text-white hover:bg-brightOrange/90",outline:"border border-olivePrimary/30 bg-background text-darkOlive hover:bg-lightGreen/30 hover:text-olivePrimary hover:border-olivePrimary",secondary:"bg-lightGreen text-darkOlive hover:bg-lightGreen/80",ghost:"hover:bg-lightGreen hover:text-olivePrimary",link:"text-burntOrange underline-offset-4 hover:underline",accent:"bg-burntOrange text-white hover:bg-burntOrange/90",neutral:"bg-lightBrownGray text-white hover:bg-lightBrownGray/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=me.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...i},a)=>{const o=s?Y5:"button";return n.jsx(o,{className:ge(mx({variant:t,size:r,className:e})),ref:a,...i})});V.displayName="Button";const he=me.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));he.displayName="Input";var GN={exports:{}},qN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=u;function l$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c$=typeof Object.is=="function"?Object.is:l$,d$=Oa.useState,u$=Oa.useEffect,h$=Oa.useLayoutEffect,m$=Oa.useDebugValue;function f$(e,t){var r=t(),s=d$({inst:{value:r,getSnapshot:t}}),i=s[0].inst,a=s[1];return h$(function(){i.value=r,i.getSnapshot=t,_h(i)&&a({inst:i})},[e,r,t]),u$(function(){return _h(i)&&a({inst:i}),e(function(){_h(i)&&a({inst:i})})},[e]),m$(r),r}function _h(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!c$(e,r)}catch{return!0}}function p$(e,t){return t()}var x$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p$:f$;qN.useSyncExternalStore=Oa.useSyncExternalStore!==void 0?Oa.useSyncExternalStore:x$;GN.exports=qN;var g$=GN.exports;function v$(){return g$.useSyncExternalStore(y$,()=>!0,()=>!1)}function y$(){return()=>{}}var fx="Avatar",[b$,zV]=Er(fx),[w$,KN]=b$(fx),XN=u.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[i,a]=u.useState("idle");return n.jsx(w$,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:n.jsx(_e.span,{...s,ref:t})})});XN.displayName=fx;var YN="AvatarImage",JN=u.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=KN(YN,r),l=j$(s,a),c=pr(d=>{i(d),o.onImageLoadingStatusChange(d)});return Ur(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(_e.img,{...a,ref:t,src:s}):null});JN.displayName=YN;var QN="AvatarFallback",ZN=u.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...i}=e,a=KN(QN,r),[o,l]=u.useState(s===void 0);return u.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?n.jsx(_e.span,{...i,ref:t}):null});ZN.displayName=QN;function ry(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function j$(e,{referrerPolicy:t,crossOrigin:r}){const s=v$(),i=u.useRef(null),a=(()=>s?(i.current||(i.current=new window.Image),i.current):null)(),[o,l]=u.useState(()=>ry(a,e));return Ur(()=>{l(ry(a,e))},[a,e]),Ur(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),m=c("error");return a.addEventListener("load",d),a.addEventListener("error",m),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",d),a.removeEventListener("error",m)}},[a,r,t]),o}var e2=XN,t2=JN,r2=ZN;const qt=me.forwardRef(({className:e,...t},r)=>n.jsx(e2,{ref:r,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));qt.displayName=e2.displayName;const rr=me.forwardRef(({className:e,...t},r)=>n.jsx(t2,{ref:r,className:ge("aspect-square h-full w-full",e),...t}));rr.displayName=t2.displayName;const Kt=me.forwardRef(({className:e,...t},r)=>n.jsx(r2,{ref:r,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kt.displayName=r2.displayName;var N$=u.createContext(void 0);function su(e){const t=u.useContext(N$);return e||t||"ltr"}var Th=0;function n2(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ny()),document.body.insertAdjacentElement("beforeend",e[1]??ny()),Th++,()=>{Th===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Th--}},[])}function ny(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Rh="focusScope.autoFocusOnMount",Ah="focusScope.autoFocusOnUnmount",sy={bubbles:!1,cancelable:!0},S$="FocusScope",px=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=u.useState(null),d=pr(i),m=pr(a),h=u.useRef(null),p=Fe(t,f=>c(f)),b=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(s){let f=function(y){if(b.paused||!l)return;const N=y.target;l.contains(N)?h.current=N:us(h.current,{select:!0})},w=function(y){if(b.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||us(h.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const P of y)P.removedNodes.length>0&&us(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",w);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",w),x.disconnect()}}},[s,l,b.paused]),u.useEffect(()=>{if(l){ay.add(b);const f=document.activeElement;if(!l.contains(f)){const g=new CustomEvent(Rh,sy);l.addEventListener(Rh,d),l.dispatchEvent(g),g.defaultPrevented||(C$(T$(s2(l)),{select:!0}),document.activeElement===f&&us(l))}return()=>{l.removeEventListener(Rh,d),setTimeout(()=>{const g=new CustomEvent(Ah,sy);l.addEventListener(Ah,m),l.dispatchEvent(g),g.defaultPrevented||us(f??document.body,{select:!0}),l.removeEventListener(Ah,m),ay.remove(b)},0)}}},[l,d,m,b]);const j=u.useCallback(f=>{if(!r&&!s||b.paused)return;const w=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,g=document.activeElement;if(w&&g){const x=f.currentTarget,[y,N]=P$(x);y&&N?!f.shiftKey&&g===N?(f.preventDefault(),r&&us(y,{select:!0})):f.shiftKey&&g===y&&(f.preventDefault(),r&&us(N,{select:!0})):g===x&&f.preventDefault()}},[r,s,b.paused]);return n.jsx(_e.div,{tabIndex:-1,...o,ref:p,onKeyDown:j})});px.displayName=S$;function C$(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(us(s,{select:t}),document.activeElement!==r)return}function P$(e){const t=s2(e),r=iy(t,e),s=iy(t.reverse(),e);return[r,s]}function s2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iy(e,t){for(const r of e)if(!k$(r,{upTo:t}))return r}function k$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function E$(e){return e instanceof HTMLInputElement&&"select"in e}function us(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&E$(e)&&t&&e.select()}}var ay=_$();function _$(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=oy(e,t),e.unshift(t)},remove(t){var r;e=oy(e,t),(r=e[0])==null||r.resume()}}}function oy(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function T$(e){return e.filter(t=>t.tagName!=="A")}var R$=Nd[" useId ".trim().toString()]||(()=>{}),A$=0;function vi(e){const[t,r]=u.useState(R$());return Ur(()=>{e||r(s=>s??String(A$++))},[e]),e||(t?`radix-${t}`:"")}const O$=["top","right","bottom","left"],zs=Math.min,yr=Math.max,md=Math.round,ic=Math.floor,En=e=>({x:e,y:e}),M$={left:"right",right:"left",bottom:"top",top:"bottom"},$$={start:"end",end:"start"};function hf(e,t,r){return yr(e,zs(t,r))}function es(e,t){return typeof e=="function"?e(t):e}function ts(e){return e.split("-")[0]}function Ua(e){return e.split("-")[1]}function xx(e){return e==="x"?"y":"x"}function gx(e){return e==="y"?"height":"width"}function Gn(e){return["top","bottom"].includes(ts(e))?"y":"x"}function vx(e){return xx(Gn(e))}function I$(e,t,r){r===void 0&&(r=!1);const s=Ua(e),i=vx(e),a=gx(i);let o=i==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=fd(o)),[o,fd(o)]}function D$(e){const t=fd(e);return[mf(e),t,mf(t)]}function mf(e){return e.replace(/start|end/g,t=>$$[t])}function L$(e,t,r){const s=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:s:t?s:i;case"left":case"right":return t?a:o;default:return[]}}function F$(e,t,r,s){const i=Ua(e);let a=L$(ts(e),r==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(mf)))),a}function fd(e){return e.replace(/left|right|bottom|top/g,t=>M$[t])}function V$(e){return{top:0,right:0,bottom:0,left:0,...e}}function i2(e){return typeof e!="number"?V$(e):{top:e,right:e,bottom:e,left:e}}function pd(e){const{x:t,y:r,width:s,height:i}=e;return{width:s,height:i,top:r,left:t,right:t+s,bottom:r+i,x:t,y:r}}function ly(e,t,r){let{reference:s,floating:i}=e;const a=Gn(t),o=vx(t),l=gx(o),c=ts(t),d=a==="y",m=s.x+s.width/2-i.width/2,h=s.y+s.height/2-i.height/2,p=s[l]/2-i[l]/2;let b;switch(c){case"top":b={x:m,y:s.y-i.height};break;case"bottom":b={x:m,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:h};break;case"left":b={x:s.x-i.width,y:h};break;default:b={x:s.x,y:s.y}}switch(Ua(t)){case"start":b[o]-=p*(r&&d?-1:1);break;case"end":b[o]+=p*(r&&d?-1:1);break}return b}const z$=async(e,t,r)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:h}=ly(d,s,c),p=s,b={},j=0;for(let f=0;f<l.length;f++){const{name:w,fn:g}=l[f],{x,y,data:N,reset:P}=await g({x:m,y:h,initialPlacement:s,placement:p,strategy:i,middlewareData:b,rects:d,platform:o,elements:{reference:e,floating:t}});m=x??m,h=y??h,b={...b,[w]:{...b[w],...N}},P&&j<=50&&(j++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:m,y:h}=ly(d,p,c)),f=-1)}return{x:m,y:h,placement:p,strategy:i,middlewareData:b}};async function nl(e,t){var r;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:p=!1,padding:b=0}=es(t,e),j=i2(b),w=l[p?h==="floating"?"reference":"floating":h],g=pd(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:c})),x=h==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},P=pd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(g.top-P.top+j.top)/N.y,bottom:(P.bottom-g.bottom+j.bottom)/N.y,left:(g.left-P.left+j.left)/N.x,right:(P.right-g.right+j.right)/N.x}}const B$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:m=0}=es(e,t)||{};if(d==null)return{};const h=i2(m),p={x:r,y:s},b=vx(i),j=gx(b),f=await o.getDimensions(d),w=b==="y",g=w?"top":"left",x=w?"bottom":"right",y=w?"clientHeight":"clientWidth",N=a.reference[j]+a.reference[b]-p[b]-a.floating[j],P=p[b]-a.reference[b],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=_?_[y]:0;(!k||!await(o.isElement==null?void 0:o.isElement(_)))&&(k=l.floating[y]||a.floating[j]);const E=N/2-P/2,O=k/2-f[j]/2-1,R=zs(h[g],O),M=zs(h[x],O),L=R,D=k-f[j]-M,B=k/2-f[j]/2+E,G=hf(L,B,D),z=!c.arrow&&Ua(i)!=null&&B!==G&&a.reference[j]/2-(B<L?R:M)-f[j]/2<0,U=z?B<L?B-L:B-D:0;return{[b]:p[b]+U,data:{[b]:G,centerOffset:B-G-U,...z&&{alignmentOffset:U}},reset:z}}}),U$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:f=!0,...w}=es(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const g=ts(i),x=Gn(l),y=ts(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=p||(y||!f?[fd(l)]:D$(l)),_=j!=="none";!p&&_&&P.push(...F$(l,f,j,N));const k=[l,...P],E=await nl(t,w),O=[];let R=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&O.push(E[g]),h){const G=I$(i,o,N);O.push(E[G[0]],E[G[1]])}if(R=[...R,{placement:i,overflows:O}],!O.every(G=>G<=0)){var M,L;const G=(((M=a.flip)==null?void 0:M.index)||0)+1,z=k[G];if(z){var D;const $=h==="alignment"?x!==Gn(z):!1,F=((D=R[0])==null?void 0:D.overflows[0])>0;if(!$||F)return{data:{index:G,overflows:R},reset:{placement:z}}}let U=(L=R.filter($=>$.overflows[0]<=0).sort(($,F)=>$.overflows[1]-F.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(b){case"bestFit":{var B;const $=(B=R.filter(F=>{if(_){const H=Gn(F.placement);return H===x||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,W)=>H+W,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:B[0];$&&(U=$);break}case"initialPlacement":U=l;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function cy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dy(e){return O$.some(t=>e[t]>=0)}const W$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...i}=es(e,t);switch(s){case"referenceHidden":{const a=await nl(t,{...i,elementContext:"reference"}),o=cy(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dy(o)}}}case"escaped":{const a=await nl(t,{...i,altBoundary:!0}),o=cy(a,r.floating);return{data:{escapedOffsets:o,escaped:dy(o)}}}default:return{}}}}};async function H$(e,t){const{placement:r,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=ts(r),l=Ua(r),c=Gn(r)==="y",d=["left","top"].includes(o)?-1:1,m=a&&c?-1:1,h=es(t,e);let{mainAxis:p,crossAxis:b,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof j=="number"&&(b=l==="end"?j*-1:j),c?{x:b*m,y:p*d}:{x:p*d,y:b*m}}const G$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await H$(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},q$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:g,y:x}=w;return{x:g,y:x}}},...c}=es(e,t),d={x:r,y:s},m=await nl(t,c),h=Gn(ts(i)),p=xx(h);let b=d[p],j=d[h];if(a){const w=p==="y"?"top":"left",g=p==="y"?"bottom":"right",x=b+m[w],y=b-m[g];b=hf(x,b,y)}if(o){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=j+m[w],y=j-m[g];j=hf(x,j,y)}const f=l.fn({...t,[p]:b,[h]:j});return{...f,data:{x:f.x-r,y:f.y-s,enabled:{[p]:a,[h]:o}}}}}},K$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=es(e,t),m={x:r,y:s},h=Gn(i),p=xx(h);let b=m[p],j=m[h];const f=es(l,t),w=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const y=p==="y"?"height":"width",N=a.reference[p]-a.floating[y]+w.mainAxis,P=a.reference[p]+a.reference[y]-w.mainAxis;b<N?b=N:b>P&&(b=P)}if(d){var g,x;const y=p==="y"?"width":"height",N=["top","left"].includes(ts(i)),P=a.reference[h]-a.floating[y]+(N&&((g=o.offset)==null?void 0:g[h])||0)+(N?0:w.crossAxis),_=a.reference[h]+a.reference[y]+(N?0:((x=o.offset)==null?void 0:x[h])||0)-(N?w.crossAxis:0);j<P?j=P:j>_&&(j=_)}return{[p]:b,[h]:j}}}},X$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=es(e,t),m=await nl(t,d),h=ts(i),p=Ua(i),b=Gn(i)==="y",{width:j,height:f}=a.floating;let w,g;h==="top"||h==="bottom"?(w=h,g=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,w=p==="end"?"top":"bottom");const x=f-m.top-m.bottom,y=j-m.left-m.right,N=zs(f-m[w],x),P=zs(j-m[g],y),_=!t.middlewareData.shift;let k=N,E=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=x),_&&!p){const R=yr(m.left,0),M=yr(m.right,0),L=yr(m.top,0),D=yr(m.bottom,0);b?E=j-2*(R!==0||M!==0?R+M:yr(m.left,m.right)):k=f-2*(L!==0||D!==0?L+D:yr(m.top,m.bottom))}await c({...t,availableWidth:E,availableHeight:k});const O=await o.getDimensions(l.floating);return j!==O.width||f!==O.height?{reset:{rects:!0}}:{}}}};function iu(){return typeof window<"u"}function Wa(e){return a2(e)?(e.nodeName||"").toLowerCase():"#document"}function Nr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function On(e){var t;return(t=(a2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function a2(e){return iu()?e instanceof Node||e instanceof Nr(e).Node:!1}function on(e){return iu()?e instanceof Element||e instanceof Nr(e).Element:!1}function Tn(e){return iu()?e instanceof HTMLElement||e instanceof Nr(e).HTMLElement:!1}function uy(e){return!iu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nr(e).ShadowRoot}function yl(e){const{overflow:t,overflowX:r,overflowY:s,display:i}=ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(i)}function Y$(e){return["table","td","th"].includes(Wa(e))}function au(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function yx(e){const t=bx(),r=on(e)?ln(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function J$(e){let t=Bs(e);for(;Tn(t)&&!Ma(t);){if(yx(t))return t;if(au(t))return null;t=Bs(t)}return null}function bx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ma(e){return["html","body","#document"].includes(Wa(e))}function ln(e){return Nr(e).getComputedStyle(e)}function ou(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bs(e){if(Wa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uy(e)&&e.host||On(e);return uy(t)?t.host:t}function o2(e){const t=Bs(e);return Ma(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tn(t)&&yl(t)?t:o2(t)}function sl(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=o2(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=Nr(i);if(a){const l=ff(o);return t.concat(o,o.visualViewport||[],yl(i)?i:[],l&&r?sl(l):[])}return t.concat(i,sl(i,[],r))}function ff(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function l2(e){const t=ln(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=Tn(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:s,l=md(r)!==a||md(s)!==o;return l&&(r=a,s=o),{width:r,height:s,$:l}}function wx(e){return on(e)?e:e.contextElement}function ya(e){const t=wx(e);if(!Tn(t))return En(1);const r=t.getBoundingClientRect(),{width:s,height:i,$:a}=l2(t);let o=(a?md(r.width):r.width)/s,l=(a?md(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Q$=En(0);function c2(e){const t=Nr(e);return!bx()||!t.visualViewport?Q$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Z$(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Nr(e)?!1:t}function ki(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=wx(e);let o=En(1);t&&(s?on(s)&&(o=ya(s)):o=ya(e));const l=Z$(a,r,s)?c2(a):En(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,m=i.width/o.x,h=i.height/o.y;if(a){const p=Nr(a),b=s&&on(s)?Nr(s):s;let j=p,f=ff(j);for(;f&&s&&b!==j;){const w=ya(f),g=f.getBoundingClientRect(),x=ln(f),y=g.left+(f.clientLeft+parseFloat(x.paddingLeft))*w.x,N=g.top+(f.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,d*=w.y,m*=w.x,h*=w.y,c+=y,d+=N,j=Nr(f),f=ff(j)}}return pd({width:m,height:h,x:c,y:d})}function jx(e,t){const r=ou(e).scrollLeft;return t?t.left+r:ki(On(e)).left+r}function d2(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(r?0:jx(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function eI(e){let{elements:t,rect:r,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=On(s),l=t?au(t.floating):!1;if(s===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=En(1);const m=En(0),h=Tn(s);if((h||!h&&!a)&&((Wa(s)!=="body"||yl(o))&&(c=ou(s)),Tn(s))){const b=ki(s);d=ya(s),m.x=b.x+s.clientLeft,m.y=b.y+s.clientTop}const p=o&&!h&&!a?d2(o,c,!0):En(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+m.x+p.x,y:r.y*d.y-c.scrollTop*d.y+m.y+p.y}}function tI(e){return Array.from(e.getClientRects())}function rI(e){const t=On(e),r=ou(e),s=e.ownerDocument.body,i=yr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=yr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+jx(e);const l=-r.scrollTop;return ln(s).direction==="rtl"&&(o+=yr(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function nI(e,t){const r=Nr(e),s=On(e),i=r.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=bx();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function sI(e,t){const r=ki(e,!0,t==="fixed"),s=r.top+e.clientTop,i=r.left+e.clientLeft,a=Tn(e)?ya(e):En(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=s*a.y;return{width:o,height:l,x:c,y:d}}function hy(e,t,r){let s;if(t==="viewport")s=nI(e,r);else if(t==="document")s=rI(On(e));else if(on(t))s=sI(t,r);else{const i=c2(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return pd(s)}function u2(e,t){const r=Bs(e);return r===t||!on(r)||Ma(r)?!1:ln(r).position==="fixed"||u2(r,t)}function iI(e,t){const r=t.get(e);if(r)return r;let s=sl(e,[],!1).filter(l=>on(l)&&Wa(l)!=="body"),i=null;const a=ln(e).position==="fixed";let o=a?Bs(e):e;for(;on(o)&&!Ma(o);){const l=ln(o),c=yx(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||yl(o)&&!c&&u2(e,o))?s=s.filter(m=>m!==o):i=l,o=Bs(o)}return t.set(e,s),s}function aI(e){let{element:t,boundary:r,rootBoundary:s,strategy:i}=e;const o=[...r==="clippingAncestors"?au(t)?[]:iI(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,m)=>{const h=hy(t,m,i);return d.top=yr(h.top,d.top),d.right=zs(h.right,d.right),d.bottom=zs(h.bottom,d.bottom),d.left=yr(h.left,d.left),d},hy(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oI(e){const{width:t,height:r}=l2(e);return{width:t,height:r}}function lI(e,t,r){const s=Tn(t),i=On(t),a=r==="fixed",o=ki(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=En(0);function d(){c.x=jx(i)}if(s||!s&&!a)if((Wa(t)!=="body"||yl(i))&&(l=ou(t)),s){const b=ki(t,!0,a,t);c.x=b.x+t.clientLeft,c.y=b.y+t.clientTop}else i&&d();a&&!s&&i&&d();const m=i&&!s&&!a?d2(i,l):En(0),h=o.left+l.scrollLeft-c.x-m.x,p=o.top+l.scrollTop-c.y-m.y;return{x:h,y:p,width:o.width,height:o.height}}function Oh(e){return ln(e).position==="static"}function my(e,t){if(!Tn(e)||ln(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return On(e)===r&&(r=r.ownerDocument.body),r}function h2(e,t){const r=Nr(e);if(au(e))return r;if(!Tn(e)){let i=Bs(e);for(;i&&!Ma(i);){if(on(i)&&!Oh(i))return i;i=Bs(i)}return r}let s=my(e,t);for(;s&&Y$(s)&&Oh(s);)s=my(s,t);return s&&Ma(s)&&Oh(s)&&!yx(s)?r:s||J$(e)||r}const cI=async function(e){const t=this.getOffsetParent||h2,r=this.getDimensions,s=await r(e.floating);return{reference:lI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function dI(e){return ln(e).direction==="rtl"}const uI={convertOffsetParentRelativeRectToViewportRelativeRect:eI,getDocumentElement:On,getClippingRect:aI,getOffsetParent:h2,getElementRects:cI,getClientRects:tI,getDimensions:oI,getScale:ya,isElement:on,isRTL:dI};function m2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hI(e,t){let r=null,s;const i=On(e);function a(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:m,top:h,width:p,height:b}=d;if(l||t(),!p||!b)return;const j=ic(h),f=ic(i.clientWidth-(m+p)),w=ic(i.clientHeight-(h+b)),g=ic(m),y={rootMargin:-j+"px "+-f+"px "+-w+"px "+-g+"px",threshold:yr(0,zs(1,c))||1};let N=!0;function P(_){const k=_[0].intersectionRatio;if(k!==c){if(!N)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!m2(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(P,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(P,y)}r.observe(e)}return o(!0),a}function f2(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=wx(e),m=i||a?[...d?sl(d):[],...sl(t)]:[];m.forEach(g=>{i&&g.addEventListener("scroll",r,{passive:!0}),a&&g.addEventListener("resize",r)});const h=d&&l?hI(d,r):null;let p=-1,b=null;o&&(b=new ResizeObserver(g=>{let[x]=g;x&&x.target===d&&b&&(b.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=b)==null||y.observe(t)})),r()}),d&&!c&&b.observe(d),b.observe(t));let j,f=c?ki(e):null;c&&w();function w(){const g=ki(e);f&&!m2(f,g)&&r(),f=g,j=requestAnimationFrame(w)}return r(),()=>{var g;m.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(g=b)==null||g.disconnect(),b=null,c&&cancelAnimationFrame(j)}}const mI=G$,fI=q$,pI=U$,xI=X$,gI=W$,fy=B$,vI=K$,yI=(e,t,r)=>{const s=new Map,i={platform:uI,...r},a={...i.platform,_c:s};return z$(e,t,{...i,platform:a})};var Tc=typeof document<"u"?u.useLayoutEffect:u.useEffect;function xd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!xd(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=r;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!xd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function p2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function py(e,t){const r=p2(e);return Math.round(t*r)/r}function Mh(e){const t=u.useRef(e);return Tc(()=>{t.current=e}),t}function x2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[m,h]=u.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,b]=u.useState(s);xd(p,s)||b(s);const[j,f]=u.useState(null),[w,g]=u.useState(null),x=u.useCallback($=>{$!==_.current&&(_.current=$,f($))},[]),y=u.useCallback($=>{$!==k.current&&(k.current=$,g($))},[]),N=a||j,P=o||w,_=u.useRef(null),k=u.useRef(null),E=u.useRef(m),O=c!=null,R=Mh(c),M=Mh(i),L=Mh(d),D=u.useCallback(()=>{if(!_.current||!k.current)return;const $={placement:t,strategy:r,middleware:p};M.current&&($.platform=M.current),yI(_.current,k.current,$).then(F=>{const H={...F,isPositioned:L.current!==!1};B.current&&!xd(E.current,H)&&(E.current=H,Gs.flushSync(()=>{h(H)}))})},[p,t,r,M,L]);Tc(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[d]);const B=u.useRef(!1);Tc(()=>(B.current=!0,()=>{B.current=!1}),[]),Tc(()=>{if(N&&(_.current=N),P&&(k.current=P),N&&P){if(R.current)return R.current(N,P,D);D()}},[N,P,D,R,O]);const G=u.useMemo(()=>({reference:_,floating:k,setReference:x,setFloating:y}),[x,y]),z=u.useMemo(()=>({reference:N,floating:P}),[N,P]),U=u.useMemo(()=>{const $={position:r,left:0,top:0};if(!z.floating)return $;const F=py(z.floating,m.x),H=py(z.floating,m.y);return l?{...$,transform:"translate("+F+"px, "+H+"px)",...p2(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:H}},[r,l,z.floating,m.x,m.y]);return u.useMemo(()=>({...m,update:D,refs:G,elements:z,floatingStyles:U}),[m,D,G,z,U])}const bI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:i}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?fy({element:s.current,padding:i}).fn(r):{}:s?fy({element:s,padding:i}).fn(r):{}}}},g2=(e,t)=>({...mI(e),options:[e,t]}),v2=(e,t)=>({...fI(e),options:[e,t]}),y2=(e,t)=>({...vI(e),options:[e,t]}),b2=(e,t)=>({...pI(e),options:[e,t]}),w2=(e,t)=>({...xI(e),options:[e,t]}),j2=(e,t)=>({...gI(e),options:[e,t]}),N2=(e,t)=>({...bI(e),options:[e,t]});var wI="Arrow",S2=u.forwardRef((e,t)=>{const{children:r,width:s=10,height:i=5,...a}=e;return n.jsx(_e.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});S2.displayName=wI;var jI=S2;function lu(e){const[t,r]=u.useState(void 0);return Ur(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Nx="Popper",[C2,P2]=Er(Nx),[NI,k2]=C2(Nx),E2=e=>{const{__scopePopper:t,children:r}=e,[s,i]=u.useState(null);return n.jsx(NI,{scope:t,anchor:s,onAnchorChange:i,children:r})};E2.displayName=Nx;var _2="PopperAnchor",T2=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...i}=e,a=k2(_2,r),o=u.useRef(null),l=Fe(t,o);return u.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(_e.div,{...i,ref:l})});T2.displayName=_2;var Sx="PopperContent",[SI,CI]=C2(Sx),R2=u.forwardRef((e,t)=>{var X,K,se,ue,ve,ke;const{__scopePopper:r,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:b="optimized",onPlaced:j,...f}=e,w=k2(Sx,r),[g,x]=u.useState(null),y=Fe(t,ce=>x(ce)),[N,P]=u.useState(null),_=lu(N),k=(_==null?void 0:_.width)??0,E=(_==null?void 0:_.height)??0,O=s+(a!=="center"?"-"+a:""),R=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},M=Array.isArray(d)?d:[d],L=M.length>0,D={padding:R,boundary:M.filter(kI),altBoundary:L},{refs:B,floatingStyles:G,placement:z,isPositioned:U,middlewareData:$}=x2({strategy:"fixed",placement:O,whileElementsMounted:(...ce)=>f2(...ce,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[g2({mainAxis:i+E,alignmentAxis:o}),c&&v2({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?y2():void 0,...D}),c&&b2({...D}),w2({...D,apply:({elements:ce,rects:Ie,availableWidth:Be,availableHeight:ut})=>{const{width:xt,height:gr}=Ie.reference,_r=ce.floating.style;_r.setProperty("--radix-popper-available-width",`${Be}px`),_r.setProperty("--radix-popper-available-height",`${ut}px`),_r.setProperty("--radix-popper-anchor-width",`${xt}px`),_r.setProperty("--radix-popper-anchor-height",`${gr}px`)}}),N&&N2({element:N,padding:l}),EI({arrowWidth:k,arrowHeight:E}),p&&j2({strategy:"referenceHidden",...D})]}),[F,H]=M2(z),W=pr(j);Ur(()=>{U&&(W==null||W())},[U,W]);const T=(X=$.arrow)==null?void 0:X.x,q=(K=$.arrow)==null?void 0:K.y,re=((se=$.arrow)==null?void 0:se.centerOffset)!==0,[Q,de]=u.useState();return Ur(()=>{g&&de(window.getComputedStyle(g).zIndex)},[g]),n.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:U?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(ue=$.transformOrigin)==null?void 0:ue.x,(ve=$.transformOrigin)==null?void 0:ve.y].join(" "),...((ke=$.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(SI,{scope:r,placedSide:F,onArrowChange:P,arrowX:T,arrowY:q,shouldHideArrow:re,children:n.jsx(_e.div,{"data-side":F,"data-align":H,...f,ref:y,style:{...f.style,animation:U?void 0:"none"}})})})});R2.displayName=Sx;var A2="PopperArrow",PI={top:"bottom",right:"left",bottom:"top",left:"right"},O2=u.forwardRef(function(t,r){const{__scopePopper:s,...i}=t,a=CI(A2,s),o=PI[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx(jI,{...i,ref:r,style:{...i.style,display:"block"}})})});O2.displayName=A2;function kI(e){return e!==null}var EI=e=>({name:"transformOrigin",options:e,fn(t){var w,g,x;const{placement:r,rects:s,middlewareData:i}=t,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,m]=M2(r),h={start:"0%",center:"50%",end:"100%"}[m],p=(((g=i.arrow)==null?void 0:g.x)??0)+l/2,b=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let j="",f="";return d==="bottom"?(j=o?h:`${p}px`,f=`${-c}px`):d==="top"?(j=o?h:`${p}px`,f=`${s.floating.height+c}px`):d==="right"?(j=`${-c}px`,f=o?h:`${b}px`):d==="left"&&(j=`${s.floating.width+c}px`,f=o?h:`${b}px`),{data:{x:j,y:f}}}});function M2(e){const[t,r="center"]=e.split("-");return[t,r]}var _I=E2,TI=T2,RI=R2,AI=O2,$h="rovingFocusGroup.onEntryFocus",OI={bubbles:!1,cancelable:!0},bl="RovingFocusGroup",[pf,$2,MI]=zd(bl),[$I,cu]=Er(bl,[MI]),[II,DI]=$I(bl),I2=u.forwardRef((e,t)=>n.jsx(pf.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(pf.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(LI,{...e,ref:t})})}));I2.displayName=bl;var LI=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...h}=e,p=u.useRef(null),b=Fe(t,p),j=su(a),[f,w]=Ks({prop:o,defaultProp:l??null,onChange:c,caller:bl}),[g,x]=u.useState(!1),y=pr(d),N=$2(r),P=u.useRef(!1),[_,k]=u.useState(0);return u.useEffect(()=>{const E=p.current;if(E)return E.addEventListener($h,y),()=>E.removeEventListener($h,y)},[y]),n.jsx(II,{scope:r,orientation:s,dir:j,loop:i,currentTabStopId:f,onItemFocus:u.useCallback(E=>w(E),[w]),onItemShiftTab:u.useCallback(()=>x(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:u.useCallback(()=>k(E=>E-1),[]),children:n.jsx(_e.div,{tabIndex:g||_===0?-1:0,"data-orientation":s,...h,ref:b,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{P.current=!0}),onFocus:be(e.onFocus,E=>{const O=!P.current;if(E.target===E.currentTarget&&O&&!g){const R=new CustomEvent($h,OI);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const M=N().filter(z=>z.focusable),L=M.find(z=>z.active),D=M.find(z=>z.id===f),G=[L,D,...M].filter(Boolean).map(z=>z.ref.current);F2(G,m)}}P.current=!1}),onBlur:be(e.onBlur,()=>x(!1))})})}),D2="RovingFocusGroupItem",L2=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=vi(),d=a||c,m=DI(D2,r),h=m.currentTabStopId===d,p=$2(r),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:f}=m;return u.useEffect(()=>{if(s)return b(),()=>j()},[s,b,j]),n.jsx(pf.ItemSlot,{scope:r,id:d,focusable:s,active:i,children:n.jsx(_e.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...l,ref:t,onMouseDown:be(e.onMouseDown,w=>{s?m.onItemFocus(d):w.preventDefault()}),onFocus:be(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:be(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=zI(w,m.orientation,m.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=p().filter(N=>N.focusable).map(N=>N.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const N=y.indexOf(w.currentTarget);y=m.loop?BI(y,N+1):y.slice(N+1)}setTimeout(()=>F2(y))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:f!=null}):o})})});L2.displayName=D2;var FI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zI(e,t,r){const s=VI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return FI[s]}function F2(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function BI(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var V2=I2,z2=L2,UI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bi=new WeakMap,ac=new WeakMap,oc={},Ih=0,B2=function(e){return e&&(e.host||B2(e.parentNode))},WI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=B2(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HI=function(e,t,r,s){var i=WI(t,Array.isArray(e)?e:[e]);oc[r]||(oc[r]=new WeakMap);var a=oc[r],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var m=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))m(p);else try{var b=p.getAttribute(s),j=b!==null&&b!=="false",f=(Bi.get(p)||0)+1,w=(a.get(p)||0)+1;Bi.set(p,f),a.set(p,w),o.push(p),f===1&&j&&ac.set(p,!0),w===1&&p.setAttribute(r,"true"),j||p.setAttribute(s,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return m(t),l.clear(),Ih++,function(){o.forEach(function(h){var p=Bi.get(h)-1,b=a.get(h)-1;Bi.set(h,p),a.set(h,b),p||(ac.has(h)||h.removeAttribute(s),ac.delete(h)),b||h.removeAttribute(r)}),Ih--,Ih||(Bi=new WeakMap,Bi=new WeakMap,ac=new WeakMap,oc={})}},Cx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=t||UI(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),HI(s,i,r,"aria-hidden")):function(){return null}},Gt=function(){return Gt=Object.assign||function(t){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Gt.apply(this,arguments)};function Px(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r}function U2(e,t,r){if(r||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var _o="right-scroll-bar-position",To="width-before-scroll-bar",GI="with-scroll-bars-hidden",qI="--removed-body-scroll-bar-size";function Dh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function KI(e,t){var r=u.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var i=r.value;i!==s&&(r.value=s,r.callback(s,i))}}}})[0];return r.callback=t,r.facade}var XI=typeof window<"u"?u.useLayoutEffect:u.useEffect,xy=new WeakMap;function W2(e,t){var r=KI(t||null,function(s){return e.forEach(function(i){return Dh(i,s)})});return XI(function(){var s=xy.get(r);if(s){var i=new Set(s),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||Dh(l,null)}),a.forEach(function(l){i.has(l)||Dh(l,o)})}xy.set(r,e)},[e]),r}function YI(e){return e}function JI(e,t){t===void 0&&(t=YI);var r=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var m=o;o=[],m.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),r}}}};return i}function H2(e){e===void 0&&(e={});var t=JI(null);return t.options=Gt({async:!0,ssr:!1},e),t}var G2=function(e){var t=e.sideCar,r=Px(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return u.createElement(s,Gt({},r))};G2.isSideCarExport=!0;function q2(e,t){return e.useMedium(t),G2}var K2=H2(),Lh=function(){},du=u.forwardRef(function(e,t){var r=u.useRef(null),s=u.useState({onScrollCapture:Lh,onWheelCapture:Lh,onTouchMoveCapture:Lh}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,h=e.shards,p=e.sideCar,b=e.noIsolation,j=e.inert,f=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,x=e.gapMode,y=Px(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,P=W2([r,t]),_=Gt(Gt({},y),i);return u.createElement(u.Fragment,null,m&&u.createElement(N,{sideCar:K2,removeScrollBar:d,shards:h,noIsolation:b,inert:j,setCallbacks:a,allowPinchZoom:!!f,lockRef:r,gapMode:x}),o?u.cloneElement(u.Children.only(l),Gt(Gt({},_),{ref:P})):u.createElement(g,Gt({},_,{className:c,ref:P}),l))});du.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};du.classNames={fullWidth:To,zeroRight:_o};var gy,QI=function(){if(gy)return gy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QI();return t&&e.setAttribute("nonce",t),e}function eD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ZI())&&(eD(t,r),tD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nD=function(){var e=rD();return function(t,r){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kx=function(){var e=nD(),t=function(r){var s=r.styles,i=r.dynamic;return e(s,i),null};return t},sD={left:0,top:0,right:0,gap:0},Fh=function(e){return parseInt(e||"",10)||0},iD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Fh(r),Fh(s),Fh(i)]},aD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sD;var t=iD(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},oD=kx(),ba="data-scroll-locked",lD=function(e,t,r,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(GI,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(ba,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_o,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(To,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(_o," .").concat(_o,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(To," .").concat(To,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ba,`] {
    `).concat(qI,": ").concat(l,`px;
  }
`)},vy=function(){var e=parseInt(document.body.getAttribute(ba)||"0",10);return isFinite(e)?e:0},cD=function(){u.useEffect(function(){return document.body.setAttribute(ba,(vy()+1).toString()),function(){var e=vy()-1;e<=0?document.body.removeAttribute(ba):document.body.setAttribute(ba,e.toString())}},[])},X2=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;cD();var a=u.useMemo(function(){return aD(i)},[i]);return u.createElement(oD,{styles:lD(a,!t,i,r?"":"!important")})},xf=!1;if(typeof window<"u")try{var lc=Object.defineProperty({},"passive",{get:function(){return xf=!0,!0}});window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{xf=!1}var Ui=xf?{passive:!1}:!1,dD=function(e){return e.tagName==="TEXTAREA"},Y2=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dD(e)&&r[t]==="visible")},uD=function(e){return Y2(e,"overflowY")},hD=function(e){return Y2(e,"overflowX")},yy=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=J2(e,s);if(i){var a=Q2(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},mD=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},fD=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},J2=function(e,t){return e==="v"?uD(t):hD(t)},Q2=function(e,t){return e==="v"?mD(t):fD(t)},pD=function(e,t){return e==="h"&&t==="rtl"?-1:1},xD=function(e,t,r,s,i){var a=pD(e,window.getComputedStyle(t).direction),o=a*s,l=r.target,c=t.contains(l),d=!1,m=o>0,h=0,p=0;do{var b=Q2(e,l),j=b[0],f=b[1],w=b[2],g=f-w-a*j;(j||g)&&J2(e,l)&&(h+=g,p+=j),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(m&&(i&&Math.abs(h)<1||!i&&o>h)||!m&&(i&&Math.abs(p)<1||!i&&-o>p))&&(d=!0),d},cc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},by=function(e){return[e.deltaX,e.deltaY]},wy=function(e){return e&&"current"in e?e.current:e},gD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yD=0,Wi=[];function bD(e){var t=u.useRef([]),r=u.useRef([0,0]),s=u.useRef(),i=u.useState(yD++)[0],a=u.useState(kx)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var f=U2([e.lockRef.current],(e.shards||[]).map(wy),!0).filter(Boolean);return f.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),f.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(f,w){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!o.current.allowPinchZoom;var g=cc(f),x=r.current,y="deltaX"in f?f.deltaX:x[0]-g[0],N="deltaY"in f?f.deltaY:x[1]-g[1],P,_=f.target,k=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in f&&k==="h"&&_.type==="range")return!1;var E=yy(k,_);if(!E)return!0;if(E?P=k:(P=k==="v"?"h":"v",E=yy(k,_)),!E)return!1;if(!s.current&&"changedTouches"in f&&(y||N)&&(s.current=P),!P)return!0;var O=s.current||P;return xD(O,w,f,O==="h"?y:N,!0)},[]),c=u.useCallback(function(f){var w=f;if(!(!Wi.length||Wi[Wi.length-1]!==a)){var g="deltaY"in w?by(w):cc(w),x=t.current.filter(function(P){return P.name===w.type&&(P.target===w.target||w.target===P.shadowParent)&&gD(P.delta,g)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var y=(o.current.shards||[]).map(wy).filter(Boolean).filter(function(P){return P.contains(w.target)}),N=y.length>0?l(w,y[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=u.useCallback(function(f,w,g,x){var y={name:f,delta:w,target:g,should:x,shadowParent:wD(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),m=u.useCallback(function(f){r.current=cc(f),s.current=void 0},[]),h=u.useCallback(function(f){d(f.type,by(f),f.target,l(f,e.lockRef.current))},[]),p=u.useCallback(function(f){d(f.type,cc(f),f.target,l(f,e.lockRef.current))},[]);u.useEffect(function(){return Wi.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ui),document.addEventListener("touchmove",c,Ui),document.addEventListener("touchstart",m,Ui),function(){Wi=Wi.filter(function(f){return f!==a}),document.removeEventListener("wheel",c,Ui),document.removeEventListener("touchmove",c,Ui),document.removeEventListener("touchstart",m,Ui)}},[]);var b=e.removeScrollBar,j=e.inert;return u.createElement(u.Fragment,null,j?u.createElement(a,{styles:vD(i)}):null,b?u.createElement(X2,{gapMode:e.gapMode}):null)}function wD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jD=q2(K2,bD);var Z2=u.forwardRef(function(e,t){return u.createElement(du,Gt({},e,{ref:t,sideCar:jD}))});Z2.classNames=du.classNames;const eS=Z2;var gf=["Enter"," "],ND=["ArrowDown","PageUp","Home"],tS=["ArrowUp","PageDown","End"],SD=[...ND,...tS],CD={ltr:[...gf,"ArrowRight"],rtl:[...gf,"ArrowLeft"]},PD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wl="Menu",[il,kD,ED]=zd(wl),[Mi,rS]=Er(wl,[ED,P2,cu]),uu=P2(),nS=cu(),[_D,$i]=Mi(wl),[TD,jl]=Mi(wl),sS=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,l=uu(t),[c,d]=u.useState(null),m=u.useRef(!1),h=pr(a),p=su(i);return u.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),n.jsx(_I,{...l,children:n.jsx(_D,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:n.jsx(TD,{scope:t,onClose:u.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:p,modal:o,children:s})})})};sS.displayName=wl;var RD="MenuAnchor",Ex=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,i=uu(r);return n.jsx(TI,{...i,...s,ref:t})});Ex.displayName=RD;var _x="MenuPortal",[AD,iS]=Mi(_x,{forceMount:void 0}),aS=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:i}=e,a=$i(_x,t);return n.jsx(AD,{scope:t,forceMount:r,children:n.jsx(xn,{present:r||a.open,children:n.jsx(Ud,{asChild:!0,container:i,children:s})})})};aS.displayName=_x;var Vr="MenuContent",[OD,Tx]=Mi(Vr),oS=u.forwardRef((e,t)=>{const r=iS(Vr,e.__scopeMenu),{forceMount:s=r.forceMount,...i}=e,a=$i(Vr,e.__scopeMenu),o=jl(Vr,e.__scopeMenu);return n.jsx(il.Provider,{scope:e.__scopeMenu,children:n.jsx(xn,{present:s||a.open,children:n.jsx(il.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(MD,{...i,ref:t}):n.jsx($D,{...i,ref:t})})})})}),MD=u.forwardRef((e,t)=>{const r=$i(Vr,e.__scopeMenu),s=u.useRef(null),i=Fe(t,s);return u.useEffect(()=>{const a=s.current;if(a)return Cx(a)},[]),n.jsx(Rx,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:be(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),$D=u.forwardRef((e,t)=>{const r=$i(Vr,e.__scopeMenu);return n.jsx(Rx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ID=_a("MenuContent.ScrollLock"),Rx=u.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:p,onDismiss:b,disableOutsideScroll:j,...f}=e,w=$i(Vr,r),g=jl(Vr,r),x=uu(r),y=nS(r),N=kD(r),[P,_]=u.useState(null),k=u.useRef(null),E=Fe(t,k,w.onContentChange),O=u.useRef(0),R=u.useRef(""),M=u.useRef(0),L=u.useRef(null),D=u.useRef("right"),B=u.useRef(0),G=j?eS:u.Fragment,z=j?{as:ID,allowPinchZoom:!0}:void 0,U=F=>{var X,K;const H=R.current+F,W=N().filter(se=>!se.disabled),T=document.activeElement,q=(X=W.find(se=>se.ref.current===T))==null?void 0:X.textValue,re=W.map(se=>se.textValue),Q=KD(re,H,q),de=(K=W.find(se=>se.textValue===Q))==null?void 0:K.ref.current;(function se(ue){R.current=ue,window.clearTimeout(O.current),ue!==""&&(O.current=window.setTimeout(()=>se(""),1e3))})(H),de&&setTimeout(()=>de.focus())};u.useEffect(()=>()=>window.clearTimeout(O.current),[]),n2();const $=u.useCallback(F=>{var W,T;return D.current===((W=L.current)==null?void 0:W.side)&&YD(F,(T=L.current)==null?void 0:T.area)},[]);return n.jsx(OD,{scope:r,searchRef:R,onItemEnter:u.useCallback(F=>{$(F)&&F.preventDefault()},[$]),onItemLeave:u.useCallback(F=>{var H;$(F)||((H=k.current)==null||H.focus(),_(null))},[$]),onTriggerLeave:u.useCallback(F=>{$(F)&&F.preventDefault()},[$]),pointerGraceTimerRef:M,onPointerGraceIntentChange:u.useCallback(F=>{L.current=F},[]),children:n.jsx(G,{...z,children:n.jsx(px,{asChild:!0,trapped:i,onMountAutoFocus:be(a,F=>{var H;F.preventDefault(),(H=k.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:p,onDismiss:b,children:n.jsx(V2,{asChild:!0,...y,dir:g.dir,orientation:"vertical",loop:s,currentTabStopId:P,onCurrentTabStopIdChange:_,onEntryFocus:be(c,F=>{g.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(RI,{role:"menu","aria-orientation":"vertical","data-state":NS(w.open),"data-radix-menu-content":"",dir:g.dir,...x,...f,ref:E,style:{outline:"none",...f.style},onKeyDown:be(f.onKeyDown,F=>{const W=F.target.closest("[data-radix-menu-content]")===F.currentTarget,T=F.ctrlKey||F.altKey||F.metaKey,q=F.key.length===1;W&&(F.key==="Tab"&&F.preventDefault(),!T&&q&&U(F.key));const re=k.current;if(F.target!==re||!SD.includes(F.key))return;F.preventDefault();const de=N().filter(X=>!X.disabled).map(X=>X.ref.current);tS.includes(F.key)&&de.reverse(),GD(de)}),onBlur:be(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(O.current),R.current="")}),onPointerMove:be(e.onPointerMove,al(F=>{const H=F.target,W=B.current!==F.clientX;if(F.currentTarget.contains(H)&&W){const T=F.clientX>B.current?"right":"left";D.current=T,B.current=F.clientX}}))})})})})})})});oS.displayName=Vr;var DD="MenuGroup",Ax=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(_e.div,{role:"group",...s,ref:t})});Ax.displayName=DD;var LD="MenuLabel",lS=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(_e.div,{...s,ref:t})});lS.displayName=LD;var gd="MenuItem",jy="menu.itemSelect",hu=u.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...i}=e,a=u.useRef(null),o=jl(gd,e.__scopeMenu),l=Tx(gd,e.__scopeMenu),c=Fe(t,a),d=u.useRef(!1),m=()=>{const h=a.current;if(!r&&h){const p=new CustomEvent(jy,{bubbles:!0,cancelable:!0});h.addEventListener(jy,b=>s==null?void 0:s(b),{once:!0}),Tp(h,p),p.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(cS,{...i,ref:c,disabled:r,onClick:be(e.onClick,m),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),d.current=!0},onPointerUp:be(e.onPointerUp,h=>{var p;d.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:be(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||gf.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});hu.displayName=gd;var cS=u.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:i,...a}=e,o=Tx(gd,r),l=nS(r),c=u.useRef(null),d=Fe(t,c),[m,h]=u.useState(!1),[p,b]=u.useState("");return u.useEffect(()=>{const j=c.current;j&&b((j.textContent??"").trim())},[a.children]),n.jsx(il.ItemSlot,{scope:r,disabled:s,textValue:i??p,children:n.jsx(z2,{asChild:!0,...l,focusable:!s,children:n.jsx(_e.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:d,onPointerMove:be(e.onPointerMove,al(j=>{s?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(e.onPointerLeave,al(j=>o.onItemLeave(j))),onFocus:be(e.onFocus,()=>h(!0)),onBlur:be(e.onBlur,()=>h(!1))})})})}),FD="MenuCheckboxItem",dS=u.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...i}=e;return n.jsx(pS,{scope:e.__scopeMenu,checked:r,children:n.jsx(hu,{role:"menuitemcheckbox","aria-checked":vd(r)?"mixed":r,...i,ref:t,"data-state":Mx(r),onSelect:be(i.onSelect,()=>s==null?void 0:s(vd(r)?!0:!r),{checkForDefaultPrevented:!1})})})});dS.displayName=FD;var uS="MenuRadioGroup",[VD,zD]=Mi(uS,{value:void 0,onValueChange:()=>{}}),hS=u.forwardRef((e,t)=>{const{value:r,onValueChange:s,...i}=e,a=pr(s);return n.jsx(VD,{scope:e.__scopeMenu,value:r,onValueChange:a,children:n.jsx(Ax,{...i,ref:t})})});hS.displayName=uS;var mS="MenuRadioItem",fS=u.forwardRef((e,t)=>{const{value:r,...s}=e,i=zD(mS,e.__scopeMenu),a=r===i.value;return n.jsx(pS,{scope:e.__scopeMenu,checked:a,children:n.jsx(hu,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":Mx(a),onSelect:be(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});fS.displayName=mS;var Ox="MenuItemIndicator",[pS,BD]=Mi(Ox,{checked:!1}),xS=u.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...i}=e,a=BD(Ox,r);return n.jsx(xn,{present:s||vd(a.checked)||a.checked===!0,children:n.jsx(_e.span,{...i,ref:t,"data-state":Mx(a.checked)})})});xS.displayName=Ox;var UD="MenuSeparator",gS=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});gS.displayName=UD;var WD="MenuArrow",vS=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,i=uu(r);return n.jsx(AI,{...i,...s,ref:t})});vS.displayName=WD;var HD="MenuSub",[BV,yS]=Mi(HD),po="MenuSubTrigger",bS=u.forwardRef((e,t)=>{const r=$i(po,e.__scopeMenu),s=jl(po,e.__scopeMenu),i=yS(po,e.__scopeMenu),a=Tx(po,e.__scopeMenu),o=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},m=u.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return u.useEffect(()=>m,[m]),u.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(Ex,{asChild:!0,...d,children:n.jsx(cS,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":NS(r.open),...e,ref:Vd(t,i.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:be(e.onPointerMove,al(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:be(e.onPointerLeave,al(h=>{var b,j;m();const p=(b=r.content)==null?void 0:b.getBoundingClientRect();if(p){const f=(j=r.content)==null?void 0:j.dataset.side,w=f==="right",g=w?-5:5,x=p[w?"left":"right"],y=p[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x,y:p.top},{x:y,y:p.top},{x:y,y:p.bottom},{x,y:p.bottom}],side:f}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:be(e.onKeyDown,h=>{var b;const p=a.searchRef.current!=="";e.disabled||p&&h.key===" "||CD[s.dir].includes(h.key)&&(r.onOpenChange(!0),(b=r.content)==null||b.focus(),h.preventDefault())})})})});bS.displayName=po;var wS="MenuSubContent",jS=u.forwardRef((e,t)=>{const r=iS(Vr,e.__scopeMenu),{forceMount:s=r.forceMount,...i}=e,a=$i(Vr,e.__scopeMenu),o=jl(Vr,e.__scopeMenu),l=yS(wS,e.__scopeMenu),c=u.useRef(null),d=Fe(t,c);return n.jsx(il.Provider,{scope:e.__scopeMenu,children:n.jsx(xn,{present:s||a.open,children:n.jsx(il.Slot,{scope:e.__scopeMenu,children:n.jsx(Rx,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:be(e.onFocusOutside,m=>{m.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:be(e.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:be(e.onKeyDown,m=>{var b;const h=m.currentTarget.contains(m.target),p=PD[o.dir].includes(m.key);h&&p&&(a.onOpenChange(!1),(b=l.trigger)==null||b.focus(),m.preventDefault())})})})})})});jS.displayName=wS;function NS(e){return e?"open":"closed"}function vd(e){return e==="indeterminate"}function Mx(e){return vd(e)?"indeterminate":e?"checked":"unchecked"}function GD(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function qD(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function KD(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=qD(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function XD(e,t){const{x:r,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,m=l.y,h=c.x,p=c.y;m>s!=p>s&&r<(h-d)*(s-m)/(p-m)+d&&(i=!i)}return i}function YD(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return XD(r,t)}function al(e){return t=>t.pointerType==="mouse"?e(t):void 0}var JD=sS,QD=Ex,ZD=aS,eL=oS,tL=Ax,rL=lS,nL=hu,sL=dS,iL=hS,aL=fS,oL=xS,lL=gS,cL=vS,dL=bS,uL=jS,mu="DropdownMenu",[hL,UV]=Er(mu,[rS]),ar=rS(),[mL,SS]=hL(mu),CS=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=ar(t),d=u.useRef(null),[m,h]=Ks({prop:i,defaultProp:a??!1,onChange:o,caller:mu});return n.jsx(mL,{scope:t,triggerId:vi(),triggerRef:d,contentId:vi(),open:m,onOpenChange:h,onOpenToggle:u.useCallback(()=>h(p=>!p),[h]),modal:l,children:n.jsx(JD,{...c,open:m,onOpenChange:h,dir:s,modal:l,children:r})})};CS.displayName=mu;var PS="DropdownMenuTrigger",kS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...i}=e,a=SS(PS,r),o=ar(r);return n.jsx(QD,{asChild:!0,...o,children:n.jsx(_e.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Vd(t,a.triggerRef),onPointerDown:be(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:be(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});kS.displayName=PS;var fL="DropdownMenuPortal",ES=e=>{const{__scopeDropdownMenu:t,...r}=e,s=ar(t);return n.jsx(ZD,{...s,...r})};ES.displayName=fL;var _S="DropdownMenuContent",TS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=SS(_S,r),a=ar(r),o=u.useRef(!1);return n.jsx(eL,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:be(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:be(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,m=c.button===2||d;(!i.modal||m)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TS.displayName=_S;var pL="DropdownMenuGroup",xL=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(tL,{...i,...s,ref:t})});xL.displayName=pL;var gL="DropdownMenuLabel",RS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(rL,{...i,...s,ref:t})});RS.displayName=gL;var vL="DropdownMenuItem",AS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(nL,{...i,...s,ref:t})});AS.displayName=vL;var yL="DropdownMenuCheckboxItem",OS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(sL,{...i,...s,ref:t})});OS.displayName=yL;var bL="DropdownMenuRadioGroup",wL=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(iL,{...i,...s,ref:t})});wL.displayName=bL;var jL="DropdownMenuRadioItem",MS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(aL,{...i,...s,ref:t})});MS.displayName=jL;var NL="DropdownMenuItemIndicator",$S=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(oL,{...i,...s,ref:t})});$S.displayName=NL;var SL="DropdownMenuSeparator",IS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(lL,{...i,...s,ref:t})});IS.displayName=SL;var CL="DropdownMenuArrow",PL=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(cL,{...i,...s,ref:t})});PL.displayName=CL;var kL="DropdownMenuSubTrigger",DS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(dL,{...i,...s,ref:t})});DS.displayName=kL;var EL="DropdownMenuSubContent",LS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,i=ar(r);return n.jsx(uL,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LS.displayName=EL;var _L=CS,TL=kS,RL=ES,FS=TS,VS=RS,zS=AS,BS=OS,US=MS,WS=$S,HS=IS,GS=DS,qS=LS;const vf=_L,yf=TL,AL=me.forwardRef(({className:e,inset:t,children:r,...s},i)=>n.jsxs(GS,{ref:i,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(Gd,{className:"mr-auto h-4 w-4"})]}));AL.displayName=GS.displayName;const OL=me.forwardRef(({className:e,...t},r)=>n.jsx(qS,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));OL.displayName=qS.displayName;const yd=me.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(RL,{children:n.jsx(FS,{ref:s,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));yd.displayName=FS.displayName;const bn=me.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(zS,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));bn.displayName=zS.displayName;const ML=me.forwardRef(({className:e,children:t,checked:r,...s},i)=>n.jsxs(BS,{ref:i,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(WS,{children:n.jsx(tr,{className:"h-4 w-4"})})}),t]}));ML.displayName=BS.displayName;const $L=me.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(US,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(WS,{children:n.jsx(YR,{className:"h-2 w-2 fill-current"})})}),t]}));$L.displayName=US.displayName;const bd=me.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(VS,{ref:s,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));bd.displayName=VS.displayName;const Ro=me.forwardRef(({className:e,...t},r)=>n.jsx(HS,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));Ro.displayName=HS.displayName;const IL=()=>{const[e,t]=u.useState(!1),{user:r,logout:s}=$e(),{cart:i}=Xd(),{notifications:a,unreadCount:o,markAsRead:l,markAllAsRead:c}=Up(),d=Ve(),m=()=>t(!e),h=async()=>{await c()},p=async f=>{f.read||await l(f.id),f.link&&d(f.link)},b=f=>{f.preventDefault();const w=f.target.search.value;w.trim()&&d(`/explore?search=${w}`)},j=u.useMemo(()=>n.jsxs(qt,{children:[n.jsx(rr,{src:r==null?void 0:r.avatar}),n.jsx(Kt,{children:r!=null&&r.name?r.name.charAt(0):"U"})]}),[r==null?void 0:r.avatar,r==null?void 0:r.name]);return n.jsx("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-md border-b border-olivePrimary/20",children:n.jsxs("div",{className:"container mx-auto px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(je,{to:"/",className:"flex items-center",children:["            ",n.jsx(Z.div,{whileHover:{scale:1.05},className:"text-2xl font-bold text-olivePrimary",children:"بازار"})]}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-1 space-x-reverse",children:[n.jsx(je,{to:"/",className:"px-3 py-2 text-sm font-medium hover:text-olivePrimary",children:"الرئيسية"}),n.jsx(je,{to:"/explore",className:"px-3 py-2 text-sm font-medium hover:text-olivePrimary",children:"استكشاف"}),r&&n.jsxs(n.Fragment,{children:[r.role!=="admin"&&n.jsx(je,{to:"/dashboard",className:"px-3 py-2 text-sm font-medium hover:text-olivePrimary",children:"لوحة التحكم"}),r.role==="admin"&&n.jsxs(je,{to:"/admin/dashboard",className:"px-3 py-2 text-sm font-medium hover:text-burntOrange flex items-center",children:[n.jsx(Fr,{className:"ml-1 h-4 w-4 text-burntOrange"}),"لوحة المدير"]})]})]}),"          ",n.jsxs("form",{onSubmit:b,className:"hidden md:flex relative mx-4 flex-1 max-w-md",children:[n.jsx(he,{type:"search",name:"search",placeholder:"ابحث عن منتجات يدوية...",className:"w-full pr-10 border-olivePrimary/30 focus:border-burntOrange"}),n.jsx(V,{type:"submit",variant:"ghost",size:"icon",className:"absolute left-0 top-0 text-olivePrimary hover:text-burntOrange",children:n.jsx(_n,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"hidden md:flex items-center space-x-2 space-x-reverse",children:r?n.jsxs(n.Fragment,{children:[n.jsxs(V,{variant:"ghost",size:"icon",onClick:()=>d("/cart"),className:"relative text-olivePrimary hover:text-burntOrange hover:bg-lightGreen",children:[n.jsx(Fp,{className:"h-5 w-5"}),i.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-burntOrange text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:i.length})]}),n.jsxs(vf,{onOpenChange:f=>{f&&h()},children:[n.jsx(yf,{asChild:!0,children:n.jsxs(V,{variant:"ghost",size:"icon",className:"relative text-olivePrimary hover:text-burntOrange hover:bg-lightGreen",children:[n.jsx(zn,{className:"h-5 w-5"}),o>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o})]})}),n.jsxs(yd,{align:"end",className:"w-80 max-h-96 overflow-y-auto",children:[n.jsx(bd,{className:"text-darkOlive",children:"الإشعارات"}),n.jsx(Ro,{}),a.length===0?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"لا توجد إشعارات"}):a.slice(0,10).map((f,w)=>n.jsx(bn,{onClick:()=>p(f),className:f.read?"":"bg-gray-100 font-bold",children:n.jsxs("div",{className:"flex flex-col w-full",children:[n.jsx("span",{className:"text-sm font-medium",children:f.title||"إشعار"}),n.jsx("span",{className:"text-xs text-gray-600",children:f.message}),n.jsx("span",{className:"text-xs text-gray-400 mt-1",children:f.time||(f.createdAt?new Date(f.createdAt).toLocaleString("ar-EG"):"")})]})},f.id||w))]})]}),n.jsxs(vf,{children:[n.jsx(yf,{asChild:!0,children:n.jsx(V,{variant:"ghost",className:"p-0 rounded-full",children:j})}),n.jsxs(yd,{align:"end",className:"w-48",children:[n.jsxs(bd,{className:"text-darkOlive",children:["مرحباً, ",r.name]}),n.jsx(Ro,{}),n.jsx(bn,{onClick:()=>d("/profile/me"),children:"الملف الشخصي"}),r.role==="admin"?n.jsx(n.Fragment,{children:n.jsx(bn,{onClick:()=>d("/admin/dashboard"),className:"text-darkOlive hover:text-burntOrange",children:"لوحة تحكم المدير"})}):n.jsx(bn,{onClick:()=>d("/dashboard"),className:"text-darkOlive hover:text-burntOrange",children:"لوحة التحكم"}),n.jsx(bn,{onClick:()=>d("/chat"),className:"text-darkOlive hover:text-burntOrange",children:"الرسائل"}),n.jsx(Ro,{}),n.jsx(bn,{onClick:s,className:"text-burntOrange focus:text-white focus:bg-burntOrange",children:"تسجيل الخروج"})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(V,{variant:"ghost",onClick:()=>d("/login"),className:"text-olivePrimary hover:text-burntOrange hover:bg-lightGreen",children:"تسجيل الدخول"}),n.jsx(V,{onClick:()=>d("/register"),className:"bg-olivePrimary hover:bg-olivePrimary/90 text-white",children:"إنشاء حساب"})]})}),n.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden text-olivePrimary hover:text-burntOrange hover:bg-lightGreen",onClick:m,children:e?n.jsx(Ct,{className:"h-6 w-6"}):n.jsx(Dp,{className:"h-6 w-6"})})]}),e&&n.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden mt-3 py-3 border-t border-olivePrimary/20",children:[n.jsxs("form",{onSubmit:b,className:"relative mb-4",children:[n.jsx(he,{type:"search",name:"search",placeholder:"ابحث عن منتجات يدوية...",className:"w-full pr-10 border-olivePrimary/30"}),n.jsx(V,{type:"submit",variant:"ghost",size:"icon",className:"absolute left-0 top-0",children:n.jsx(_n,{className:"h-4 w-4"})})]}),n.jsxs("nav",{className:"flex flex-col space-y-2",children:[n.jsx(je,{to:"/",className:"px-3 py-2 text-sm font-medium hover:text-primary",onClick:m,children:"الرئيسية"}),n.jsx(je,{to:"/explore",className:"px-3 py-2 text-sm font-medium hover:text-primary",onClick:m,children:"استكشاف"}),r&&n.jsxs(n.Fragment,{children:[r.role!=="admin"&&n.jsx(je,{to:"/dashboard",className:"px-3 py-2 text-sm font-medium hover:text-primary",onClick:m,children:"لوحة التحكم"}),r.role==="admin"&&n.jsxs(je,{to:"/admin/dashboard",className:"px-3 py-2 text-sm font-medium hover:text-blue-600 flex items-center",onClick:m,children:[n.jsx(Fr,{className:"ml-1 h-4 w-4 text-blue-600"}),"لوحة المدير"]})]}),r?n.jsxs(n.Fragment,{children:[n.jsx(je,{to:"/profile/me",className:"px-3 py-2 text-sm font-medium hover:text-primary",onClick:m,children:"الملف الشخصي"}),n.jsx(je,{to:"/chat",className:"px-3 py-2 text-sm font-medium hover:text-primary",onClick:m,children:"الرسائل"}),n.jsxs(je,{to:"/cart",className:"px-3 py-2 text-sm font-medium hover:text-primary",onClick:m,children:["السلة (",i.length,")"]}),n.jsx("button",{onClick:()=>{s(),m()},className:"px-3 py-2 text-sm font-medium text-destructive text-right w-full",children:"تسجيل الخروج"})]}):n.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t",children:[n.jsx(V,{variant:"outline",onClick:()=>{d("/login"),m()},children:"تسجيل الدخول"}),n.jsx(V,{onClick:()=>{d("/register"),m()},children:"إنشاء حساب"})]})]})]})]})})},DL=me.memo(IL),LL=()=>{const[e,t]=u.useState([]);return u.useEffect(()=>{ie("listcategories").then(r=>t(r.data||r)).catch(()=>t([]))},[]),n.jsx("footer",{className:"bg-olivePrimary text-white md:block hidden",children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-4 text-lightBeige",children:"بازار"}),n.jsx("p",{className:"text-lightBeige/80 mb-4",children:"منصة تجمع الحرفيين والمبدعين في مكان واحد، لعرض منتجاتهم اليدوية الفريدة والتواصل مع العملاء مباشرة."}),n.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[n.jsx("a",{href:"#",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:n.jsx(ZR,{size:20})}),n.jsx("a",{href:"#",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:n.jsx(a3,{size:20})}),n.jsx("a",{href:"#",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:n.jsx(x3,{size:20})}),n.jsx("a",{href:"#",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:n.jsx(b3,{size:20})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-4 text-lightBeige",children:"روابط سريعة"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(je,{to:"/",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:"الرئيسية"})}),n.jsx("li",{children:n.jsx(je,{to:"/explore",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:"استكشاف"})}),n.jsx("li",{children:n.jsx(je,{to:"/dashboard",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:"لوحة التحكم"})}),n.jsx("li",{children:n.jsx(je,{to:"/login",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:"تسجيل الدخول"})}),n.jsx("li",{children:n.jsx(je,{to:"/register",className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:"إنشاء حساب"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-4 text-lightBeige",children:"التصنيفات"}),n.jsx("ul",{className:"space-y-2",children:e.slice(0,Math.ceil(e.length/2)).map(r=>n.jsx("li",{children:n.jsx(je,{to:`/explore?category=${r.id}`,className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:r.name})},r.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-4 text-lightBeige",children:"المزيد من التصنيفات"}),n.jsx("ul",{className:"space-y-2",children:e.slice(Math.ceil(e.length/2)).map(r=>n.jsx("li",{children:n.jsx(je,{to:`/explore?category=${r.id}`,className:"text-lightBeige/70 hover:text-burntOrange transition-colors",children:r.name})},r.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-4 text-lightBeige",children:"اتصل بنا"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-center space-x-3 space-x-reverse",children:[n.jsx(Qn,{size:18,className:"text-burntOrange"}),n.jsx("span",{className:"text-lightBeige/70",children:"شارع الحرفيين، القاهرة، مصر"})]}),n.jsxs("li",{className:"flex items-center space-x-3 space-x-reverse",children:[n.jsx(Pn,{size:18,className:"text-burntOrange"}),n.jsx("span",{className:"text-lightBeige/70",children:"+20 123 456 7890"})]}),n.jsxs("li",{className:"flex items-center space-x-3 space-x-reverse",children:[n.jsx(Jn,{size:18,className:"text-burntOrange"}),n.jsx("span",{className:"text-lightBeige/70",children:"info@herafty.com"})]})]})]})]}),n.jsx("div",{className:"border-t border-lightBeige/20 mt-10 pt-6 text-center text-lightBeige/60",children:n.jsxs("p",{children:["© ",new Date().getFullYear()," بازار. جميع الحقوق محفوظة."]})})]})})},FL=[{label:"حسابي",icon:It,to:"/profile/me",show:()=>!!localStorage.getItem("token"),type:"regular"},{label:"الإشعارات",icon:zn,to:"/notifications",show:()=>!!localStorage.getItem("token"),type:"notification"},{label:"استكشاف",icon:_n,to:"/explore",show:()=>!0,type:"search"},{label:"السلة",icon:Fp,to:"/cart",show:()=>!!localStorage.getItem("token"),type:"regular"},{label:"الرسائل",icon:Hr,to:"/chat",show:()=>!!localStorage.getItem("token"),type:"regular"},{label:"تسجيل الدخول",icon:Zj,to:"/login",show:()=>!localStorage.getItem("token"),type:"regular"}],VL=()=>{const e=Ft(),{unreadCount:t}=Up(),r=s=>{const{label:i,icon:a,to:o,type:l}=s,c=e.pathname===o||o!=="/"&&e.pathname.startsWith(o);return l==="search"?n.jsxs(je,{to:o,className:"relative flex flex-col items-center justify-center","aria-label":i,children:[n.jsxs("div",{className:"relative transform -translate-y-3",children:[n.jsxs("div",{className:`relative flex items-center justify-center w-16 h-16 rounded-full shadow-2xl transition-all duration-300 ${c?"bg-white scale-110 shadow-burntOrange/30":"bg-white hover:scale-105"} border-4 border-white`,children:[n.jsx("div",{className:`absolute inset-2 rounded-full bg-gradient-to-br transition-all duration-300 ${c?"from-burntOrange via-orange-500 to-red-500":"from-burntOrange/90 via-orange-400 to-orange-500"}`}),n.jsx("div",{className:"relative z-10 flex items-center justify-center",children:n.jsx(a,{size:24,className:"text-white drop-shadow-sm"})}),n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 to-transparent"})]}),n.jsx("div",{className:"absolute top-1 left-1/2 transform -translate-x-1/2 w-12 h-12 bg-burntOrange/20 rounded-full blur-xl"})]}),n.jsx("span",{className:`text-xs font-medium mt-0 transition-colors duration-200 ${c?"text-burntOrange font-semibold":"text-darkOlive/70"}`,children:i})]},o):l==="notification"?n.jsxs(je,{to:o,className:`relative flex flex-col items-center justify-center text-xs font-medium transition-colors duration-200 ${c?"text-burntOrange":"text-darkOlive/70"} hover:text-burntOrange`,"aria-label":i,children:[n.jsxs("div",{className:"relative",children:[n.jsx(a,{size:24,className:"mb-1"}),t>0&&n.jsx("div",{className:"absolute -top-2 -right-2 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-gradient-to-r from-red-500 to-pink-500 rounded-full border-2 border-white shadow-lg animate-pulse",children:t>9?"9+":t})]}),n.jsx("span",{className:"text-xs",children:i})]},o):n.jsxs(je,{to:o,className:`flex flex-col items-center justify-center text-xs font-medium transition-colors duration-200 ${c?"text-burntOrange":"text-darkOlive/70"} hover:text-burntOrange`,"aria-label":i,children:[n.jsx(a,{size:24,className:"mb-1"}),i]},o)};return n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md border-t border-olivePrimary/10 shadow-xl flex justify-around items-end h-20 md:hidden pt-2 pb-4 rounded-t-3xl",children:FL.filter(s=>s.show()).map(r)})},zL=()=>n.jsxs("div",{className:"flex flex-col min-h-screen",dir:"rtl",children:[n.jsx(DL,{}),n.jsx(Z.main,{className:"flex-grow pb-16 md:pb-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:n.jsx(Ep,{})}),n.jsx(LL,{}),n.jsx(VL,{})]});var BL="Separator",Ny="horizontal",UL=["horizontal","vertical"],KS=u.forwardRef((e,t)=>{const{decorative:r,orientation:s=Ny,...i}=e,a=WL(s)?s:Ny,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(_e.div,{"data-orientation":a,...l,...i,ref:t})});KS.displayName=BL;function WL(e){return UL.includes(e)}var XS=KS;const rt=me.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},i)=>n.jsx(XS,{ref:i,decorative:r,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));rt.displayName=XS.displayName;const YS=u.createContext();function JS({children:e}){const[t,r]=u.useState(!0),[s,i]=u.useState(!1),[a,o]=u.useState(!1),[l,c]=u.useState(()=>{const h=localStorage.getItem("desktopSidebarState");return h!==null?JSON.parse(h):!0});u.useEffect(()=>{const h=()=>{const p=window.innerWidth<768;s!==p&&(i(p),p?(c(t),o(!1),r(!1)):(r(l),o(!1)))};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[s,t,a,l]),u.useEffect(()=>{localStorage.setItem("desktopSidebarState",JSON.stringify(l))},[l]);const d=()=>{if(s)o(h=>!h),console.log("Mobile menu toggled to:",!a);else{const h=!t;r(h),c(h)}},m=()=>{s&&a&&o(!1)};return n.jsx(YS.Provider,{value:{isSidebarOpen:t,toggleSidebar:d,isMobile:s,isMobileMenuOpen:a,closeMobileSidebar:m},children:e})}const Ha=()=>u.useContext(YS);function QS(){const e=Ft(),{isMobile:t,closeMobileSidebar:r}=Ha();return u.useEffect(()=>{t&&r()},[e.pathname,t,r]),e}function ZS({scrollToTopOnNavigation:e=!0}={}){const t=u.useRef(null),r=Ft();return u.useEffect(()=>{e&&t.current&&t.current.scrollTo(0,0)},[r.pathname,e]),t}const HL=()=>{const e=Ve(),{logout:t}=$e(),{isSidebarOpen:r,toggleSidebar:s,isMobile:i,isMobileMenuOpen:a}=Ha(),o=QS(),l=[{path:"/admin/dashboard",label:"لوحة التحكم",icon:xi},{path:"/admin/orders",label:"الطلبات",icon:ft},{path:"/admin/categories",label:"التصنيفات",icon:Ls},{path:"/admin/products",label:"المنتجات",icon:Lp},{path:"/admin/sellers",label:"البائعين",icon:gi},{path:"/admin/users",label:"المستخدمين",icon:Pi},{path:"/admin/messages",label:"المحادثات",icon:Hr},{path:"/admin/settings",label:"إعدادات النظام",icon:Ds}];return n.jsxs(hx,{children:["      ",(i&&a||!i)&&n.jsxs(Z.aside,{initial:{width:i?0:r?"16rem":"5rem",x:i?-250:0},animate:{width:i||r?"16rem":"5rem",x:0},exit:{width:0,x:-250},transition:{type:"spring",stiffness:400,damping:40},className:`bg-background/95 backdrop-blur-md border-l border-border flex flex-col z-30 ${i?"fixed top-0 right-0 h-screen shadow-lg":"relative h-full"} ${r?"sidebar-expanded":"sidebar-collapsed"}`,children:[i&&n.jsx("button",{onClick:s,className:"absolute top-4 left-4 p-1 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",children:n.jsx(Ct,{size:20})}),n.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto flex-grow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[n.jsxs(je,{to:"/",className:"flex items-center",children:["                ",n.jsx(Z.div,{whileHover:{scale:1.05},className:`text-xl font-bold text-olivePrimary ${!r&&!i?"scale-0 w-0 opacity-0":"scale-100 opacity-100"} transition-all duration-300`,children:"بازار"})]}),!i&&n.jsx("button",{onClick:s,className:"p-1 rounded-full bg-gray-100 text-blue-600 hover:bg-gray-200 transition-colors duration-200",children:n.jsx(fl,{size:20,className:`sidebar-icon ${r?"":"sidebar-icon-rotated"}`})})]}),n.jsx("div",{className:`py-2 ${!r&&!i?"hidden":"block"}`,children:n.jsxs("h2",{className:"text-lg font-semibold text-blue-600 px-3 pb-2 flex items-center",children:[n.jsx(Fr,{className:"ml-1 h-4 w-4 text-blue-600"}),"لوحة المدير"]})}),n.jsx("nav",{className:"space-y-1",children:l.map(c=>n.jsxs(V,{variant:o.pathname.startsWith(c.path)?"subtle":"ghost",className:`w-full justify-${r||i?"start":"center"} text-right px-3 py-2 ${o.pathname.startsWith(c.path)?"bg-blue-600/10 text-blue-600 font-medium":"hover:bg-gray-100 hover:text-blue-600 text-sm font-medium"} transition-all duration-200`,onClick:()=>{e(c.path),i&&s()},children:["                  ",n.jsx(c.icon,{className:`${r||i?"ml-2":""} h-4 w-4`}),(r||i)&&n.jsx("span",{className:"text-darkOlive",children:c.label})]},c.path))}),n.jsx(rt,{className:"my-4"}),"            ",n.jsxs(V,{variant:"ghost",className:`w-full justify-${r||i?"start":"center"} text-right px-3 py-2 text-sm font-medium text-destructive hover:bg-red-50 hover:text-destructive transition-all duration-200`,onClick:()=>{t(),e("/")},children:["              ",n.jsx(qd,{className:`${r||i?"ml-2":""} h-4 w-4`}),(r||i)&&n.jsx("span",{className:"text-destructive",children:"تسجيل الخروج"})]})]})]})]})},GL=()=>{$e();const e=Ve(),t=Ft(),{logout:r}=$e(),{isSidebarOpen:s,toggleSidebar:i,isMobile:a,isMobileMenuOpen:o,closeMobileSidebar:l}=Ha(),c=ZS(),d=[{path:"/admin/dashboard",label:"لوحة التحكم",icon:xi},{path:"/admin/orders",label:"الطلبات",icon:ft},{path:"/admin/categories",label:"التصنيفات",icon:Ls},{path:"/admin/products",label:"المنتجات",icon:Lp},{path:"/admin/sellers",label:"البائعين",icon:gi},{path:"/admin/users",label:"المستخدمين",icon:Pi},{path:"/admin/messages",label:"المحادثات",icon:Hr},{path:"/admin/settings",label:"إعدادات النظام",icon:Ds}];return n.jsxs("div",{className:"flex min-h-[calc(100vh-var(--navbar-height,100px))]",children:[!a&&n.jsx(HL,{}),"      ",n.jsxs("main",{ref:c,className:`flex-1 bg-background overflow-y-auto ${a?"dashboard-content":s?"dashboard-content-expanded":"dashboard-content-collapsed"}`,children:[a&&n.jsxs("div",{className:"mobile-header p-4 flex justify-between items-center bg-background/95 backdrop-blur-md border-b border-border",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fr,{className:"ml-1 h-4 w-4 text-blue-600"}),n.jsx("h1",{className:"text-lg font-semibold text-blue-600",children:"لوحة المدير"})]}),n.jsx(V,{variant:"ghost",size:"sm",onClick:i,className:"text-blue-600 hover:bg-gray-100",children:o?n.jsx(Ct,{className:"h-5 w-5"}):n.jsx(Dp,{className:"h-5 w-5"})})]}),a&&o&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"w-full bg-background/95 backdrop-blur-md border-b border-border",children:n.jsx("div",{className:"p-4",children:n.jsxs("nav",{className:"flex flex-col space-y-2",children:[d.map(m=>n.jsxs(je,{to:m.path,className:`px-3 py-2 text-sm font-medium flex items-center ${t.pathname.startsWith(m.path)?"text-blue-600":"hover:text-blue-600"}`,onClick:()=>i(),children:[n.jsx(m.icon,{className:"ml-2 h-4 w-4"}),m.label]},m.path)),n.jsx(rt,{className:"my-2"}),n.jsxs("button",{onClick:()=>{r(),e("/")},className:"px-3 py-2 text-sm font-medium text-destructive hover:text-destructive-darker flex items-center text-right w-full",children:[n.jsx(qd,{className:"ml-2 h-4 w-4"}),"تسجيل الخروج"]})]})})}),n.jsx(Ep,{})]})]})},qL=()=>n.jsx(JS,{children:n.jsx(GL,{})}),ae=me.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ae.displayName="Card";const fe=me.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));fe.displayName="CardHeader";const pe=me.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));pe.displayName="CardTitle";const nt=me.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));nt.displayName="CardDescription";const oe=me.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("p-6 pt-0",e),...t}));oe.displayName="CardContent";const et=me.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",e),...t}));et.displayName="CardFooter";const KL=Hd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-lightGreen text-darkOlive hover:bg-lightGreen/80",destructive:"border-transparent bg-brightOrange text-white hover:bg-brightOrange/80",outline:"text-foreground border-olivePrimary",accent:"border-transparent bg-burntOrange text-white hover:bg-burntOrange/80",muted:"border-transparent bg-lightBrownGray text-white hover:bg-lightBrownGray/80",success:"border-transparent bg-paleGreen text-darkOlive hover:bg-paleGreen/80"}},defaultVariants:{variant:"default"}});function ye({className:e,variant:t,...r}){return n.jsx("div",{className:ge(KL({variant:t}),e),...r})}const XL=()=>{const e=Ve(),[t,r]=u.useState([]),[s,i]=u.useState(!0),[a,o]=u.useState(null),[l,c]=u.useState([]),[d,m]=u.useState(!0),[h,p]=u.useState(null),[b,j]=u.useState([]),[f,w]=u.useState(!0),[g,x]=u.useState(null),[y,N]=u.useState(!1),[P,_]=u.useState(window.innerWidth<640?4:window.innerWidth<1024?6:8);u.useEffect(()=>{const E=()=>_(window.innerWidth<640?4:window.innerWidth<1024?6:8);return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),u.useEffect(()=>{let E=!0;return w(!0),x(null),Se.getCategories().then(O=>{if(E){const R=Array.isArray(O.data)?O.data.map(M=>({id:M.id||M._id||M.category_id||M.slug||M.name,name:M.name||M.title||M.label,icon:M.icon||M.iconName||"star"})):[];j(R),w(!1)}}).catch(()=>{E&&(x("تعذر تحميل التصنيفات"),w(!1))}),()=>{E=!1}},[]),u.useEffect(()=>{let E=!0;return i(!0),o(null),Se.getFeaturedProducts().then(O=>{if(E){const R=Array.isArray(O.data)?O.data.slice(0,8).map(M=>{var L,D;return{id:M.id,title:M.title,description:M.description,price:M.price,images:Array.isArray(M.images)&&M.images.length>0?M.images.map(B=>B.image_url||B.url||B):[],category:M.category_id||((L=M.category)==null?void 0:L.id)||M.category,rating:M.rating||0,reviewCount:M.reviewCount||M.review_count||0,sellerId:M.sellerId||M.seller_id||((D=M.seller)==null?void 0:D.id)}}):[];r(R),i(!1)}}).catch(()=>{E&&(o("تعذر تحميل المنتجات المميزة"),i(!1))}),()=>{E=!1}},[]),u.useEffect(()=>{let E=!0;return m(!0),p(null),Se.getTopSellers().then(O=>{if(E){const R=Array.isArray(O.data)?O.data.slice(0,3).map(M=>({id:M.id,name:M.name,avatar:M.avatar||M.profile_image||"",skills:M.skills||M.categories||[],rating:M.rating||0,reviewCount:M.reviewCount||M.review_count||0})):[];c(R),m(!1)}}).catch(()=>{E&&(p("تعذر تحميل أفضل الحرفيين"),m(!1))}),()=>{E=!1}},[]);const k=E=>{const O=window.innerWidth<640?20:window.innerWidth<1024?24:28;switch(E){case"gem":return n.jsx(Ym,{size:O});case"coffee":return n.jsx(Gv,{size:O});case"scissors":return n.jsx(e1,{size:O});case"shirt":return n.jsx(r1,{size:O});case"image":return n.jsx(Ba,{size:O});case"utensils":return n.jsx(i1,{size:O});default:return n.jsx(He,{size:O})}};return n.jsxs("div",{className:"flex flex-col min-h-screen bg-lightBeige",children:[n.jsxs("section",{className:"relative bg-olivePrimary text-white py-20 md:py-32 overflow-hidden flex items-center justify-center min-h-[90vh]",children:[n.jsx("video",{className:"absolute inset-0 w-screen h-screen object-cover z-0",style:{objectPosition:window.innerWidth<640?"-900px":void 0},autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"https://images.unsplash.com/photo-1686825374490-663137bad061",onError:E=>{E.target.style.display="none";const O=document.createElement("img");O.src="https://images.unsplash.com/photo-1686825374490-663137bad061",O.alt="خلفية",O.className="absolute inset-0 w-screen h-screen object-cover z-0",E.target.parentNode.appendChild(O)},children:n.jsx("source",{src:"/hero-bg2.webm",type:"video/webm"})}),n.jsx("div",{className:"absolute inset-0 bg-black/30 z-10"}),n.jsx("div",{className:"container mx-auto px-4 relative z-20 flex flex-col items-center justify-center",children:n.jsx("div",{className:"flex flex-col items-center justify-center w-full",children:n.jsxs(Z.div,{className:"text-center flex flex-col items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[n.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["اكتشف ",n.jsx("span",{className:"text-creamyBeige",children:"إبداعات"})," الحرفيين"]}),n.jsx("p",{className:"text-lg md:text-xl mb-8 text-lightBeige",children:"منصتك الأولى للعثور على منتجات يدوية فريدة ومصنوعة بحب وشغف."}),n.jsxs(V,{size:"lg",className:"bg-burntOrange hover:bg-burntOrange/90 text-white px-8 py-3 text-lg",onClick:()=>{const E=!!localStorage.getItem("token");e(E?"/dashboard":"/register")},children:["ابدا معنا",n.jsx(br,{className:"mr-2 h-5 w-5"})]})]})})})]}),n.jsx("section",{className:"py-12 md:py-16 bg-lightBeige",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs(Z.h2,{className:"text-2xl md:text-3xl font-bold text-center mb-8 md:mb-12 text-darkOlive",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["تصفح ",n.jsx("span",{className:"text-olivePrimary",children:"أبرز التصنيفات"})]}),n.jsx("div",{className:"relative",children:f?n.jsx("div",{className:"w-full text-center text-darkOlive/60 py-8",children:n.jsx("div",{className:"animate-pulse",children:"جاري التحميل..."})}):g?n.jsx("div",{className:"w-full text-center text-red-600 py-8 bg-red-50 rounded-lg border border-red-200",children:g}):b.length===0?n.jsx("div",{className:"w-full text-center text-darkOlive/60 py-8",children:"لا توجد تصنيفات متاحة"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-4 md:gap-6 lg:gap-8 px-2 py-4",children:(y?b:b.slice(0,P)).map((E,O)=>n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:O*.1},children:n.jsx(je,{to:`/explore?category=${E.id}`,tabIndex:0,className:"block group",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative mb-3 md:mb-4",children:[n.jsxs("div",{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-gradient-to-br from-olivePrimary/10 to-olivePrimary/20 flex items-center justify-center border-2 border-olivePrimary/30 group-hover:border-olivePrimary/60 transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg backdrop-blur-sm",children:[n.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 flex items-center justify-center text-olivePrimary group-hover:text-olivePrimary/80 transition-colors duration-300",children:k(E.icon)}),n.jsx("div",{className:"absolute inset-0 rounded-full border border-olivePrimary/20 animate-pulse"})]}),n.jsx("div",{className:"absolute inset-0 rounded-full bg-olivePrimary/10 blur-xl opacity-0 group-hover:opacity-30 transition-opacity duration-300"})]}),n.jsx("h3",{className:"font-semibold text-center text-sm md:text-base text-darkOlive group-hover:text-olivePrimary transition-colors duration-300 leading-tight px-2",children:E.name}),n.jsx("div",{className:"w-0 group-hover:w-8 h-0.5 bg-olivePrimary mt-2 transition-all duration-300 rounded-full"})]})})},E.id))}),b.length>P*2&&n.jsx("div",{className:"text-center mt-8",children:n.jsxs(V,{variant:"outline",onClick:()=>N(!y),className:"border-olivePrimary text-olivePrimary hover:bg-olivePrimary hover:text-white px-6 py-2",children:[y?"عرض أقل":"عرض المزيد",n.jsx(br,{className:`mr-2 h-4 w-4 transition-transform duration-300 ${y?"rotate-90":""}`})]})})]})})]})}),n.jsx("section",{className:"py-16 bg-paleGreen",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs(Z.h2,{className:"text-3xl font-bold text-center mb-12 text-darkOlive",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["منتجات ",n.jsx("span",{className:"text-olivePrimary",children:"مميزة"})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-4 gap-4",children:s?n.jsx("div",{className:"col-span-8 text-center text-darkOlive/60 py-8",children:"جاري التحميل..."}):a?n.jsx("div",{className:"col-span-8 text-center text-red-600 py-8",children:a}):t.length===0?n.jsx("div",{className:"col-span-8 text-center text-darkOlive/60 py-8",children:"لا توجد منتجات مميزة متاحة"}):t.map((E,O)=>{var R;return n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:O*.1},children:n.jsxs(ae,{className:"overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col h-full card-hover border-olivePrimary/20 text-center p-4",children:[n.jsxs("div",{className:"relative h-40 md:h-44 lg:h-48 flex items-center justify-center",children:[n.jsx("img",{src:E.images.length>0?E.images[0]:"https://images.unsplash.com/photo-1680188700662-5b03bdcf3017",alt:E.title,className:"w-full h-full object-cover rounded-md"}),n.jsx(ye,{variant:"secondary",className:"absolute top-2 right-2 bg-olivePrimary text-white text-xs px-2 py-1",children:((R=b.find(M=>M.id==E.category))==null?void 0:R.name)||E.category})]}),n.jsx(fe,{className:"pb-1 pt-3 px-0",children:n.jsx(pe,{className:"text-base font-semibold text-darkOlive h-10 overflow-hidden leading-tight",children:E.title})}),n.jsxs(oe,{className:"flex-grow px-0",children:[n.jsxs("div",{className:"flex items-center justify-center text-xs text-darkOlive/80 mb-1",children:[n.jsx(He,{className:"h-3 w-3 text-burntOrange mr-1"}),E.rating," (",E.reviewCount," تقييمات)"]}),n.jsxs("p",{className:"text-base font-bold text-olivePrimary mb-1",children:[E.price," جنيه"]})]}),n.jsx(et,{className:"px-0 pt-2",children:n.jsx(V,{asChild:!0,className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-xs py-2",children:n.jsxs(je,{to:`/gigs/${E.id}`,children:["عرض التفاصيل",n.jsx(br,{className:"mr-2 h-3 w-3"})]})})})]})},E.id)})}),n.jsx("div",{className:"text-center mt-12",children:n.jsx(V,{asChild:!0,variant:"outline",size:"lg",className:"border-olivePrimary text-olivePrimary hover:bg-olivePrimary hover:text-white",children:n.jsxs(je,{to:"/explore",children:["استكشف المزيد",n.jsx(br,{className:"mr-2 h-4 w-4"})]})})})]})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs(Z.h2,{className:"text-3xl font-bold text-center mb-12 text-darkOlive",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["كيف تعمل ",n.jsx("span",{className:"text-olivePrimary",children:"منصتنا؟"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[{icon:n.jsx(_n,{size:48,className:"text-olivePrimary mx-auto mb-4"}),title:"اكتشف",description:"تصفح آلاف المنتجات اليدوية الفريدة من مختلف الحرفيين."},{icon:n.jsx(Gv,{size:48,className:"text-olivePrimary mx-auto mb-4"}),title:"اطلب",description:"اختر المنتج الذي يعجبك وقم بطلبه بسهولة وأمان."},{icon:n.jsx(Ym,{size:48,className:"text-olivePrimary mx-auto mb-4"}),title:"استلم",description:"استلم تحفتك الفنية المصنوعة يدويًا واستمتع بها."}].map((E,O)=>n.jsxs(Z.div,{className:"p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:O*.2},children:[E.icon,n.jsx("h3",{className:"text-xl font-semibold mb-2 text-darkOlive",children:E.title}),n.jsx("p",{className:"text-darkOlive/70",children:E.description})]},O))})]})}),n.jsx("section",{className:"py-16 bg-creamyBeige",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs(Z.h2,{className:"text-3xl font-bold text-center mb-12 text-darkOlive",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["تعرف على ",n.jsx("span",{className:"text-olivePrimary",children:"أفضل الحرفيين"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d?n.jsx("div",{className:"col-span-3 text-center text-darkOlive/60 py-8",children:"جاري التحميل..."}):h?n.jsx("div",{className:"col-span-3 text-center text-red-600 py-8",children:h}):l.length===0?n.jsx("div",{className:"col-span-3 text-center text-darkOlive/60 py-8",children:"لا يوجد حرفيون مميزون حالياً"}):l.map((E,O)=>n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:O*.15},children:n.jsxs(ae,{className:"text-center p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 card-hover border-olivePrimary/20",children:[n.jsxs(qt,{className:"w-24 h-24 mx-auto mb-4 border-4 border-olivePrimary",children:[n.jsx(rr,{src:E.avatar,alt:E.name}),n.jsx(Kt,{children:E.name.charAt(0)})]}),n.jsx("h3",{className:"text-xl font-semibold text-darkOlive mb-1",children:E.name}),n.jsx("p",{className:"text-sm text-darkOlive/60 mb-2",children:Array.isArray(E.skills)?E.skills.slice(0,2).join("، "):""}),n.jsxs("div",{className:"flex justify-center items-center text-burntOrange mb-3",children:[n.jsx(He,{size:16,className:"mr-1"})," ",E.rating," (",E.reviewCount," تقييمات)"]}),n.jsx(V,{asChild:!0,variant:"outline",className:"border-olivePrimary text-olivePrimary hover:bg-olivePrimary hover:text-white",children:n.jsx(je,{to:`/profile/${E.id}`,children:"عرض الملف الشخصي"})})]})},E.id))})]})}),n.jsxs("section",{className:"py-20 bg-creamyBeige text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 w-full h-full z-0",style:{backgroundImage:"url('https://images.unsplash.com/photo-1686825374490-663137bad061')",backgroundSize:"cover",backgroundPosition:"center",filter:"blur(10px) brightness(0.7)",opacity:.7,pointerEvents:"none"},"aria-hidden":"true"}),n.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[n.jsx(Z.h2,{className:"text-3xl md:text-4xl font-bold mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},children:"هل أنت حرفي موهوب؟"}),n.jsx(Z.p,{className:"text-lg md:text-xl mb-8 text-lightBeige",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:"انضم إلى منصتنا اليوم وابدأ في عرض وبيع إبداعاتك اليدوية لجمهور واسع."}),n.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,delay:.4},children:n.jsxs(V,{size:"lg",className:"bg-olivePrimary hover:bg-olivePrimary/90 text-white px-8 py-3 text-lg",onClick:()=>e("/register?role=seller"),children:["ابدأ البيع الآن",n.jsx(br,{className:"mr-2 h-5 w-5"})]})})]})]})]})};var YL="Label",eC=u.forwardRef((e,t)=>n.jsx(_e.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));eC.displayName=YL;var tC=eC;const JL=Hd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),te=me.forwardRef(({className:e,...t},r)=>n.jsx(tC,{ref:r,className:ge(JL(),e),...t}));te.displayName=tC.displayName;function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ze.apply(null,arguments)}function Sy(e,[t,r]){return Math.min(r,Math.max(t,e))}function kt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function $x(e,t=[]){let r=[];function s(a,o){const l=u.createContext(o),c=r.length;r=[...r,o];function d(h){const{scope:p,children:b,...j}=h,f=(p==null?void 0:p[e][c])||l,w=u.useMemo(()=>j,Object.values(j));return u.createElement(f.Provider,{value:w},b)}function m(h,p){const b=(p==null?void 0:p[e][c])||l,j=u.useContext(b);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,m]}const i=()=>{const a=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,QL(i,...t)]}function QL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ZL(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function rC(...e){return t=>e.forEach(r=>ZL(r,t))}function Yt(...e){return u.useCallback(rC(...e),e)}const ol=u.forwardRef((e,t)=>{const{children:r,...s}=e,i=u.Children.toArray(r),a=i.find(t8);if(a){const o=a.props.children,l=i.map(c=>c===a?u.Children.count(o)>1?u.Children.only(null):u.isValidElement(o)?o.props.children:null:c);return u.createElement(bf,ze({},s,{ref:t}),u.isValidElement(o)?u.cloneElement(o,void 0,l):null)}return u.createElement(bf,ze({},s,{ref:t}),r)});ol.displayName="Slot";const bf=u.forwardRef((e,t)=>{const{children:r,...s}=e;return u.isValidElement(r)?u.cloneElement(r,{...r8(s,r.props),ref:t?rC(t,r.ref):r.ref}):u.Children.count(r)>1?u.Children.only(null):null});bf.displayName="SlotClone";const e8=({children:e})=>u.createElement(u.Fragment,null,e);function t8(e){return u.isValidElement(e)&&e.type===e8}function r8(e,t){const r={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?r[s]=(...l)=>{a(...l),i(...l)}:i&&(r[s]=i):s==="style"?r[s]={...i,...a}:s==="className"&&(r[s]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function n8(e){const t=e+"CollectionProvider",[r,s]=$x(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:j,children:f}=b,w=me.useRef(null),g=me.useRef(new Map).current;return me.createElement(i,{scope:j,itemMap:g,collectionRef:w},f)},l=e+"CollectionSlot",c=me.forwardRef((b,j)=>{const{scope:f,children:w}=b,g=a(l,f),x=Yt(j,g.collectionRef);return me.createElement(ol,{ref:x},w)}),d=e+"CollectionItemSlot",m="data-radix-collection-item",h=me.forwardRef((b,j)=>{const{scope:f,children:w,...g}=b,x=me.useRef(null),y=Yt(j,x),N=a(d,f);return me.useEffect(()=>(N.itemMap.set(x,{ref:x,...g}),()=>void N.itemMap.delete(x))),me.createElement(ol,{[m]:"",ref:y},w)});function p(b){const j=a(e+"CollectionConsumer",b);return me.useCallback(()=>{const w=j.collectionRef.current;if(!w)return[];const g=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((N,P)=>g.indexOf(N.ref.current)-g.indexOf(P.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,s]}const s8=u.createContext(void 0);function i8(e){const t=u.useContext(s8);return e||t||"ltr"}const a8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Vt=a8.reduce((e,t)=>{const r=u.forwardRef((s,i)=>{const{asChild:a,...o}=s,l=a?ol:t;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(l,ze({},o,{ref:i}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function o8(e,t){e&&Gs.flushSync(()=>e.dispatchEvent(t))}function rs(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function l8(e,t=globalThis==null?void 0:globalThis.document){const r=rs(e);u.useEffect(()=>{const s=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const wf="dismissableLayer.update",c8="dismissableLayer.pointerDownOutside",d8="dismissableLayer.focusOutside";let Cy;const u8=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),h8=u.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,m=u.useContext(u8),[h,p]=u.useState(null),b=(r=h==null?void 0:h.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,j]=u.useState({}),f=Yt(t,E=>p(E)),w=Array.from(m.layers),[g]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(g),y=h?w.indexOf(h):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,P=y>=x,_=m8(E=>{const O=E.target,R=[...m.branches].some(M=>M.contains(O));!P||R||(a==null||a(E),l==null||l(E),E.defaultPrevented||c==null||c())},b),k=f8(E=>{const O=E.target;[...m.branches].some(M=>M.contains(O))||(o==null||o(E),l==null||l(E),E.defaultPrevented||c==null||c())},b);return l8(E=>{y===m.layers.size-1&&(i==null||i(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},b),u.useEffect(()=>{if(h)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Cy=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),Py(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Cy)}},[h,b,s,m]),u.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),Py())},[h,m]),u.useEffect(()=>{const E=()=>j({});return document.addEventListener(wf,E),()=>document.removeEventListener(wf,E)},[]),u.createElement(Vt.div,ze({},d,{ref:f,style:{pointerEvents:N?P?"auto":"none":void 0,...e.style},onFocusCapture:kt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:kt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:kt(e.onPointerDownCapture,_.onPointerDownCapture)}))});function m8(e,t=globalThis==null?void 0:globalThis.document){const r=rs(e),s=u.useRef(!1),i=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let m=function(){nC(c8,r,d,{discrete:!0})};var c=m;const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function f8(e,t=globalThis==null?void 0:globalThis.document){const r=rs(e),s=u.useRef(!1);return u.useEffect(()=>{const i=a=>{a.target&&!s.current&&nC(d8,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Py(){const e=new CustomEvent(wf);document.dispatchEvent(e)}function nC(e,t,r,{discrete:s}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),s?o8(i,a):i.dispatchEvent(a)}let Vh=0;function p8(){u.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:ky()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:ky()),Vh++,()=>{Vh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Vh--}},[])}function ky(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const zh="focusScope.autoFocusOnMount",Bh="focusScope.autoFocusOnUnmount",Ey={bubbles:!1,cancelable:!0},x8=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=u.useState(null),d=rs(i),m=rs(a),h=u.useRef(null),p=Yt(t,f=>c(f)),b=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(s){let x=function(_){if(b.paused||!l)return;const k=_.target;l.contains(k)?h.current=k:hs(h.current,{select:!0})},y=function(_){if(b.paused||!l)return;const k=_.relatedTarget;k!==null&&(l.contains(k)||hs(h.current,{select:!0}))},N=function(_){const k=document.activeElement;for(const E of _)E.removedNodes.length>0&&(l!=null&&l.contains(k)||hs(l))};var f=x,w=y,g=N;document.addEventListener("focusin",x),document.addEventListener("focusout",y);const P=new MutationObserver(N);return l&&P.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),P.disconnect()}}},[s,l,b.paused]),u.useEffect(()=>{if(l){Ty.add(b);const f=document.activeElement;if(!l.contains(f)){const g=new CustomEvent(zh,Ey);l.addEventListener(zh,d),l.dispatchEvent(g),g.defaultPrevented||(g8(j8(sC(l)),{select:!0}),document.activeElement===f&&hs(l))}return()=>{l.removeEventListener(zh,d),setTimeout(()=>{const g=new CustomEvent(Bh,Ey);l.addEventListener(Bh,m),l.dispatchEvent(g),g.defaultPrevented||hs(f??document.body,{select:!0}),l.removeEventListener(Bh,m),Ty.remove(b)},0)}}},[l,d,m,b]);const j=u.useCallback(f=>{if(!r&&!s||b.paused)return;const w=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,g=document.activeElement;if(w&&g){const x=f.currentTarget,[y,N]=v8(x);y&&N?!f.shiftKey&&g===N?(f.preventDefault(),r&&hs(y,{select:!0})):f.shiftKey&&g===y&&(f.preventDefault(),r&&hs(N,{select:!0})):g===x&&f.preventDefault()}},[r,s,b.paused]);return u.createElement(Vt.div,ze({tabIndex:-1},o,{ref:p,onKeyDown:j}))});function g8(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(hs(s,{select:t}),document.activeElement!==r)return}function v8(e){const t=sC(e),r=_y(t,e),s=_y(t.reverse(),e);return[r,s]}function sC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _y(e,t){for(const r of e)if(!y8(r,{upTo:t}))return r}function y8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function b8(e){return e instanceof HTMLInputElement&&"select"in e}function hs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&b8(e)&&t&&e.select()}}const Ty=w8();function w8(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ry(e,t),e.unshift(t)},remove(t){var r;e=Ry(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Ry(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function j8(e){return e.filter(t=>t.tagName!=="A")}const Gr=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},N8=Nd["useId".toString()]||(()=>{});let S8=0;function iC(e){const[t,r]=u.useState(N8());return Gr(()=>{e||r(s=>s??String(S8++))},[e]),e||(t?`radix-${t}`:"")}function C8(e){const[t,r]=u.useState(void 0);return Gr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}const aC="Popper",[oC,lC]=$x(aC),[P8,cC]=oC(aC),k8=e=>{const{__scopePopper:t,children:r}=e,[s,i]=u.useState(null);return u.createElement(P8,{scope:t,anchor:s,onAnchorChange:i},r)},E8="PopperAnchor",_8=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...i}=e,a=cC(E8,r),o=u.useRef(null),l=Yt(t,o);return u.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:u.createElement(Vt.div,ze({},i,{ref:l}))}),dC="PopperContent",[T8,WV]=oC(dC),R8=u.forwardRef((e,t)=>{var r,s,i,a,o,l,c,d;const{__scopePopper:m,side:h="bottom",sideOffset:p=0,align:b="center",alignOffset:j=0,arrowPadding:f=0,collisionBoundary:w=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:y=!1,avoidCollisions:N=!0,onPlaced:P,..._}=e,k=cC(dC,m),[E,O]=u.useState(null),R=Yt(t,Ie=>O(Ie)),[M,L]=u.useState(null),D=C8(M),B=(r=D==null?void 0:D.width)!==null&&r!==void 0?r:0,G=(s=D==null?void 0:D.height)!==null&&s!==void 0?s:0,z=h+(b!=="center"?"-"+b:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},$=Array.isArray(w)?w:[w],F=$.length>0,H={padding:U,boundary:$.filter(A8),altBoundary:F},{refs:W,floatingStyles:T,placement:q,isPositioned:re,middlewareData:Q}=x2({strategy:"fixed",placement:z,whileElementsMounted:f2,elements:{reference:k.anchor},middleware:[g2({mainAxis:p+G,alignmentAxis:j}),N&&v2({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?y2():void 0,...H}),N&&b2({...H}),w2({...H,apply:({elements:Ie,rects:Be,availableWidth:ut,availableHeight:xt})=>{const{width:gr,height:_r}=Be.reference,qr=Ie.floating.style;qr.setProperty("--radix-popper-available-width",`${ut}px`),qr.setProperty("--radix-popper-available-height",`${xt}px`),qr.setProperty("--radix-popper-anchor-width",`${gr}px`),qr.setProperty("--radix-popper-anchor-height",`${_r}px`)}}),M&&N2({element:M,padding:f}),O8({arrowWidth:B,arrowHeight:G}),y&&j2({strategy:"referenceHidden"})]}),[de,X]=uC(q),K=rs(P);Gr(()=>{re&&(K==null||K())},[re,K]);const se=(i=Q.arrow)===null||i===void 0?void 0:i.x,ue=(a=Q.arrow)===null||a===void 0?void 0:a.y,ve=((o=Q.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ke,ce]=u.useState();return Gr(()=>{E&&ce(window.getComputedStyle(E).zIndex)},[E]),u.createElement("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:re?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(l=Q.transformOrigin)===null||l===void 0?void 0:l.x,(c=Q.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},u.createElement(T8,{scope:m,placedSide:de,onArrowChange:L,arrowX:se,arrowY:ue,shouldHideArrow:ve},u.createElement(Vt.div,ze({"data-side":de,"data-align":X},_,{ref:R,style:{..._.style,animation:re?void 0:"none",opacity:(d=Q.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function A8(e){return e!==null}const O8=e=>({name:"transformOrigin",options:e,fn(t){var r,s,i,a,o;const{placement:l,rects:c,middlewareData:d}=t,h=((r=d.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,p=h?0:e.arrowWidth,b=h?0:e.arrowHeight,[j,f]=uC(l),w={start:"0%",center:"50%",end:"100%"}[f],g=((s=(i=d.arrow)===null||i===void 0?void 0:i.x)!==null&&s!==void 0?s:0)+p/2,x=((a=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0)+b/2;let y="",N="";return j==="bottom"?(y=h?w:`${g}px`,N=`${-b}px`):j==="top"?(y=h?w:`${g}px`,N=`${c.floating.height+b}px`):j==="right"?(y=`${-b}px`,N=h?w:`${x}px`):j==="left"&&(y=`${c.floating.width+b}px`,N=h?w:`${x}px`),{data:{x:y,y:N}}}});function uC(e){const[t,r="center"]=e.split("-");return[t,r]}const M8=k8,$8=_8,I8=R8,D8=u.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...i}=e;return s?lj.createPortal(u.createElement(Vt.div,ze({},i,{ref:t})),s):null});function Ay({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,i]=L8({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:s,l=rs(r),c=u.useCallback(d=>{if(a){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else i(d)},[a,e,i,l]);return[o,c]}function L8({defaultProp:e,onChange:t}){const r=u.useState(e),[s]=r,i=u.useRef(s),a=rs(t);return u.useEffect(()=>{i.current!==s&&(a(s),i.current=s)},[s,i,a]),r}function F8(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const V8=u.forwardRef((e,t)=>u.createElement(Vt.span,ze({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var hC=H2(),Uh=function(){},fu=u.forwardRef(function(e,t){var r=u.useRef(null),s=u.useState({onScrollCapture:Uh,onWheelCapture:Uh,onTouchMoveCapture:Uh}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,h=e.shards,p=e.sideCar,b=e.noIsolation,j=e.inert,f=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,x=Px(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=p,N=W2([r,t]),P=Gt(Gt({},x),i);return u.createElement(u.Fragment,null,m&&u.createElement(y,{sideCar:hC,removeScrollBar:d,shards:h,noIsolation:b,inert:j,setCallbacks:a,allowPinchZoom:!!f,lockRef:r}),o?u.cloneElement(u.Children.only(l),Gt(Gt({},P),{ref:N})):u.createElement(g,Gt({},P,{className:c,ref:N}),l))});fu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fu.classNames={fullWidth:To,zeroRight:_o};var jf=!1;if(typeof window<"u")try{var dc=Object.defineProperty({},"passive",{get:function(){return jf=!0,!0}});window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{jf=!1}var Hi=jf?{passive:!1}:!1,z8=function(e){return e.tagName==="TEXTAREA"},mC=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!z8(e)&&r[t]==="visible")},B8=function(e){return mC(e,"overflowY")},U8=function(e){return mC(e,"overflowX")},Oy=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=fC(e,r);if(s){var i=pC(e,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},W8=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},H8=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},fC=function(e,t){return e==="v"?B8(t):U8(t)},pC=function(e,t){return e==="v"?W8(t):H8(t)},G8=function(e,t){return e==="h"&&t==="rtl"?-1:1},q8=function(e,t,r,s,i){var a=G8(e,window.getComputedStyle(t).direction),o=a*s,l=r.target,c=t.contains(l),d=!1,m=o>0,h=0,p=0;do{var b=pC(e,l),j=b[0],f=b[1],w=b[2],g=f-w-a*j;(j||g)&&fC(e,l)&&(h+=g,p+=j),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(m&&(i&&h===0||!i&&o>h)||!m&&(i&&p===0||!i&&-o>p))&&(d=!0),d},uc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},My=function(e){return[e.deltaX,e.deltaY]},$y=function(e){return e&&"current"in e?e.current:e},K8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},X8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Y8=0,Gi=[];function J8(e){var t=u.useRef([]),r=u.useRef([0,0]),s=u.useRef(),i=u.useState(Y8++)[0],a=u.useState(function(){return kx()})[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var f=U2([e.lockRef.current],(e.shards||[]).map($y),!0).filter(Boolean);return f.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),f.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(f,w){if("touches"in f&&f.touches.length===2)return!o.current.allowPinchZoom;var g=uc(f),x=r.current,y="deltaX"in f?f.deltaX:x[0]-g[0],N="deltaY"in f?f.deltaY:x[1]-g[1],P,_=f.target,k=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in f&&k==="h"&&_.type==="range")return!1;var E=Oy(k,_);if(!E)return!0;if(E?P=k:(P=k==="v"?"h":"v",E=Oy(k,_)),!E)return!1;if(!s.current&&"changedTouches"in f&&(y||N)&&(s.current=P),!P)return!0;var O=s.current||P;return q8(O,w,f,O==="h"?y:N,!0)},[]),c=u.useCallback(function(f){var w=f;if(!(!Gi.length||Gi[Gi.length-1]!==a)){var g="deltaY"in w?My(w):uc(w),x=t.current.filter(function(P){return P.name===w.type&&P.target===w.target&&K8(P.delta,g)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var y=(o.current.shards||[]).map($y).filter(Boolean).filter(function(P){return P.contains(w.target)}),N=y.length>0?l(w,y[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=u.useCallback(function(f,w,g,x){var y={name:f,delta:w,target:g,should:x};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),m=u.useCallback(function(f){r.current=uc(f),s.current=void 0},[]),h=u.useCallback(function(f){d(f.type,My(f),f.target,l(f,e.lockRef.current))},[]),p=u.useCallback(function(f){d(f.type,uc(f),f.target,l(f,e.lockRef.current))},[]);u.useEffect(function(){return Gi.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Hi),document.addEventListener("touchmove",c,Hi),document.addEventListener("touchstart",m,Hi),function(){Gi=Gi.filter(function(f){return f!==a}),document.removeEventListener("wheel",c,Hi),document.removeEventListener("touchmove",c,Hi),document.removeEventListener("touchstart",m,Hi)}},[]);var b=e.removeScrollBar,j=e.inert;return u.createElement(u.Fragment,null,j?u.createElement(a,{styles:X8(i)}):null,b?u.createElement(X2,{gapMode:"margin"}):null)}const Q8=q2(hC,J8);var xC=u.forwardRef(function(e,t){return u.createElement(fu,Gt({},e,{ref:t,sideCar:Q8}))});xC.classNames=fu.classNames;const Z8=xC,e7=[" ","Enter","ArrowUp","ArrowDown"],t7=[" ","Enter"],pu="Select",[xu,gu,r7]=n8(pu),[Ga,HV]=$x(pu,[r7,lC]),Ix=lC(),[n7,Ii]=Ga(pu),[s7,i7]=Ga(pu),a7=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:m,autoComplete:h,disabled:p,required:b}=e,j=Ix(t),[f,w]=u.useState(null),[g,x]=u.useState(null),[y,N]=u.useState(!1),P=i8(d),[_=!1,k]=Ay({prop:s,defaultProp:i,onChange:a}),[E,O]=Ay({prop:o,defaultProp:l,onChange:c}),R=u.useRef(null),M=f?!!f.closest("form"):!0,[L,D]=u.useState(new Set),B=Array.from(L).map(G=>G.props.value).join(";");return u.createElement(M8,j,u.createElement(n7,{required:b,scope:t,trigger:f,onTriggerChange:w,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:y,onValueNodeHasChildrenChange:N,contentId:iC(),value:E,onValueChange:O,open:_,onOpenChange:k,dir:P,triggerPointerDownPosRef:R,disabled:p},u.createElement(xu.Provider,{scope:t},u.createElement(s7,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(G=>{D(z=>new Set(z).add(G))},[]),onNativeOptionRemove:u.useCallback(G=>{D(z=>{const U=new Set(z);return U.delete(G),U})},[])},r)),M?u.createElement(bC,{key:B,"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:h,value:E,onChange:G=>O(G.target.value),disabled:p},E===void 0?u.createElement("option",{value:""}):null,Array.from(L)):null))},o7="SelectTrigger",l7=u.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...i}=e,a=Ix(r),o=Ii(o7,r),l=o.disabled||s,c=Yt(t,o.onTriggerChange),d=gu(r),[m,h,p]=wC(j=>{const f=d().filter(x=>!x.disabled),w=f.find(x=>x.value===o.value),g=jC(f,j,w);g!==void 0&&o.onValueChange(g.value)}),b=()=>{l||(o.onOpenChange(!0),p())};return u.createElement($8,ze({asChild:!0},a),u.createElement(Vt.button,ze({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o.value===void 0?"":void 0},i,{ref:c,onClick:kt(i.onClick,j=>{j.currentTarget.focus()}),onPointerDown:kt(i.onPointerDown,j=>{const f=j.target;f.hasPointerCapture(j.pointerId)&&f.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&(b(),o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)},j.preventDefault())}),onKeyDown:kt(i.onKeyDown,j=>{const f=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&h(j.key),!(f&&j.key===" ")&&e7.includes(j.key)&&(b(),j.preventDefault())})})))}),c7="SelectValue",d7=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:i,children:a,placeholder:o,...l}=e,c=Ii(c7,r),{onValueNodeHasChildrenChange:d}=c,m=a!==void 0,h=Yt(t,c.onValueNodeChange);return Gr(()=>{d(m)},[d,m]),u.createElement(Vt.span,ze({},l,{ref:h,style:{pointerEvents:"none"}}),c.value===void 0&&o!==void 0?o:a)}),u7=u.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...i}=e;return u.createElement(Vt.span,ze({"aria-hidden":!0},i,{ref:t}),s||"▼")}),h7=e=>u.createElement(D8,ze({asChild:!0},e)),$a="SelectContent",m7=u.forwardRef((e,t)=>{const r=Ii($a,e.__scopeSelect),[s,i]=u.useState();if(Gr(()=>{i(new DocumentFragment)},[]),!r.open){const a=s;return a?Gs.createPortal(u.createElement(gC,{scope:e.__scopeSelect},u.createElement(xu.Slot,{scope:e.__scopeSelect},u.createElement("div",null,e.children))),a):null}return u.createElement(f7,ze({},e,{ref:t}))}),Dn=10,[gC,Di]=Ga($a),f7=u.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:b,sticky:j,hideWhenDetached:f,avoidCollisions:w,...g}=e,x=Ii($a,r),[y,N]=u.useState(null),[P,_]=u.useState(null),k=Yt(t,X=>N(X)),[E,O]=u.useState(null),[R,M]=u.useState(null),L=gu(r),[D,B]=u.useState(!1),G=u.useRef(!1);u.useEffect(()=>{if(y)return Cx(y)},[y]),p8();const z=u.useCallback(X=>{const[K,...se]=L().map(ke=>ke.ref.current),[ue]=se.slice(-1),ve=document.activeElement;for(const ke of X)if(ke===ve||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===K&&P&&(P.scrollTop=0),ke===ue&&P&&(P.scrollTop=P.scrollHeight),ke==null||ke.focus(),document.activeElement!==ve))return},[L,P]),U=u.useCallback(()=>z([E,y]),[z,E,y]);u.useEffect(()=>{D&&U()},[D,U]);const{onOpenChange:$,triggerPointerDownPosRef:F}=x;u.useEffect(()=>{if(y){let X={x:0,y:0};const K=ue=>{var ve,ke,ce,Ie;X={x:Math.abs(Math.round(ue.pageX)-((ve=(ke=F.current)===null||ke===void 0?void 0:ke.x)!==null&&ve!==void 0?ve:0)),y:Math.abs(Math.round(ue.pageY)-((ce=(Ie=F.current)===null||Ie===void 0?void 0:Ie.y)!==null&&ce!==void 0?ce:0))}},se=ue=>{X.x<=10&&X.y<=10?ue.preventDefault():y.contains(ue.target)||$(!1),document.removeEventListener("pointermove",K),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",se,{capture:!0})}}},[y,$,F]),u.useEffect(()=>{const X=()=>$(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[$]);const[H,W]=wC(X=>{const K=L().filter(ve=>!ve.disabled),se=K.find(ve=>ve.ref.current===document.activeElement),ue=jC(K,X,se);ue&&setTimeout(()=>ue.ref.current.focus())}),T=u.useCallback((X,K,se)=>{const ue=!G.current&&!se;(x.value!==void 0&&x.value===K||ue)&&(O(X),ue&&(G.current=!0))},[x.value]),q=u.useCallback(()=>y==null?void 0:y.focus(),[y]),re=u.useCallback((X,K,se)=>{const ue=!G.current&&!se;(x.value!==void 0&&x.value===K||ue)&&M(X)},[x.value]),Q=s==="popper"?Iy:p7,de=Q===Iy?{side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:b,sticky:j,hideWhenDetached:f,avoidCollisions:w}:{};return u.createElement(gC,{scope:r,content:y,viewport:P,onViewportChange:_,itemRefCallback:T,selectedItem:E,onItemLeave:q,itemTextRefCallback:re,focusSelectedItem:U,selectedItemText:R,position:s,isPositioned:D,searchRef:H},u.createElement(Z8,{as:ol,allowPinchZoom:!0},u.createElement(x8,{asChild:!0,trapped:x.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:kt(i,X=>{var K;(K=x.trigger)===null||K===void 0||K.focus({preventScroll:!0}),X.preventDefault()})},u.createElement(h8,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},u.createElement(Q,ze({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:X=>X.preventDefault()},g,de,{onPlaced:()=>B(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:kt(g.onKeyDown,X=>{const K=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!K&&X.key.length===1&&W(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ue=L().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ve=X.target,ke=ue.indexOf(ve);ue=ue.slice(ke+1)}setTimeout(()=>z(ue)),X.preventDefault()}})}))))))}),p7=u.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...i}=e,a=Ii($a,r),o=Di($a,r),[l,c]=u.useState(null),[d,m]=u.useState(null),h=Yt(t,k=>m(k)),p=gu(r),b=u.useRef(!1),j=u.useRef(!0),{viewport:f,selectedItem:w,selectedItemText:g,focusSelectedItem:x}=o,y=u.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&f&&w&&g){const k=a.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),R=g.getBoundingClientRect();if(a.dir!=="rtl"){const ve=R.left-E.left,ke=O.left-ve,ce=k.left-ke,Ie=k.width+ce,Be=Math.max(Ie,E.width),ut=window.innerWidth-Dn,xt=Sy(ke,[Dn,ut-Be]);l.style.minWidth=Ie+"px",l.style.left=xt+"px"}else{const ve=E.right-R.right,ke=window.innerWidth-O.right-ve,ce=window.innerWidth-k.right-ke,Ie=k.width+ce,Be=Math.max(Ie,E.width),ut=window.innerWidth-Dn,xt=Sy(ke,[Dn,ut-Be]);l.style.minWidth=Ie+"px",l.style.right=xt+"px"}const M=p(),L=window.innerHeight-Dn*2,D=f.scrollHeight,B=window.getComputedStyle(d),G=parseInt(B.borderTopWidth,10),z=parseInt(B.paddingTop,10),U=parseInt(B.borderBottomWidth,10),$=parseInt(B.paddingBottom,10),F=G+z+D+$+U,H=Math.min(w.offsetHeight*5,F),W=window.getComputedStyle(f),T=parseInt(W.paddingTop,10),q=parseInt(W.paddingBottom,10),re=k.top+k.height/2-Dn,Q=L-re,de=w.offsetHeight/2,X=w.offsetTop+de,K=G+z+X,se=F-K;if(K<=re){const ve=w===M[M.length-1].ref.current;l.style.bottom="0px";const ke=d.clientHeight-f.offsetTop-f.offsetHeight,ce=Math.max(Q,de+(ve?q:0)+ke+U),Ie=K+ce;l.style.height=Ie+"px"}else{const ve=w===M[0].ref.current;l.style.top="0px";const ce=Math.max(re,G+f.offsetTop+(ve?T:0)+de)+se;l.style.height=ce+"px",f.scrollTop=K-re+f.offsetTop}l.style.margin=`${Dn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=L+"px",s==null||s(),requestAnimationFrame(()=>b.current=!0)}},[p,a.trigger,a.valueNode,l,d,f,w,g,a.dir,s]);Gr(()=>y(),[y]);const[N,P]=u.useState();Gr(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const _=u.useCallback(k=>{k&&j.current===!0&&(y(),x==null||x(),j.current=!1)},[y,x]);return u.createElement(x7,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:_},u.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N}},u.createElement(Vt.div,ze({},i,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),Iy=u.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:i=Dn,...a}=e,o=Ix(r);return u.createElement(I8,ze({},o,a,{ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[x7,Dx]=Ga($a,{}),Dy="SelectViewport",g7=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,i=Di(Dy,r),a=Dx(Dy,r),o=Yt(t,i.onViewportChange),l=u.useRef(0);return u.createElement(u.Fragment,null,u.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),u.createElement(xu.Slot,{scope:r},u.createElement(Vt.div,ze({"data-radix-select-viewport":"",role:"presentation"},s,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:kt(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&m){const p=Math.abs(l.current-d.scrollTop);if(p>0){const b=window.innerHeight-Dn*2,j=parseFloat(m.style.minHeight),f=parseFloat(m.style.height),w=Math.max(j,f);if(w<b){const g=w+p,x=Math.min(b,g),y=g-x;m.style.height=x+"px",m.style.bottom==="0px"&&(d.scrollTop=y>0?y:0,m.style.justifyContent="flex-end")}}}l.current=d.scrollTop})}))))}),v7="SelectGroup",[GV,y7]=Ga(v7),b7="SelectLabel",w7=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,i=y7(b7,r);return u.createElement(Vt.div,ze({id:i.id},s,{ref:t}))}),Nf="SelectItem",[j7,vC]=Ga(Nf),N7=u.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:i=!1,textValue:a,...o}=e,l=Ii(Nf,r),c=Di(Nf,r),d=l.value===s,[m,h]=u.useState(a??""),[p,b]=u.useState(!1),j=Yt(t,g=>{var x;return(x=c.itemRefCallback)===null||x===void 0?void 0:x.call(c,g,s,i)}),f=iC(),w=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};return u.createElement(j7,{scope:r,value:s,disabled:i,textId:f,isSelected:d,onItemTextChange:u.useCallback(g=>{h(x=>{var y;return x||((y=g==null?void 0:g.textContent)!==null&&y!==void 0?y:"").trim()})},[])},u.createElement(xu.ItemSlot,{scope:r,value:s,disabled:i,textValue:m},u.createElement(Vt.div,ze({role:"option","aria-labelledby":f,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:j,onFocus:kt(o.onFocus,()=>b(!0)),onBlur:kt(o.onBlur,()=>b(!1)),onPointerUp:kt(o.onPointerUp,w),onPointerMove:kt(o.onPointerMove,g=>{if(i){var x;(x=c.onItemLeave)===null||x===void 0||x.call(c)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:kt(o.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var x;(x=c.onItemLeave)===null||x===void 0||x.call(c)}}),onKeyDown:kt(o.onKeyDown,g=>{var x;((x=c.searchRef)===null||x===void 0?void 0:x.current)!==""&&g.key===" "||(t7.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})}))))}),hc="SelectItemText",S7=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:i,...a}=e,o=Ii(hc,r),l=Di(hc,r),c=vC(hc,r),d=i7(hc,r),[m,h]=u.useState(null),p=Yt(t,g=>h(g),c.onItemTextChange,g=>{var x;return(x=l.itemTextRefCallback)===null||x===void 0?void 0:x.call(l,g,c.value,c.disabled)}),b=m==null?void 0:m.textContent,j=u.useMemo(()=>u.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},b),[c.disabled,c.value,b]),{onNativeOptionAdd:f,onNativeOptionRemove:w}=d;return Gr(()=>(f(j),()=>w(j)),[f,w,j]),u.createElement(u.Fragment,null,u.createElement(Vt.span,ze({id:c.textId},a,{ref:p})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gs.createPortal(a.children,o.valueNode):null)}),C7="SelectItemIndicator",P7=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return vC(C7,r).isSelected?u.createElement(Vt.span,ze({"aria-hidden":!0},s,{ref:t})):null}),Ly="SelectScrollUpButton",k7=u.forwardRef((e,t)=>{const r=Di(Ly,e.__scopeSelect),s=Dx(Ly,e.__scopeSelect),[i,a]=u.useState(!1),o=Yt(t,s.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=c.scrollTop>0;a(m)};var l=d;const c=r.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?u.createElement(yC,ze({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null}),Fy="SelectScrollDownButton",E7=u.forwardRef((e,t)=>{const r=Di(Fy,e.__scopeSelect),s=Dx(Fy,e.__scopeSelect),[i,a]=u.useState(!1),o=Yt(t,s.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<m;a(h)};var l=d;const c=r.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?u.createElement(yC,ze({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null}),yC=u.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...i}=e,a=Di("SelectScrollButton",r),o=u.useRef(null),l=gu(r),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Gr(()=>{var d;const m=l().find(h=>h.ref.current===document.activeElement);m==null||(d=m.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[l]),u.createElement(Vt.div,ze({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:kt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:kt(i.onPointerMove,()=>{var d;(d=a.onItemLeave)===null||d===void 0||d.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:kt(i.onPointerLeave,()=>{c()})}))}),_7=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return u.createElement(Vt.div,ze({"aria-hidden":!0},s,{ref:t}))}),bC=u.forwardRef((e,t)=>{const{value:r,...s}=e,i=u.useRef(null),a=Yt(t,i),o=F8(r);return u.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&m){const h=new Event("change",{bubbles:!0});m.call(l,r),l.dispatchEvent(h)}},[o,r]),u.createElement(V8,{asChild:!0},u.createElement("select",ze({},s,{ref:a,defaultValue:r})))});bC.displayName="BubbleSelect";function wC(e){const t=rs(e),r=u.useRef(""),s=u.useRef(0),i=u.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=u.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,i,a]}function jC(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=T7(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function T7(e,t){return e.map((r,s)=>e[(t+s)%e.length])}const R7=a7,NC=l7,A7=d7,O7=u7,M7=h7,SC=m7,$7=g7,CC=w7,PC=N7,I7=S7,D7=P7,kC=k7,EC=E7,_C=_7,$t=R7,_t=A7,Tt=me.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(NC,{ref:s,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(O7,{asChild:!0,children:n.jsx(Yj,{className:"h-4 w-4 opacity-50"})})]}));Tt.displayName=NC.displayName;const TC=me.forwardRef(({className:e,...t},r)=>n.jsx(kC,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(XR,{className:"h-4 w-4"})}));TC.displayName=kC.displayName;const RC=me.forwardRef(({className:e,...t},r)=>n.jsx(EC,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Yj,{className:"h-4 w-4"})}));RC.displayName=EC.displayName;const Rt=me.forwardRef(({className:e,children:t,position:r="popper",...s},i)=>n.jsx(M7,{children:n.jsxs(SC,{ref:i,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(TC,{}),n.jsx($7,{className:ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(RC,{})]})}));Rt.displayName=SC.displayName;const L7=me.forwardRef(({className:e,...t},r)=>n.jsx(CC,{ref:r,className:ge("py-1.5 pr-2 text-sm font-semibold",e),...t}));L7.displayName=CC.displayName;const Ne=me.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(PC,{ref:s,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(D7,{children:n.jsx(tr,{className:"h-4 w-4"})})}),n.jsx(I7,{children:t})]}));Ne.displayName=PC.displayName;const F7=me.forwardRef(({className:e,...t},r)=>n.jsx(_C,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));F7.displayName=_C.displayName;function AC(e,[t,r]){return Math.min(r,Math.max(t,e))}function Lx(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var OC=["PageUp","PageDown"],MC=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$C={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qa="Slider",[Sf,V7,z7]=zd(qa),[IC,qV]=Er(qa,[z7]),[B7,vu]=IC(qa),DC=u.forwardRef((e,t)=>{const{name:r,min:s=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[s],value:m,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:b=!1,form:j,...f}=e,w=u.useRef(new Set),g=u.useRef(0),y=o==="horizontal"?U7:W7,[N=[],P]=Ks({prop:m,defaultProp:d,onChange:M=>{var D;(D=[...w.current][g.current])==null||D.focus(),h(M)}}),_=u.useRef(N);function k(M){const L=X7(N,M);R(M,L)}function E(M){R(M,g.current)}function O(){const M=_.current[g.current];N[g.current]!==M&&p(N)}function R(M,L,{commit:D}={commit:!1}){const B=Z7(a),G=eF(Math.round((M-s)/a)*a+s,B),z=AC(G,[s,i]);P((U=[])=>{const $=q7(U,z,L);if(Q7($,c*a)){g.current=$.indexOf(z);const F=String($)!==String(U);return F&&D&&p($),F?$:U}else return U})}return n.jsx(B7,{scope:e.__scopeSlider,name:r,disabled:l,min:s,max:i,valueIndexToChangeRef:g,thumbs:w.current,values:N,orientation:o,form:j,children:n.jsx(Sf.Provider,{scope:e.__scopeSlider,children:n.jsx(Sf.Slot,{scope:e.__scopeSlider,children:n.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...f,ref:t,onPointerDown:be(f.onPointerDown,()=>{l||(_.current=N)}),min:s,max:i,inverted:b,onSlideStart:l?void 0:k,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&R(s,0,{commit:!0}),onEndKeyDown:()=>!l&&R(i,N.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:L})=>{if(!l){const G=OC.includes(M.key)||M.shiftKey&&MC.includes(M.key)?10:1,z=g.current,U=N[z],$=a*G*L;R(U+$,z,{commit:!0})}}})})})})});DC.displayName=qa;var[LC,FC]=IC(qa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),U7=u.forwardRef((e,t)=>{const{min:r,max:s,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...m}=e,[h,p]=u.useState(null),b=Fe(t,y=>p(y)),j=u.useRef(void 0),f=su(i),w=f==="ltr",g=w&&!a||!w&&a;function x(y){const N=j.current||h.getBoundingClientRect(),P=[0,N.width],k=Fx(P,g?[r,s]:[s,r]);return j.current=N,k(y-N.left)}return n.jsx(LC,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:n.jsx(VC,{dir:f,"data-orientation":"horizontal",...m,ref:b,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const N=x(y.clientX);o==null||o(N)},onSlideMove:y=>{const N=x(y.clientX);l==null||l(N)},onSlideEnd:()=>{j.current=void 0,c==null||c()},onStepKeyDown:y=>{const P=$C[g?"from-left":"from-right"].includes(y.key);d==null||d({event:y,direction:P?-1:1})}})})}),W7=u.forwardRef((e,t)=>{const{min:r,max:s,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,m=u.useRef(null),h=Fe(t,m),p=u.useRef(void 0),b=!i;function j(f){const w=p.current||m.current.getBoundingClientRect(),g=[0,w.height],y=Fx(g,b?[s,r]:[r,s]);return p.current=w,y(f-w.top)}return n.jsx(LC,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:n.jsx(VC,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const w=j(f.clientY);a==null||a(w)},onSlideMove:f=>{const w=j(f.clientY);o==null||o(w)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:f=>{const g=$C[b?"from-bottom":"from-top"].includes(f.key);c==null||c({event:f,direction:g?-1:1})}})})}),VC=u.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,m=vu(qa,r);return n.jsx(_e.span,{...d,ref:t,onKeyDown:be(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):OC.concat(MC).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:be(e.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),m.thumbs.has(p)?p.focus():s(h)}),onPointerMove:be(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:be(e.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),a(h))})})}),zC="SliderTrack",BC=u.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,i=vu(zC,r);return n.jsx(_e.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:t})});BC.displayName=zC;var Cf="SliderRange",UC=u.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,i=vu(Cf,r),a=FC(Cf,r),o=u.useRef(null),l=Fe(t,o),c=i.values.length,d=i.values.map(p=>GC(p,i.min,i.max)),m=c>1?Math.min(...d):0,h=100-Math.max(...d);return n.jsx(_e.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:l,style:{...e.style,[a.startEdge]:m+"%",[a.endEdge]:h+"%"}})});UC.displayName=Cf;var Pf="SliderThumb",WC=u.forwardRef((e,t)=>{const r=V7(e.__scopeSlider),[s,i]=u.useState(null),a=Fe(t,l=>i(l)),o=u.useMemo(()=>s?r().findIndex(l=>l.ref.current===s):-1,[r,s]);return n.jsx(H7,{...e,ref:a,index:o})}),H7=u.forwardRef((e,t)=>{const{__scopeSlider:r,index:s,name:i,...a}=e,o=vu(Pf,r),l=FC(Pf,r),[c,d]=u.useState(null),m=Fe(t,x=>d(x)),h=c?o.form||!!c.closest("form"):!0,p=lu(c),b=o.values[s],j=b===void 0?0:GC(b,o.min,o.max),f=K7(s,o.values.length),w=p==null?void 0:p[l.size],g=w?Y7(w,j,l.direction):0;return u.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${j}% + ${g}px)`},children:[n.jsx(Sf.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(_e.span,{role:"slider","aria-label":e["aria-label"]||f,"aria-valuemin":o.min,"aria-valuenow":b,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:m,style:b===void 0?{display:"none"}:e.style,onFocus:be(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),h&&n.jsx(HC,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:b},s)]})});WC.displayName=Pf;var G7="RadioBubbleInput",HC=u.forwardRef(({__scopeSlider:e,value:t,...r},s)=>{const i=u.useRef(null),a=Fe(i,s),o=Lx(t);return u.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&m){const h=new Event("input",{bubbles:!0});m.call(l,t),l.dispatchEvent(h)}},[o,t]),n.jsx(_e.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});HC.displayName=G7;function q7(e=[],t,r){const s=[...e];return s[r]=t,s.sort((i,a)=>i-a)}function GC(e,t,r){const a=100/(r-t)*(e-t);return AC(a,[0,100])}function K7(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function X7(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),s=Math.min(...r);return r.indexOf(s)}function Y7(e,t,r){const s=e/2,a=Fx([0,50],[0,s]);return(s-a(t)*r)*r}function J7(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Q7(e,t){if(t>0){const r=J7(e);return Math.min(...r)>=t}return!0}function Fx(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function Z7(e){return(String(e).split(".")[1]||"").length}function eF(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var qC=DC,tF=BC,rF=UC,Vy=WC;const KC=me.forwardRef(({className:e,...t},r)=>n.jsxs(qC,{ref:r,className:ge("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(tF,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(rF,{className:"absolute h-full bg-primary"})}),n.jsx(Vy,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),t.defaultValue&&t.defaultValue.length>1&&n.jsx(Vy,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));KC.displayName=qC.displayName;var yu="Tabs",[nF,KV]=Er(yu,[cu]),XC=cu(),[sF,Vx]=nF(yu),YC=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,m=su(l),[h,p]=Ks({prop:s,onChange:i,defaultProp:a??"",caller:yu});return n.jsx(sF,{scope:r,baseId:vi(),value:h,onValueChange:p,orientation:o,dir:m,activationMode:c,children:n.jsx(_e.div,{dir:m,"data-orientation":o,...d,ref:t})})});YC.displayName=yu;var JC="TabsList",QC=u.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...i}=e,a=Vx(JC,r),o=XC(r);return n.jsx(V2,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:n.jsx(_e.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});QC.displayName=JC;var ZC="TabsTrigger",eP=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:i=!1,...a}=e,o=Vx(ZC,r),l=XC(r),c=nP(o.baseId,s),d=sP(o.baseId,s),m=s===o.value;return n.jsx(z2,{asChild:!0,...l,focusable:!i,active:m,children:n.jsx(_e.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:be(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:be(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:be(e.onFocus,()=>{const h=o.activationMode!=="manual";!m&&!i&&h&&o.onValueChange(s)})})})});eP.displayName=ZC;var tP="TabsContent",rP=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:i,children:a,...o}=e,l=Vx(tP,r),c=nP(l.baseId,s),d=sP(l.baseId,s),m=s===l.value,h=u.useRef(m);return u.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),n.jsx(xn,{present:i||m,children:({present:p})=>n.jsx(_e.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});rP.displayName=tP;function nP(e,t){return`${e}-trigger-${t}`}function sP(e,t){return`${e}-content-${t}`}var iF=YC,iP=QC,aP=eP,oP=rP;const bu=iF,Nl=u.forwardRef(({className:e,...t},r)=>n.jsx(iP,{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Nl.displayName=iP.displayName;const en=u.forwardRef(({className:e,...t},r)=>n.jsx(aP,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));en.displayName=aP.displayName;const tn=u.forwardRef(({className:e,...t},r)=>n.jsx(oP,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));tn.displayName=oP.displayName;const aF=()=>{const[e,t]=vj(),[r,s]=u.useState(e.get("tab")||"products"),[i,a]=u.useState([]),[o,l]=u.useState([]),[c,d]=u.useState(e.get("search")||""),[m,h]=u.useState(e.get("category")||"all"),[p,b]=u.useState(e.get("type")||"all"),[j,f]=u.useState([0,1e3]),[w,g]=u.useState(0),[x,y]=u.useState("relevance"),[N,P]=u.useState("grid"),[_,k]=u.useState(!1),[E,O]=u.useState(!1),[R,M]=u.useState(null),[L,D]=u.useState([]);u.useEffect(()=>(document.documentElement.setAttribute("dir","rtl"),()=>{document.documentElement.removeAttribute("dir")}),[]),u.useEffect(()=>{ie("listcategories").then(T=>D(T.data||T)).catch(()=>D([]))},[]),u.useEffect(()=>{if(L.length===0)return;const T=e.get("tab")||"products",q=e.get("search")||"",re=e.get("category")||"all",Q=e.get("type")||"all",de=parseInt(e.get("minPrice"))||0,X=parseInt(e.get("maxPrice"))||1e3,K=parseInt(e.get("rating"))||0,se=e.get("sort")||"relevance";s(T),d(q);let ue=re;if(re!=="all"&&L.length>0){const ce=L.find(Ie=>String(Ie.id)===String(re)||Ie.name===re);ce?ue=String(ce.id):ue="all"}h(ue),b(Q),f([de,X]),g(K),y(se),O(!0),M(null);const ve=ce=>{var ut,xt;let Ie=ce.category_id||((ut=ce.category)==null?void 0:ut.id)||ce.category,Be=L.find(gr=>gr.id===Ie);return ce.category&&typeof ce.category=="object"&&ce.category.name&&(Be=ce.category),{id:ce.id,title:ce.title,description:ce.description,price:ce.price,images:Array.isArray(ce.images)&&ce.images.length>0?ce.images.map(gr=>gr.url||gr.image_url):[],category:Be?{id:Be.id,name:Be.name}:{id:Ie,name:Ie},rating:ce.rating||0,reviewCount:ce.reviewCount||ce.review_count||0,sellerId:ce.sellerId||ce.seller_id||((xt=ce.seller)==null?void 0:xt.id),type:ce.type||"product"}},ke=ce=>({id:ce.id,name:ce.name||"",avatar:ce.avatar||"",skills:ce.skills||[],rating:ce.rating||0,reviewCount:ce.reviewCount||ce.review_count||0,bio:ce.bio||"",location:ce.location||"",memberSince:ce.memberSince||"",completedOrders:ce.completedOrders||0});if(T==="products"){let ce=[];if(q&&ce.push(`search=${encodeURIComponent(q)}`),re!=="all"){let Be=re;const ut=L.find(xt=>xt.id===re||xt.name===re);ut&&(Be=ut.id),ce.push(`category=${encodeURIComponent(Be)}`)}Q!=="all"&&ce.push(`type=${encodeURIComponent(Q)}`),de>0&&ce.push(`min_price=${de}`),X<1e3&&ce.push(`max_price=${X}`),K>0&&ce.push(`min_rating=${K}`),se&&se!=="relevance"&&ce.push(`sort=${se}`);const Ie=`explore/products?${ce.join("&")}`;ie(Ie).then(Be=>{a(Array.isArray(Be.data)?Be.data.map(ve):[]),O(!1)}).catch(()=>{a([]),M("تعذر تحميل المنتجات"),O(!1)})}else if(T==="sellers"){let ce=[];if(q&&ce.push(`search=${encodeURIComponent(q)}`),re!=="all"){let Be=re;const ut=L.find(xt=>xt.id===re||xt.name===re);ut&&(Be=ut.id),ce.push(`category=${encodeURIComponent(Be)}`)}K>0&&ce.push(`min_rating=${K}`),se&&se!=="relevance"&&ce.push(`sort=${se}`);const Ie=`explore/sellers?${ce.join("&")}`;ie(Ie).then(Be=>{l(Array.isArray(Be.data)?Be.data.map(ke):[]),O(!1)}).catch(()=>{l([]),M("تعذر تحميل الحرفيين"),O(!1)})}},[e,L]);const B=()=>{const T=new URLSearchParams;if(T.set("tab",r),c&&T.set("search",c),m!=="all"){const q=typeof m=="object"?m.id:m;T.set("category",q)}p!=="all"&&T.set("type",p),r==="products"&&(T.set("minPrice",j[0]),T.set("maxPrice",j[1])),w>0&&T.set("rating",w),x!=="relevance"&&T.set("sort",x),t(T),k(!1)},G=T=>{y(T);const q=new URLSearchParams(e);if(q.set("tab",r),c&&q.set("search",c),m!=="all"){const re=typeof m=="object"?m.id:m;q.set("category",re)}p!=="all"&&q.set("type",p),r==="products"&&(q.set("minPrice",j[0]),q.set("maxPrice",j[1])),w>0&&q.set("rating",w),T!=="relevance"?q.set("sort",T):q.delete("sort"),t(q)},z=()=>{d(""),h("all"),b("all"),f([0,1e3]),g(0),y("relevance"),t({tab:r}),k(!1)},U=T=>{s(T);const q=new URLSearchParams(e);q.set("tab",T),t(q)},$=({gig:T})=>{var re;let q=T.category&&T.category.name?T.category.name:null;if(!q){const Q=L.find(de=>{var X;return de.id===(T.category_id||((X=T.category)==null?void 0:X.id)||T.category)});q=Q?Q.name:T.category_id||((re=T.category)==null?void 0:re.id)||T.category}return n.jsxs(ae,{className:"overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col h-full card-hover border-olivePrimary/20",dir:"rtl",children:[n.jsxs("div",{className:"relative h-56",children:[n.jsx("img",{src:T.images&&T.images.length>0?T.images[0]:"https://images.unsplash.com/photo-1680188700662-5b03bdcf3017",alt:T.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:n.jsx(ye,{variant:"secondary",className:"bg-olivePrimary text-white",children:q})}),n.jsx("div",{className:"absolute bottom-2 right-2 flex flex-col gap-1",children:n.jsx(ye,{variant:"outline",className:`text-xs ${T.type==="gig"?"bg-burntOrange/50 text-white border-burntOrange":"bg-blue-100 text-blue-600 border-blue-300"}`,children:T.type==="gig"?"خدمة مخصصة":"منتج جاهز"})})]}),n.jsx(fe,{className:"pb-2 text-right",children:n.jsx(pe,{className:"text-lg font-semibold text-darkOlive h-14 overflow-hidden",children:T.title})}),n.jsxs(oe,{className:"flex-grow text-right",children:[n.jsxs("div",{className:"flex items-center text-sm text-darkOlive/70 mb-2",children:[n.jsx(He,{className:"h-4 w-4 text-burntOrange ml-1"}),T.rating," (",T.reviewCount," تقييمات)"]}),n.jsxs("p",{className:"text-xl font-bold text-olivePrimary mb-2",children:[T.price," جنيه"]})]}),n.jsx(et,{className:"flex justify-start",children:n.jsx(V,{asChild:!0,className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-white",children:n.jsxs(je,{to:`/gigs/${T.id}`,children:["عرض التفاصيل",n.jsx($r,{className:"ml-2 h-4 w-4"})]})})})]})},F=({gig:T})=>{var re;let q=T.category&&T.category.name?T.category.name:null;if(!q){const Q=L.find(de=>{var X;return de.id===(T.category_id||((X=T.category)==null?void 0:X.id)||T.category)});q=Q?Q.name:T.category_id||((re=T.category)==null?void 0:re.id)||T.category}return n.jsxs(ae,{className:"overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col md:flex-row card-hover border-olivePrimary/20 w-full",dir:"rtl",children:[n.jsxs("div",{className:"relative md:w-1/3 h-56 md:h-auto",children:[n.jsx("img",{src:T.images&&T.images.length>0?T.images[0]:"https://images.unsplash.com/photo-1680188700662-5b03bdcf3017",alt:T.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:n.jsx(ye,{variant:"secondary",className:"bg-olivePrimary text-white",children:q})}),n.jsx("div",{className:"absolute bottom-2 right-2 flex flex-col gap-1",children:n.jsx(ye,{variant:"outline",className:`text-xs ${T.type==="gig"?"bg-burntOrange/50 text-burntOrange border-burntOrange":"bg-blue-10 text-blue-600 border-blue-300"}`,children:T.type==="gig"?"خدمة مخصصة":"منتج جاهز"})})]}),n.jsxs("div",{className:"md:w-2/3 flex flex-col",children:[n.jsx(fe,{className:"pb-2 text-right",children:n.jsx(pe,{className:"text-lg font-semibold text-darkOlive",children:T.title})}),n.jsxs(oe,{className:"flex-grow text-right",children:[n.jsx("p",{className:"text-sm text-darkOlive/70 mb-2 line-clamp-2",children:T.description}),n.jsxs("div",{className:"flex items-center text-sm text-darkOlive/70 mb-2",children:[n.jsx(He,{className:"h-4 w-4 text-burntOrange ml-1"}),T.rating," (",T.reviewCount," تقييمات)"]}),n.jsxs("p",{className:"text-xl font-bold text-olivePrimary mb-2",children:[T.price," جنيه"]})]}),n.jsx(et,{className:"flex",children:n.jsx(V,{asChild:!0,className:"w-full md:w-auto bg-burntOrange hover:bg-burntOrange/90 text-white",children:n.jsxs(je,{to:`/gigs/${T.id}`,children:["عرض التفاصيل",n.jsx($r,{className:"ml-2 h-4 w-4"})]})})})]})]})},H=({seller:T})=>n.jsxs(ae,{className:"overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col h-full card-hover border-lightBeige/50",dir:"rtl",children:[n.jsx("div",{className:"relative h-48 bg-olivePrimary flex items-center justify-center",children:T.avatar?n.jsx("img",{src:T.avatar,alt:T.name,className:"h-24 w-24 rounded-full object-cover border-4 border-white shadow-md"}):n.jsx("div",{className:"h-24 w-24 rounded-full bg-white flex items-center justify-center text-3xl font-bold text-burntOrange shadow-md",children:T.name.charAt(0)})}),n.jsx(fe,{className:"pb-2 text-right",children:n.jsx(pe,{className:"text-lg font-semibold text-gray-800",children:T.name})}),n.jsxs(oe,{className:"flex-grow text-right",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[n.jsx(Qn,{className:"h-4 w-4 text-gray-400 ml-1"}),n.jsx("span",{children:T.location})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[n.jsx(He,{className:"h-4 w-4 text-yellow-500 ml-1"}),T.rating," (",T.reviewCount," تقييمات)"]}),n.jsx("div",{className:"mt-2 text-right",children:T.skills.slice(0,3).map((q,re)=>n.jsx(ye,{variant:"outline",className:"ml-1 mb-1 border-olivePrimary/30 bg-lightGreen/10",children:q},re))}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:T.bio})]}),n.jsxs(et,{className:"flex gap-2 flex-row-reverse",children:[n.jsx(V,{asChild:!0,className:"flex-1 bg-burntOrange hover:bg-burntOrange/90 text-white",children:n.jsxs(je,{to:`/sellers/${T.id}`,children:["عرض الملف",n.jsx($r,{className:"ml-2 h-4 w-4"})]})}),n.jsx(V,{asChild:!0,variant:"outline",className:"w-10 p-0 flex-none",children:n.jsx(je,{to:`/message/${T.id}`,children:n.jsx(Jn,{className:"h-4 w-4"})})})]})]}),W=({seller:T})=>n.jsxs(ae,{className:"overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col md:flex-row card-hover border-olivePrimary/20 w-full",dir:"rtl",children:[n.jsx("div",{className:"relative md:w-1/4 h-48 md:h-auto bg-olivePrimary flex items-center justify-center",children:T.avatar?n.jsx("img",{src:T.avatar,alt:T.name,className:"h-24 w-24 rounded-full object-cover border-4 border-white shadow-md"}):n.jsx("div",{className:"h-24 w-24 rounded-full bg-white flex items-center justify-center text-3xl font-bold text-olivePrimary shadow-md",children:T.name.charAt(0)})}),n.jsxs("div",{className:"md:w-3/4 flex flex-col",children:[n.jsx(fe,{className:"pb-2 text-right",children:n.jsx(pe,{className:"text-lg font-semibold text-darkOlive",children:T.name})}),n.jsxs(oe,{className:"flex-grow text-right",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-darkOlive/70 mb-2 md:mb-0",children:[n.jsx(Qn,{className:"h-4 w-4 text-olivePrimary/60 ml-1"}),n.jsx("span",{children:T.location})]}),n.jsxs("div",{className:"flex items-center text-sm text-darkOlive/70",children:[n.jsx(He,{className:"h-4 w-4 text-burntOrange ml-1"}),T.rating," (",T.reviewCount," تقييمات)"]})]}),n.jsx("p",{className:"text-sm text-darkOlive/70 mb-2",children:T.bio}),n.jsx("div",{className:"mt-2",children:T.skills.map((q,re)=>n.jsx(ye,{variant:"outline",className:"ml-1 mb-1 border-olivePrimary/30 text-darkOlive",children:q},re))}),"          ",n.jsxs("div",{className:"text-sm text-darkOlive/70 mt-2 text-right",children:[n.jsx("span",{className:"font-semibold",children:"عضو منذ:"})," ",new Date(T.memberSince).toLocaleDateString("ar-EG")," ",n.jsx("span",{className:"mx-2",children:"|"}),n.jsx("span",{className:"font-semibold",children:"طلبات مكتملة:"})," ",T.completedOrders]})]}),n.jsxs(et,{className:"flex flex-row-reverse",children:[n.jsx(V,{asChild:!0,className:"bg-burntOrange hover:bg-burntOrange/90 text-white ml-2",children:n.jsxs(je,{to:`/sellers/${T.id}`,children:["عرض الملف",n.jsx($r,{className:"ml-2 h-4 w-4"})]})}),n.jsx(V,{asChild:!0,variant:"outline",className:"border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:n.jsxs(je,{to:`/message/${T.id}`,children:[n.jsx(Jn,{className:"ml-2 h-4 w-4"}),"تواصل مع البائع"]})})]})]})]});return n.jsxs("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:[n.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 p-6 rounded-lg bg-olivePrimary text-white shadow-xl border border-lightBeige/20",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:r==="products"?"استكشف المنتجات اليدوية":"تعرف على أفضل الحرفيين"}),n.jsx("p",{className:"text-lg text-lightBeige",children:r==="products"?"ابحث عن إبداعات فريدة من أفضل الحرفيين.":"تواصل مع حرفيين محترفين لطلب منتجات مخصصة."})]}),n.jsxs(bu,{defaultValue:r,onValueChange:U,className:"w-full mb-6",children:[n.jsxs(Nl,{className:"w-full grid grid-cols-2 mb-6 bg-lightBeige",children:[n.jsx(en,{value:"products",className:"text-lg data-[state=active]:bg-olivePrimary data-[state=active]:text-white",children:"المنتجات"}),n.jsx(en,{value:"sellers",className:"text-lg data-[state=active]:bg-olivePrimary data-[state=active]:text-white",children:"الحرفيين"})]}),n.jsxs(tn,{value:"products",className:"mt-0",children:["          ",n.jsxs("div",{className:"flex flex-col md:flex-row-reverse gap-8",children:[n.jsx(Z.aside,{className:`md:w-1/4 ${_?"block":"hidden"} md:block fixed inset-0 z-40 bg-white p-6 md:relative md:bg-transparent md:p-0 md:z-auto transition-transform duration-300 ease-in-out transform ${_?"translate-x-0":"translate-x-full md:translate-x-0"}`,initial:{x:-200,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:n.jsxs(ae,{className:"shadow-lg border-olivePrimary/20",children:[n.jsxs(fe,{className:"flex flex-row-reverse items-center justify-between",children:[n.jsx(pe,{className:"text-xl text-olivePrimary text-right",children:"تصفية النتائج"}),n.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden hover:bg-lightGreen/50 text-olivePrimary",onClick:()=>k(!1),children:n.jsx(Ct,{className:"h-5 w-5"})})]}),n.jsxs(oe,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"search-filter",className:"text-darkOlive block text-right",children:"بحث بالاسم"}),"                    ",n.jsx(he,{id:"search-filter",type:"text",value:c,onChange:T=>d(T.target.value),placeholder:"اسم المنتج، وصف...",className:"mt-1 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20 text-right",dir:"rtl"})]}),"                  ",n.jsxs("div",{children:[n.jsx(te,{htmlFor:"category-filter",className:"text-darkOlive block text-right",children:"التصنيف"}),n.jsxs($t,{value:m,onValueChange:T=>h(String(T)),dir:"rtl",children:[n.jsx(Tt,{id:"category-filter",className:"mt-1 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20 text-right",children:n.jsx(_t,{placeholder:"اختر تصنيف"})}),n.jsxs(Rt,{className:"border-olivePrimary/30 text-right",dir:"rtl",children:[n.jsx(Ne,{value:"all",children:"كل التصنيفات"}),L.map(T=>n.jsx(Ne,{value:String(T.id),children:T.name},T.id))]})]})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"type-filter",className:"text-darkOlive block text-right",children:"نوع المنتج"}),n.jsxs($t,{value:p,onValueChange:T=>b(String(T)),dir:"rtl",children:[n.jsx(Tt,{id:"type-filter",className:"mt-1 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20 text-right",children:n.jsx(_t,{placeholder:"اختر نوع المنتج"})}),n.jsxs(Rt,{className:"border-olivePrimary/30 text-right",dir:"rtl",children:[n.jsx(Ne,{value:"all",children:"كل الأنواع"}),n.jsx(Ne,{value:"product",children:"منتجات جاهزة"}),n.jsx(Ne,{value:"gig",children:"خدمات مخصصة"})]})]})]}),n.jsxs("div",{children:[n.jsxs(te,{className:"text-darkOlive block text-right",children:["نطاق السعر: ",j[0]," - ",j[1]," جنيه"]}),n.jsx(KC,{defaultValue:j,min:0,max:1e3,step:50,onValueChange:f,className:"mt-2 [&>span:first-child]:h-1 [&>span:first-child]:bg-olivePrimary/20 [&_[role=slider]]:bg-olivePrimary [&_[role=slider]]:w-4 [&_[role=slider]]:h-4 [&_[role=slider]]:border-2 [&_[role=slider]]:border-lightBeige"})]}),n.jsxs("div",{children:[n.jsxs(te,{className:"text-darkOlive block text-right",children:["التقييم الأدنى: ",w," نجوم"]}),n.jsx("div",{className:"flex space-x-1 space-x-reverse mt-1",children:[1,2,3,4,5].map(T=>n.jsx(V,{variant:w>=T?"default":"outline",size:"icon",onClick:()=>g(T===w?0:T),className:`p-2 ${w>=T?"bg-burntOrange border-burntOrange hover:bg-burntOrange/90":"border-olivePrimary/30"}`,children:n.jsx(He,{className:`h-5 w-5 ${w>=T?"text-white":"text-burntOrange"}`})},T))})]}),n.jsx(rt,{}),"                  ",n.jsxs(V,{onClick:B,className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-white",children:[n.jsx(ui,{className:"ml-2 h-4 w-4"})," تطبيق الفلاتر"]}),n.jsx(V,{onClick:z,variant:"outline",className:"w-full border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:"إعادة تعيين الفلاتر"})]})]})}),n.jsxs("main",{className:"w-full md:w-3/4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("p",{className:"text-darkOlive/70",children:["تم العثور على ",i.length," منتج"]}),"                ",n.jsxs("div",{className:"flex items-center gap-2",children:["                  ",n.jsx(V,{variant:"outline",size:"icon",className:"md:hidden ml-2 border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",onClick:()=>k(!0),children:n.jsx(ui,{className:"h-5 w-5"})}),"                  ",n.jsxs($t,{value:x,onValueChange:G,dir:"rtl",children:[n.jsx(Tt,{className:"w-[180px] border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20 text-right",children:n.jsx(_t,{placeholder:"الترتيب حسب"})}),n.jsxs(Rt,{className:"border-olivePrimary/30 text-right",dir:"rtl",children:[n.jsx(Ne,{value:"relevance",children:"الأكثر صلة"}),n.jsx(Ne,{value:"price_low",children:"السعر: من الأقل للأعلى"}),n.jsx(Ne,{value:"price_high",children:"السعر: من الأعلى للأقل"}),n.jsx(Ne,{value:"rating",children:"الأعلى تقييماً"}),n.jsx(Ne,{value:"newest",children:"الأحدث"})]})]}),n.jsx(V,{variant:"outline",size:"icon",className:"border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",onClick:()=>P(N==="grid"?"list":"grid"),children:N==="grid"?n.jsx(Kv,{className:"h-5 w-5"}):n.jsx(qv,{className:"h-5 w-5"})})]})]}),E?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-lg text-darkOlive",children:"جاري تحميل المنتجات..."})}):R?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-lg text-red-500",children:R})}):i.length>0?n.jsx(Z.div,{className:N==="grid"?"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-4 gap-4 rtl":"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},dir:"rtl",children:i.map((T,q)=>n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:q*.05},children:N==="grid"?n.jsx($,{gig:T}):n.jsx(F,{gig:T})},T.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("img",{src:"https://images.unsplash.com/photo-1675023112817-52b789fd2ef0",alt:"لا توجد نتائج",className:"mx-auto mb-4 w-48 h-48 text-gray-400"}),n.jsx("h3",{className:"text-2xl font-semibold text-darkOlive mb-2",children:"لا توجد منتجات تطابق بحثك"}),n.jsx("p",{className:"text-darkOlive/70",children:"حاول تعديل الفلاتر أو البحث بكلمات أخرى."})]})]})]})]}),n.jsx(tn,{value:"sellers",className:"mt-0",children:n.jsxs("div",{className:"flex flex-col md:flex-row-reverse gap-8",children:[n.jsx(Z.aside,{className:`md:w-1/4 ${_?"block":"hidden"} md:block fixed inset-0 z-40 bg-white p-6 pt-15 md:relative md:bg-transparent md:p-0 md:z-auto transition-transform duration-300 ease-in-out transform ${_?"translate-x-0":"translate-x-full md:translate-x-0"}`,initial:{x:-200,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:n.jsxs(ae,{className:"shadow-lg border-olivePrimary/20",children:[n.jsxs(fe,{className:"flex flex-row-reverse items-center justify-between",children:[n.jsx(pe,{className:"text-xl text-olivePrimary text-right",children:"تصفية النتائج"}),n.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden hover:bg-lightGreen/50 text-olivePrimary",onClick:()=>k(!1),children:n.jsx(Ct,{className:"h-5 w-5"})})]}),n.jsxs(oe,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"search-filter-sellers",className:"text-darkOlive block text-right",children:"بحث بالاسم أو المهارات"}),"                    ",n.jsx(he,{id:"search-filter-sellers",type:"text",value:c,onChange:T=>d(T.target.value),placeholder:"اسم الحرفي، المهارات...",className:"mt-1 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20 text-right",dir:"rtl"})]}),"                  ",n.jsxs("div",{children:[n.jsx(te,{htmlFor:"category-filter-sellers",className:"text-darkOlive block text-right",children:"التخصص"}),n.jsxs($t,{value:m,onValueChange:T=>h(String(T)),dir:"rtl",children:[n.jsx(Tt,{id:"category-filter-sellers",className:"mt-1 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20 text-right",children:n.jsx(_t,{placeholder:"اختر تخصص"})}),n.jsxs(Rt,{className:"border-olivePrimary/30 text-right",dir:"rtl",children:[n.jsx(Ne,{value:"all",children:"كل التخصصات"}),L.map(T=>n.jsx(Ne,{value:String(T.id),children:T.name},T.id))]})]})]}),n.jsxs("div",{children:[n.jsxs(te,{className:"text-gray-700 block text-right",children:["التقييم الأدنى: ",w," نجوم"]}),n.jsx("div",{className:"flex space-x-1 space-x-reverse mt-1",children:[1,2,3,4,5].map(T=>n.jsx(V,{variant:w>=T?"default":"outline",size:"icon",onClick:()=>g(T===w?0:T),className:`p-2 ${w>=T?"bg-yellow-400 border-yellow-400 hover:bg-yellow-500":"border-gray-300"}`,children:n.jsx(He,{className:`h-5 w-5 ${w>=T?"text-white":"text-yellow-400"}`})},T))})]}),n.jsx(rt,{}),"                  ",n.jsxs(V,{onClick:B,className:"w-full bg-olivePrimary hover:bg-olivePrimary/90 text-white",children:[n.jsx(ui,{className:"ml-2 h-4 w-4"})," تطبيق الفلاتر"]}),n.jsx(V,{onClick:z,variant:"outline",className:"w-full text-darkOlive border-olivePrimary/30 hover:bg-lightGreen/30",children:"إعادة تعيين الفلاتر"})]})]})}),n.jsxs("main",{className:"w-full md:w-3/4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("p",{className:"text-gray-600",children:["تم العثور على ",o.length," حرفي"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(V,{variant:"outline",size:"icon",className:"md:hidden ml-2",onClick:()=>k(!0),children:n.jsx(ui,{className:"h-5 w-5"})}),"                  ",n.jsxs($t,{value:x,onValueChange:G,dir:"rtl",children:[n.jsx(Tt,{className:"w-[180px] text-right",children:n.jsx(_t,{placeholder:"الترتيب حسب"})}),n.jsxs(Rt,{className:"text-right",dir:"rtl",children:[n.jsx(Ne,{value:"relevance",children:"الأكثر صلة"}),n.jsx(Ne,{value:"rating",children:"الأعلى تقييماً"}),n.jsx(Ne,{value:"experience",children:"الأكثر خبرة"}),n.jsx(Ne,{value:"newest",children:"الأحدث"})]})]}),n.jsx(V,{variant:"outline",size:"icon",onClick:()=>P(N==="grid"?"list":"grid"),children:N==="grid"?n.jsx(Kv,{className:"h-5 w-5"}):n.jsx(qv,{className:"h-5 w-5"})})]})]}),E?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-lg text-darkOlive",children:"جاري تحميل الحرفيين..."})}):R?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-lg text-red-500",children:R})}):o.length>0?n.jsx(Z.div,{className:N==="grid"?"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-4 gap-4 rtl":"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},dir:"rtl",children:o.map((T,q)=>n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:q*.05},children:N==="grid"?n.jsx(H,{seller:T}):n.jsx(W,{seller:T})},T.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("img",{src:"https://images.unsplash.com/photo-1675023112817-52b789fd2ef0",alt:"لا توجد نتائج",className:"mx-auto mb-4 w-48 h-48 text-gray-400"}),n.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا يوجد حرفيين يطابقون بحثك"}),n.jsx("p",{className:"text-gray-500",children:"حاول تعديل الفلاتر أو البحث بكلمات أخرى."})]})]})]})})]}),_&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>k(!1)})]})},jt=me.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));jt.displayName="Textarea";const oF=()=>{const{id:e}=za(),t=Ve(),{toast:r}=st(),{addToCart:s}=Xd(),{user:i}=$e(),{startConversation:a,setActiveConversation:o}=as(),[l,c]=u.useState(null),[d,m]=u.useState(null),[h,p]=u.useState([]),[b,j]=u.useState([]),[f,w]=u.useState(1),[g,x]=u.useState(0);u.useState(""),u.useState(0);const[y,N]=u.useState(!0),[P,_]=u.useState(null);if(u.useEffect(()=>{N(!0),_(null),ie(`Listpoducts/${e}`).then(async M=>{var G,z,U,$,F;if(!M||!M.data){_("لم يتم العثور على المنتج"),N(!1);return}const L=M.data;let D=[];Array.isArray(L.images)&&L.images.length>0&&(D=L.images.map(H=>typeof H=="object"&&H.image_url?H.image_url.startsWith("http")?H.image_url:`https://handy3.abanoubsamir.com/backend/public/storage/${H.image_url}`:H.url||H));const B={id:L.id,title:L.title,description:L.description,price:L.price,type:L.type||"gig",images:D,category:L.category,rating:L.rating||0,reviewCount:L.reviewCount||L.review_count||0,sellerId:L.sellerId||L.seller_id||((G=L.seller)==null?void 0:G.id),deliveryTime:L.delivery_time||L.deliveryTime||"غير محدد",tags:Array.isArray(L.tags)?L.tags:L.tags?[L.tags]:[]};if(c(B),B.sellerId){const W=(await Se.getSeller(B.sellerId)).data;m({id:W.id,name:((z=W.user)==null?void 0:z.name)||"",avatar:((U=W.user)==null?void 0:U.avatar)||"",skills:W.skills||W.categories||[],rating:W.rating||0,reviewCount:W.reviewCount||W.review_count||0,bio:W.bio||(($=W.user)==null?void 0:$.bio)||"",location:W.location||((F=W.user)==null?void 0:F.location)||"",memberSince:W.member_since||W.memberSince||"",completedOrders:W.completed_orders||W.completedOrders||0})}ie(`Listpoducts/${e}/related`).then(H=>{H&&Array.isArray(H.data)?j(H.data.map(W=>({id:W.id,title:W.title,price:W.price,images:Array.isArray(W.images)&&W.images.length>0?W.images.map(T=>T.image_url||T.url||T):[],category:W.category,rating:W.rating||0,reviewCount:W.reviewCount||W.review_count||0}))):j([])}).catch(()=>j([])),Se.getProductReviews(e).then(H=>{if(H&&Array.isArray(H.data)){const W=H.data.map(T=>{var q,re;return{id:T.id,gigId:B.id,userId:(q=T.user)==null?void 0:q.id,userName:((re=T.user)==null?void 0:re.name)||"مستخدم",rating:T.rating,comment:T.comment,date:T.created_at,order_id:T.order_id}});p(W)}}).catch(()=>p([])),N(!1)}).catch(()=>{_("تعذر تحميل تفاصيل المنتج"),N(!1)})},[e,t]),y)return n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"جاري تحميل تفاصيل المنتج..."});if(P||!l||!d)return n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:P||"تعذر تحميل تفاصيل المنتج"});const k=()=>{s({...l,quantity:f}),r({title:"تمت الإضافة إلى السلة",description:`${l.title} (الكمية: ${f}) تمت إضافتها إلى سلة التسوق.`})},E=async()=>{if(!i){r({variant:"destructive",title:"يرجى تسجيل الدخول",description:"يجب عليك تسجيل الدخول أولاً للتواصل مع البائع."}),t("/login");return}if(i.id===d.id){r({variant:"destructive",title:"لا يمكن مراسلة نفسك",description:"لا يمكنك بدء محادثة مع نفسك."});return}try{const M=await a(d);o(M),t("/chat")}catch(M){console.error("Error starting conversation:",M)}},O=M=>{const L=M==="next"?(g+1)%(l.images.length||1):(g-1+(l.images.length||1))%(l.images.length||1);x(L)},R=l.images&&l.images.length>0?l.images:["https://images.unsplash.com/photo-1667974241877-3f3c2f324bb7?q=80&w=1000","https://images.unsplash.com/photo-1632065509860-4fbcfc89ed7c?q=80&w=1000","https://images.unsplash.com/photo-1580265862291-4251b8c7e836?q=80&w=1000"];return n.jsx("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Z.div,{className:"aspect-square rounded-lg overflow-hidden shadow-xl border border-olivePrimary/20",initial:{opacity:.8,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.3},children:n.jsx("img",{src:R[g],alt:`${l.title} - صورة ${g+1}`,className:"w-full h-full object-cover"})},g),R.length>1&&n.jsxs(n.Fragment,{children:["                ",n.jsx(V,{variant:"outline",size:"icon",className:"absolute top-1/2 right-2 transform -translate-y-1/2 bg-white/70 hover:bg-white border-olivePrimary/30",onClick:()=>O("prev"),children:n.jsx(Gd,{className:"h-6 w-6 text-olivePrimary"})}),n.jsx(V,{variant:"outline",size:"icon",className:"absolute top-1/2 left-2 transform -translate-y-1/2 bg-white/70 hover:bg-white border-olivePrimary/30",onClick:()=>O("next"),children:n.jsx(fl,{className:"h-6 w-6 text-olivePrimary"})})]}),n.jsx("div",{className:"flex justify-center mt-4 space-x-2 space-x-reverse",children:R.map((M,L)=>n.jsx("button",{className:`w-16 h-16 rounded-md overflow-hidden border-2 ${L===g?"border-olivePrimary":"border-transparent"} transition-all`,onClick:()=>x(L),children:n.jsx("img",{src:M,alt:`صورة مصغرة ${L+1}`,className:"w-full h-full object-cover"})},L))})]}),n.jsxs("div",{className:"space-y-6",children:["            ",n.jsx(Z.h1,{className:"text-3xl lg:text-4xl font-bold text-darkOlive text-right",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:l.title}),n.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n.jsxs("div",{className:"flex items-center text-burntOrange",children:[[...Array(5)].map((M,L)=>n.jsx(He,{className:`h-5 w-5 ${L<Math.round(Number(l.rating)||0)?"fill-current":""}`},L)),n.jsxs("span",{className:"mr-2 text-darkOlive/70",children:["(",typeof l.rating=="number"?l.rating.toFixed(1):Number(l.rating||0).toFixed(1)," / ",h.length," تقييمات)"]})]}),n.jsx(ye,{variant:"secondary",className:"bg-lightGreen/50 text-olivePrimary",children:l.category.name})]}),n.jsx("p",{className:"text-darkOlive/80 leading-relaxed text-right",children:l.description}),n.jsxs("div",{className:"text-3xl font-bold text-olivePrimary",children:[l.price," جنيه"]}),n.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n.jsx(te,{htmlFor:"quantity",className:"text-darkOlive",children:"الكمية:"}),n.jsx(he,{type:"number",id:"quantity",value:f,onChange:M=>w(Math.max(1,parseInt(M.target.value))),min:"1",className:"w-20 text-center border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.type==="gig"?n.jsxs(V,{size:"lg",onClick:E,className:"bg-burntOrange hover:bg-burntOrange/90 text-white flex-1",children:[n.jsx(Lr,{className:"ml-2 h-5 w-5"})," تواصل مع البائع"]}):n.jsxs(V,{size:"lg",onClick:k,className:"bg-burntOrange hover:bg-burntOrange/90 text-white flex-1",children:[n.jsx(Fp,{className:"ml-2 h-5 w-5"})," أضف إلى السلة"]}),n.jsxs(V,{size:"lg",variant:"outline",className:"border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white flex-1",children:[n.jsx(Jj,{className:"ml-2 h-5 w-5"})," أضف إلى المفضلة"]})]}),"            ",n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-darkOlive/80",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(f3,{className:"h-5 w-5 text-olivePrimary ml-2"})," دفع آمن ومضمون"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zo,{className:"h-5 w-5 text-olivePrimary ml-2"})," شحن لجميع المحافظات"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Et,{className:"h-5 w-5 text-burntOrange ml-2"})," منتج يدوي أصلي"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"h-5 w-5 text-burntOrange ml-2"})," دعم فني مباشر"]})]}),n.jsx(rt,{}),n.jsxs(ae,{className:"bg-lightGreen/30 border-olivePrimary/20",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-xl text-darkOlive",children:"معلومات البائع"})}),n.jsxs(oe,{className:"flex items-center space-x-4 space-x-reverse",children:[n.jsxs(qt,{className:"h-16 w-16 border-2 border-olivePrimary",children:[n.jsx(rr,{src:d.avatar,alt:d.name}),n.jsx(Kt,{className:"bg-olivePrimary text-white",children:d.name.charAt(0)})]}),n.jsxs("div",{children:[n.jsx(je,{to:`/sellers/${d.id}`,className:"text-lg font-semibold text-olivePrimary hover:underline",children:d.name}),n.jsx("p",{className:"text-sm text-darkOlive/70",children:d.location}),n.jsxs("div",{className:"flex items-center text-sm text-burntOrange",children:[n.jsx(He,{className:"h-4 w-4 mr-1"})," ",d.rating," (",d.reviewCount," تقييمات)"]})]}),"                ",n.jsxs(V,{variant:"outline",onClick:E,className:"mr-auto border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:[n.jsx(Lr,{className:"ml-2 h-4 w-4"})," تواصل مع البائع"]})]})]})]})]}),n.jsxs("div",{className:"mt-12",children:[n.jsxs("section",{className:"mb-10",children:[n.jsx("h2",{className:"text-2xl font-bold text-darkOlive mb-4 text-right",children:"تفاصيل إضافية"}),"            ",n.jsxs("div",{className:"prose max-w-none text-darkOlive/80 text-right",children:[n.jsxs("p",{children:["وقت التسليم المتوقع: ",l.deliveryTime||"غير محدد"]}),n.jsxs("p",{children:["الوسوم: ",Array.isArray(l.tags)&&l.tags.length>0?l.tags.map(M=>M.tag_name).join(", "):"لا توجد وسوم"]})]})]}),n.jsx(rt,{className:"my-8"}),n.jsxs("section",{className:"mb-10",children:[n.jsxs("h2",{className:"text-2xl font-bold text-darkOlive mb-6 text-right",children:["تقييمات العملاء (",h.length,")"]}),h.length>0?n.jsx("div",{className:"space-y-6",children:h.map(M=>n.jsx(ae,{className:"shadow-sm border-olivePrimary/20",children:n.jsx(oe,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[n.jsx(qt,{className:"h-10 w-10",children:n.jsx(Kt,{className:"bg-olivePrimary text-white",children:M.userName.charAt(0)})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mb-1",children:[n.jsx("p",{className:"font-semibold text-darkOlive",children:M.userName}),"                    ",n.jsx("div",{className:"flex text-burntOrange",children:[...Array(5)].map((L,D)=>n.jsx(He,{className:`h-4 w-4 ${D<M.rating?"fill-current":""}`},D))})]}),n.jsx("p",{className:"text-sm text-darkOlive/60 mb-2",children:new Date(M.date).toLocaleDateString("ar-EG")}),n.jsx("p",{className:"text-darkOlive/80",children:M.comment})]})]})})},M.id))}):n.jsx("p",{className:"text-darkOlive/70",children:"لا توجد تقييمات لهذا المنتج حتى الآن."})]}),n.jsx(rt,{className:"my-8"}),b.length>0&&n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-darkOlive mb-6 text-right",children:"منتجات مشابهة من نفس البائع"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(M=>{var L;return n.jsxs(ae,{className:"overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 card-hover border-olivePrimary/20",children:[n.jsxs("div",{className:"relative h-48",children:[n.jsx("img",{src:M.images&&M.images.length>0?M.images[0]:"https://images.unsplash.com/photo-1635865165118-917ed9e20936",alt:M.title,className:"w-full h-full object-cover"}),n.jsx(ye,{variant:"secondary",className:"absolute top-2 right-2 bg-olivePrimary text-white",children:(L=M.category)==null?void 0:L.name})]}),n.jsx(fe,{className:"pb-1",children:n.jsx(pe,{className:"text-md font-semibold text-darkOlive h-12 overflow-hidden text-right",children:M.title})}),n.jsx(oe,{className:"pb-3",children:n.jsxs("p",{className:"text-lg font-bold text-olivePrimary text-right",children:[M.price," جنيه"]})}),n.jsx(et,{children:n.jsx(V,{asChild:!0,variant:"outline",className:"w-full border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:n.jsx(je,{to:`/gigs/${M.id}`,children:"عرض التفاصيل"})})})]},M.id)})})]})]})]})})},zy=()=>{var G;const{id:e}=za(),t=Ve(),{user:r,updateProfile:s,uploadProfileImage:i}=$e(),{startConversation:a,setActiveConversation:o}=as(),[l,c]=u.useState(null),[d,m]=u.useState([]),[h,p]=u.useState(!1),[b,j]=u.useState({name:"",bio:"",location:"",skills:"",avatar:"",phone:""}),[f,w]=u.useState(!0),[g,x]=u.useState(null),[y,N]=u.useState(null),[P,_]=u.useState(!1),k=!e||e==="me"||r&&r.id===e,[E,O]=u.useState(0);u.useEffect(()=>E>0?void 0:((async()=>{w(!0),O(U=>U+1);try{const U=lr(k?"me":`users/${e}`);console.log("Fetching profile from:",U);const $=localStorage.getItem("token"),F=await fetch(U,{headers:$?{Authorization:`Bearer ${$}`}:{},cache:"force-cache"});if(!F.ok)throw new Error("Not found");const H=(await F.json()).data;console.log("Raw backend data received:",H);const W={id:H.id,name:H.name||"",bio:H.bio||"",location:H.location||"",active_role:H.active_role||"buyer",skills:Array.isArray(H.skills)?H.skills:[],avatar:H.avatar||"",phone:H.phone||"",rating:typeof H.rating=="number"?H.rating:0,completedOrders:typeof H.completedOrders=="number"?H.completedOrders:0,reviewCount:typeof H.reviewCount=="number"?H.reviewCount:0,memberSince:H.memberSince||H.createdAt||new Date().toISOString()};if(console.log("Validated profile data being set:",W),c(W),k){const T={name:W.name,bio:W.bio,location:W.location,skills:W.skills.join(", "),avatar:W.avatar||"",phone:W.phone||""};if(console.log("Setting edit form data:",T),j(T),r){const q={...r,...W};localStorage.setItem("user",JSON.stringify(q)),console.log("Updated localStorage with validated data:",q)}}if(W.active_role==="seller"){const T=W.id;console.log("Fetching gigs for seller:",T);const q=await fetch(lr(`/listsellers/${T}`),{cache:"force-cache"});if(q.ok){const re=await q.json();console.log("Raw gigs data received:",re);const Q=re.gigs||[],de=Array.isArray(Q)?Q.map(X=>({id:X.id,title:X.title||"عنوان غير محدد",price:typeof X.price=="number"?X.price:0,category:X.category||"غير محدد",rating:typeof X.rating=="number"?X.rating:0,reviewCount:typeof X.reviewCount=="number"?X.reviewCount:0,images:Array.isArray(X.images)?X.images:[],description:X.description||""})):[];console.log("Validated gigs data being set:",de),m(de)}else console.warn("Failed to fetch gigs, setting empty array"),m([])}else console.log("User is not a seller, setting empty gigs array"),m([])}catch(U){console.error("Error fetching profile:",U),c(null),m([]),t("/404")}finally{w(!1)}})(),()=>{console.log("Profile page unmounted")}),[e,k,t]);const R=z=>{j({...b,[z.target.name]:z.target.value})},M=z=>{const U=z.target.files[0];if(U){if(!U.type.startsWith("image/")){alert("يرجى اختيار ملف صورة صالح.");return}if(U.size>5*1024*1024){alert("حجم الصورة يجب أن يكون أقل من 5 ميجابايت.");return}x(U);const $=new FileReader;$.onload=F=>{N(F.target.result)},$.readAsDataURL(U)}},L=async()=>{if(g){_(!0);try{const z=await i(g);if(z.success){x(null),N(null);const U={...l,avatar:z.data.avatar};c(U),j($=>({...$,avatar:z.data.avatar}))}}catch(z){console.error("Avatar upload failed:",z)}finally{_(!1)}}},D=async()=>{const z=(l==null?void 0:l.active_role)==="seller"&&b.skills?b.skills.split(",").map(U=>U.trim()).filter(U=>U):[];try{const U={name:b.name.trim(),bio:b.bio.trim(),location:b.location.trim(),avatar:b.avatar,phone:b.phone};if((l==null?void 0:l.active_role)==="seller"&&(U.skills=z),console.log("Sending profile update:",U),await s(U)){console.log("Profile update successful, updating local state"),c(H=>{const W={...H,name:U.name||H.name,bio:U.bio||H.bio,location:U.location||H.location,skills:Array.isArray(U.skills)?U.skills:H.skills};return console.log("Updated profile data state:",W),W}),p(!1);const F=localStorage.getItem("user");if(F)try{const W={...JSON.parse(F),...U};localStorage.setItem("user",JSON.stringify(W)),console.log("Updated user data in localStorage:",W);const T=localStorage.getItem("token"),q=lr("me"),re=await fetch(q,{headers:T?{Authorization:`Bearer ${T}`}:{}});if(re.ok){const Q=(await re.json()).data;console.log("Fresh data received from API:",Q);const de={id:Q.id,name:Q.name||"",bio:Q.bio||"",location:Q.location||"",active_role:Q.active_role||"buyer",skills:Array.isArray(Q.skills)?Q.skills:[],avatar:Q.avatar||"",rating:typeof Q.rating=="number"?Q.rating:0,completedOrders:typeof Q.completedOrders=="number"?Q.completedOrders:0,reviewCount:typeof Q.reviewCount=="number"?Q.reviewCount:0,memberSince:Q.memberSince||Q.createdAt||new Date().toISOString()};console.log("Setting validated fresh profile data:",de),c(de)}}catch(H){console.error("Error updating localStorage:",H)}}else console.warn("Profile update was not successful")}catch(U){console.error("Failed to update profile:",U)}},B=async()=>{if(!r){t("/login");return}if(r.id!==l.id)try{const z=await a(l);o(z),t("/chat")}catch(z){console.error("Error starting conversation:",z)}};return f?n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"جاري تحميل الملف الشخصي..."}):l?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["        ",n.jsxs(ae,{className:"mb-8 shadow-xl overflow-hidden border-lightBeige bg-lightBeige",children:[n.jsx("div",{className:"relative h-48 bg-olivePrimary",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1692975716697-4abaff365786",alt:"غلاف الملف الشخصي",className:"w-full h-full object-cover opacity-30"})}),n.jsx(oe,{className:"pt-0 -mt-16",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end",children:[n.jsxs(qt,{className:"h-32 w-32 border-4 border-white shadow-lg",children:[n.jsx(rr,{src:l.avatar,alt:l.name}),n.jsx(Kt,{className:"text-4xl",children:l.name?l.name.charAt(0):"U"})]}),n.jsxs("div",{className:"md:mr-6 mt-4 md:mt-0 text-center md:text-right",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(l==null?void 0:l.name)||"اسم غير محدد"}),"                ",(l==null?void 0:l.active_role)==="seller"&&n.jsx("p",{className:"text-md text-primary",children:l!=null&&l.skills&&l.skills.length>0?l.skills.slice(0,2).join(" | "):"حرفي"})]}),n.jsx("div",{className:"mt-4 md:mt-0 md:mr-auto flex space-x-2 space-x-reverse",children:k?n.jsxs(V,{onClick:()=>p(!h),variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-white",children:[n.jsx(u3,{className:"ml-2 h-4 w-4"})," ",h?"إلغاء التعديل":"تعديل الملف الشخصي"]}):n.jsxs(V,{onClick:B,className:"bg-burntOrange hover:bg-burntOrange/90 text-white",children:[n.jsx(Lr,{className:"ml-2 h-4 w-4"})," تواصل"]})})]})})]}),h&&k&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8",children:n.jsxs(ae,{className:"shadow-lg border-orange-200",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-xl text-primary",children:"تعديل معلوماتك الشخصية"})}),n.jsxs(oe,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"الاسم"}),n.jsx(he,{type:"text",name:"name",id:"name",value:b.name,onChange:R,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"نبذة تعريفية"}),n.jsx(jt,{name:"bio",id:"bio",value:b.bio,onChange:R,rows:3,className:"mt-1"})]}),"                ",n.jsxs("div",{children:[n.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"الموقع"}),n.jsx(he,{type:"text",name:"location",id:"location",value:b.location,onChange:R,className:"mt-1"})]}),(l==null?void 0:l.active_role)==="seller"&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"skills",className:"block text-sm font-medium text-gray-700",children:"المهارات (مفصولة بفاصلة)"}),n.jsx(he,{type:"text",name:"skills",id:"skills",value:b.skills,onChange:R,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"صورة الملف الشخصي"}),n.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:y||(l==null?void 0:l.avatar)||"https://avatar.iran.liara.run/public/65",alt:"معاينة الصورة الشخصية",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-300"}),g&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"✓"})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(he,{id:"avatar-upload",type:"file",accept:"image/*",onChange:M,className:"hidden"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("label",{htmlFor:"avatar-upload",className:"cursor-pointer bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"اختيار صورة"}),g&&n.jsx("button",{type:"button",onClick:L,disabled:P,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm disabled:opacity-50",children:P?"جاري الرفع...":"رفع الصورة"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"يرجى اختيار صورة بصيغة JPG، PNG أو GIF. الحد الأقصى: 5 ميجابايت"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"رقم الهاتف"}),n.jsx(he,{type:"text",name:"phone",id:"phone",value:b.phone,onChange:R,className:"mt-1",placeholder:"مثال: +201234567890"})]})]}),n.jsxs(et,{children:[n.jsx(V,{onClick:D,className:"bg-green-500 hover:bg-green-600",children:"حفظ التغييرات"}),n.jsx(V,{onClick:()=>p(!1),variant:"ghost",className:"mr-2",children:"إلغاء"})]})]})}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[n.jsxs(Z.div,{className:"md:col-span-1 space-y-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[n.jsxs(ae,{className:"shadow-lg border-orange-100",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-xl text-gray-700",children:"نبذة عني"})}),n.jsxs(oe,{children:[n.jsx("p",{className:"text-gray-600 leading-relaxed",children:(l==null?void 0:l.bio)||"لا توجد نبذة تعريفية متاحة."}),n.jsx(rt,{className:"my-4"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[(l==null?void 0:l.location)&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qn,{className:"h-4 w-4 ml-2 text-primary"})," ",l.location]}),(l==null?void 0:l.phone)&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pn,{className:"h-4 w-4 ml-2 text-primary"})," ",l.phone]}),(l==null?void 0:l.memberSince)&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(qR,{className:"h-4 w-4 ml-2 text-primary"}),"عضو منذ ",new Date(l.memberSince).toLocaleDateString("ar-EG")]})]}),(l==null?void 0:l.active_role)==="seller"&&(l==null?void 0:l.skills)&&l.skills.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(rt,{className:"my-4"}),n.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"المهارات:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.skills.map((z,U)=>n.jsx(ye,{variant:"secondary",className:"bg-lightGreen/20 text-darkOlive",children:z},`${z}-${U}`))})]})]})]}),(l==null?void 0:l.active_role)==="seller"&&n.jsxs(ae,{className:"shadow-lg border-orange-100",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-xl text-gray-700",children:"إحصائيات البائع"})}),n.jsxs(oe,{className:"space-y-3 text-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(He,{className:"h-5 w-5 ml-2 text-yellow-400"})," متوسط التقييم"]}),n.jsx("span",{className:"font-semibold",children:((G=l==null?void 0:l.rating)==null?void 0:G.toFixed(1))||"غير متاح"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Xj,{className:"h-5 w-5 ml-2 text-green-500"})," الطلبات المكتملة"]}),n.jsx("span",{className:"font-semibold",children:(l==null?void 0:l.completedOrders)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Pi,{className:"h-5 w-5 ml-2 text-blue-500"})," عدد التقييمات"]}),n.jsx("span",{className:"font-semibold",children:(l==null?void 0:l.reviewCount)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Xm,{className:"h-5 w-5 ml-2 text-purple-500"})," عدد الخدمات"]}),n.jsx("span",{className:"font-semibold",children:(d==null?void 0:d.length)||0})]})]})]})]}),n.jsxs(Z.div,{className:"md:col-span-2 space-y-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[(l==null?void 0:l.active_role)==="seller"?"خدماتي":"طلباتي"," (",(d==null?void 0:d.length)||0,")"]}),k&&(l==null?void 0:l.active_role)==="seller"&&n.jsxs(V,{onClick:()=>t("/dashboard/gigs/new"),className:"bg-green-500 hover:bg-green-600",children:[n.jsx(js,{className:"ml-2 h-4 w-4"})," أضف خدمة جديدة"]})]}),d&&d.length>0?n.jsx("div",{className:"grid sm:grid-cols-2 gap-6",children:d.map(z=>n.jsxs(ae,{className:"overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 card-hover border-lightBeige/50",children:[n.jsxs("div",{className:"relative h-48",children:[n.jsx("img",{src:z.images&&z.images.length>0?z.images[0]:"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea",alt:z.title,className:"w-full h-full object-cover"}),n.jsx(ye,{variant:"secondary",className:"absolute top-2 right-2 bg-olivePrimary text-white",children:z.category||"غير محدد"})]}),n.jsx(fe,{className:"pb-1",children:n.jsx(pe,{className:"text-md font-semibold text-gray-700 h-12 overflow-hidden",children:z.title||"عنوان غير محدد"})}),n.jsxs(oe,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-1",children:[n.jsx(He,{className:"h-4 w-4 text-yellow-500 mr-1"}),z.rating||0," (",z.reviewCount||0," تقييمات)"]}),n.jsxs("p",{className:"text-lg font-bold text-primary",children:[z.price||0," جنيه"]})]}),n.jsxs(et,{className:"flex gap-2",children:[n.jsx(V,{asChild:!0,variant:"outline",className:"flex-1 border-olivePrimary/30 text-darkOlive hover:bg-lightGreen/30 hover:text-olivePrimary hover:border-olivePrimary",children:n.jsx(je,{to:`/gigs/${z.id}`,children:"عرض"})}),k&&n.jsx(V,{asChild:!0,variant:"outline",className:"flex-1",children:n.jsx(je,{to:`/dashboard/gigs/edit/${z.id}`,children:"تعديل"})})]})]},z.id))}):n.jsx(ae,{className:"text-center py-12 border-dashed border-gray-300",children:n.jsxs(oe,{children:[n.jsx(Xm,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:(l==null?void 0:l.active_role)==="seller"?"لا توجد خدمات معروضة حالياً":"لا توجد طلبات حالياً"}),n.jsx("p",{className:"text-gray-500",children:(l==null?void 0:l.active_role)==="seller"?"ابدأ بإضافة خدماتك ليراها العملاء!":"تصفح المنتجات وقم بطلبك الأول!"}),(l==null?void 0:l.active_role)==="buyer"&&n.jsx(V,{asChild:!0,className:"mt-4 bg-burntOrange hover:bg-burntOrange/90 text-white",children:n.jsx(je,{to:"/explore",children:"استكشف المنتجات"})})]})})]})]})]})}):n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"تعذر تحميل الملف الشخصي."})},lF=()=>{const{id:e}=za(),[t,r]=u.useState(null),[s,i]=u.useState([]),[a,o]=u.useState([]),[l,c]=u.useState(!0),[d,m]=u.useState(null),[h,p]=u.useState(!1),b=Ve(),{user:j}=$e(),{startConversation:f,setActiveConversation:w}=as(),{toast:g}=st();u.useEffect(()=>{(async()=>{var P,_,k;try{c(!0);const E=(await Se.getSeller(e)).data;if(!E){m("لم يتم العثور على الحرفي"),c(!1);return}const O={id:E.id,name:((P=E.user)==null?void 0:P.name)||"بدون اسم",email:((_=E.user)==null?void 0:_.email)||"",bio:E.bio||"لا يوجد وصف",location:E.location||"غير محدد",rating:E.rating||0,reviewCount:E.review_count||0,memberSince:E.member_since||new Date().toISOString(),skills:Array.isArray(E.skills)?E.skills:[],completedOrders:E.completed_orders||0,responseTime:E.response_time||"غير محدد",avatar:((k=E.user)==null?void 0:k.avatar)||"",products:E.products||[]};r(O);const R=O.products;if(R&&Array.isArray(R)){const M=R.map(L=>{var D;return{id:L.id,title:L.title||"عنوان غير محدد",price:L.price||0,category:((D=L.category)==null?void 0:D.name)||"غير مصنف",rating:L.rating||0,reviewCount:L.review_count||0,images:Array.isArray(L.images)?L.images.map(B=>B.url||B.image_url||B):[],description:L.description||""}});i(M)}else i([]);c(!1)}catch(E){console.error("Error fetching seller data:",E),E.message&&E.message.includes("404")?m("لم يتم العثور على الحرفي"):m("حدث خطأ أثناء تحميل البيانات، الرجاء المحاولة مرة أخرى"),c(!1)}})()},[e,b]);const x=async()=>{if(!(!(t!=null&&t.id)||a.length>0)){p(!0);try{const N=await Se.getSellerReviews(t.id);N&&Array.isArray(N.data)&&o(N.data)}catch(N){console.error("Error loading seller reviews:",N)}finally{p(!1)}}};if(l)return n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx(Re,{className:"h-16 w-16 animate-spin text-primary mx-auto"}),n.jsx("p",{className:"mt-4 text-lg",children:"جاري تحميل بيانات الحرفي..."})]});if(d)return n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx("div",{className:"text-4xl mb-4",children:"😕"}),n.jsx("h1",{className:"text-2xl font-bold mb-4",children:d}),n.jsx("p",{className:"mb-8",children:"لم نتمكن من العثور على الحرفي المطلوب"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx(V,{asChild:!0,children:n.jsx(je,{to:"/explore?tab=sellers",children:"العودة إلى قائمة الحرفيين"})}),n.jsx(V,{variant:"outline",onClick:()=>b(-1),children:"العودة إلى الصفحة السابقة"})]})]});if(!t)return null;const y=async()=>{if(!j){g({variant:"destructive",title:"يرجى تسجيل الدخول",description:"يجب عليك تسجيل الدخول أولاً للتواصل مع الحرفي."}),b("/login",{state:{from:`/sellers/${e}`}});return}if(j.id===t.id){g({variant:"destructive",title:"لا يمكن مراسلة نفسك",description:"لا يمكنك بدء محادثة مع نفسك."});return}try{const N=await f(t);w(N),b("/chat")}catch(N){console.error("Error starting conversation:",N)}};return n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["        ","        ",n.jsxs(ae,{className:"mb-8 overflow-hidden border-lightBeige/50",children:[n.jsx("div",{className:"h-48 bg-olivePrimary relative",children:n.jsx("div",{className:"absolute -bottom-16 right-8 h-32 w-32 rounded-full bg-white shadow-lg border-4 border-white overflow-hidden",children:t.avatar?n.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-5xl font-bold text-olivePrimary",children:t.name.charAt(0)})})}),n.jsx(oe,{className:"pt-20 pb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:t.name}),n.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[n.jsx(Qn,{className:"h-4 w-4 text-gray-400 ml-1"}),n.jsx("span",{children:t.location}),n.jsx("span",{className:"mx-2",children:"•"}),n.jsx(Jo,{className:"h-4 w-4 text-gray-400 ml-1"}),n.jsxs("span",{children:["عضو منذ ",new Date(t.memberSince).toLocaleDateString("ar-EG")]})]}),n.jsx("p",{className:"text-gray-700 mb-4 max-w-3xl",children:t.bio}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((N,P)=>n.jsx(ye,{variant:"outline",className:"border-olivePrimary/30 bg-lightGreen/10",children:t.skills[P]},P))})]}),"              ",n.jsx("div",{className:"mt-6 md:mt-0 flex md:flex-col gap-3",children:n.jsxs(V,{onClick:y,className:"bg-burntOrange hover:bg-burntOrange/90 text-white",children:[n.jsx(Lr,{className:"ml-2 h-4 w-4"}),"تواصل مع الحرفي"]})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsx(ae,{className:"border-lightBeige/50 bg-lightBeige/10",children:n.jsxs(oe,{className:"p-6 flex items-center",children:[n.jsx(He,{className:"h-10 w-10 text-yellow-500 ml-4"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"التقييم"}),n.jsxs("p",{className:"text-2xl font-bold",children:[t.rating," ",n.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.reviewCount,")"]})]})]})]})}),n.jsx(ae,{className:"border-lightBeige/50 bg-lightBeige/10",children:n.jsxs(oe,{className:"p-6 flex items-center",children:[n.jsx(Ir,{className:"h-10 w-10 text-blue-500 ml-4"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"الطلبات المكتملة"}),n.jsx("p",{className:"text-2xl font-bold",children:t.completedOrders})]})]})}),n.jsx(ae,{className:"border-lightBeige/50 bg-lightBeige/10",children:n.jsxs(oe,{className:"p-6 flex items-center",children:[n.jsx(Ci,{className:"h-10 w-10 text-green-500 ml-4"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"وقت الاستجابة"}),n.jsx("p",{className:"text-2xl font-bold",children:t.responseTime})]})]})}),n.jsx(ae,{className:"border-lightBeige/50 bg-lightBeige/10",children:n.jsxs(oe,{className:"p-6 flex items-center",children:[n.jsx(Xj,{className:"h-10 w-10 text-purple-500 ml-4"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"الخبرة"}),n.jsx("p",{className:"text-2xl font-bold",children:(()=>{const N=new Date,P=new Date(t.memberSince);let _=N.getFullYear()-P.getFullYear(),k=N.getMonth()-P.getMonth();return k<0&&(_-=1,k+=12),n.jsxs(n.Fragment,{children:[_>0&&n.jsxs("span",{children:[_," سنة",(_>1,"")]}),_>0&&k>0&&" و ",k>0&&n.jsxs("span",{children:[k," شهر",(k>1,"")]}),_===0&&k===0&&n.jsx("span",{children:"أقل من شهر"})]})})()})]})]})})]}),n.jsxs(bu,{defaultValue:"products",className:"w-full",onValueChange:N=>{N==="reviews"&&x()},children:[n.jsxs(Nl,{className:"w-full max-w-md mx-auto grid grid-cols-2 mb-8",children:[n.jsx(en,{value:"products",className:"text-lg",children:"المنتجات"}),n.jsxs(en,{value:"reviews",className:"text-lg",children:["التقييمات (",(t==null?void 0:t.reviewCount)||0,")"]})]}),n.jsxs(tn,{value:"products",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"منتجات الحرفي"}),s.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(N=>n.jsxs(ae,{className:"overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col h-full card-hover border-lightBeige/50",children:[n.jsxs("div",{className:"relative h-56",children:[n.jsx("img",{src:N.images&&N.images.length>0?N.images[0]:"https://images.unsplash.com/photo-1680188700662-5b03bdcf3017",alt:N.title,className:"w-full h-full object-cover"}),n.jsx(ye,{variant:"secondary",className:"absolute top-2 right-2 bg-olivePrimary text-white",children:N.category})]}),n.jsx(fe,{className:"pb-2",children:n.jsx(pe,{className:"text-lg font-semibold text-gray-800 h-14 overflow-hidden",children:N.title})}),n.jsxs(oe,{className:"flex-grow",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[n.jsx(He,{className:"h-4 w-4 text-yellow-500 mr-1"}),N.rating," (",N.reviewCount," تقييمات)"]}),n.jsxs("p",{className:"text-xl font-bold text-primary mb-2",children:[N.price," جنيه"]})]}),n.jsx(et,{children:n.jsx(V,{asChild:!0,className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-white",children:n.jsxs(je,{to:`/gigs/${N.id}`,children:["عرض التفاصيل",n.jsx(br,{className:"mr-2 h-4 w-4"})]})})})]},N.id))}):n.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-xl text-gray-600",children:"لا توجد منتجات لعرضها حالياً"})})]}),n.jsxs(tn,{value:"reviews",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"تقييمات العملاء"}),h?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Re,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"جاري تحميل التقييمات..."})]}):a.length>0?n.jsx("div",{className:"space-y-6",dir:"rtl",children:a.map(N=>{var P,_,k,E;return n.jsx(ae,{className:"border-lightBeige/50",children:n.jsx(oe,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:(P=N.user)!=null&&P.avatar?n.jsx("img",{src:N.user.avatar,alt:N.user.name||"مستخدم",className:"w-12 h-12 rounded-full object-cover border-2 border-lightBeige"}):n.jsx("div",{className:"w-12 h-12 bg-olivePrimary rounded-full flex items-center justify-center text-white font-bold",children:((k=(_=N.user)==null?void 0:_.name)==null?void 0:k.charAt(0))||"م"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 text-right",children:((E=N.user)==null?void 0:E.name)||"مستخدم"}),n.jsx("p",{className:"text-sm text-gray-500 text-right",children:new Date(N.created_at).toLocaleDateString("ar-EG")})]})}),N.product&&n.jsxs("div",{className:"flex items-center gap-3 mb-3 p-3 bg-gray-50 rounded-lg",children:[N.product.image?n.jsx("img",{src:N.product.image,alt:N.product.title,className:"w-12 h-12 rounded-lg object-cover border border-lightBeige"}):n.jsx("div",{className:"w-12 h-12 bg-lightBeige rounded-lg flex items-center justify-center",children:n.jsx(Ir,{className:"h-6 w-6 text-olivePrimary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 block text-right",children:N.product.title}),n.jsx("span",{className:"text-xs text-gray-500 block text-right",children:N.product.category_name})]})]}),n.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(O=>n.jsx(He,{className:`h-4 w-4 ${O<=N.rating?"text-yellow-400 fill-current":"text-gray-300"}`},O))}),N.comment&&n.jsx("p",{className:"text-gray-700 leading-relaxed text-right",children:N.comment})]})]})})},N.id)})}):n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(He,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"لا توجد تقييمات حتى الآن"}),n.jsx("p",{className:"text-gray-500",children:"سيظهر هنا تقييمات العملاء عند شراء منتجات هذا الحرفي"})]})]})]})]})})},lP=[{id:"s1",name:"ليلى حسن",email:"laila@example.com",avatar:"",bio:"حرفية متخصصة في صناعة المجوهرات اليدوية من الفضة والأحجار الكريمة",rating:4.8,reviewCount:124,location:"القاهرة، مصر",memberSince:"2020-05-15",skills:["المجوهرات","الفضة","الأحجار الكريمة"],completedOrders:215,responseTime:"2 ساعة"},{id:"s2",name:"كريم محمود",email:"karim@example.com",avatar:"",bio:"حرفي متخصص في النحت على الخشب وصناعة الأثاث اليدوي التقليدي",rating:4.9,reviewCount:89,location:"الإسكندرية، مصر",memberSince:"2019-11-20",skills:["النحت على الخشب","الأثاث اليدوي","الديكور"],completedOrders:178,responseTime:"1 ساعة"},{id:"s3",name:"فاطمة علي",email:"fatima@example.com",avatar:"",bio:"متخصصة في صناعة المنسوجات اليدوية والتطريز التقليدي",rating:4.7,reviewCount:156,location:"أسيوط، مصر",memberSince:"2021-02-10",skills:["المنسوجات","التطريز","الكروشيه"],completedOrders:230,responseTime:"3 ساعة"},{id:"s4",name:"أحمد سمير",email:"ahmed@example.com",avatar:"",bio:"حرفي متخصص في صناعة الفخار والخزف التقليدي",rating:4.6,reviewCount:78,location:"الفيوم، مصر",memberSince:"2020-08-05",skills:["الفخار","الخزف","الرسم على الفخار"],completedOrders:145,responseTime:"4 ساعة"},{id:"s5",name:"نور المصري",email:"nour@example.com",avatar:"",bio:"متخصصة في صناعة العطور الطبيعية والزيوت العطرية المستخلصة من نباتات محلية",rating:4.9,reviewCount:112,location:"الأقصر، مصر",memberSince:"2020-01-15",skills:["العطور","الزيوت الطبيعية","الاستخلاص"],completedOrders:198,responseTime:"2 ساعة"},{id:"s6",name:"سارة محمد",email:"sara@example.com",avatar:"",bio:"مصممة أزياء تخصصت في تصميم وخياطة الملابس التقليدية بلمسة عصرية",rating:4.8,reviewCount:95,location:"المنصورة، مصر",memberSince:"2019-09-22",skills:["تصميم أزياء","خياطة","تطريز"],completedOrders:167,responseTime:"3 ساعة"},{id:"s7",name:"ياسر عادل",email:"yasser@example.com",avatar:"",bio:"فنان تشكيلي متخصص في صناعة اللوحات والطابلوهات الفنية باستخدام تقنيات مختلفة",rating:4.7,reviewCount:88,location:"أسوان، مصر",memberSince:"2020-06-18",skills:["رسم","نحت","ديكور"],completedOrders:142,responseTime:"4 ساعة"},{id:"s8",name:"هبة سليم",email:"heba@example.com",avatar:"",bio:"حرفية متخصصة في أعمال الكروشيه والحياكة اليدوية بتصاميم مبتكرة",rating:4.9,reviewCount:147,location:"طنطا، مصر",memberSince:"2019-12-10",skills:["كروشيه","حياكة","تصميم"],completedOrders:215,responseTime:"1 ساعة"},{id:"s9",name:"عمر خالد",email:"omar@example.com",avatar:"",bio:"مهندس معماري متخصص في تصميم وتنفيذ قطع ديكور من الخرسانة (الكونكريت) بأشكال عصرية",rating:4.8,reviewCount:76,location:"بورسعيد، مصر",memberSince:"2021-03-05",skills:["تصميم معماري","كونكريت","ديكور منزلي"],completedOrders:119,responseTime:"2 ساعة"},{id:"s10",name:"منى حسين",email:"mona@example.com",avatar:"",bio:"مصممة اكسسوارات يدوية من مواد مختلفة بتصاميم فريدة ومميزة",rating:4.7,reviewCount:108,location:"الجيزة، مصر",memberSince:"2020-04-22",skills:["مجوهرات","اكسسوارات","تصميم"],completedOrders:187,responseTime:"2 ساعة"},{id:"s11",name:"محمد علي",email:"mohamed@example.com",avatar:"",bio:"حرفي متخصص في أعمال الريزن وصناعة القطع الفنية والديكورية باستخدام تقنيات مختلفة",rating:4.9,reviewCount:92,location:"الإسماعيلية، مصر",memberSince:"2021-01-15",skills:["ريزن","ديكور","فنون"],completedOrders:158,responseTime:"3 ساعة"},{id:"s12",name:"رنا أحمد",email:"rana@example.com",avatar:"",bio:"طاهية متخصصة في المأكولات المصرية التقليدية والحلويات المنزلية المصنوعة بوصفات عائلية",rating:4.8,reviewCount:134,location:"الزقازيق، مصر",memberSince:"2020-07-10",skills:["طبخ","حلويات","وصفات تقليدية"],completedOrders:226,responseTime:"1 ساعة"}],Wh=[{id:"u1",name:"سارة محمد",email:"sara@example.com",password:"password123",role:"user",avatar:"",createdAt:"2023-01-15",lastLogin:"2023-09-20",status:"active",location:"القاهرة، مصر",phoneNumber:"+20123456789"},{id:"u2",name:"محمد أحمد",email:"mohammed@example.com",password:"password123",role:"user",avatar:"",createdAt:"2023-02-22",lastLogin:"2023-09-18",status:"active",location:"الإسكندرية، مصر",phoneNumber:"+20123456790"},{id:"u3",name:"نورا علي",email:"nora@example.com",password:"password123",role:"user",avatar:"",createdAt:"2023-03-10",lastLogin:"2023-09-15",status:"active",location:"عمان، الأردن",phoneNumber:"+9627777777"},{id:"u4",name:"أحمد محمود",email:"ahmed@example.com",password:"password123",role:"user",avatar:"",createdAt:"2023-04-05",lastLogin:"2023-09-10",status:"active",location:"دبي، الإمارات",phoneNumber:"+9715555555"},{id:"admin1",name:"مدير النظام",email:"admin@example.com",password:"admin123",role:"admin",avatar:"",createdAt:"2023-01-01",lastLogin:"2023-09-21",status:"active",location:"القاهرة، مصر",phoneNumber:"+20100000001"}],cF=e=>lP.find(t=>t.id===e)||null,dF=()=>{const{id:e}=za(),t=Ve(),[r,s]=u.useState(null),[i,a]=u.useState(!0),[o,l]=u.useState(null),{user:c}=$e(),{startNewChat:d,sendMessage:m,messages:h,activeConversation:p}=as(),b=u.useRef(null),[j,f]=u.useState(""),w=y=>{if(!y)return!1;const N=new Date(y);return(new Date-N)/(1e3*60)<5},g=y=>{if(!y)return"غير متصل";const N=new Date(y),P=new Date;if(w(y))return"متصل الآن";if(N.toDateString()===P.toDateString())return`آخر ظهور اليوم ${N.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}`;const _=new Date(P);return _.setDate(_.getDate()-1),N.toDateString()===_.toDateString()?`آخر ظهور أمس ${N.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}`:`آخر ظهور ${N.toLocaleDateString("ar-SA")}`};u.useEffect(()=>{if(!c){t("/login",{state:{from:`/message/${e}`}});return}try{const y=cF(e);if(!y){l("لم يتم العثور على الحرفي"),a(!1);return}s(y);const N=d(e);a(!1)}catch(y){console.error("Error in MessagePage:",y),l("حدث خطأ أثناء تحميل البيانات"),a(!1)}},[e,t,c,d]);const x=y=>{y.preventDefault(),!(!j.trim()||!p)&&(m(p,j),f(""))};return u.useEffect(()=>{var y;(y=b.current)==null||y.scrollIntoView({behavior:"smooth"})},[p,h]),i?n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),n.jsx("p",{className:"mt-4 text-lg",children:"جاري التحميل..."})]}):o?n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx("div",{className:"text-4xl mb-4",children:"😕"}),n.jsx("h1",{className:"text-2xl font-bold mb-4",children:o}),n.jsx("p",{className:"mb-8",children:"لم نتمكن من العثور على الحرفي المطلوب"}),n.jsx(V,{asChild:!0,children:n.jsx("a",{href:"/explore?tab=sellers",children:"العودة إلى قائمة الحرفيين"})})]}):r?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(V,{variant:"ghost",className:"ml-2",onClick:()=>t(-1),children:n.jsx(br,{className:"h-5 w-5"})}),n.jsxs("h1",{className:"text-2xl font-bold",children:["محادثة مع ",r.name]})]}),"        ",n.jsxs(ae,{className:"border-lightBeige/50 mb-6",children:[n.jsx(fe,{className:"bg-lightBeige/20 pb-3",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"h-10 w-10 rounded-full bg-olivePrimary flex items-center justify-center text-white font-bold ml-3 relative",children:[r.name.charAt(0),w(r.last_seen)&&n.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{children:[n.jsx(pe,{children:r.name}),n.jsx("p",{className:"text-sm text-gray-500",children:g(r.last_seen)})]})]})}),"          ",n.jsx(oe,{className:"p-0",children:n.jsx("div",{className:"h-[400px] overflow-y-auto p-4",children:!p||!h[p]||h[p].length===0?n.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:["                  ",n.jsx("div",{className:"w-16 h-16 rounded-full bg-lightBeige/50 flex items-center justify-center mb-4",children:n.jsx(Jm,{className:"h-8 w-8 text-olivePrimary"})}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"ابدأ محادثة جديدة"}),n.jsxs("p",{className:"text-gray-500 max-w-md",children:["قم بإرسال رسالة إلى ",r.name," للاستفسار عن المنتجات أو طلب منتج مخصص."]})]}):n.jsxs("div",{className:"space-y-4",children:[h[p].map(y=>n.jsx("div",{className:`flex ${y.senderId===c.id?"justify-start":"justify-end"}`,children:n.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${y.senderId===c.id?"bg-olivePrimary text-white":"bg-gray-100 text-gray-800"}`,children:[n.jsx("p",{dir:"rtl",children:y.text}),n.jsx("p",{className:`text-xs mt-1 ${y.senderId===c.id?"text-lightBeige":"text-gray-500"}`,children:new Date(y.timestamp).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]})},y.id)),n.jsx("div",{ref:b})]})})}),"          ",n.jsx(et,{className:"p-3 border-t",children:n.jsxs("form",{onSubmit:x,className:"w-full flex",children:[n.jsx(he,{value:j,onChange:y=>f(y.target.value),placeholder:"اكتب رسالتك هنا...",className:"ml-2"}),n.jsx(V,{type:"submit",className:"bg-burntOrange hover:bg-burntOrange/90 text-white",children:n.jsx(Jm,{className:"h-4 w-4"})})]})})]}),n.jsxs(ae,{className:"border-lightBeige/50",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-xl",children:"معلومات الحرفي"})}),n.jsxs(oe,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"نبذة"}),n.jsx("p",{className:"text-gray-700",children:r.bio})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"المهارات"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.skills.map((y,N)=>n.jsx("span",{className:"bg-lightGreen/20 text-darkOlive px-2 py-1 rounded-full text-sm",children:y},N))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"وقت الاستجابة"}),n.jsx("p",{className:"text-gray-700",children:r.responseTime})]})]})]})]})}):null};var wu="Switch",[uF,XV]=Er(wu),[hF,mF]=uF(wu),cP=u.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:m,...h}=e,[p,b]=u.useState(null),j=Fe(t,y=>b(y)),f=u.useRef(!1),w=p?m||!!p.closest("form"):!0,[g,x]=Ks({prop:i,defaultProp:a??!1,onChange:d,caller:wu});return n.jsxs(hF,{scope:r,checked:g,disabled:l,children:[n.jsx(_e.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":mP(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:j,onClick:be(e.onClick,y=>{x(N=>!N),w&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})}),w&&n.jsx(hP,{control:p,bubbles:!f.current,name:s,value:c,checked:g,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});cP.displayName=wu;var dP="SwitchThumb",uP=u.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,i=mF(dP,r);return n.jsx(_e.span,{"data-state":mP(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});uP.displayName=dP;var fF="SwitchBubbleInput",hP=u.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...i},a)=>{const o=u.useRef(null),l=Fe(o,a),c=Lx(r),d=lu(t);return u.useEffect(()=>{const m=o.current;if(!m)return;const h=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&b){const j=new Event("click",{bubbles:s});b.call(m,r),m.dispatchEvent(j)}},[c,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hP.displayName=fF;function mP(e){return e?"checked":"unchecked"}var fP=cP,pF=uP;const Ut=u.forwardRef(({className:e,...t},r)=>n.jsx(fP,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(pF,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ut.displayName=fP.displayName;const xF=()=>{const{user:e,switchRole:t,enableSellerMode:r}=$e(),[s,i]=u.useState(!1);if(st(),!e)return null;const a=async l=>{l!==e.active_role&&(i(!0),l==="seller"&&!e.is_seller?await r()&&await t(l):await t(l),i(!1))},o=async()=>{i(!0),await r()&&await t("seller"),i(!1)};return n.jsxs(ae,{className:"mb-6 border-olivePrimary/20 bg-gradient-to-r from-olivePrimary/5 to-olivePrimary/10",children:[n.jsx(fe,{className:"pb-4",children:n.jsxs(pe,{className:"flex items-center justify-between text-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(BR,{className:"h-5 w-5 text-olivePrimary"}),n.jsx("span",{children:"تبديل الأدوار"})]}),n.jsx(ye,{variant:e.active_role==="seller"?"default":"secondary",className:e.active_role==="seller"?"bg-olivePrimary text-white":"",children:e.active_role==="seller"?"البائع":"المشتري"})]})}),n.jsxs(oe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(Z.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${e.active_role==="buyer"?"border-olivePrimary bg-olivePrimary/10":"border-gray-200 hover:border-olivePrimary/50"}`,onClick:()=>e.is_buyer&&a("buyer"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ft,{className:"h-5 w-5 text-olivePrimary"}),n.jsx("span",{className:"font-medium",children:"المشتري"})]}),e.active_role==="buyer"&&n.jsx(ye,{className:"bg-olivePrimary text-white",children:"نشط"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"تصفح المنتجات، إضافة للسلة، وإجراء المشتريات"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-shrink-0 w-11 h-6",children:n.jsx(Ut,{checked:e.active_role==="buyer",disabled:!e.is_buyer||s,onCheckedChange:()=>e.is_buyer&&a("buyer"),className:"data-[state=checked]:bg-olivePrimary w-11 h-6"})}),n.jsx("span",{className:"text-xs text-gray-500",children:e.is_buyer?"متاح":"غير متاح"})]})]}),n.jsxs(Z.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${e.active_role==="seller"?"border-olivePrimary bg-olivePrimary/10":"border-gray-200 hover:border-olivePrimary/50"}`,onClick:()=>e.is_seller&&a("seller"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(n1,{className:"h-5 w-5 text-olivePrimary"}),n.jsx("span",{className:"font-medium",children:"البائع"})]}),e.active_role==="seller"&&n.jsx(ye,{className:"bg-olivePrimary text-white",children:"نشط"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"إدارة المنتجات، معالجة الطلبات، وتتبع الأرباح"}),n.jsx("div",{className:"flex items-center gap-2",children:e.is_seller?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex-shrink-0 w-11 h-6",children:n.jsx(Ut,{checked:e.active_role==="seller",disabled:s,onCheckedChange:()=>a("seller"),className:"data-[state=checked]:bg-olivePrimary w-11 h-6"})}),n.jsx("span",{className:"text-xs text-gray-500",children:"متاح"})]}):n.jsx(n.Fragment,{children:n.jsxs(V,{size:"sm",variant:"outline",onClick:o,disabled:s,className:"border-olivePrimary text-olivePrimary hover:bg-olivePrimary hover:text-white",children:[n.jsx(t1,{className:"h-4 w-4 mr-2"}),"تفعيل وضع البائع"]})})})]})]}),n.jsx(hx,{children:s&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-3 bg-olivePrimary/10 rounded-lg border border-olivePrimary/20",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-olivePrimary",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-olivePrimary"}),n.jsx("span",{children:"جاري تحديث الدور..."})]})})})]})]})},gF=({user:e})=>{const t=Ve(),{logout:r}=$e(),{isSidebarOpen:s,toggleSidebar:i,isMobile:a,isMobileMenuOpen:o}=Ha(),l=QS(),c=l.pathname==="/dashboard"||l.pathname==="/dashboard/",d=[{path:"/dashboard/orders",label:"طلباتي",icon:ft},{path:"/dashboard/messages",label:"الرسائل",icon:Hr},{path:"/dashboard/settings",label:"إعدادات الحساب",icon:Ds}],m=[{path:"/dashboard/overview",label:"نظرة عامة",icon:xi},{path:"/dashboard/gigs",label:"خدماتي",icon:ft},{path:"/dashboard/orders",label:"الطلبات الواردة",icon:an},{path:"/dashboard/earnings",label:"الأرباح",icon:$p},{path:"/dashboard/messages",label:"الرسائل",icon:Hr},{path:"/dashboard/settings",label:"إعدادات الحساب",icon:Ds}],h=(e==null?void 0:e.active_role)==="seller"?m:d;return n.jsx(hx,{mode:"wait",children:(a&&o||!a)&&n.jsxs(Z.aside,{initial:{width:a?0:s?"16rem":"5rem",x:a?-250:0},animate:{width:a||s?"16rem":"5rem",x:0},exit:{width:0,x:-250},transition:{type:"spring",stiffness:300,damping:30},className:`bg-background/95 backdrop-blur-md border-l border-olivePrimary/20 flex flex-col z-40 ${a?"fixed top-0 right-0 h-screen shadow-lg":"h-screen sticky top-0"} ${s?"sidebar-expanded":"sidebar-collapsed"}`,children:[a&&n.jsx("button",{onClick:i,className:"absolute top-4 left-4 p-1 rounded-full bg-lightGreen/60 text-darkOlive hover:bg-lightGreen/80",children:n.jsx(Ct,{size:20})}),n.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto flex-grow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[n.jsx(je,{to:"/",className:"flex items-center",children:n.jsx(Z.div,{whileHover:{scale:1.05},className:`text-xl font-bold text-olivePrimary ${!s&&!a?"scale-0 w-0 opacity-0":"scale-100 opacity-100"} transition-all duration-300`,children:"بازار"})}),!a&&n.jsx("button",{onClick:i,className:"p-1 rounded-full bg-lightGreen/60 text-olivePrimary hover:bg-lightGreen/80 transition-colors duration-200",children:n.jsx(fl,{size:20,className:`sidebar-icon ${s?"":"sidebar-icon-rotated"}`})})]}),"            ",n.jsx("div",{className:`py-2 ${!s&&!a?"hidden":"block"}`,children:n.jsxs(V,{variant:"ghost",className:`w-full justify-start text-right px-3 py-2 transition-all duration-200 ${c?"bg-olivePrimary/10 text-olivePrimary font-medium":"hover:bg-lightGreen/50 hover:text-olivePrimary"}`,onClick:()=>{t("/dashboard"),a&&i()},children:[n.jsx(xi,{className:"ml-2 h-5 w-5"}),n.jsx("span",{className:"text-lg font-semibold text-olivePrimary",children:"لوحة التحكم"})]})}),!s&&!a&&n.jsx("div",{className:"py-2 flex justify-center",children:n.jsx(V,{variant:"ghost",size:"sm",className:`p-2 transition-all duration-200 ${c?"bg-olivePrimary/10 text-olivePrimary":"hover:bg-lightGreen/50 hover:text-olivePrimary"}`,onClick:()=>t("/dashboard"),title:"لوحة التحكم",children:n.jsx(xi,{className:"h-5 w-5 text-olivePrimary"})})}),n.jsx("nav",{className:"space-y-1",children:h.map(p=>n.jsxs(V,{variant:l.pathname.startsWith(p.path)?"subtle":"ghost",className:`w-full justify-${s||a?"start":"center"} text-right px-3 py-2 ${l.pathname.startsWith(p.path)?"bg-olivePrimary/10 text-olivePrimary font-medium":"hover:bg-lightGreen/50 hover:text-olivePrimary text-sm font-medium"} transition-all duration-200`,onClick:()=>{t(p.path),a&&i()},children:[n.jsx(p.icon,{className:`${s||a?"ml-2":""} h-4 w-4`}),(s||a)&&n.jsx("span",{className:"text-darkOlive",children:p.label})]},p.path))}),n.jsx(rt,{className:"my-4"}),n.jsxs(V,{variant:"ghost",className:`w-full justify-${s||a?"start":"center"} text-right px-3 py-2 text-sm font-medium text-destructive hover:bg-red-50 hover:text-destructive transition-all duration-200`,onClick:()=>{r(),t("/")},children:[n.jsx(qd,{className:`${s||a?"ml-2":""} h-4 w-4`}),(s||a)&&n.jsx("span",{className:"text-destructive",children:"تسجيل الخروج"})]})]})]},"sidebar")})},qi=({title:e,description:t,link:r,icon:s})=>n.jsx(Z.div,{whileHover:{y:-5},className:"h-full",children:n.jsxs(ae,{className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300 border-olivePrimary/20 flex flex-col",children:[n.jsxs(fe,{className:"flex-row items-center space-x-4 pb-2",children:[n.jsx("div",{className:"p-3 rounded-full bg-olivePrimary/10 text-olivePrimary",children:n.jsx(s,{className:"h-6 w-6"})}),n.jsx(pe,{className:"text-xl text-darkOlive",children:e})]}),n.jsx(oe,{className:"flex-grow",children:n.jsx("p",{className:"text-sm text-darkOlive/70",children:t})}),n.jsx(et,{children:n.jsx(V,{asChild:!0,variant:"outline",className:"w-full border-olivePrimary text-olivePrimary hover:bg-olivePrimary hover:text-white",children:n.jsx(je,{to:r,children:"الانتقال"})})})]})}),vF=({user:e})=>n.jsxs("div",{className:"p-8",children:[n.jsx(xF,{}),n.jsxs("h1",{className:"text-3xl font-bold text-darkOlive mb-6",children:["مرحباً بك في لوحة التحكم، ",e.name,"!"]}),n.jsxs("p",{className:"text-darkOlive/70 mb-8",children:["هنا يمكنك إدارة ",e.active_role==="seller"?"خدماتك وطلباتك وأرباحك":"طلباتك ورسائلك وإعدادات حسابك",". استخدم القائمة الجانبية للتنقل."]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.active_role==="seller"?n.jsxs(n.Fragment,{children:[n.jsx(qi,{title:"إدارة خدماتك",description:"أضف خدمات جديدة أو قم بتعديل الخدمات الحالية.",link:"/dashboard/gigs",icon:ft}),n.jsx(qi,{title:"الطلبات الواردة",description:"تابع طلبات العملاء وقم بإدارتها.",link:"/dashboard/orders",icon:an}),n.jsx(qi,{title:"الأرباح",description:"اطلع على تقارير الأرباح الخاصة بك.",link:"/dashboard/earnings",icon:$p})]}):n.jsxs(n.Fragment,{children:[n.jsx(qi,{title:"طلباتي",description:"تتبع حالة طلباتك الحالية والسابقة.",link:"/dashboard/orders",icon:ft}),n.jsx(qi,{title:"الرسائل",description:"تواصل مع البائعين بخصوص طلباتك.",link:"/dashboard/messages",icon:Hr}),n.jsx(qi,{title:"إعدادات الحساب",description:"قم بتحديث معلوماتك الشخصية وتفضيلاتك.",link:"/dashboard/settings",icon:Ds})]})})]}),yF=({user:e})=>{const t=Ft(),r=Ve(),{logout:s}=$e(),i=t.pathname==="/dashboard"||t.pathname==="/dashboard/",{isMobile:a,toggleSidebar:o,isMobileMenuOpen:l,isSidebarOpen:c}=Ha(),d=ZS(),m=[{path:"/dashboard/orders",label:"طلباتي",icon:ft},{path:"/dashboard/messages",label:"الرسائل",icon:Hr},{path:"/dashboard/settings",label:"إعدادات الحساب",icon:Ds}],h=[{path:"/dashboard/overview",label:"نظرة عامة",icon:xi},{path:"/dashboard/gigs",label:"خدماتي",icon:ft},{path:"/dashboard/orders",label:"الطلبات الواردة",icon:an},{path:"/dashboard/earnings",label:"الأرباح",icon:$p},{path:"/dashboard/messages",label:"الرسائل",icon:Hr},{path:"/dashboard/settings",label:"إعدادات الحساب",icon:Ds}],p=(e==null?void 0:e.active_role)==="seller"?h:m;return n.jsxs("main",{ref:d,className:`flex-1 bg-background overflow-y-auto ${a?"dashboard-content":c?"dashboard-content-expanded":"dashboard-content-collapsed"}`,children:["      ",a&&n.jsxs("div",{className:"mobile-header p-4 flex justify-between items-center bg-background/95 backdrop-blur-md border-b border-olivePrimary/20",children:[n.jsx("div",{className:"flex items-center",children:n.jsxs(V,{variant:"ghost",className:`px-2 py-1 transition-all duration-200 ${i?"bg-olivePrimary/10 text-olivePrimary font-medium":"hover:bg-lightGreen/50 hover:text-olivePrimary"}`,onClick:()=>{r("/dashboard"),l&&o()},children:[n.jsx(xi,{className:"ml-2 h-5 w-5"}),n.jsx("span",{className:"text-lg font-semibold text-olivePrimary",children:"لوحة التحكم"})]})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>o(),className:"text-olivePrimary hover:bg-lightGreen/50",children:l?n.jsx(Ct,{className:"h-5 w-5"}):n.jsx(Dp,{className:"h-5 w-5"})})]}),a&&l&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"w-full bg-background/95 backdrop-blur-md border-b border-olivePrimary/20",children:n.jsx("div",{className:"p-4",children:n.jsxs("nav",{className:"flex flex-col space-y-2",children:[p.map(b=>n.jsxs(je,{to:b.path,className:`px-3 py-2 text-sm font-medium flex items-center ${t.pathname.startsWith(b.path)?"text-olivePrimary":"hover:text-olivePrimary"}`,onClick:()=>o(),children:[n.jsx(b.icon,{className:"ml-2 h-4 w-4"}),b.label]},b.path)),n.jsx(rt,{className:"my-2"}),n.jsxs("button",{onClick:()=>{s(),r("/")},className:"px-3 py-2 text-sm font-medium text-burntOrange hover:text-burntOrange/90 flex items-center text-right w-full",children:[n.jsx(qd,{className:"ml-2 h-4 w-4"}),"تسجيل الخروج"]})]})})}),i?n.jsx(vF,{user:e}):n.jsx(Ep,{})]})},bF=()=>{const{user:e}=$e();Ve();const{isMobileMenuOpen:t,closeMobileSidebar:r,isMobile:s}=Ha();return(e==null?void 0:e.role)==="admin"?n.jsx(ri,{to:"/admin/dashboard",replace:!0}):n.jsxs("div",{className:"flex min-h-[calc(100vh-var(--navbar-height,100px))]",children:[!s&&n.jsx(gF,{user:e}),n.jsx(yF,{user:e})]})},wF=()=>n.jsx(JS,{children:n.jsx(bF,{})}),jF=({isOpen:e,onClose:t,sellerId:r,sellerName:s,sellerAvatar:i,preloadedServices:a=[]})=>{const{toast:o}=st(),[l,c]=u.useState(a),[d,m]=u.useState(null),[h,p]=u.useState(!1),[b,j]=u.useState(!1),[f,w]=u.useState({customer_name:"",customer_phone:"",delivery_address:"",service_requirements:"",deposit_amount:"",payment_method:"bank_transfer"}),[g,x]=u.useState(null),[y,N]=u.useState(null);u.useEffect(()=>{e&&r&&(a&&a.length>0?c(a):P())},[e,r,a]);const P=async()=>{try{p(!0);const O=await Se.getSellerServices(r);c(O)}catch(O){console.error("Error loading services:",O),o({variant:"destructive",title:"خطأ",description:"خطأ في تحميل الخدمات"})}finally{p(!1)}},_=(O,R)=>{w(M=>({...M,[O]:R}))},k=O=>{const R=O.target.files[0];if(R){x(R);const M=new FileReader;M.onload=()=>{N(M.result)},M.readAsDataURL(R)}},E=async O=>{if(O.preventDefault(),!d){o({variant:"destructive",title:"خطأ",description:"يرجى اختيار خدمة"});return}if(!f.deposit_amount||parseFloat(f.deposit_amount)<=0){o({variant:"destructive",title:"خطأ",description:"يرجى إدخال قيمة العربون"});return}if(!g){o({variant:"destructive",title:"خطأ",description:"يرجى رفع صورة إيصال العربون"});return}try{j(!0);const R=new FormData;R.append("service_id",d.id),R.append("seller_id",r),R.append("customer_name",f.customer_name),R.append("customer_phone",f.customer_phone),R.append("delivery_address",f.delivery_address),R.append("service_requirements",f.service_requirements),R.append("deposit_amount",f.deposit_amount),R.append("payment_method",f.payment_method),R.append("deposit_image",g),R.append("requires_deposit","true"),R.append("is_service_order","true"),R.append("total_price",d.price);const M=await Se.createServiceOrder(R);o({title:"نجح",description:"تم إرسال طلب الخدمة بنجاح"}),t(),w({customer_name:"",customer_phone:"",delivery_address:"",service_requirements:"",deposit_amount:"",payment_method:"bank_transfer"}),m(null),x(null),N(null)}catch(R){console.error("Error creating service order:",R),o({variant:"destructive",title:"خطأ",description:"خطأ في إرسال طلب الخدمة"})}finally{j(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 pb-20 md:pb-4",children:n.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[n.jsxs(qt,{className:"w-10 h-10",children:[n.jsx(rr,{src:i}),n.jsx(Kt,{children:s==null?void 0:s.charAt(0)})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold",children:["طلب خدمة من ",s]}),n.jsx("p",{className:"text-sm text-gray-500",children:"اختر خدمة وأدخل بيانات الطلب"})]})]}),n.jsx(V,{variant:"ghost",size:"sm",onClick:t,className:"rounded-full w-8 h-8 p-0",children:n.jsx(Ct,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"p-6",children:[!d&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"اختر الخدمة المطلوبة"}),h?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-2 text-gray-500",children:"جاري تحميل الخدمات..."})]}):l.length===0?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"لا توجد خدمات متاحة"})}):n.jsx("div",{className:"grid gap-4",children:l.map(O=>{var R;return n.jsx(ae,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>m(O),children:n.jsx(oe,{className:"p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-lg",children:O.title}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:O.description}),n.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mt-2",children:[n.jsx(ye,{variant:"secondary",children:(R=O.category)==null?void 0:R.name}),n.jsx("span",{className:"text-sm text-gray-500",children:O.delivery_time})]})]}),n.jsx("div",{className:"text-left rtl:text-right",children:n.jsxs("span",{className:"text-xl font-bold text-primary",children:[O.price," ج.م"]})})]})})},O.id)})})]}),d&&n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsx(ae,{className:"bg-blue-50",children:n.jsxs(oe,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-lg",children:d.title}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:d.description})]}),n.jsx("div",{className:"text-left rtl:text-right",children:n.jsxs("span",{className:"text-xl font-bold text-primary",children:[d.price," ج.م"]})})]}),n.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(null),className:"mt-2",children:"تغيير الخدمة"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n.jsx(It,{className:"w-4 h-4 inline mr-1"}),"اسم العميل"]}),n.jsx(he,{value:f.customer_name,onChange:O=>_("customer_name",O.target.value),placeholder:"أدخل اسم العميل",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n.jsx(Pn,{className:"w-4 h-4 inline mr-1"}),"رقم الهاتف"]}),n.jsx(he,{value:f.customer_phone,onChange:O=>_("customer_phone",O.target.value),placeholder:"أدخل رقم الهاتف",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n.jsx(Qn,{className:"w-4 h-4 inline mr-1"}),"عنوان التسليم"]}),n.jsx(jt,{value:f.delivery_address,onChange:O=>_("delivery_address",O.target.value),placeholder:"أدخل عنوان التسليم بالتفصيل",rows:3,required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n.jsx(Ip,{className:"w-4 h-4 inline mr-1"}),"متطلبات الخدمة"]}),n.jsx(jt,{value:f.service_requirements,onChange:O=>_("service_requirements",O.target.value),placeholder:"أدخل تفاصيل ومتطلبات الخدمة...",rows:4})]}),n.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center",children:[n.jsx(an,{className:"w-4 h-4 mr-1"}),"بيانات العربون"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"قيمة العربون (ج.م)"}),n.jsx(he,{type:"number",step:"0.01",value:f.deposit_amount,onChange:O=>_("deposit_amount",O.target.value),placeholder:"أدخل قيمة العربون",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"طريقة الدفع"}),n.jsxs("select",{value:f.payment_method,onChange:O=>_("payment_method",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"bank_transfer",children:"حوالة بنكية"}),n.jsx("option",{value:"vodafone_cash",children:"فودافون كاش"}),n.jsx("option",{value:"instapay",children:"إنستا باي"})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n.jsx(Ba,{className:"w-4 h-4 inline mr-1"}),"صورة إيصال العربون"]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden",id:"deposit-image"}),n.jsx("label",{htmlFor:"deposit-image",className:"cursor-pointer",children:y?n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:y,alt:"Preview",className:"max-w-full h-32 object-cover mx-auto rounded"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"انقر لتغيير الصورة"})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(nd,{className:"w-8 h-8 mx-auto text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-500",children:"انقر لرفع صورة إيصال العربون"})]})})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 rtl:space-x-reverse",children:[n.jsx(V,{type:"button",variant:"outline",onClick:t,disabled:b,children:"إلغاء"}),n.jsx(V,{type:"submit",disabled:b,className:"min-w-32",children:b?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mx-auto"}):"إرسال الطلب"})]})]})]})]})}):null},NF=({src:e,alt:t="Image",className:r,width:s,height:i,objectFit:a="cover",onClick:o,fallbackSrc:l="/placeholder-image.jpg",...c})=>{const d=e||l,m=h=>{h.target.src!==l&&(h.target.src=l)};return n.jsx("img",{src:d,alt:t,className:ge("rounded-md",r),style:{width:s,height:i,objectFit:a},onClick:o,onError:m,...c})},SF=({attachment:e,isOwn:t})=>{var m,h;const[r,s]=u.useState(!1);if(!e)return n.jsx("div",{className:ge("border rounded-lg overflow-hidden mt-2 p-3",t?"border-primary/20":"border-gray-200"),children:n.jsxs("div",{className:"flex items-center text-orange-500",children:[n.jsx(pi,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"المرفق غير متوفر"})]})});const i=((m=e.file_type)==null?void 0:m.startsWith("image/"))||((h=e.type)==null?void 0:h.startsWith("image/")),a="https://handy3.abanoubsamir.com/backend/public",o=p=>p?p.startsWith("http://")||p.startsWith("https://")||p.startsWith(a)?p:`${a}${p.startsWith("/")?"":"/"}${p}`:(console.warn("Attachment URL is undefined or null"),""),l=e.file_url||e.url||"",c=l?o(l):"",d=p=>{p.preventDefault(),c&&s(!0)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:ge("border rounded-lg overflow-hidden mt-2",t?"border-primary/20":"border-gray-200"),children:i?n.jsx("div",{className:"relative",children:n.jsx(NF,{src:c,alt:"مرفق",className:"max-w-full h-auto cursor-pointer",onClick:d,fallbackSrc:"/placeholder-image.jpg"})}):n.jsxs("div",{className:"p-3 flex items-center",children:[n.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[n.jsx(e3,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate max-w-[150px]",children:"ملف مرفق"})]}),c&&n.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline mr-auto",children:"عرض"})]})}),r&&c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4 pb-20 md:pb-4",onClick:()=>s(!1),children:n.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[n.jsx("button",{className:"absolute -top-10 right-0 bg-white rounded-full p-2",onClick:()=>s(!1),children:n.jsx(Ct,{className:"h-6 w-6"})}),n.jsx("img",{src:c,alt:"مرفق",className:"max-w-full max-h-[85vh] object-contain"})]})})]})};var ju="Dialog",[pP,xP]=Er(ju),[CF,gn]=pP(ju),gP=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,m]=Ks({prop:s,defaultProp:i??!1,onChange:a,caller:ju});return n.jsx(CF,{scope:t,triggerRef:l,contentRef:c,contentId:vi(),titleId:vi(),descriptionId:vi(),open:d,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(h=>!h),[m]),modal:o,children:r})};gP.displayName=ju;var vP="DialogTrigger",yP=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=gn(vP,r),a=Fe(t,i.triggerRef);return n.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ux(i.open),...s,ref:a,onClick:be(e.onClick,i.onOpenToggle)})});yP.displayName=vP;var zx="DialogPortal",[PF,bP]=pP(zx,{forceMount:void 0}),wP=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:i}=e,a=gn(zx,t);return n.jsx(PF,{scope:t,forceMount:r,children:u.Children.map(s,o=>n.jsx(xn,{present:r||a.open,children:n.jsx(Ud,{asChild:!0,container:i,children:o})}))})};wP.displayName=zx;var wd="DialogOverlay",jP=u.forwardRef((e,t)=>{const r=bP(wd,e.__scopeDialog),{forceMount:s=r.forceMount,...i}=e,a=gn(wd,e.__scopeDialog);return a.modal?n.jsx(xn,{present:s||a.open,children:n.jsx(EF,{...i,ref:t})}):null});jP.displayName=wd;var kF=_a("DialogOverlay.RemoveScroll"),EF=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=gn(wd,r);return n.jsx(eS,{as:kF,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(_e.div,{"data-state":Ux(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Ei="DialogContent",NP=u.forwardRef((e,t)=>{const r=bP(Ei,e.__scopeDialog),{forceMount:s=r.forceMount,...i}=e,a=gn(Ei,e.__scopeDialog);return n.jsx(xn,{present:s||a.open,children:a.modal?n.jsx(_F,{...i,ref:t}):n.jsx(TF,{...i,ref:t})})});NP.displayName=Ei;var _F=u.forwardRef((e,t)=>{const r=gn(Ei,e.__scopeDialog),s=u.useRef(null),i=Fe(t,r.contentRef,s);return u.useEffect(()=>{const a=s.current;if(a)return Cx(a)},[]),n.jsx(SP,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:be(e.onFocusOutside,a=>a.preventDefault())})}),TF=u.forwardRef((e,t)=>{const r=gn(Ei,e.__scopeDialog),s=u.useRef(!1),i=u.useRef(!1);return n.jsx(SP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),SP=u.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=gn(Ei,r),c=u.useRef(null),d=Fe(t,c);return n2(),n.jsxs(n.Fragment,{children:[n.jsx(px,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:n.jsx(Bd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ux(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(AF,{titleId:l.titleId}),n.jsx(MF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Bx="DialogTitle",CP=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=gn(Bx,r);return n.jsx(_e.h2,{id:i.titleId,...s,ref:t})});CP.displayName=Bx;var PP="DialogDescription",kP=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=gn(PP,r);return n.jsx(_e.p,{id:i.descriptionId,...s,ref:t})});kP.displayName=PP;var EP="DialogClose",_P=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=gn(EP,r);return n.jsx(_e.button,{type:"button",...s,ref:t,onClick:be(e.onClick,()=>i.onOpenChange(!1))})});_P.displayName=EP;function Ux(e){return e?"open":"closed"}var TP="DialogTitleWarning",[RF,RP]=K5(TP,{contentName:Ei,titleName:Bx,docsSlug:"dialog"}),AF=({titleId:e})=>{const t=RP(TP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},OF="DialogDescriptionWarning",MF=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RP(OF).contentName}}.`;return u.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},AP=gP,OP=yP,MP=wP,Wx=jP,Hx=NP,Gx=CP,qx=kP,Kx=_P,$P="AlertDialog",[$F,YV]=Er($P,[xP]),os=xP(),IP=e=>{const{__scopeAlertDialog:t,...r}=e,s=os(t);return n.jsx(AP,{...s,...r,modal:!0})};IP.displayName=$P;var IF="AlertDialogTrigger",DP=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,i=os(r);return n.jsx(OP,{...i,...s,ref:t})});DP.displayName=IF;var DF="AlertDialogPortal",LP=e=>{const{__scopeAlertDialog:t,...r}=e,s=os(t);return n.jsx(MP,{...s,...r})};LP.displayName=DF;var LF="AlertDialogOverlay",FP=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,i=os(r);return n.jsx(Wx,{...i,...s,ref:t})});FP.displayName=LF;var wa="AlertDialogContent",[FF,VF]=$F(wa),zF=Q5("AlertDialogContent"),VP=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...i}=e,a=os(r),o=u.useRef(null),l=Fe(t,o),c=u.useRef(null);return n.jsx(RF,{contentName:wa,titleName:zP,docsSlug:"alert-dialog",children:n.jsx(FF,{scope:r,cancelRef:c,children:n.jsxs(Hx,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:be(i.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=c.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(zF,{children:s}),n.jsx(UF,{contentRef:o})]})})})});VP.displayName=wa;var zP="AlertDialogTitle",BP=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,i=os(r);return n.jsx(Gx,{...i,...s,ref:t})});BP.displayName=zP;var UP="AlertDialogDescription",WP=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,i=os(r);return n.jsx(qx,{...i,...s,ref:t})});WP.displayName=UP;var BF="AlertDialogAction",HP=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,i=os(r);return n.jsx(Kx,{...i,...s,ref:t})});HP.displayName=BF;var GP="AlertDialogCancel",qP=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:i}=VF(GP,r),a=os(r),o=Fe(t,i);return n.jsx(Kx,{...a,...s,ref:o})});qP.displayName=GP;var UF=({contentRef:e})=>{const t=`\`${wa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wa}\` by passing a \`${UP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},WF=IP,HF=DP,GF=LP,KP=FP,XP=VP,YP=HP,JP=qP,QP=BP,ZP=WP;const Rn=WF,ns=HF,qF=GF,ek=me.forwardRef(({className:e,...t},r)=>n.jsx(KP,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ek.displayName=KP.displayName;const cn=me.forwardRef(({className:e,...t},r)=>n.jsxs(qF,{children:[n.jsx(ek,{}),n.jsx(XP,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg mb-16 md:mb-0",e),...t})]}));cn.displayName=XP.displayName;const dn=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-right",e),...t});dn.displayName="AlertDialogHeader";const un=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-start sm:space-x-2 sm:space-x-reverse",e),...t});un.displayName="AlertDialogFooter";const hn=me.forwardRef(({className:e,...t},r)=>n.jsx(QP,{ref:r,className:ge("text-lg font-semibold",e),...t}));hn.displayName=QP.displayName;const mn=me.forwardRef(({className:e,...t},r)=>n.jsx(ZP,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));mn.displayName=ZP.displayName;const fn=me.forwardRef(({className:e,...t},r)=>n.jsx(YP,{ref:r,className:ge(mx(),e),...t}));fn.displayName=YP.displayName;const pn=me.forwardRef(({className:e,...t},r)=>n.jsx(JP,{ref:r,className:ge(mx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pn.displayName=JP.displayName;const KF=()=>{var re,Q,de,X;const{user:e}=$e(),{conversations:t,messages:r,activeConversation:s,loading:i,connected:a,setActiveConversation:o,sendMessage:l,markConversationAsRead:c,deleteConversation:d}=as(),[m,h]=u.useState(""),[p,b]=u.useState(""),[j,f]=u.useState([]),[w,g]=u.useState(!1),[x,y]=u.useState(!1),[N,P]=u.useState([]),[_,k]=u.useState(!1),E=u.useRef(null),O=u.useRef(null);u.useEffect(()=>{s&&(c(s),M(),R())},[s,c]);const R=async()=>{var se;const K=t.find(ue=>ue.id===s);if(!((se=K==null?void 0:K.participant)!=null&&se.id)){P([]);return}try{k(!0),P([]);const ue=await Se.getSellerServices(K.participant.id);console.log("Raw API response:",ue),console.log("Response type:",typeof ue),console.log("Is array:",Array.isArray(ue));const ve=(ue==null?void 0:ue.data)||ue||[];console.log("Processed services:",ve),console.log("Services length:",ve.length),P(ve)}catch(ue){console.error("Error loading seller services:",ue),P([])}finally{k(!1)}};u.useEffect(()=>{s&&r[s]&&M()},[r,s]),u.useEffect(()=>{console.log("sellerServices changed:",N),console.log("sellerServices length:",N.length)},[N]),u.useEffect(()=>{const K=()=>{s&&setTimeout(M,100)};return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[s]);const M=()=>{try{const K=document.querySelector(".messages-container");K&&(K.scrollTop=K.scrollHeight)}catch{}},L=async K=>{if(K.preventDefault(),!m.trim()&&j.length===0||!s||w)return;const se=t.find(ue=>ue.id===s);if(se){g(!0);try{await l(se.participant.id,m.trim(),j.length>0?j:null),h(""),f([]),setTimeout(()=>{M()},100)}catch{}finally{g(!1)}}},D=K=>{const se=Array.from(K.target.files),ue=se.filter(ce=>ce.type.startsWith("image/")),ve=5-j.length,ke=ue.slice(0,ve);ke.length<se.length&&alert("يمكنك رفع 5 صور كحد أقصى فقط"),f([...j,...ke])},B=K=>{f(j.filter((se,ue)=>ue!==K))},G=K=>new Date(K).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!1}),z=K=>{const se=new Date(K),ue=new Date,ve=new Date(ue);return ve.setDate(ve.getDate()-1),se.toDateString()===ue.toDateString()?"اليوم":se.toDateString()===ve.toDateString()?"أمس":se.toLocaleDateString("ar-SA")},U=K=>{var ve,ke;const se=K.senderId===e.id,ue=((ve=r[s])==null?void 0:ve.indexOf(K))===0||((ke=r[s])==null?void 0:ke[r[s].indexOf(K)-1])&&z(K.timestamp)!==z(r[s][r[s].indexOf(K)-1].timestamp);return n.jsxs("div",{children:[ue&&n.jsx("div",{className:"flex justify-center my-4",children:n.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-3 py-1 rounded-full",children:z(K.timestamp)})}),n.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:ge("flex mb-4",se?"justify-start":"justify-end"),children:n.jsxs("div",{className:ge("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",se?"bg-primary text-primary-foreground mr-2":"bg-gray-100 text-gray-800 ml-2"),children:[K.text&&n.jsx("p",{className:"break-words",dir:"rtl",children:K.text}),K.attachments&&K.attachments.length>0&&n.jsx("div",{className:"mt-2 space-y-2",children:K.attachments.map((ce,Ie)=>n.jsx(SF,{attachment:ce,isOwn:se},Ie))}),n.jsx("p",{className:ge("text-xs mt-1 opacity-70",se?"text-right":"text-left"),children:G(K.timestamp)})]})})]},K.id)},$=t.find(K=>K.id===s),F=r[s]||[],H=t.filter(K=>K.participant.name.toLowerCase().includes(p.toLowerCase())),W=K=>{if(!K)return!1;const se=new Date(K);return(new Date-se)/(1e3*60)<5},T=K=>{if(!K)return"غير متصل";const se=new Date(K),ue=new Date;if(W(K))return"متصل الآن";if(se.toDateString()===ue.toDateString())return`آخر ظهور اليوم ${se.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}`;const ve=new Date(ue);return ve.setDate(ve.getDate()-1),se.toDateString()===ve.toDateString()?`آخر ظهور أمس ${se.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}`:`آخر ظهور ${se.toLocaleDateString("ar-SA")}`};if(u.useEffect(()=>{s&&$&&console.log("Current conversation participant:",{name:$.participant.name,last_seen:$.participant.last_seen,isOnline:W($.participant.last_seen)})},[s,$]),!e)return n.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"يرجى تسجيل الدخول لعرض الرسائل."});const q=((re=document.querySelector("header"))==null?void 0:re.offsetHeight)||70;return n.jsxs("div",{className:"flex border-t h-full",style:{height:`calc(100vh - ${q}px)`,overflow:"hidden"},children:[n.jsxs("aside",{className:`w-full md:w-1/3 lg:w-1/4 border-l bg-lightBeige p-4 flex flex-col ${s&&"hidden md:flex"}`,style:{height:"100%",overflowY:"auto"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-primary",children:"المحادثات"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[!a&&n.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse",title:"غير متصل"}),a&&n.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full",title:"متصل"})]})]}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(he,{type:"text",placeholder:"بحث في المحادثات...",value:p,onChange:K=>b(K.target.value),className:"pr-10"}),n.jsx(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 pr-2",children:i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"جاري التحميل..."})]}):H.length>0?H.map(K=>n.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},onClick:()=>o(K.id),className:ge("flex items-center p-3 rounded-lg cursor-pointer transition-colors hover:bg-orange-100",s===K.id?"bg-orange-200":"bg-white"),children:[n.jsxs(qt,{className:"h-10 w-10 ml-3 relative",children:[n.jsx(rr,{src:K.participant.avatar}),n.jsx(Kt,{children:K.participant.name.charAt(0)}),W(K.participant.last_seen)&&n.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:"font-semibold text-gray-800 truncate",children:K.participant.name}),K.unreadCount>0&&n.jsx(ye,{className:"bg-primary text-primary-foreground",children:K.unreadCount})]}),K.lastMessage&&n.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[K.lastMessage.senderId===e.id?"أنت: ":"",K.lastMessage.text]})]})]},K.id)):n.jsx("p",{className:"text-gray-500 text-center mt-4",children:"لا توجد محادثات."})})]}),n.jsx("main",{className:`flex-1 flex flex-col bg-white ${!s&&"hidden md:flex"}`,style:{height:"100%"},children:s&&$?n.jsxs(n.Fragment,{children:[n.jsxs("header",{className:"p-3 border-b flex items-center justify-between bg-gray-50 shrink-0",style:{height:"60px"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden mr-2",onClick:()=>o(null),children:n.jsx($r,{className:"h-5 w-5"})}),n.jsxs(qt,{className:"h-10 w-10 ml-3 relative",children:[n.jsx(rr,{src:$.participant.avatar}),n.jsx(Kt,{children:$.participant.name.charAt(0)}),W($.participant.last_seen)&&n.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:$.participant.name}),n.jsx("p",{className:"text-xs text-gray-500",children:T($.participant.last_seen)})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[!_&&N.length>0&&n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[n.jsx(ft,{className:"h-4 w-4 mr-1"}),"طلب خدمة"]}),_&&n.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400 mr-1"}),"جاري التحقق من الخدمات..."]}),n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsx(V,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-red-100",children:n.jsx(is,{className:"h-5 w-5"})})}),n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"حذف المحادثة"}),n.jsx(mn,{children:"هل أنت متأكد من حذف هذه المحادثة؟ لا يمكن التراجع عن هذا الإجراء."})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"إلغاء"}),n.jsx(fn,{onClick:()=>d(s),children:"حذف"})]})]})]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 messages-container",style:{height:"calc(100% - 120px)"},children:i?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):F.length>0?n.jsxs(n.Fragment,{children:[F.map(U),n.jsx("div",{ref:E})]}):n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Hr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"ابدأ محادثة جديدة"})]})})}),j.length>0&&n.jsx("div",{className:"border-t p-2 bg-gray-50",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"w-full flex justify-between mb-1",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[j.length,"/5 صور"]}),j.length>0&&n.jsx("button",{type:"button",onClick:()=>f([]),className:"text-xs text-red-500 hover:text-red-700",children:"مسح الكل"})]}),j.map((K,se)=>n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2 rounded border",children:[n.jsx(Ba,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs truncate max-w-20",children:K.name}),n.jsx("button",{onClick:()=>B(se),className:"text-red-500 hover:text-red-700",children:"×"})]})},se))]})}),n.jsx("div",{className:"p-4 border-t bg-white shrink-0 md:pb-4",children:n.jsxs("form",{onSubmit:L,className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[n.jsx(V,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var K;return(K=O.current)==null?void 0:K.click()},disabled:j.length>=5,className:`${j.length>=5?"text-gray-300":"text-gray-500 hover:text-gray-700"}`,title:j.length>=5?"الحد الأقصى 5 صور":"إرفاق صور",children:n.jsx(d3,{className:"h-5 w-5"})}),n.jsx("input",{ref:O,type:"file",multiple:!0,accept:"image/*",onChange:D,className:"hidden"}),n.jsx(he,{type:"text",placeholder:"اكتب رسالة...",value:m,onChange:K=>h(K.target.value),className:"flex-1",dir:"rtl"})]}),n.jsx(V,{type:"submit",disabled:!m.trim()&&j.length===0||w,className:"shrink-0",children:w?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):n.jsx(Jm,{className:"h-4 w-4"})})]})})]}):n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Hr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"مرحباً بك في الرسائل"}),n.jsx("p",{className:"text-gray-500",children:"اختر محادثة من القائمة للبدء"})]})})}),n.jsx(jF,{isOpen:x,onClose:()=>y(!1),sellerId:(Q=$==null?void 0:$.participant)==null?void 0:Q.id,sellerName:(de=$==null?void 0:$.participant)==null?void 0:de.name,sellerAvatar:(X=$==null?void 0:$.participant)==null?void 0:X.avatar,preloadedServices:N})]})},XF=()=>{const{cart:e,removeFromCart:t,updateQuantity:r,getCartTotal:s,clearCart:i}=Xd(),{toast:a}=st(),o=Ve(),l=()=>{if(e.length===0){a({variant:"destructive",title:"السلة فارغة",description:"الرجاء إضافة منتجات إلى السلة أولاً."});return}o("/checkout")};return n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-darkOlive",children:"سلة التسوق"}),n.jsxs(V,{variant:"outline",onClick:()=>o("/explore"),className:"border-olivePrimary text-olivePrimary hover:bg-olivePrimary hover:text-white",children:[n.jsx($r,{className:"ml-2 h-4 w-4"})," متابعة التسوق"]})]}),e.length===0?n.jsx(ae,{className:"text-center py-12 shadow-lg border-olivePrimary/20",children:n.jsxs(oe,{children:[n.jsx(ft,{className:"h-24 w-24 text-lightGreen mx-auto mb-6"}),n.jsx("h2",{className:"text-2xl font-semibold text-darkOlive mb-2",children:"سلة التسوق فارغة"}),n.jsx("p",{className:"text-darkOlive/70 mb-6",children:"لم تقم بإضافة أي منتجات إلى السلة بعد."}),n.jsx(V,{asChild:!0,size:"lg",className:"bg-burntOrange hover:bg-burntOrange/90 text-white",children:n.jsx(je,{to:"/explore",children:"ابدأ التسوق الآن"})})]})}):n.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[n.jsx("div",{className:"md:col-span-2 space-y-6",children:e.map((c,d)=>n.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:d*.1},children:n.jsxs(ae,{className:"flex flex-col sm:flex-row items-center p-4 shadow-md hover:shadow-lg transition-shadow duration-300 card-hover border-olivePrimary/20",children:[n.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-md overflow-hidden mb-4 sm:mb-0 sm:ml-4",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1688811363469-49a6f3bc2025",alt:c.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 text-center sm:text-right",children:[n.jsx(je,{to:`/gigs/${c.id}`,className:"text-lg font-semibold text-darkOlive hover:text-olivePrimary transition-colors",children:c.title}),n.jsxs("p",{className:"text-sm text-darkOlive/70",children:["السعر: ",c.price," جنيه"]}),n.jsxs("div",{className:"flex items-center justify-center sm:justify-start my-2 space-x-2 space-x-reverse",children:[n.jsx(V,{variant:"outline",size:"icon",onClick:()=>r(c.id,c.quantity-1),disabled:c.quantity<=1,className:"border-olivePrimary/50 text-olivePrimary",children:n.jsx(l3,{className:"h-4 w-4"})}),n.jsx(he,{type:"number",value:c.quantity,readOnly:!0,className:"w-16 text-center border-olivePrimary/30"}),n.jsx(V,{variant:"outline",size:"icon",onClick:()=>r(c.id,c.quantity+1),className:"border-olivePrimary/50 text-olivePrimary",children:n.jsx(t1,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex flex-col items-center sm:items-end mt-4 sm:mt-0 sm:mr-auto",children:[n.jsxs("p",{className:"text-lg font-bold text-olivePrimary mb-2",children:[c.price*c.quantity," جنيه"]}),n.jsx(V,{variant:"ghost",size:"icon",onClick:()=>t(c.id),className:"text-burntOrange hover:bg-burntOrange/10",children:n.jsx(is,{className:"h-5 w-5"})})]})]})},c.id))}),n.jsx("div",{className:"md:col-span-1",children:n.jsxs(ae,{className:"shadow-xl border-orange-200 sticky top-24",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-2xl text-primary",children:"ملخص الطلب"})}),n.jsxs(oe,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-gray-700",children:[n.jsx("span",{children:"المجموع الفرعي"}),n.jsxs("span",{children:[s()," جنيه"]})]}),n.jsxs("div",{className:"flex justify-between text-gray-700",children:[n.jsx("span",{children:"الشحن"}),n.jsx("span",{className:"text-green-600",children:"مجاني"})," "]}),n.jsx(rt,{}),n.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800",children:[n.jsx("span",{children:"الإجمالي"}),n.jsxs("span",{children:[s()," جنيه"]})]})]}),n.jsxs(et,{className:"flex flex-col gap-3",children:[n.jsxs(V,{size:"lg",onClick:l,className:"w-full bg-green-500 hover:bg-green-600",children:[n.jsx(jn,{className:"ml-2 h-5 w-5"})," إتمام عملية الشراء"]}),n.jsx(V,{variant:"outline",onClick:i,className:"w-full text-destructive border-destructive hover:bg-red-50",children:"تفريغ السلة"})]})]})})]})]})})},YF=()=>{const{cart:e,clearCart:t,getCartTotal:r}=Xd(),{toast:s}=st(),i=Ve(),[a,o]=u.useState({customer_name:"",customer_phone:"",delivery_address:"",payment_method:"cash_on_delivery",requirements:""}),[l,c]=u.useState(!1),[d,m]=u.useState({}),[h,p]=u.useState(null);me.useEffect(()=>{e.length===0&&i("/cart")},[e,i]);const b=(w,g)=>{o(x=>({...x,[w]:g})),d[w]&&m(x=>({...x,[w]:""}))},j=()=>{const w={};return a.customer_name.trim()||(w.customer_name="اسم العميل مطلوب"),a.customer_phone.trim()?/^[0-9]{11}$/.test(a.customer_phone.replace(/\s/g,""))||(w.customer_phone="رقم الهاتف يجب أن يكون 11 رقم"):w.customer_phone="رقم الهاتف مطلوب",a.delivery_address.trim()||(w.delivery_address="عنوان التوصيل مطلوب"),a.payment_method||(w.payment_method="طريقة الدفع مطلوبة"),m(w),Object.keys(w).length===0},f=async()=>{var w,g;if(!j()){s({variant:"destructive",title:"خطأ في البيانات",description:"يرجى تصحيح الأخطاء والمحاولة مرة أخرى."});return}c(!0);try{const x=e.map(P=>({product_id:P.id,quantity:P.quantity}));let y;if(h){const P=new FormData;P.append("cart_items",JSON.stringify(x)),Object.keys(a).forEach(_=>{a[_]&&P.append(_,a[_])}),P.append("payment_proof",h),console.log("Creating order with payment proof file"),y=await Se.createOrderWithFiles(P)}else{const P={cart_items:x,...a};console.log("Creating order with data:",P),y=await Se.createOrder(P)}if(console.log("Full API response:",y),!y||!y.id&&!((w=y.data)!=null&&w.id))throw new Error("Invalid response structure from server");t(),s({title:"تم إنشاء الطلب بنجاح!",description:"سيتم مراجعة طلبك وإشعارك بأي تحديثات."});const N=((g=y.data)==null?void 0:g.id)||y.id;if(console.log("Order ID received:",N),!N)throw new Error("No order ID received from server");console.log("Navigating to order:",N),i(`/orders/${N}`)}catch(x){console.error("Error creating order:",x),console.error("Error response:",x.response);let y="حدث خطأ أثناء إنشاء الطلب. يرجى المحاولة مرة أخرى.";x.message&&(y=x.message),x.message&&x.message.includes("API error: 422")&&(y="خطأ في البيانات المرسلة. تأكد من صحة جميع البيانات."),x.message&&x.message.includes("API error: 500")&&(y="خطأ في الخادم. يرجى المحاولة مرة أخرى لاحقاً."),s({variant:"destructive",title:"خطأ في إنشاء الطلب",description:y})}finally{c(!1)}};return e.length===0?null:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-darkOlive",children:"إتمام الطلب"}),n.jsxs(V,{variant:"outline",onClick:()=>i("/cart"),className:"border-olivePrimary text-olivePrimary hover:bg-olivePrimary hover:text-white",children:[n.jsx($r,{className:"ml-2 h-4 w-4"})," العودة للسلة"]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsxs(ae,{className:"shadow-lg border-olivePrimary/20",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-2xl text-darkOlive",children:"بيانات الطلب"})}),n.jsxs(oe,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(te,{htmlFor:"customer_name",className:"text-darkOlive flex items-center",children:[n.jsx(It,{className:"ml-2 h-4 w-4 text-olivePrimary"}),"اسم العميل *"]}),n.jsx(he,{id:"customer_name",type:"text",placeholder:"أدخل اسمك الكامل",value:a.customer_name,onChange:w=>b("customer_name",w.target.value),className:`border-olivePrimary/30 ${d.customer_name?"border-red-500":""}`}),d.customer_name&&n.jsx("p",{className:"text-red-500 text-sm",children:d.customer_name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(te,{htmlFor:"customer_phone",className:"text-darkOlive flex items-center",children:[n.jsx(Pn,{className:"ml-2 h-4 w-4 text-olivePrimary"}),"رقم الهاتف *"]}),n.jsx(he,{id:"customer_phone",type:"tel",placeholder:"مثال: 01234567890",value:a.customer_phone,onChange:w=>b("customer_phone",w.target.value),className:`border-olivePrimary/30 ${d.customer_phone?"border-red-500":""}`}),d.customer_phone&&n.jsx("p",{className:"text-red-500 text-sm",children:d.customer_phone})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(te,{htmlFor:"delivery_address",className:"text-darkOlive flex items-center",children:[n.jsx(Qn,{className:"ml-2 h-4 w-4 text-olivePrimary"}),"عنوان التوصيل *"]}),n.jsx(jt,{id:"delivery_address",placeholder:"أدخل العنوان المفصل للتوصيل",value:a.delivery_address,onChange:w=>b("delivery_address",w.target.value),className:`border-olivePrimary/30 min-h-[100px] ${d.delivery_address?"border-red-500":""}`}),d.delivery_address&&n.jsx("p",{className:"text-red-500 text-sm",children:d.delivery_address})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(te,{className:"text-darkOlive flex items-center",children:[n.jsx(jn,{className:"ml-2 h-4 w-4 text-olivePrimary"}),"طريقة الدفع *"]}),n.jsxs($t,{value:a.payment_method,onValueChange:w=>b("payment_method",w),children:[n.jsx(Tt,{className:"border-olivePrimary/30",children:n.jsx(_t,{placeholder:"اختر طريقة الدفع"})}),n.jsxs(Rt,{children:[n.jsx(Ne,{value:"cash_on_delivery",children:"الدفع عند الاستلام"}),n.jsx(Ne,{value:"bank_transfer",children:"تحويل بنكي"}),n.jsx(Ne,{value:"vodafone_cash",children:"فودافون كاش"}),n.jsx(Ne,{value:"instapay",children:"انستاباي"})]})]}),d.payment_method&&n.jsx("p",{className:"text-red-500 text-sm",children:d.payment_method})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(te,{htmlFor:"requirements",className:"text-darkOlive flex items-center",children:[n.jsx(Ip,{className:"ml-2 h-4 w-4 text-olivePrimary"}),"متطلبات إضافية (اختياري)"]}),n.jsx(jt,{id:"requirements",placeholder:"أي متطلبات أو ملاحظات إضافية",value:a.requirements,onChange:w=>b("requirements",w.target.value),className:"border-olivePrimary/30"})]}),a.payment_method!=="cash_on_delivery"&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(te,{className:"text-darkOlive flex items-center",children:[n.jsx(nd,{className:"ml-2 h-4 w-4 text-olivePrimary"}),"صورة إثبات الدفع (اختياري)"]}),n.jsxs("div",{className:"border-2 border-dashed border-olivePrimary/30 rounded-lg p-4",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:w=>p(w.target.files[0]),className:"hidden",id:"payment_proof"}),n.jsxs("label",{htmlFor:"payment_proof",className:"cursor-pointer flex flex-col items-center justify-center space-y-2",children:[n.jsx(nd,{className:"h-8 w-8 text-olivePrimary"}),n.jsx("span",{className:"text-sm text-darkOlive",children:h?h.name:"اضغط لاختيار صورة إثبات الدفع"}),n.jsx("span",{className:"text-xs text-darkOlive/60",children:"يمكنك رفع الصورة الآن أو لاحقاً من صفحة تفاصيل الطلب"})]})]})]})]})]})}),n.jsx("div",{className:"md:col-span-1",children:n.jsxs(ae,{className:"shadow-xl border-orange-200 sticky top-24",children:[n.jsx(fe,{children:n.jsxs(pe,{className:"text-2xl text-primary flex items-center",children:[n.jsx(ft,{className:"ml-2 h-5 w-5"}),"ملخص الطلب"]})}),n.jsxs(oe,{className:"space-y-4",children:[n.jsx("div",{className:"space-y-3",children:e.map(w=>n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-darkOlive",children:w.title}),n.jsxs("p",{className:"text-darkOlive/60",children:["الكمية: ",w.quantity]})]}),n.jsxs("p",{className:"font-medium text-olivePrimary",children:[w.price*w.quantity," جنيه"]})]},w.id))}),n.jsx(rt,{}),n.jsxs("div",{className:"flex justify-between text-gray-700",children:[n.jsx("span",{children:"المجموع الفرعي"}),n.jsxs("span",{children:[r()," جنيه"]})]}),n.jsxs("div",{className:"flex justify-between text-gray-700",children:[n.jsx("span",{children:"الشحن"}),n.jsx("span",{className:"text-green-600",children:"مجاني"})]}),n.jsx(rt,{}),n.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800",children:[n.jsx("span",{children:"الإجمالي"}),n.jsxs("span",{children:[r()," جنيه"]})]})]}),n.jsx(oe,{className:"pt-0",children:n.jsx(V,{size:"lg",onClick:f,disabled:l,className:"w-full bg-green-500 hover:bg-green-600",children:l?n.jsx(n.Fragment,{children:"جاري إنشاء الطلب..."}):n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"ml-2 h-5 w-5"}),"تأكيد الطلب"]})})})]})})]})]})})},JF=()=>{var Cl,Pl,Fi,Vi,kl,El;const{orderId:e}=za();console.log("orderId from useParams:",e);const{user:t}=$e(),{toast:r}=st(),s=Ve(),[i,a]=u.useState(null),[o,l]=u.useState(!0),[c,d]=u.useState(!1),[m,h]=u.useState(null),[p,b]=u.useState(""),[j,f]=u.useState(""),[w,g]=u.useState(""),[x,y]=u.useState([]),[N,P]=u.useState(!1),[_,k]=u.useState({}),[E,O]=u.useState({}),[R,M]=u.useState(!1),[L,D]=u.useState([]),[B,G]=u.useState(!1),[z,U]=u.useState(null),[$,F]=u.useState(0),[H,W]=u.useState(""),[T,q]=u.useState(!1),[re,Q]=u.useState(!1),[de,X]=u.useState(null);u.useEffect(()=>{e&&K()},[e]);const K=async()=>{l(!0);try{console.log("Loading order with ID:",e);const J=await Se.getOrder(e);console.log("Order API response:",J);const Ce=J.data||J;if(!Ce||!Ce.id)throw new Error("Invalid order data received");a(Ce),b(Ce.delivery_address||""),g(Ce.customer_phone||""),console.log("Order loaded successfully")}catch(J){console.error("Error loading order:",J),r({variant:"destructive",title:"خطأ في تحميل الطلب",description:`حدث خطأ أثناء تحميل تفاصيل الطلب رقم ${e}. ${J.message||""}`})}finally{l(!1)}},se=async()=>{if(!m){r({variant:"destructive",title:"لم يتم اختيار ملف",description:"يرجى اختيار صورة إيصال الدفع أولاً."});return}d(!0);try{await Se.uploadPaymentProof(e,m),r({title:"تم رفع إيصال الدفع",description:"تم رفع إيصال الدفع بنجاح. سيتم مراجعته من قبل الإدارة."}),h(null),K()}catch(J){console.error("Error uploading payment proof:",J),r({variant:"destructive",title:"خطأ في رفع الإيصال",description:"حدث خطأ أثناء رفع إيصال الدفع. يرجى المحاولة مرة أخرى."})}finally{d(!1)}},ue=async()=>{if(!p.trim()){r({variant:"destructive",title:"عنوان التوصيل مطلوب",description:"يرجى إدخال عنوان التوصيل."});return}d(!0);try{await Se.updateOrder(e,{delivery_address:p,customer_phone:w}),r({title:"تم تحديث المعلومات",description:"تم تحديث معلومات الطلب بنجاح."}),K()}catch(J){console.error("Error updating order:",J),r({variant:"destructive",title:"خطأ في التحديث",description:"حدث خطأ أثناء تحديث معلومات الطلب."})}finally{d(!1)}},ve=async()=>{d(!0);try{await St.adminApproveOrder(e,j),r({title:"تم اعتماد الطلب",description:"تم اعتماد الطلب من قبل الإدارة بنجاح."}),f(""),K()}catch(J){console.error("Error approving order:",J),r({variant:"destructive",title:"خطأ في الاعتماد",description:"حدث خطأ أثناء اعتماد الطلب."})}finally{d(!1)}},ke=async()=>{d(!0);try{await ur.approveOrder(e,j),r({title:"تم قبول الطلب",description:"تم قبول الطلب من قبل البائع بنجاح."}),f(""),K()}catch(J){console.error("Error seller approving order:",J),r({variant:"destructive",title:"خطأ في قبول الطلب",description:"حدث خطأ أثناء قبول الطلب."})}finally{d(!1)}},ce=async()=>{d(!0);try{await ur.startWork(e,j),r({title:"تم بدء العمل",description:"تم بدء العمل على الطلب بنجاح."}),f(""),K()}catch(J){console.error("Error starting work:",J),r({variant:"destructive",title:"خطأ في بدء العمل",description:"حدث خطأ أثناء بدء العمل على الطلب."})}finally{d(!1)}},Ie=async()=>{d(!0);try{await ur.completeWork(e,j),r({title:"تم إنهاء العمل",description:"تم إنهاء العمل على الطلب وهو جاهز للتوصيل."}),f(""),K()}catch(J){console.error("Error completing work:",J),r({variant:"destructive",title:"خطأ في إنهاء العمل",description:"حدث خطأ أثناء إنهاء العمل على الطلب."})}finally{d(!1)}},Be=async()=>{d(!0);try{await Yv.pickupOrder(e,j),r({title:"تم استلام الطلب للتوصيل",description:"تم استلام الطلب من البائع للتوصيل."}),f(""),K()}catch(J){console.error("Error picking up order:",J),r({variant:"destructive",title:"خطأ في استلام الطلب",description:"حدث خطأ أثناء استلام الطلب للتوصيل."})}finally{d(!1)}},ut=async()=>{d(!0);try{await Yv.markAsDelivered(e,j),r({title:"تم توصيل الطلب",description:"تم تسليم الطلب للعميل بنجاح."}),f(""),K()}catch(J){console.error("Error marking as delivered:",J),r({variant:"destructive",title:"خطأ في تسليم الطلب",description:"حدث خطأ أثناء تسليم الطلب."})}finally{d(!1)}},xt=async()=>{d(!0);try{await Se.completeOrder(e),r({title:"تم إكمال الطلب",description:"تم إكمال الطلب بنجاح. شكراً لكم!"}),K()}catch(J){console.error("Error completing order:",J),r({variant:"destructive",title:"خطأ في إكمال الطلب",description:"حدث خطأ أثناء إكمال الطلب."})}finally{d(!1)}},gr=async()=>{d(!0);try{await Se.cancelOrder(e,j||"تم إلغاء الطلب"),r({title:"تم إلغاء الطلب",description:"تم إلغاء الطلب بنجاح."}),f(""),K()}catch(J){console.error("Error canceling order:",J),r({variant:"destructive",title:"خطأ في إلغاء الطلب",description:"حدث خطأ أثناء إلغاء الطلب."})}finally{d(!1)}},_r=async()=>{var J;try{const Ce=await Se.canReviewOrder(e);y(Ce.products||[]),P(((J=Ce.products)==null?void 0:J.some(qe=>qe.can_review))||!1)}catch(Ce){console.error("Error loading reviewable products:",Ce)}},qr=async()=>{G(!0);try{const J=await Se.getOrderReviews(e);D(J.data||J||[])}catch(J){console.error("Error loading existing reviews:",J),D([])}finally{G(!1)}},Su=J=>{U(J.id),F(J.rating),W(J.comment||"")},Sl=()=>{U(null),F(0),W("")},Li=async J=>{if(!$||$<1||$>5){r({variant:"destructive",title:"تقييم غير صحيح",description:"يرجى اختيار تقييم من 1 إلى 5 نجوم."});return}q(!0);try{await Se.updateReview(J,{rating:$,comment:H,status:"published"}),r({title:"تم تحديث التقييم",description:"تم تحديث التقييم بنجاح."}),Sl(),qr()}catch(Ce){console.error("Error updating review:",Ce),r({variant:"destructive",title:"خطأ في تحديث التقييم",description:"حدث خطأ أثناء تحديث التقييم. يرجى المحاولة مرة أخرى."})}finally{q(!1)}},Cu=async J=>{Q(!0);try{await Se.deleteReview(J),r({title:"تم حذف التقييم",description:"تم حذف التقييم بنجاح."}),qr(),_r(),X(null)}catch(Ce){console.error("Error deleting review:",Ce),r({variant:"destructive",title:"خطأ في حذف التقييم",description:"حدث خطأ أثناء حذف التقييم. يرجى المحاولة مرة أخرى."})}finally{Q(!1)}},Ye=(J,Ce)=>{k(qe=>({...qe,[J]:Ce}))},Pu=(J,Ce)=>{O(qe=>({...qe,[J]:Ce}))},ku=async J=>{const Ce=_[J],qe=E[J]||"";if(!Ce||Ce<1||Ce>5){r({variant:"destructive",title:"تقييم غير صحيح",description:"يرجى اختيار تقييم من 1 إلى 5 نجوم."});return}M(!0);try{await Se.createReview({product_id:J,order_id:e,rating:Ce,comment:qe,status:"published"}),r({title:"تم إرسال التقييم",description:"شكراً لك على تقييم المنتج."}),_r(),qr()}catch(bt){console.error("Error submitting review:",bt),r({variant:"destructive",title:"خطأ في إرسال التقييم",description:"حدث خطأ أثناء إرسال التقييم. يرجى المحاولة مرة أخرى."})}finally{M(!1)}};u.useEffect(()=>{(i==null?void 0:i.status)==="completed"&&(t==null?void 0:t.id)===i.user.id&&_r()},[i,t]),u.useEffect(()=>{i&&t&&qr()},[i,t]);const Eu=J=>{const Ce={pending:{label:"بانتظار المراجعة",icon:n.jsx(Ci,{className:"h-4 w-4 ml-1"}),color:"bg-amber-100 text-amber-700 border-amber-200 shadow-md",pulse:!0},admin_approved:{label:"معتمد من الإدارة",icon:n.jsx(Et,{className:"h-4 w-4 ml-1"}),color:"bg-blue-100 text-blue-700 border-blue-200 shadow-md"},seller_approved:{label:"مقبول من البائع",icon:n.jsx(tr,{className:"h-4 w-4 ml-1"}),color:"bg-green-100 text-green-700 border-green-200 shadow-md"},in_progress:{label:"جاري العمل",icon:n.jsx(Xv,{className:"h-4 w-4 ml-1"}),color:"bg-olivePrimary/20 text-olivePrimary border-olivePrimary/30 shadow-md",pulse:!0},ready_for_delivery:{label:"جاهز للتوصيل",icon:n.jsx(Ir,{className:"h-4 w-4 ml-1"}),color:"bg-olivePrimary/20 text-olivePrimary border-olivePrimary/30 shadow-md"},out_for_delivery:{label:"في الطريق للتوصيل",icon:n.jsx(Zo,{className:"h-4 w-4 ml-1"}),color:"bg-burntOrange/20 text-burntOrange border-burntOrange/30 shadow-md",pulse:!0},delivered:{label:"تم التوصيل",icon:n.jsx(tr,{className:"h-4 w-4 ml-1"}),color:"bg-green-100 text-green-700 border-green-200 shadow-md"},completed:{label:"مكتمل",icon:n.jsx(Et,{className:"h-4 w-4 ml-1"}),color:"bg-emerald-100 text-emerald-700 border-emerald-200 shadow-md"},cancelled:{label:"ملغى",icon:n.jsx(Si,{className:"h-4 w-4 ml-1"}),color:"bg-red-100 text-red-700 border-red-200 shadow-md"}},qe=Ce[J]||Ce.pending;return n.jsxs(ye,{variant:"outline",className:`${qe.color} font-semibold flex items-center px-4 py-2 text-sm relative overflow-hidden ${qe.pulse?"animate-pulse":""}`,children:[qe.pulse&&n.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"}),n.jsxs("span",{className:"relative flex items-center",children:[qe.icon,qe.label]})]})},_u=()=>i!=null&&i.timeline?n.jsxs(ae,{className:"border-0 shadow-lg overflow-hidden",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center text-xl",children:[n.jsx(Jo,{className:"h-6 w-6 ml-2"}),"الجدول الزمني للطلب"]})}),n.jsxs(oe,{className:"p-6",children:["          ",n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute right-6 top-0 bottom-0 w-0.5 bg-olivePrimary"}),n.jsx("div",{className:"space-y-6",children:i.timeline.map((J,Ce)=>n.jsxs(Z.div,{className:"relative flex items-start space-x-4 space-x-reverse",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Ce*.15},children:["                  ",n.jsx("div",{className:"flex-shrink-0 relative z-10",children:n.jsx("div",{className:"w-12 h-12 bg-olivePrimary rounded-full flex items-center justify-center shadow-lg border-4 border-white",children:n.jsx(tr,{className:"h-5 w-5 text-white"})})}),n.jsxs("div",{className:"flex-1 bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-100",children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:J.label}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:J.date?new Date(J.date).toLocaleString("ar-EG"):""}),J.notes&&n.jsx("p",{className:"text-sm text-gray-700 bg-blue-50 p-3 rounded-md border-r-4 border-blue-400",children:J.notes})]})]},Ce))})]})]})]}):null,Tu=()=>{if(!i)return null;const J=(t==null?void 0:t.id)===i.user.id,Ce=(t==null?void 0:t.id)===i.seller.id,qe=(t==null?void 0:t.role)==="super_admin",bt=(t==null?void 0:t.role)==="delivery";return n.jsxs(ae,{className:"mt-6",children:[n.jsx(fe,{children:n.jsx(pe,{children:"الإجراءات المتاحة"})}),n.jsxs(oe,{className:"space-y-4",children:[J&&n.jsxs(n.Fragment,{children:[i.status==="pending"&&!i.payment_proof&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(te,{children:"رفع إيصال الدفع"}),n.jsx(he,{type:"file",accept:"image/*",onChange:ht=>h(ht.target.files[0])}),n.jsxs(V,{onClick:se,disabled:c||!m,className:"w-full",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(nd,{className:"h-4 w-4 ml-2"}),"رفع إيصال الدفع"]})]}),(i.status==="pending"||i.status==="admin_approved")&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(te,{children:"عنوان التوصيل"}),n.jsx(jt,{value:p,onChange:ht=>b(ht.target.value),placeholder:"أدخل عنوان التوصيل الكامل..."}),n.jsx(te,{children:"رقم الهاتف"}),n.jsx(he,{value:w,onChange:ht=>g(ht.target.value),placeholder:"رقم الهاتف للتواصل"}),n.jsxs(V,{onClick:ue,disabled:c,className:"w-full",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(tr,{className:"h-4 w-4 ml-2"}),"تحديث معلومات الطلب"]})]}),i.status==="delivered"&&n.jsxs(V,{onClick:xt,disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(Et,{className:"h-4 w-4 ml-2"}),"تأكيد استلام الطلب"]})]}),qe&&i.status==="pending"&&i.payment_proof&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(te,{children:"ملاحظات الإدارة"}),n.jsx(jt,{value:j,onChange:ht=>f(ht.target.value),placeholder:"أدخل ملاحظات الاعتماد..."}),n.jsxs(V,{onClick:ve,disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(Et,{className:"h-4 w-4 ml-2"}),"اعتماد الطلب"]})]}),Ce&&n.jsxs(n.Fragment,{children:[i.status==="admin_approved"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(te,{children:"ملاحظات البائع"}),n.jsx(jt,{value:j,onChange:ht=>f(ht.target.value),placeholder:"أدخل ملاحظات قبول الطلب..."}),n.jsxs(V,{onClick:ke,disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(tr,{className:"h-4 w-4 ml-2"}),"قبول الطلب وبدء العمل"]})]}),i.status==="seller_approved"&&n.jsxs(V,{onClick:ce,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(Xv,{className:"h-4 w-4 ml-2"}),"بدء العمل على الطلب"]}),i.status==="in_progress"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(te,{children:"ملاحظات إنهاء العمل"}),n.jsx(jt,{value:j,onChange:ht=>f(ht.target.value),placeholder:"أدخل ملاحظات إنهاء العمل..."}),n.jsxs(V,{onClick:Ie,disabled:c,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(Ir,{className:"h-4 w-4 ml-2"}),"إنهاء العمل - جاهز للتوصيل"]})]})]}),bt&&n.jsxs(n.Fragment,{children:[i.status==="ready_for_delivery"&&n.jsxs(V,{onClick:Be,disabled:c,className:"w-full bg-orange-600 hover:bg-orange-700",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(Zo,{className:"h-4 w-4 ml-2"}),"استلام الطلب للتوصيل"]}),i.status==="out_for_delivery"&&n.jsxs(V,{onClick:ut,disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(tr,{className:"h-4 w-4 ml-2"}),"تأكيد التسليم للعميل"]})]}),(J&&["pending","admin_approved"].includes(i.status)||qe&&["pending","admin_approved","seller_approved"].includes(i.status)||Ce&&["admin_approved","seller_approved"].includes(i.status))&&n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsxs(V,{variant:"destructive",className:"w-full",children:[n.jsx(Si,{className:"h-4 w-4 ml-2"}),"إلغاء الطلب"]})}),n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"تأكيد إلغاء الطلب"}),n.jsx(mn,{children:"هل أنت متأكد من رغبتك في إلغاء هذا الطلب؟ هذا الإجراء لا يمكن التراجع عنه."})]}),n.jsxs("div",{className:"my-4",children:[n.jsx(te,{children:"سبب الإلغاء"}),n.jsx(jt,{value:j,onChange:ht=>f(ht.target.value),placeholder:"أدخل سبب إلغاء الطلب..."})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"تراجع"}),n.jsxs(fn,{onClick:gr,disabled:c,className:"bg-red-600 hover:bg-red-700",children:[c?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):null,"إلغاء الطلب"]})]})]})]})]})]})};return o?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"flex justify-center items-center min-h-64",children:n.jsx(Re,{className:"h-8 w-8 animate-spin"})})}):i?n.jsxs("div",{className:"min-h-screen bg-lightBeige",children:[n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:["              ",n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-olivePrimary",children:"تفاصيل الطلب"}),n.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[n.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["#",i.id]}),Eu(i.status)]})]}),n.jsxs(V,{variant:"outline",onClick:()=>s("/dashboard/orders"),className:"self-start sm:self-center border-olivePrimary text-olivePrimary hover:bg-olivePrimary hover:text-white transition-all duration-300",children:[n.jsx($r,{className:"ml-2 h-4 w-4"}),"العودة للطلبات"]})]})}),n.jsxs("div",{className:"grid lg:grid-cols-12 gap-8",children:[n.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[n.jsxs(ae,{className:"bg-white border-0 shadow-lg",children:[n.jsx(fe,{className:"bg-olivePrimary/10 rounded-t-lg",children:n.jsxs(pe,{className:"flex items-center text-xl",children:[n.jsx(pi,{className:"h-6 w-6 ml-2 text-olivePrimary"}),"حالة الطلب الحالية"]})}),n.jsx(oe,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[i.status_ar&&n.jsx("p",{className:"text-xl font-bold text-gray-800",children:i.status_ar}),i.next_action&&n.jsx("p",{className:"text-gray-600",children:i.next_action})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ الطلب"}),n.jsx("p",{className:"font-semibold",children:new Date(i.created_at).toLocaleDateString("ar-EG")})]})]})})]}),"              ",n.jsxs(ae,{className:"border-0 shadow-lg overflow-hidden",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center text-xl",children:[n.jsx(Ir,{className:"h-6 w-6 ml-2"}),"عناصر الطلب (",((Cl=i.items)==null?void 0:Cl.length)||0," منتج)"]})}),n.jsxs(oe,{className:"p-0",children:[n.jsxs("div",{className:"divide-y divide-gray-100",children:[i.items&&i.items.map((J,Ce)=>{var qe,bt,ht;return n.jsx(Z.div,{className:"p-6 hover:bg-gray-50 transition-colors duration-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Ce*.1},children:n.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:((qe=J.product)==null?void 0:qe.image)||"https://via.placeholder.com/100",alt:((bt=J.product)==null?void 0:bt.name)||"منتج",className:"w-20 h-20 object-cover rounded-xl shadow-md"}),n.jsx("div",{className:"absolute -top-2 -right-2 bg-olivePrimary text-white text-xs font-bold rounded-full h-6 flex items-center justify-center",children:J.product.category.name})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-1",children:((ht=J.product)==null?void 0:ht.title)||"منتج"}),n.jsx("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:n.jsxs("span",{children:["السعر: ",J.price," جنيه "]})}),n.jsx("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:n.jsxs("span",{children:["الكمية: ",J.quantity]})})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"الإجمالي"}),n.jsxs("p",{className:"text-xl font-bold text-olivePrimary",children:[J.subtotal," جنيه"]})]})]})},Ce)}),"                  "]}),n.jsx("div",{className:"bg-gray-50 p-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xl font-bold text-gray-800",children:"الإجمالي الكلي"}),n.jsxs("span",{className:"text-3xl font-bold text-olivePrimary",children:[i.total_price," جنيه"]})]})})]})]}),"              ",n.jsxs(ae,{className:"border-0 shadow-lg",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center text-xl",children:[n.jsx(jn,{className:"h-6 w-6 ml-2"}),"معلومات الدفع"]})}),n.jsx(oe,{className:"pt-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"طريقة الدفع:"}),n.jsx("span",{className:"font-semibold",children:i.payment_method_ar||i.payment_method})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"حالة الدفع:"}),n.jsx(ye,{variant:i.payment_status==="paid"?"default":"secondary",className:i.payment_status==="paid"?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:i.payment_status==="paid"?"مدفوع ✓":"غير مدفوع ⏳"})]}),i.is_service_order&&i.requires_deposit&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"نوع الطلب:"}),n.jsx(ye,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"طلب خدمة"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"قيمة العربون:"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:[i.deposit_amount," جنيه"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"حالة العربون:"}),n.jsx(ye,{variant:i.deposit_status==="paid"?"default":"secondary",className:i.deposit_status==="paid"?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:i.deposit_status==="paid"?"مدفوع ✓":"غير مدفوع ⏳"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[i.is_service_order&&i.deposit_image&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-600 mb-2 block",children:"صورة إيصال العربون:"}),n.jsx("img",{src:i.deposit_image,alt:"إيصال العربون",className:"max-w-full h-auto rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300",onClick:()=>window.open(i.deposit_image,"_blank")})]}),i.payment_proof&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-600 mb-2 block",children:"إيصال الدفع:"}),n.jsx("img",{src:i.payment_proof,alt:"إيصال الدفع",className:"max-w-full h-auto rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300",onClick:()=>window.open(i.payment_proof,"_blank")})]})]})]})})]}),(i.requirements||i.service_requirements||i.notes)&&n.jsxs(ae,{className:"border-0 shadow-lg",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center text-xl",children:[n.jsx(Ip,{className:"h-6 w-6 ml-2"}),"ملاحظات ومتطلبات"]})}),n.jsxs(oe,{className:"pt-6",children:[i.is_service_order&&i.service_requirements&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"متطلبات الخدمة:"}),n.jsx("p",{className:"text-gray-600 bg-blue-50 p-4 rounded-lg border-r-4 border-blue-500",children:i.service_requirements})]}),i.requirements&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"متطلبات خاصة:"}),n.jsx("p",{className:"text-gray-600 bg-gray-50 p-4 rounded-lg border-r-4 border-olivePrimary",children:i.requirements})]}),i.notes&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"ملاحظات إضافية:"}),n.jsx("p",{className:"text-gray-600 bg-green-50 p-4 rounded-lg border-r-4 border-green-500",children:i.notes})]})]})]}),_u()]}),n.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[n.jsxs(ae,{className:"border-0 shadow-lg",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center",children:[n.jsx(It,{className:"h-5 w-5 ml-2"}),"معلومات العميل"]})}),n.jsxs(oe,{className:"pt-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-olivePrimary rounded-full flex items-center justify-center",children:n.jsx(It,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:((Pl=i.user)==null?void 0:Pl.name)||"غير محدد"}),n.jsx("p",{className:"text-sm text-gray-500",children:"العميل"})]})]}),i.customer_phone&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-olivePrimary rounded-full flex items-center justify-center",children:n.jsx(Pn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:i.customer_phone}),n.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"})]})]}),i.delivery_address&&n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-olivePrimary rounded-full flex items-center justify-center",children:n.jsx(Qn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"عنوان التوصيل"}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i.delivery_address})]})]})]})]}),"              ",n.jsxs(ae,{className:"border-0 shadow-lg",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center",children:[n.jsx(It,{className:"h-5 w-5 ml-2"}),"معلومات البائع"]})}),n.jsxs(oe,{className:"pt-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-olivePrimary rounded-full flex items-center justify-center",children:n.jsx(It,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:((Vi=(Fi=i.seller)==null?void 0:Fi.user)==null?void 0:Vi.name)||((kl=i.seller)==null?void 0:kl.name)||"غير محدد"}),n.jsx("p",{className:"text-sm text-gray-500",children:"البائع"})]})]}),((El=i.seller)==null?void 0:El.phone)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-olivePrimary rounded-full flex items-center justify-center",children:n.jsx(Pn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:i.seller.phone}),n.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"})]})]})]})]}),"              ",n.jsxs(ae,{className:"border-0 shadow-lg",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center",children:[n.jsx(Jo,{className:"h-5 w-5 ml-2"}),"التواريخ المهمة"]})}),n.jsx(oe,{className:"pt-6 space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"تاريخ الطلب:"}),n.jsx("span",{className:"font-semibold",children:new Date(i.created_at).toLocaleDateString("ar-EG")})]}),i.expected_delivery_date&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"التسليم المتوقع:"}),n.jsx("span",{className:"font-semibold text-orange-600",children:new Date(i.expected_delivery_date).toLocaleDateString("ar-EG")})]}),i.delivered_at&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"تاريخ التسليم:"}),n.jsx("span",{className:"font-semibold text-green-600",children:new Date(i.delivered_at).toLocaleDateString("ar-EG")})]})]})})]}),L.length>0&&n.jsxs(ae,{className:"border-0 shadow-lg",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center",children:[n.jsx(He,{className:"h-5 w-5 ml-2"}),"تقييمات الطلب"]})}),n.jsx(oe,{className:"pt-6",children:B?n.jsxs("div",{className:"text-center py-6",children:[n.jsx(Re,{className:"h-6 w-6 animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"جاري تحميل التقييمات..."})]}):n.jsx("div",{className:"space-y-6",children:L.map(J=>{var Ce,qe,bt,ht,Mn,_l;return n.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:(Ce=J.user)!=null&&Ce.avatar?n.jsx("img",{src:J.user.avatar,alt:J.user.name||"مستخدم",className:"w-10 h-10 rounded-full object-cover border-2 border-lightBeige"}):n.jsx("div",{className:"w-10 h-10 bg-olivePrimary rounded-full flex items-center justify-center text-white font-bold",children:((bt=(qe=J.user)==null?void 0:qe.name)==null?void 0:bt.charAt(0))||"م"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 text-right",children:((ht=J.user)==null?void 0:ht.name)||"مستخدم"}),n.jsx("p",{className:"text-sm text-gray-500 text-right",children:new Date(J.created_at).toLocaleDateString("ar-EG")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[z===J.id?n.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Kr=>n.jsx("button",{type:"button",onClick:()=>F(Kr),className:`h-5 w-5 ${Kr<=$?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:n.jsx(He,{className:"h-4 w-4"})},Kr))}):n.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Kr=>n.jsx(He,{className:`h-4 w-4 ${Kr<=J.rating?"text-yellow-400 fill-current":"text-gray-300"}`},Kr))}),((Mn=J.user)==null?void 0:Mn.id)===(t==null?void 0:t.id)&&n.jsx("div",{className:"flex items-center gap-1",children:z===J.id?n.jsxs(n.Fragment,{children:[n.jsx(V,{onClick:()=>Li(J.id),disabled:T,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:T?n.jsx(Re,{className:"h-3 w-3 animate-spin"}):n.jsx(tr,{className:"h-3 w-3"})}),n.jsx(V,{onClick:Sl,size:"sm",variant:"outline",children:n.jsx(Ct,{className:"h-3 w-3"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(V,{onClick:()=>Su(J),size:"sm",variant:"outline",children:n.jsx(Kd,{className:"h-3 w-3"})}),n.jsx(V,{onClick:()=>X(J.id),disabled:re,size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(is,{className:"h-3 w-3"})})]})})]})]}),J.product&&n.jsxs("div",{className:"flex items-center gap-3 mb-3 p-3 bg-white rounded-lg border",children:[J.product.image?n.jsx("img",{src:J.product.image,alt:J.product.title,className:"w-12 h-12 rounded-lg object-cover border border-lightBeige"}):n.jsx("div",{className:"w-12 h-12 bg-lightBeige rounded-lg flex items-center justify-center",children:n.jsx(Ir,{className:"h-6 w-6 text-olivePrimary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 block text-right",children:J.product.title}),n.jsx("span",{className:"text-xs text-gray-500 block text-right",children:((_l=J.product.category)==null?void 0:_l.name)||"غير محدد"})]})]}),z===J.id?n.jsxs("div",{className:"mt-3",children:[n.jsx(te,{className:"text-sm font-medium",children:"التعليق (اختياري)"}),n.jsx(jt,{value:H,onChange:Kr=>W(Kr.target.value),placeholder:"اكتب تعليقك على المنتج...",className:"mt-1",rows:3})]}):J.comment&&n.jsx("p",{className:"text-gray-700 leading-relaxed text-right",children:J.comment})]})]})},J.id)})})})]}),N&&n.jsxs(ae,{className:"border-0 shadow-lg",children:[n.jsx(fe,{className:"bg-olivePrimary text-white",children:n.jsxs(pe,{className:"flex items-center",children:[n.jsx(He,{className:"h-5 w-5 ml-2"}),"تقييم المنتجات"]})}),n.jsx(oe,{className:"pt-6",children:n.jsx("div",{className:"space-y-6",children:x.map(J=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[J.product_image&&n.jsx("img",{src:J.product_image,alt:J.product_title,className:"w-12 h-12 object-cover rounded-lg"}),n.jsx("div",{className:"flex-1",children:n.jsx("h4",{className:"font-semibold text-gray-800",children:J.product_title})})]}),J.can_review?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(te,{className:"text-sm font-medium",children:"التقييم"}),n.jsx("div",{className:"flex items-center mt-1",children:[1,2,3,4,5].map(Ce=>n.jsx("button",{type:"button",onClick:()=>Ye(J.product_id,Ce),className:`h-8 w-8 ${Ce<=(_[J.product_id]||0)?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:n.jsx(He,{className:"h-6 w-6"})},Ce))})]}),n.jsxs("div",{children:[n.jsx(te,{className:"text-sm font-medium",children:"التعليق (اختياري)"}),n.jsx(jt,{value:E[J.product_id]||"",onChange:Ce=>Pu(J.product_id,Ce.target.value),placeholder:"اكتب تعليقك على المنتج...",className:"mt-1",rows:3})]}),n.jsxs(V,{onClick:()=>ku(J.product_id),disabled:R||!_[J.product_id],className:"w-full bg-olivePrimary hover:bg-olivePrimary/90",children:[R?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):n.jsx(He,{className:"h-4 w-4 ml-2"}),"إرسال التقييم"]})]}):n.jsxs("div",{className:"text-center py-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[n.jsx(Et,{className:"h-5 w-5"}),n.jsx("span",{children:"تم التقييم بنجاح"})]}),J.existing_review&&n.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border",children:[n.jsx("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[1,2,3,4,5].map(Ce=>n.jsx(He,{className:`h-4 w-4 ${Ce<=J.existing_review.rating?"text-yellow-400 fill-current":"text-gray-300"}`},Ce))}),J.existing_review.comment&&n.jsx("p",{className:"text-sm text-gray-600 text-center",children:J.existing_review.comment})]})]})]},J.product_id))})})]}),Tu()]})]})]})}),n.jsx(Rn,{open:de!==null,onOpenChange:()=>X(null),children:n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"حذف التقييم"}),n.jsx(mn,{children:"هل أنت متأكد من أنك تريد حذف هذا التقييم؟ لا يمكن التراجع عن هذا الإجراء."})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"إلغاء"}),n.jsx(fn,{onClick:()=>Cu(de),disabled:re,className:"bg-red-600 hover:bg-red-700",children:re?n.jsxs(n.Fragment,{children:[n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}),"جاري الحذف..."]}):"حذف"})]})]})})]}):n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx(ae,{className:"text-center py-12",children:n.jsxs(oe,{children:[n.jsx(pi,{className:"h-24 w-24 text-red-500 mx-auto mb-6"}),n.jsx("h2",{className:"text-2xl font-semibold text-darkOlive mb-2",children:"الطلب غير موجود"}),n.jsx("p",{className:"text-darkOlive/70 mb-6",children:"لم يتم العثور على الطلب المطلوب."}),n.jsxs(V,{onClick:()=>s("/dashboard/orders"),className:"bg-olivePrimary hover:bg-olivePrimary/90",children:[n.jsx($r,{className:"h-4 w-4 ml-2"}),"العودة للطلبات"]})]})})})},QF=()=>{const e=Ve(),t=Ft(),{login:r,user:s,loading:i}=$e(),[a,o]=u.useState(""),[l,c]=u.useState(""),[d,m]=u.useState(!1),[h,p]=u.useState(!1);u.useEffect(()=>{var j,f;if(!i&&s){const w=(f=(j=t.state)==null?void 0:j.from)==null?void 0:f.pathname;if(w){e(w,{replace:!0});return}s.role==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})}},[s,i,e,t.state]);const b=async j=>{j.preventDefault(),p(!0),await r({email:a,password:l}),p(!1)};return i?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-olivePrimary mx-auto mb-4"}),n.jsx("p",{className:"text-darkOlive",children:"جاري التحميل..."})]})}):s?null:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige p-4",children:n.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:n.jsxs(ae,{className:"shadow-2xl border-olivePrimary/20",children:[n.jsxs(fe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto p-3 bg-olivePrimary/10 rounded-full w-fit mb-4",children:n.jsx(Zj,{className:"h-10 w-10 text-olivePrimary"})}),n.jsx(pe,{className:"text-3xl font-bold text-darkOlive",children:"تسجيل الدخول"}),n.jsx(nt,{className:"text-darkOlive/70",children:"مرحباً بعودتك! أدخل بياناتك للمتابعة."})]}),n.jsx("div",{className:"mx-4 mb-4 p-3 bg-lightGreen/30 border-r-4 border-olivePrimary rounded-md text-sm",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(s3,{className:"h-5 w-5 text-olivePrimary ml-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-darkOlive mb-1",children:"أمثلة للاختبار:"}),n.jsxs("p",{className:"text-darkOlive/80 mb-1",children:[n.jsx("strong",{children:"مشتري:"})," nora@example.com/ password123"]}),n.jsxs("p",{className:"text-darkOlive/80 mb-1",children:[n.jsx("strong",{children:"بائع:"})," sara@example.com / password123"]}),n.jsxs("p",{className:"text-darkOlive/80",children:[n.jsx("strong",{children:"مسؤول:"})," admin@example.com / admin123"]})]})]})}),n.jsx(oe,{children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"email",className:"text-darkOlive",children:"البريد الإلكتروني"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"email",type:"email",placeholder:"example@mail.com",value:a,onChange:j=>o(j.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"password",className:"text-darkOlive",children:"كلمة المرور"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"password",type:d?"text":"password",placeholder:"********",value:l,onChange:j=>c(j.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"}),n.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-olivePrimary/60 hover:text-olivePrimary",children:d?n.jsx(Qo,{className:"h-5 w-5"}):n.jsx(Wr,{className:"h-5 w-5"})})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(je,{to:"/forgot-password",className:"text-sm text-burntOrange hover:underline",children:"هل نسيت كلمة المرور؟"})}),n.jsx(V,{type:"submit",className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-white text-lg py-3",disabled:h,children:h?"جاري تسجيل الدخول...":"تسجيل الدخول"})]})}),n.jsxs(et,{className:"flex flex-col items-center space-y-3",children:[n.jsxs("p",{className:"text-sm text-darkOlive/80",children:["ليس لديك حساب؟"," ",n.jsx(je,{to:"/register",className:"font-medium text-olivePrimary hover:underline",children:"إنشاء حساب جديد"})]}),n.jsx(V,{variant:"outline",onClick:()=>e("/"),className:"w-full border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:"العودة إلى الصفحة الرئيسية"})]})]})})})};function ZF(e){const t=eV(e),r=u.forwardRef((s,i)=>{const{children:a,...o}=s,l=u.Children.toArray(a),c=l.find(rV);if(c){const d=c.props.children,m=l.map(h=>h===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...o,ref:i,children:u.isValidElement(d)?u.cloneElement(d,void 0,m):null})}return n.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function eV(e){const t=u.forwardRef((r,s)=>{const{children:i,...a}=r;if(u.isValidElement(i)){const o=sV(i),l=nV(a,i.props);return i.type!==u.Fragment&&(l.ref=s?Vd(s,o):o),u.cloneElement(i,l)}return u.Children.count(i)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tV=Symbol("radix.slottable");function rV(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tV}function nV(e,t){const r={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?r[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[s]=i):s==="style"?r[s]={...i,...a}:s==="className"&&(r[s]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function sV(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xx=iV.reduce((e,t)=>{const r=ZF(`Primitive.${t}`),s=u.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Nu="Checkbox",[aV,JV]=Er(Nu),[oV,Yx]=aV(Nu);function lV(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:m="on",internal_do_not_use_render:h}=e,[p,b]=Ks({prop:r,defaultProp:i??!1,onChange:c,caller:Nu}),[j,f]=u.useState(null),[w,g]=u.useState(null),x=u.useRef(!1),y=j?!!o||!!j.closest("form"):!0,N={checked:p,disabled:a,setChecked:b,control:j,setControl:f,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:Ms(i)?!1:i,isFormControl:y,bubbleInput:w,setBubbleInput:g};return n.jsx(oV,{scope:t,...N,children:cV(h)?h(N):s})}var tk="CheckboxTrigger",rk=u.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:m,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:b,bubbleInput:j}=Yx(tk,e),f=Fe(i,m),w=u.useRef(c);return u.useEffect(()=>{const g=a==null?void 0:a.form;if(g){const x=()=>h(w.current);return g.addEventListener("reset",x),()=>g.removeEventListener("reset",x)}},[a,h]),n.jsx(Xx.button,{type:"button",role:"checkbox","aria-checked":Ms(c)?"mixed":c,"aria-required":d,"data-state":ok(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:f,onKeyDown:be(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:be(r,g=>{h(x=>Ms(x)?!0:!x),j&&b&&(p.current=g.isPropagationStopped(),p.current||g.stopPropagation())})})});rk.displayName=tk;var Jx=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:m,...h}=e;return n.jsx(lV,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:s,form:m,value:c,internal_do_not_use_render:({isFormControl:p})=>n.jsxs(n.Fragment,{children:[n.jsx(rk,{...h,ref:t,__scopeCheckbox:r}),p&&n.jsx(ak,{__scopeCheckbox:r})]})})});Jx.displayName=Nu;var nk="CheckboxIndicator",sk=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...i}=e,a=Yx(nk,r);return n.jsx(xn,{present:s||Ms(a.checked)||a.checked===!0,children:n.jsx(Xx.span,{"data-state":ok(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});sk.displayName=nk;var ik="CheckboxBubbleInput",ak=u.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:m,form:h,bubbleInput:p,setBubbleInput:b}=Yx(ik,e),j=Fe(r,b),f=Lx(a),w=lu(s);u.useEffect(()=>{const x=p;if(!x)return;const y=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(y,"checked").set,_=!i.current;if(f!==a&&P){const k=new Event("click",{bubbles:_});x.indeterminate=Ms(a),P.call(x,Ms(a)?!1:a),x.dispatchEvent(k)}},[p,f,a,i]);const g=u.useRef(Ms(a)?!1:a);return n.jsx(Xx.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:d,value:m,form:h,...t,tabIndex:-1,ref:j,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ak.displayName=ik;function cV(e){return typeof e=="function"}function Ms(e){return e==="indeterminate"}function ok(e){return Ms(e)?"indeterminate":e?"checked":"unchecked"}const kf=u.forwardRef(({className:e,...t},r)=>n.jsx(Jx,{ref:r,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(sk,{className:ge("flex items-center justify-center text-current"),children:n.jsx(tr,{className:"h-4 w-4"})})}));kf.displayName=Jx.displayName;const dV=()=>{const e=Ve(),t=Ft(),[r]=vj(),{user:s,loading:i,sendEmailVerificationOTP:a}=$e(),{toast:o}=st(),[l,c]=u.useState(""),[d,m]=u.useState(""),[h,p]=u.useState(""),[b,j]=u.useState("");u.useState(r.get("role")||"buyer");const[f,w]=u.useState(!0),[g,x]=u.useState(r.get("role")==="seller"),[y,N]=u.useState(!1),[P,_]=u.useState(!1),[k,E]=u.useState(!1);u.useEffect(()=>{var R,M;if(!i&&s){const L=(M=(R=t.state)==null?void 0:R.from)==null?void 0:M.pathname;if(L){e(L,{replace:!0});return}s.role==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})}},[s,i,e,t.state]);const O=async R=>{if(R.preventDefault(),h!==b){o({variant:"destructive",title:"كلمتا المرور غير متطابقتين",description:"يرجى التأكد من تطابق كلمتي المرور."});return}if(!f&&!g){o({variant:"destructive",title:"يجب اختيار دور واحد على الأقل",description:"يرجى اختيار ما إذا كنت تريد أن تكون مشترياً أو بائعاً أو كليهما."});return}E(!0),await a(d)&&e("/verify-email",{state:{email:d,registrationData:{name:l,email:d,password:h,role:g?"seller":"buyer",is_buyer:f,is_seller:g}}}),E(!1)};return i?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-olivePrimary mx-auto mb-4"}),n.jsx("p",{className:"text-darkOlive",children:"جاري التحميل..."})]})}):s?null:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige p-4 py-12",children:n.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-lg",children:n.jsxs(ae,{className:"shadow-2xl border-olivePrimary/20",children:[n.jsxs(fe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto p-3 bg-olivePrimary/10 rounded-full w-fit mb-4",children:n.jsx(g3,{className:"h-10 w-10 text-olivePrimary"})}),n.jsx(pe,{className:"text-3xl font-bold text-darkOlive",children:"إنشاء حساب جديد"}),n.jsx(nt,{className:"text-darkOlive/70",children:"انضم إلينا اليوم واكتشف عالم الإبداع اليدوي."})]}),n.jsx(oe,{children:n.jsxs("form",{onSubmit:O,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"name",className:"text-darkOlive",children:"الاسم الكامل"}),n.jsxs("div",{className:"relative",children:[n.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"name",type:"text",placeholder:"اسمك الكامل",value:l,onChange:R=>c(R.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"email-register",className:"text-darkOlive",children:"البريد الإلكتروني"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"email-register",type:"email",placeholder:"example@mail.com",value:d,onChange:R=>m(R.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"password-register",className:"text-darkOlive",children:"كلمة المرور"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"password-register",type:y?"text":"password",placeholder:"********",value:h,onChange:R=>p(R.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"}),n.jsx("button",{type:"button",onClick:()=>N(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-olivePrimary/60 hover:text-olivePrimary",children:y?n.jsx(Qo,{className:"h-5 w-5"}):n.jsx(Wr,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"confirm-password",className:"text-darkOlive",children:"تأكيد كلمة المرور"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"confirm-password",type:P?"text":"password",placeholder:"********",value:b,onChange:R=>j(R.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"}),n.jsx("button",{type:"button",onClick:()=>_(!P),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-olivePrimary/60 hover:text-olivePrimary",children:P?n.jsx(Qo,{className:"h-5 w-5"}):n.jsx(Wr,{className:"h-5 w-5"})})]})]}),"              ",n.jsxs("div",{className:"space-y-4",children:[n.jsx(te,{className:"text-darkOlive text-base font-medium",children:"أريد أن أكون:"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-olivePrimary/20 rounded-lg hover:bg-olivePrimary/5 transition-colors",children:[n.jsx(kf,{id:"buyer",checked:f,onCheckedChange:w,className:"data-[state=checked]:bg-olivePrimary data-[state=checked]:border-olivePrimary"}),n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsx(ft,{className:"h-5 w-5 text-olivePrimary mr-3"}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"buyer",className:"text-darkOlive font-medium cursor-pointer",children:"مشتري"}),n.jsx("p",{className:"text-sm text-darkOlive/70",children:"أريد شراء المنتجات والحرف اليدوية"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-olivePrimary/20 rounded-lg hover:bg-olivePrimary/5 transition-colors",children:[n.jsx(kf,{id:"seller",checked:g,onCheckedChange:x,className:"data-[state=checked]:bg-olivePrimary data-[state=checked]:border-olivePrimary"}),n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsx(n1,{className:"h-5 w-5 text-olivePrimary mr-3"}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"seller",className:"text-darkOlive font-medium cursor-pointer",children:"بائع (حرفي)"}),n.jsx("p",{className:"text-sm text-darkOlive/70",children:"أريد بيع منتجاتي وحرفي اليدوية"})]})]})]})]}),f&&g&&n.jsx("div",{className:"p-3 bg-olivePrimary/10 rounded-lg border border-olivePrimary/20",children:n.jsx("p",{className:"text-sm text-olivePrimary",children:"✨ رائع! ستتمكن من التبديل بين دوري المشتري والبائع في أي وقت من لوحة التحكم."})})]}),n.jsx(V,{type:"submit",className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-white text-lg py-3",disabled:k,children:k?"جاري إنشاء الحساب...":"إنشاء حساب"})]})}),n.jsxs(et,{className:"flex flex-col items-center space-y-3",children:[n.jsxs("p",{className:"text-sm text-darkOlive/80",children:["لديك حساب بالفعل؟"," ",n.jsx(je,{to:"/login",className:"font-medium text-olivePrimary hover:underline",children:"تسجيل الدخول"})]}),n.jsx(V,{variant:"outline",onClick:()=>e("/"),className:"w-full border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:"العودة إلى الصفحة الرئيسية"})]})]})})})},uV=()=>{const e=Ve(),{sendPasswordResetOTP:t}=$e(),[r,s]=u.useState(""),[i,a]=u.useState(!1),o=async l=>{l.preventDefault(),a(!0),await t(r)&&e("/reset-password",{state:{email:r}}),a(!1)};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige p-4",children:n.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:n.jsxs(ae,{className:"shadow-2xl border-olivePrimary/20",children:[n.jsxs(fe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto p-3 bg-olivePrimary/10 rounded-full w-fit mb-4",children:n.jsx(o3,{className:"h-10 w-10 text-olivePrimary"})}),n.jsx(pe,{className:"text-3xl font-bold text-darkOlive",children:"استعادة كلمة المرور"}),n.jsx(nt,{className:"text-darkOlive/70",children:"أدخل بريدك الإلكتروني لتلقي رمز التحقق"})]}),n.jsx(oe,{children:n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"email",className:"text-darkOlive",children:"البريد الإلكتروني"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"email",type:"email",placeholder:"example@mail.com",value:r,onChange:l=>s(l.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"})]})]}),n.jsx(V,{type:"submit",className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-white text-lg py-3",disabled:i,children:i?"جاري الإرسال...":"إرسال رمز التحقق"})]})}),n.jsxs(et,{className:"flex flex-col items-center space-y-3",children:[n.jsxs("p",{className:"text-sm text-darkOlive/80",children:["تذكرت كلمة المرور؟"," ",n.jsx(je,{to:"/login",className:"font-medium text-olivePrimary hover:underline",children:"تسجيل الدخول"})]}),n.jsxs(V,{variant:"outline",onClick:()=>e("/"),className:"w-full border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:[n.jsx($r,{className:"ml-2 h-4 w-4"}),"العودة إلى الصفحة الرئيسية"]})]})]})})})},hV=()=>{var L;const e=Ve(),t=Ft(),{verifyPasswordResetOTP:r,resetPassword:s,sendPasswordResetOTP:i}=$e(),[a,o]=u.useState(((L=t.state)==null?void 0:L.email)||""),[l,c]=u.useState(""),[d,m]=u.useState(""),[h,p]=u.useState(""),[b,j]=u.useState(!1),[f,w]=u.useState(!1),[g,x]=u.useState(!1),[y,N]=u.useState(!1),[P,_]=u.useState(!1),[k,E]=u.useState(!1);u.useEffect(()=>{a||e("/forgot-password")},[a,e]);const O=async()=>{if(!l||l.length!==4)return;N(!0),await r(a,l)&&E(!0),N(!1)},R=async D=>{if(D.preventDefault(),d!==h||d.length<6)return;x(!0),await s(a,l,d,h)&&e("/login"),x(!1)},M=async()=>{_(!0),await i(a),_(!1)};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige p-4",children:n.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:n.jsxs(ae,{className:"shadow-2xl border-olivePrimary/20",children:[n.jsxs(fe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto p-3 bg-olivePrimary/10 rounded-full w-fit mb-4",children:n.jsx(Fr,{className:"h-10 w-10 text-olivePrimary"})}),n.jsx(pe,{className:"text-3xl font-bold text-darkOlive",children:"تغيير كلمة المرور"}),n.jsx(nt,{className:"text-darkOlive/70",children:"أدخل رمز التحقق وكلمة المرور الجديدة"})]}),n.jsx(oe,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-lightGreen/20 p-3 rounded-lg border border-olivePrimary/20",children:[n.jsx("p",{className:"text-sm text-darkOlive/80",children:"البريد الإلكتروني:"}),n.jsx("p",{className:"font-medium text-darkOlive",children:a})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"otp",className:"text-darkOlive",children:"رمز التحقق (4 أرقام)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Qj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"otp",type:"text",placeholder:"0000",value:l,onChange:D=>c(D.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,className:"pr-10 text-center text-lg letter-spacing-wider border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20",disabled:k})]}),!k&&n.jsx(V,{type:"button",onClick:O,disabled:y||l.length!==4,className:"bg-olivePrimary hover:bg-olivePrimary/90",children:y?"جاري التحقق...":"تحقق"})]}),k&&n.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[n.jsx(Fr,{className:"h-4 w-4 ml-1"}),"تم التحقق بنجاح"]})]}),!k&&n.jsx(V,{type:"button",variant:"outline",onClick:M,disabled:P,className:"w-full border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:P?"جاري الإرسال...":"إعادة إرسال رمز التحقق"})]}),k&&n.jsxs("form",{onSubmit:R,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"password",className:"text-darkOlive",children:"كلمة المرور الجديدة"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"password",type:b?"text":"password",placeholder:"********",value:d,onChange:D=>m(D.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"}),n.jsx("button",{type:"button",onClick:()=>j(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-olivePrimary/60 hover:text-olivePrimary",children:b?n.jsx(Qo,{className:"h-5 w-5"}):n.jsx(Wr,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"confirmPassword",className:"text-darkOlive",children:"تأكيد كلمة المرور"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"confirmPassword",type:f?"text":"password",placeholder:"********",value:h,onChange:D=>p(D.target.value),required:!0,className:"pr-10 border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20"}),n.jsx("button",{type:"button",onClick:()=>w(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-olivePrimary/60 hover:text-olivePrimary",children:f?n.jsx(Qo,{className:"h-5 w-5"}):n.jsx(Wr,{className:"h-5 w-5"})})]})]}),n.jsx(V,{type:"submit",className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-white text-lg py-3",disabled:g,children:g?"جاري التغيير...":"تغيير كلمة المرور"})]})]})}),n.jsxs(et,{className:"flex flex-col items-center space-y-3",children:[n.jsxs("p",{className:"text-sm text-darkOlive/80",children:["تذكرت كلمة المرور؟"," ",n.jsx(je,{to:"/login",className:"font-medium text-olivePrimary hover:underline",children:"تسجيل الدخول"})]}),n.jsxs(V,{variant:"outline",onClick:()=>e("/"),className:"w-full border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:[n.jsx($r,{className:"ml-2 h-4 w-4"}),"العودة إلى الصفحة الرئيسية"]})]})]})})})},mV=()=>{var w,g;const e=Ve(),t=Ft(),{registerWithEmailVerification:r,sendEmailVerificationOTP:s}=$e(),[i,a]=u.useState(((w=t.state)==null?void 0:w.email)||""),[o,l]=u.useState(""),[c,d]=u.useState(!1),[m,h]=u.useState(!1),[p,b]=u.useState(((g=t.state)==null?void 0:g.registrationData)||null);u.useEffect(()=>{(!i||!p)&&e("/register")},[i,p,e]);const j=async x=>{if(x.preventDefault(),!o||o.length!==4)return;d(!0);const y={...p,otp_code:o};await r(y)&&e("/dashboard"),d(!1)},f=async()=>{h(!0),await s(i),h(!1)};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige p-4",children:n.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:n.jsxs(ae,{className:"shadow-2xl border-olivePrimary/20",children:[n.jsxs(fe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto p-3 bg-olivePrimary/10 rounded-full w-fit mb-4",children:n.jsx(Et,{className:"h-10 w-10 text-olivePrimary"})}),n.jsx(pe,{className:"text-3xl font-bold text-darkOlive",children:"تأكيد البريد الإلكتروني"}),n.jsx(nt,{className:"text-darkOlive/70",children:"أدخل رمز التحقق المرسل إلى بريدك الإلكتروني"})]}),n.jsx(oe,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-lightGreen/20 p-4 rounded-lg border border-olivePrimary/20",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Jn,{className:"h-5 w-5 text-olivePrimary ml-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-darkOlive/80",children:"تم إرسال رمز التحقق إلى:"}),n.jsx("p",{className:"font-medium text-darkOlive",children:i})]})]})}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{htmlFor:"otp",className:"text-darkOlive",children:"رمز التحقق (4 أرقام)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-olivePrimary/60"}),n.jsx(he,{id:"otp",type:"text",placeholder:"0000",value:o,onChange:x=>l(x.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,className:"pr-10 text-center text-2xl letter-spacing-widest border-olivePrimary/30 focus:border-olivePrimary focus:ring-olivePrimary/20",required:!0})]}),n.jsx("p",{className:"text-sm text-darkOlive/60",children:"الرمز صالح لمدة 10 دقائق"})]}),n.jsx(V,{type:"submit",className:"w-full bg-burntOrange hover:bg-burntOrange/90 text-white text-lg py-3",disabled:c||o.length!==4,children:c?"جاري التحقق...":"تأكيد البريد الإلكتروني"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-darkOlive/80 mb-2",children:"لم تستلم الرمز؟"}),n.jsx(V,{type:"button",variant:"outline",onClick:f,disabled:m,className:"border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:m?"جاري الإرسال...":"إعادة إرسال الرمز"})]})]})}),n.jsxs(et,{className:"flex flex-col items-center space-y-3",children:[n.jsxs("p",{className:"text-sm text-darkOlive/80",children:["لديك حساب بالفعل؟"," ",n.jsx(je,{to:"/login",className:"font-medium text-olivePrimary hover:underline",children:"تسجيل الدخول"})]}),n.jsxs(V,{variant:"outline",onClick:()=>e("/register"),className:"w-full border-olivePrimary/50 text-olivePrimary hover:bg-olivePrimary hover:text-white",children:[n.jsx($r,{className:"ml-2 h-4 w-4"}),"العودة إلى التسجيل"]})]})]})})})},fV=()=>n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightBeige p-4",children:n.jsxs(Z.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,duration:.5},className:"w-full max-w-lg text-center",children:[n.jsxs(ae,{className:"shadow-2xl border-orange-200 overflow-hidden",children:[n.jsxs(fe,{className:"bg-olivePrimary p-8",children:[n.jsx(Si,{className:"h-20 w-20 text-white mx-auto mb-4"}),n.jsx(pe,{className:"text-5xl font-extrabold text-white",children:"404"}),n.jsx(nt,{className:"text-xl text-lightBeige mt-2",children:"عفواً، الصفحة التي تبحث عنها غير موجودة."})]}),n.jsxs(oe,{className:"p-8",children:[n.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"ربما تم حذف الصفحة، أو تغيير اسمها، أو أنها غير متاحة مؤقتاً."}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[n.jsx(V,{asChild:!0,size:"lg",className:"bg-primary hover:bg-primary/90",children:n.jsxs(je,{to:"/",children:[n.jsx(i3,{className:"ml-2 h-5 w-5"}),"العودة إلى الصفحة الرئيسية"]})}),n.jsx(V,{asChild:!0,variant:"outline",size:"lg",className:"border-primary text-primary hover:bg-primary/10",children:n.jsx(je,{to:"/explore",children:"استكشاف المنتجات"})})]})]})]}),n.jsxs("p",{className:"mt-8 text-sm text-gray-500",children:["إذا كنت تعتقد أن هذا خطأ، يرجى ",n.jsx(je,{to:"/contact",className:"text-primary hover:underline",children:"الاتصال بالدعم"}),"."]})]})}),Ki=({title:e,description:t,link:r,icon:s})=>n.jsx(Z.div,{whileHover:{y:-5},className:"h-full",children:n.jsxs(ae,{className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300 border-blue-200 flex flex-col",children:[n.jsxs(fe,{className:"flex-row items-center space-x-4 pb-2",children:[n.jsx("div",{className:"p-3 rounded-full bg-blue-600/10 text-blue-600",children:n.jsx(s,{className:"h-6 w-6"})}),n.jsx(pe,{className:"text-xl text-gray-700",children:e})]}),n.jsx(oe,{className:"flex-grow",children:n.jsx("p",{className:"text-sm text-gray-500",children:t})}),n.jsx(et,{children:n.jsx(V,{asChild:!0,variant:"outline",className:"w-full border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:n.jsx(je,{to:r,children:"الانتقال"})})})]})}),pV=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"مرحباً بك في لوحة تحكم المدير"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"من هنا يمكنك إدارة جميع جوانب النظام بما في ذلك التصنيفات والمنتجات والبائعين والمستخدمين والمحادثات."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(Ki,{title:"إدارة التصنيفات",description:"إضافة وتعديل وحذف تصنيفات المنتجات.",link:"/admin/categories",icon:Ls}),n.jsx(Ki,{title:"إدارة المنتجات",description:"استعراض وإدارة جميع المنتجات في النظام.",link:"/admin/products",icon:Lp}),n.jsx(Ki,{title:"إدارة البائعين",description:"الموافقة على البائعين الجدد وإدارة حساباتهم.",link:"/admin/sellers",icon:gi}),n.jsx(Ki,{title:"إدارة المستخدمين",description:"استعراض وإدارة حسابات المستخدمين.",link:"/admin/users",icon:Pi}),n.jsx(Ki,{title:"المحادثات",description:"عرض جميع المحادثات بين المستخدمين والبائعين.",link:"/admin/messages",icon:Hr}),n.jsx(Ki,{title:"إعدادات النظام",description:"تكوين إعدادات النظام العامة.",link:"/admin/settings",icon:Ds})]})]}),xV=()=>{const{notifications:e,unreadCount:t,loading:r,error:s,markAsRead:i,markAllAsRead:a,deleteNotification:o,refreshNotifications:l}=Up(),[c,d]=u.useState("all"),[m,h]=u.useState(!1),p=async()=>{h(!0),await l(),h(!1)},b=w=>({order:"bg-blue-100 text-blue-600",message:"bg-green-100 text-green-600",review:"bg-yellow-100 text-yellow-600",payment:"bg-purple-100 text-purple-600"})[w]||"bg-gray-100 text-gray-600",j=w=>({order:Ir,message:Lr,review:He,payment:an})[w]||zn,f=e.filter(w=>c==="unread"?!w.read:c==="read"?w.read:!0);return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"max-w-lg mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zn,{className:"w-6 h-6 text-burntOrange"}),n.jsx("h1",{className:"text-xl font-bold text-darkOlive",children:"الإشعارات"}),t>0&&n.jsx("span",{className:"bg-burntOrange text-white text-xs px-2 py-1 rounded-full",children:t})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:p,disabled:m,className:"p-2 text-gray-400 hover:text-burntOrange transition-colors disabled:opacity-50",title:"تحديث",children:n.jsx(va,{className:`w-5 h-5 ${m?"animate-spin":""}`})}),t>0&&n.jsx("button",{onClick:a,className:"text-sm text-burntOrange font-medium hover:text-burntOrange/80",children:"قراءة الكل"})]})]}),n.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"الكل"},{key:"unread",label:"غير مقروءة"},{key:"read",label:"مقروءة"}].map(({key:w,label:g})=>n.jsx("button",{onClick:()=>d(w),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${c===w?"bg-white text-burntOrange shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:g},w))})]})}),n.jsx("div",{className:"max-w-lg mx-auto px-4 py-4",children:r?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Re,{className:"w-8 h-8 text-burntOrange animate-spin"}),n.jsx("span",{className:"mr-3 text-gray-500",children:"جارِ تحميل الإشعارات..."})]}):s?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(zn,{className:"w-16 h-16 text-red-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-red-500 mb-2",children:"خطأ في تحميل الإشعارات"}),n.jsx("p",{className:"text-gray-400 mb-4",children:s}),n.jsx("button",{onClick:p,className:"px-4 py-2 bg-burntOrange text-white rounded-lg hover:bg-burntOrange/90 transition-colors",children:"إعادة المحاولة"})]}):f.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(zn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"لا توجد إشعارات"}),n.jsx("p",{className:"text-gray-400",children:c==="unread"?"لا توجد إشعارات غير مقروءة":"ستظهر الإشعارات هنا"})]}):n.jsx("div",{className:"space-y-3",children:f.map(w=>{const g=j(w.type);return n.jsx("div",{className:`bg-white rounded-lg border p-4 transition-all hover:shadow-md ${w.read?"border-gray-200":"border-r-4 border-r-burntOrange"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${b(w.type)}`,children:n.jsx(g,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-1",children:[n.jsx("h3",{className:`font-medium ${w.read?"text-gray-700":"text-darkOlive"}`,children:w.title}),n.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap mr-2",children:w.time})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.message}),n.jsxs("div",{className:"flex items-center gap-3",children:[!w.read&&n.jsxs("button",{onClick:()=>i(w.id),className:"flex items-center gap-1 text-xs text-burntOrange hover:text-burntOrange/80",children:[n.jsx(tr,{className:"w-3 h-3"}),"تم القراءة"]}),n.jsxs("button",{onClick:()=>o(w.id),className:"flex items-center gap-1 text-xs text-red-500 hover:text-red-600",children:[n.jsx(is,{className:"w-3 h-3"}),"حذف"]})]})]})]})},w.id)})})})]})},gV=({title:e,value:t,icon:r,color:s,description:i,path:a})=>{const o=Ve(),l=()=>{a&&o(a)};return n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:l,className:a?"cursor-pointer":"",children:n.jsxs(ae,{className:`border-${s}-500 border-t-4 shadow-lg hover:shadow-xl transition-all duration-300 ${a?"hover:scale-105 hover:bg-gray-50":""}`,children:[n.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(pe,{className:"text-sm font-medium text-gray-600",children:e}),me.createElement(r,{className:`h-5 w-5 text-${s}-500`})]}),n.jsxs(oe,{children:[n.jsx("div",{className:"text-3xl font-bold text-gray-800",children:t}),n.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:i})]})]})})},By=()=>{const{user:e}=$e(),[t,r]=u.useState([]);u.useEffect(()=>{e&&s()},[e]);const s=async()=>{try{const a=await Se.getNotifications();r(Array.isArray(a)?a.reverse():[])}catch{r([])}},i=(e==null?void 0:e.active_role)==="seller"?[{title:"إجمالي الأرباح",value:"12,500 جنيه",icon:an,color:"green",description:"+15% عن الشهر الماضي",path:"/dashboard/earnings"},{title:"الطلبات الجديدة",value:"32",icon:ft,color:"blue",description:"+5 طلبات اليوم",path:"/dashboard/orders"},{title:"إجمالي الخدمات",value:"15",icon:WR,color:"orange",description:"2 خدمة غير نشطة",path:"/dashboard/gigs"},{title:"العملاء النشطون",value:"120",icon:Pi,color:"purple",description:"متوسط تقييم 4.8",path:null}]:[{title:"إجمالي الطلبات",value:"18",icon:ft,color:"blue",description:"3 طلبات قيد التنفيذ",path:"/dashboard/orders"},{title:"المبلغ المنفق",value:"4,200 جنيه",icon:an,color:"green",description:"متوسط قيمة الطلب 233 جنيه",path:null},{title:"البائعون المفضلون",value:"5",icon:Pi,color:"purple",description:"تواصل معهم الآن",path:null},{title:"الرسائل غير المقروءة",value:"2",icon:Hr,color:"orange",description:"من ليلى حسن وكريم محمود",path:"/dashboard/messages"}];return n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsx(Z.h1,{className:"text-3xl font-bold text-gray-800",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:(e==null?void 0:e.active_role)==="seller"?"نظرة عامة على أداء متجرك":"ملخص حسابك"}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:i.map((a,o)=>n.jsx(gV,{...a},o))}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.5},children:n.jsxs(ae,{className:"shadow-lg",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-xl text-gray-700",children:"الإشعارات الأخيرة"})}),n.jsx(oe,{children:t.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"لا توجد إشعارات لعرضها."}):n.jsx("ul",{className:"space-y-3",children:t.slice(0,5).map((a,o)=>n.jsx("li",{className:`p-3 rounded-lg ${a.is_read?"bg-gray-50":"bg-gray-100 font-bold"}`,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm",children:a.message}),n.jsx("span",{className:"text-xs text-gray-400 mt-1",children:a.created_at?new Date(a.created_at).toLocaleString("ar-EG"):""})]})},a.id||o))})})]})}),n.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5},children:n.jsxs(ae,{className:"shadow-lg",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-xl text-gray-700",children:(e==null?void 0:e.active_role)==="seller"?"الخدمات الأكثر مبيعاً":"المنتجات المفضلة"})}),n.jsxs(oe,{children:[n.jsx("p",{className:"text-gray-600",children:"هنا ستظهر قائمة بالخدمات أو المنتجات."}),n.jsxs("ul",{className:"mt-4 space-y-2",children:[n.jsx("li",{className:"p-2 bg-gray-50 rounded-md",children:"مجوهرات فضية مخصصة"}),n.jsx("li",{className:"p-2 bg-gray-50 rounded-md",children:"صناديق خشبية مزخرفة"}),n.jsx("li",{className:"p-2 bg-gray-50 rounded-md",children:"وسائد مطرزة يدوياً"})]})]})]})})]})]})},vV=({status:e,statusLabel:t})=>{const s={pending:{icon:n.jsx(Ci,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-amber-100 to-amber-50 text-amber-700 border-amber-200 shadow-sm",pulse:!0},admin_approved:{icon:n.jsx(Et,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-blue-100 to-blue-50 text-blue-700 border-blue-200 shadow-sm"},seller_approved:{icon:n.jsx(Et,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-indigo-100 to-indigo-50 text-indigo-700 border-indigo-200 shadow-sm"},in_progress:{icon:n.jsx(Ir,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-purple-100 to-purple-50 text-purple-700 border-purple-200 shadow-sm",pulse:!0},work_completed:{icon:n.jsx(Ir,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-cyan-100 to-cyan-50 text-cyan-700 border-cyan-200 shadow-sm"},out_for_delivery:{icon:n.jsx(Zo,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-orange-100 to-orange-50 text-orange-700 border-orange-200 shadow-sm",pulse:!0},delivered:{icon:n.jsx(Zo,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-green-100 to-green-50 text-green-700 border-green-200 shadow-sm"},completed:{icon:n.jsx(Et,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-emerald-100 to-emerald-50 text-emerald-700 border-emerald-200 shadow-sm"},cancelled:{icon:n.jsx(y3,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-red-100 to-red-50 text-red-700 border-red-200 shadow-sm"},rejected:{icon:n.jsx(Si,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-red-100 to-red-50 text-red-700 border-red-200 shadow-sm"}}[e]||{icon:n.jsx(Ci,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-gray-100 to-gray-50 text-gray-700 border-gray-200 shadow-sm"};return n.jsxs(ye,{variant:"outline",className:`${s.className} font-medium flex items-center px-3 py-1 text-xs relative overflow-hidden ${s.pulse?"animate-pulse":""}`,children:[s.pulse&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent animate-pulse"}),n.jsxs("span",{className:"relative flex items-center",children:[s.icon,t||e]})]})},yV=()=>{const{user:e}=$e(),{toast:t}=st(),[r,s]=u.useState([]),[i,a]=u.useState(!0),[o,l]=u.useState(null),[c,d]=u.useState(null);u.useEffect(()=>{m()},[e]);const m=async()=>{if(e){a(!0),l(null);try{let x;e.active_role==="seller"?x=await ur.getSellerOrders():x=await Se.getOrders({user_orders:!0}),console.log("Orders API response:",x);const y=x.data||x;s(Array.isArray(y)?y:[])}catch(x){console.error("Error loading orders:",x),l("حدث خطأ أثناء تحميل الطلبات"),t({variant:"destructive",title:"خطأ في تحميل الطلبات",description:"حدث خطأ أثناء تحميل الطلبات. يرجى المحاولة مرة أخرى."})}finally{a(!1)}}},h=async(x,y,N)=>{d(x);try{await y(),t({variant:"success",title:"نجاح",description:N}),m()}catch(P){console.error(`Error performing action on order ${x}:`,P),t({variant:"destructive",title:"خطأ",description:P.message||"حدث خطأ غير متوقع."})}finally{d(null)}},p=x=>{h(x,()=>ur.approveOrder(x),"تمت الموافقة على الطلب بنجاح")},b=x=>{h(x,()=>ur.startWork(x),"تم بدء العمل على الطلب")},j=x=>{h(x,()=>ur.completeWork(x),"تم إكمال العمل على الطلب")},f=x=>{h(x,()=>Se.cancelOrder(x,"تم الإلغاء بواسطة المستخدم"),"تم إلغاء الطلب بنجاح")},w=x=>({cash_on_delivery:"الدفع عند الاستلام",bank_transfer:"تحويل بنكي",credit_card:"بطاقة ائتمان",vodafone_cash:"فودافون كاش",instapay:"انستاباي"})[x]||x,g=x=>x?new Date(x).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):"";return i?n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(e==null?void 0:e.active_role)==="seller"?"الطلبات الواردة":"طلباتي"}),n.jsx(ft,{className:"h-8 w-8 text-primary"})]}),n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(va,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-2 text-lg",children:"جاري تحميل الطلبات..."})]})]}):o?n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(e==null?void 0:e.active_role)==="seller"?"الطلبات الواردة":"طلباتي"}),n.jsx(ft,{className:"h-8 w-8 text-primary"})]}),n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Si,{className:"h-24 w-24 text-red-300 mx-auto mb-6"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"خطأ في تحميل الطلبات"}),n.jsx("p",{className:"text-gray-500 mb-4",children:o}),n.jsxs(V,{onClick:m,className:"bg-olivePrimary hover:bg-olivePrimary/90",children:[n.jsx(va,{className:"ml-2 h-4 w-4"}),"إعادة المحاولة"]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 p-6 md:p-8",dir:"rtl",children:n.jsxs(Z.div,{className:"max-w-7xl mx-auto space-y-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-olivePrimary/20",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 bg-olivePrimary rounded-full flex items-center justify-center shadow-lg",children:n.jsx(ft,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-olivePrimary",children:(e==null?void 0:e.active_role)==="seller"?"الطلبات الواردة":"طلباتي"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:[r.length," طلب إجمالي"]})]})]}),n.jsxs(V,{onClick:m,className:"bg-olivePrimary hover:bg-olivePrimary/90 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx(va,{className:"ml-2 h-4 w-4"}),"تحديث الطلبات"]})]})}),r.length===0?n.jsxs(Z.div,{className:"bg-white rounded-2xl shadow-lg p-12 text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[n.jsx(ft,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا توجد طلبات حالياً"}),n.jsx("p",{className:"text-gray-500",children:(e==null?void 0:e.active_role)==="seller"?"لم تتلق أي طلبات جديدة بعد.":"لم تقم بأي طلبات بعد. ابدأ التصفح!"}),(e==null?void 0:e.active_role)==="buyer"&&n.jsx(V,{asChild:!0,className:"mt-6 bg-olivePrimary hover:bg-olivePrimary/90 text-white",children:n.jsx(je,{to:"/explore",children:"استكشف المنتجات"})})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map((x,y)=>{var N;return n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},children:n.jsxs(ae,{className:"flex flex-col h-full bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[n.jsxs(fe,{className:"p-5 bg-gray-50 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(pe,{className:"text-lg font-bold text-olivePrimary",children:["طلب رقم #",x.id]}),n.jsx(vV,{status:x.status,statusLabel:x.status_label})]}),n.jsxs(nt,{className:"text-sm text-gray-500 pt-1",children:[n.jsx(Jo,{className:"inline ml-1 h-3 w-3"}),g(x.order_date)]})]}),n.jsx(oe,{className:"p-5 flex-grow",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-2 mb-2",children:[n.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:(e==null?void 0:e.active_role)==="seller"?"معلومات المشتري":"معلومات البائع"}),(e==null?void 0:e.active_role)==="seller"?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(It,{className:"ml-2 h-4 w-4 text-gray-400"}),x.customer_name]}),n.jsxs("p",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Pn,{className:"ml-2 h-4 w-4 text-gray-400"}),x.customer_phone]})]}):n.jsxs("p",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(It,{className:"ml-2 h-4 w-4 text-gray-400"}),((N=x.seller)==null?void 0:N.name)||"غير متاح"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:"المنتجات"}),x.items.map(P=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("p",{className:"text-gray-700",children:[P.product.title," (x",P.quantity,")"]}),n.jsxs("p",{className:"font-semibold text-gray-800",children:[P.subtotal," EGP"]})]},P.id))]}),n.jsx(rt,{}),n.jsxs("div",{className:"flex items-center justify-between font-bold text-lg",children:[n.jsx("span",{className:"text-gray-800",children:"الإجمالي"}),n.jsxs("span",{className:"text-olivePrimary",children:[x.total_price," EGP"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 flex items-center",children:[n.jsx(jn,{className:"ml-1 h-4 w-4"})," طريقة الدفع"]}),n.jsx("span",{className:"font-semibold",children:w(x.payment_method)})]})]})}),n.jsxs(et,{className:"flex-col items-stretch gap-2 pt-4 bg-gray-50 border-t border-gray-100 p-4",children:[n.jsx("div",{className:"flex gap-2",children:n.jsx(V,{asChild:!0,variant:"outline",size:"sm",className:"flex-grow hover:bg-olivePrimary hover:text-white transition-colors",children:n.jsxs(je,{to:`/orders/${x.id}`,className:"flex items-center",children:[n.jsx(Wr,{className:"ml-2 h-4 w-4"}),"التفاصيل"]})})}),n.jsxs("div",{className:"mt-2 space-y-2",children:[(e==null?void 0:e.active_role)==="seller"&&n.jsxs(n.Fragment,{children:[x.status==="admin_approved"&&n.jsx(V,{onClick:()=>p(x.id),disabled:c===x.id,className:"w-full bg-green-500 hover:bg-green-600 text-white",children:c===x.id?"جاري الموافقة...":"الموافقة على الطلب"}),x.status==="seller_approved"&&n.jsx(V,{onClick:()=>b(x.id),disabled:c===x.id,className:"w-full bg-blue-500 hover:bg-blue-600 text-white",children:c===x.id?"جاري البدء...":"بدء العمل"}),x.status==="in_progress"&&n.jsx(V,{onClick:()=>j(x.id),disabled:c===x.id,className:"w-full bg-purple-500 hover:bg-purple-600 text-white",children:c===x.id?"جاري الإنهاء...":"إنهاء العمل"})]}),(e==null?void 0:e.active_role)==="buyer"&&["pending","admin_approved","seller_approved","in_progress"].includes(x.status)&&n.jsx(V,{onClick:()=>f(x.id),disabled:c===x.id,variant:"destructive",className:"w-full",children:c===x.id?"جاري الإلغاء...":"إلغاء الطلب"})]})]})]})},x.id)})})]})})},bV=()=>{const{user:e}=$e(),t=Ve(),{toast:r}=st(),[s,i]=u.useState([]),[a,o]=u.useState([]),[l,c]=u.useState(!0),[d,m]=u.useState(null),[h,p]=u.useState(new Set),[b,j]=u.useState("all");u.useEffect(()=>{(async()=>{if(!e||e.active_role!=="seller"){c(!1);return}try{c(!0),m(null);const x=await ur.getSellerProducts();Array.isArray(x)?i(x):x&&Array.isArray(x.data)||x&&x.success&&Array.isArray(x.data)?i(x.data):i([])}catch(x){console.error("Error fetching seller gigs:",x),m("فشل في تحميل الخدمات. يرجى المحاولة مرة أخرى."),i([]),r({variant:"destructive",title:"خطأ في التحميل",description:"فشل في تحميل خدماتك. يرجى المحاولة مرة أخرى."})}finally{c(!1)}})()},[e,r]),u.useEffect(()=>{o(b==="all"?s:s.filter(g=>g.type===b))},[s,b]);const f=async g=>{try{p(x=>new Set([...x,g])),await ur.deleteProduct(g),i(x=>x.filter(y=>y.id!==g)),r({title:"تم حذف الخدمة",description:"تم حذف الخدمة بنجاح."})}catch(x){console.error("Error deleting gig:",x),r({variant:"destructive",title:"خطأ في الحذف",description:x.message||"فشل في حذف الخدمة. يرجى المحاولة مرة أخرى."})}finally{p(x=>{const y=new Set(x);return y.delete(g),y})}};if((e==null?void 0:e.active_role)!=="seller")return n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للبائعين فقط."}),n.jsx(V,{onClick:()=>t("/dashboard"),className:"mt-4",children:"العودة للوحة التحكم"})]});if(l)return n.jsxs("div",{className:"p-6 md:p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"خدماتي"}),n.jsxs(V,{disabled:!0,className:"bg-green-500",children:[n.jsx(js,{className:"ml-2 h-5 w-5"})," أضف خدمة جديدة"]})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Re,{className:"h-8 w-8 animate-spin text-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"جاري تحميل خدماتك..."})]})]});if(d)return n.jsxs("div",{className:"p-6 md:p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"خدماتي"}),n.jsxs(V,{onClick:()=>t("/dashboard/gigs/new"),className:"bg-green-500 hover:bg-green-600",children:[n.jsx(js,{className:"ml-2 h-5 w-5"})," أضف خدمة جديدة"]})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(pi,{className:"h-12 w-12 text-red-500 mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"خطأ في التحميل"}),n.jsx("p",{className:"text-gray-600 mb-4",children:d}),n.jsx(V,{onClick:()=>window.location.reload(),variant:"outline",children:"إعادة المحاولة"})]})]});const w=async()=>{if(!(!e||e.active_role!=="seller"))try{c(!0),m(null);const g=await ur.getSellerProducts();Array.isArray(g)?i(g):g&&Array.isArray(g.data)||g&&g.success&&Array.isArray(g.data)?i(g.data):i([]),r({title:"تم تحديث الخدمات",description:"تم تحديث قائمة خدماتك بنجاح."})}catch(g){console.error("Error refreshing gigs:",g),m("فشل في تحديث الخدمات. يرجى المحاولة مرة أخرى."),r({variant:"destructive",title:"خطأ في التحديث",description:"فشل في تحديث خدماتك. يرجى المحاولة مرة أخرى."})}finally{c(!1)}};return n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:["      ",n.jsxs(Z.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:["        ",n.jsx("div",{children:n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"خدماتي"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(vf,{children:[n.jsx(yf,{asChild:!0,children:n.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[n.jsx(ui,{className:"h-4 w-4"}),b==="all"?"الكل":b==="gig"?"خدمات/حرف":"منتجات"]})}),n.jsxs(yd,{align:"end",children:[n.jsx(bd,{children:"تصفية حسب النوع"}),n.jsx(Ro,{}),n.jsxs(bn,{onClick:()=>j("all"),children:["الكل ",b==="all"&&"✓"]}),n.jsxs(bn,{onClick:()=>j("gig"),children:["خدمات/حرف ",b==="gig"&&"✓"]}),n.jsxs(bn,{onClick:()=>j("product"),children:["منتجات ",b==="product"&&"✓"]})]})]}),n.jsxs(V,{onClick:w,variant:"outline",className:"flex items-center gap-2",disabled:l,children:[n.jsx(va,{className:`h-4 w-4 ${l?"animate-spin":""}`}),"تحديث"]}),n.jsxs(V,{onClick:()=>t("/dashboard/gigs/new"),className:"bg-green-500 hover:bg-green-600",children:[n.jsx(js,{className:"ml-2 h-5 w-5"})," أضف خدمة جديدة"]})]})]}),a.length===0?n.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[n.jsx(ft,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:s.length===0?"ليس لديك خدمات معروضة بعد":"لا توجد خدمات تطابق الفلتر المحدد"}),n.jsx("p",{className:"text-gray-500",children:s.length===0?"ابدأ بإضافة خدماتك ليراها العملاء!":"اختر فلتر مختلف لعرض الخدمات المتاحة."}),s.length===0&&n.jsxs(V,{onClick:()=>t("/dashboard/gigs/new"),className:"mt-6 bg-olivePrimary hover:bg-olivePrimary/90 text-white",children:[n.jsx(js,{className:"ml-2 h-4 w-4"})," أضف خدمتك الأولى"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((g,x)=>n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},children:["              ",n.jsxs(ae,{className:"shadow-lg hover:shadow-xl transition-shadow flex flex-col h-full border-lightBeige/50",children:[n.jsxs("div",{className:"relative h-48",children:[n.jsx("img",{src:(()=>{if(!g.images||!g.images.length)return"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea";const y=g.images[0];return typeof y=="string"?y:y&&typeof y=="object"&&y.image_url?y.image_url.startsWith("http")?y.image_url:`https://handy3.abanoubsamir.com/backend/public/storage/${y.image_url}`:y instanceof File?URL.createObjectURL(y):"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea"})(),alt:g.title,className:"w-full h-full object-cover"}),n.jsx(ye,{variant:"secondary",className:"absolute top-2 right-2 bg-olivePrimary text-white",children:g.category_name||g.category||"غير محدد"}),n.jsx(ye,{variant:"outline",className:`absolute top-2 left-2 ${g.type==="product"?"bg-amber-100 text-amber-800 border-amber-200":"bg-blue-100 text-blue-800 border-blue-200"}`,children:g.type==="product"?"منتج":"خدمة/حرفة"})]}),n.jsxs(fe,{className:"pb-2",children:[n.jsx(pe,{className:"text-lg font-semibold text-gray-800 h-14 overflow-hidden",children:g.title}),n.jsxs(nt,{className:"text-sm text-primary font-bold",children:[g.price," جنيه"]})]}),n.jsx(oe,{className:"flex-grow space-y-2 text-sm",children:n.jsx("div",{className:"flex items-center text-gray-600",children:n.jsx(ye,{variant:g.status==="active"?"default":"secondary",className:"text-xs",children:g.status==="active"?"نشط":g.status==="pending"?"قيد المراجعة":"غير نشط"})})}),n.jsxs(et,{className:"grid grid-cols-2 gap-2 pt-4 border-t",children:["                  ",n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>t(`/dashboard/gigs/edit/${g.id}`),className:"flex items-center",children:[n.jsx(Kd,{className:"ml-1 h-4 w-4"})," تعديل"]}),n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsxs(V,{variant:"destructive",size:"sm",disabled:h.has(g.id),children:[h.has(g.id)?n.jsx(Re,{className:"ml-1 h-4 w-4 animate-spin"}):n.jsx(is,{className:"ml-1 h-4 w-4"}),"حذف"]})}),"                    ",n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"هل أنت متأكد من حذف هذه الخدمة؟"}),n.jsxs(mn,{className:"space-y-2",children:[n.jsxs("p",{children:['لا يمكن التراجع عن هذا الإجراء. سيتم حذف الخدمة "',g.title,'" نهائياً.']}),n.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md",children:[n.jsx("p",{className:"text-sm text-yellow-800",children:n.jsx("strong",{children:"سيتم حذف:"})}),n.jsxs("ul",{className:"text-sm text-yellow-700 mt-1 list-disc list-inside",children:[n.jsx("li",{children:"جميع صور الخدمة"}),n.jsx("li",{children:"تفاصيل الخدمة والوصف"}),n.jsx("li",{children:"الكلمات المفتاحية المرتبطة"})]})]})]})]}),n.jsxs(un,{children:[n.jsx(pn,{disabled:h.has(g.id),children:"إلغاء"}),n.jsx(fn,{onClick:()=>f(g.id),className:"bg-destructive hover:bg-destructive/90",disabled:h.has(g.id),children:h.has(g.id)?n.jsxs(n.Fragment,{children:[n.jsx(Re,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري الحذف..."]}):"حذف نهائياً"})]})]})]})]})]})]},g.id))})]})},lo={totalRevenue:12500.75,pendingClearance:1500,withdrawn:8e3,availableForWithdrawal:3000.75,monthlyBreakdown:[{month:"يناير",earnings:1200},{month:"فبراير",earnings:1500},{month:"مارس",earnings:1800},{month:"أبريل",earnings:1300},{month:"مايو",earnings:2e3}]},wV=()=>{const{user:e}=$e(),t=Ve();return(e==null?void 0:e.active_role)!=="seller"?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للبائعين فقط."}),n.jsx(V,{onClick:()=>t("/dashboard"),className:"mt-4",children:"العودة للوحة التحكم"})]}):n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs(Z.div,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"الأرباح"}),n.jsx("p",{className:"text-gray-500",children:"تابع إيراداتك وقم بإدارة عمليات السحب."})]}),n.jsxs(V,{className:"mt-4 sm:mt-0 bg-green-500 hover:bg-green-600",children:[n.jsx(an,{className:"ml-2 h-5 w-5"})," سحب الأرباح"]})]}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{title:"إجمالي الإيرادات",value:`${lo.totalRevenue.toFixed(2)} جنيه`,icon:p3,color:"blue"},{title:"قيد التحصيل",value:`${lo.pendingClearance.toFixed(2)} جنيه`,icon:Ci,color:"orange"},{title:"تم سحبها",value:`${lo.withdrawn.toFixed(2)} جنيه`,icon:Wv,color:"purple"},{title:"متاح للسحب",value:`${lo.availableForWithdrawal.toFixed(2)} جنيه`,icon:an,color:"green"}].map((r,s)=>n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05,duration:.4},children:n.jsxs(ae,{className:`border-t-4 border-${r.color}-500 shadow-lg`,children:[n.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(pe,{className:"text-sm font-medium text-gray-600",children:r.title}),me.createElement(r.icon,{className:`h-5 w-5 text-${r.color}-500`})]}),n.jsx(oe,{children:n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:r.value})})]})},s))}),n.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:n.jsxs(ae,{className:"shadow-xl",children:[n.jsxs(fe,{className:"flex flex-col sm:flex-row justify-between sm:items-center",children:[n.jsxs("div",{children:[n.jsx(pe,{className:"text-xl text-gray-700",children:"ملخص الأرباح الشهري"}),n.jsx(nt,{children:"عرض تفصيلي لأرباحك خلال الأشهر الماضية."})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:[n.jsxs($t,{defaultValue:"last_6_months",children:[n.jsx(Tt,{className:"w-[180px]",children:n.jsx(_t,{placeholder:"اختر الفترة"})}),n.jsxs(Rt,{children:[n.jsx(Ne,{value:"last_3_months",children:"آخر 3 أشهر"}),n.jsx(Ne,{value:"last_6_months",children:"آخر 6 أشهر"}),n.jsx(Ne,{value:"this_year",children:"هذا العام"})]})]}),n.jsxs(V,{variant:"outline",children:[n.jsx(Wv,{className:"ml-2 h-4 w-4"})," تصدير التقرير"]})]})]}),n.jsxs(oe,{children:[n.jsx("div",{className:"h-72 bg-gray-100 rounded-md flex items-center justify-center",children:n.jsx("p",{className:"text-gray-500",children:" (مخطط بياني للأرباح هنا)"})}),n.jsx("div",{className:"mt-6 space-y-3",children:lo.monthlyBreakdown.slice(0,3).map(r=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition",children:[n.jsx("span",{className:"font-medium text-gray-700",children:r.month}),n.jsxs("span",{className:"font-semibold text-green-600",children:[r.earnings.toFixed(2)," جنيه"]})]},r.month))})]})]})})]})},jV=()=>{const e=Ve(),{user:t}=$e(),{conversations:r,setActiveConversation:s}=as(),i=r.slice(0,5),a=o=>{s(o),e("/chat")};return n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs(Z.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"الرسائل"}),n.jsxs(V,{onClick:()=>e("/chat"),className:"bg-burntOrange hover:bg-burntOrange/90 text-white",children:[n.jsx(Lr,{className:"ml-2 h-5 w-5"})," عرض كل الرسائل"]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(ae,{className:"border-t-4 border-blue-500 shadow-lg",children:[n.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(pe,{className:"text-sm font-medium text-gray-600",children:"إجمالي المحادثات"}),n.jsx(Pi,{className:"h-5 w-5 text-blue-500"})]}),n.jsx(oe,{children:n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:r.length})})]})}),n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:n.jsxs(ae,{className:"border-t-4 border-orange-500 shadow-lg",children:[n.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(pe,{className:"text-sm font-medium text-gray-600",children:"رسائل غير مقروءة"}),n.jsx(Lr,{className:"h-5 w-5 text-burntOrange"})]}),n.jsx(oe,{children:n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:r.reduce((o,l)=>o+l.unreadCount,0)})})]})}),n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsxs(ae,{className:"border-t-4 border-gray-500 shadow-lg",children:[n.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(pe,{className:"text-sm font-medium text-gray-600",children:"محادثات مؤرشفة"}),n.jsx(zR,{className:"h-5 w-5 text-gray-500"})]}),n.jsx(oe,{children:n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"0"})})]})})]}),n.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:n.jsxs(ae,{className:"shadow-xl",children:[n.jsxs(fe,{children:[n.jsx(pe,{className:"text-xl text-gray-700",children:"أحدث الرسائل"}),n.jsx(nt,{children:"نظرة سريعة على أحدث المحادثات النشطة."})]}),n.jsx(oe,{children:i.length>0?n.jsx("ul",{className:"space-y-4",children:i.map(o=>n.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition cursor-pointer",onClick:()=>a(o.id),children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs(qt,{className:"h-10 w-10 ml-3",children:[n.jsx(rr,{src:o.participant.avatar}),n.jsx(Kt,{children:o.participant.name.charAt(0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:o.participant.name}),o.lastMessage&&n.jsxs("p",{className:"text-sm text-gray-500 truncate max-w-xs",dir:"rtl",children:[o.lastMessage.senderId===(t==null?void 0:t.id)?"أنت: ":"",o.lastMessage.text]})]})]}),n.jsxs("div",{className:"text-right",children:[o.lastMessage&&n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:new Date(o.lastMessage.timestamp).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})}),o.unreadCount>0&&n.jsx(ye,{className:"bg-primary text-primary-foreground",children:o.unreadCount})]})]},o.id))}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"لا توجد رسائل لعرضها."})})]})})]})},mc=({title:e,description:t,icon:r,children:s})=>n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs(ae,{className:"shadow-lg border-orange-100",children:[n.jsxs(fe,{className:"flex flex-row items-start space-x-4 space-x-reverse pb-4",children:[me.createElement(r,{className:"h-8 w-8 text-primary mt-1"}),n.jsxs("div",{children:[n.jsx(pe,{className:"text-xl text-gray-800",children:e}),n.jsx(nt,{className:"text-gray-500",children:t})]})]}),n.jsx(oe,{children:s})]})}),NV=()=>{const{user:e,updateProfile:t,changePassword:r,uploadProfileImage:s}=$e(),{toast:i}=st(),[a,o]=u.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",bio:(e==null?void 0:e.bio)||"",avatarUrl:(e==null?void 0:e.avatar)||"",phone:(e==null?void 0:e.phone)||"",skills:(e==null?void 0:e.skills)||[]}),[l,c]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,m]=u.useState(""),[h,p]=u.useState(null),[b,j]=u.useState((e==null?void 0:e.avatar)||null),[f,w]=u.useState(!1),g=O=>{o({...a,[O.target.name]:O.target.value})},x=O=>{const R=O.target.files[0];if(R){if(!R.type.startsWith("image/")){i({variant:"destructive",title:"خطأ",description:"يرجى اختيار ملف صورة صالح."});return}if(R.size>5*1024*1024){i({variant:"destructive",title:"خطأ",description:"حجم الصورة يجب أن يكون أقل من 5 ميجابايت."});return}p(R);const M=new FileReader;M.onload=L=>{j(L.target.result)},M.readAsDataURL(R)}},y=async()=>{if(h){w(!0);try{const O=await s(h);O.success&&(p(null),j(O.data.avatar),o(R=>({...R,avatarUrl:O.data.avatar})))}catch(O){console.error("Avatar upload failed:",O)}finally{w(!1)}}},N=O=>{c({...l,[O.target.name]:O.target.value})},P=()=>{d.trim()!==""&&(a.skills.includes(d.trim())||o({...a,skills:[...a.skills,d.trim()]}),m(""))},_=O=>{o({...a,skills:a.skills.filter(R=>R!==O)})},k=async O=>{if(O.preventDefault(),!a.name||!a.email){i({variant:"destructive",title:"خطأ",description:"الاسم والبريد الإلكتروني حقول إلزامية."});return}const R=await t({name:a.name,email:a.email,bio:a.bio,avatar:a.avatarUrl,phone:a.phone,skills:a.skills});(e==null?void 0:e.active_role)==="seller"&&(R.skills=a.skills),await t(R)&&i({title:"تم تحديث الملف الشخصي",description:"تم حفظ تغييرات ملفك الشخصي بنجاح."})},E=async O=>{if(O.preventDefault(),l.newPassword!==l.confirmPassword){i({variant:"destructive",title:"خطأ",description:"كلمتا المرور الجديدتان غير متطابقتين."});return}if(l.newPassword.length<6){i({variant:"destructive",title:"خطأ",description:"يجب أن تتكون كلمة المرور الجديدة من 6 أحرف على الأقل."});return}await r({currentPassword:l.currentPassword,newPassword:l.newPassword,confirmPassword:l.confirmPassword})&&(c({currentPassword:"",newPassword:"",confirmPassword:""}),i({title:"تم تحديث كلمة المرور",description:"تم تغيير كلمة المرور بنجاح."}))};return n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsx(Z.h1,{className:"text-3xl font-bold text-gray-800",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:"إعدادات الحساب"}),n.jsx(mc,{title:"الملف الشخصي",description:"تحديث معلوماتك الشخصية وصورة العرض.",icon:It,children:n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"name",children:"الاسم الكامل"}),n.jsx(he,{id:"name",name:"name",value:a.name,onChange:g})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"email",children:"البريد الإلكتروني"}),n.jsx(he,{id:"email",name:"email",type:"email",value:a.email,onChange:g})]})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"bio",children:"نبذة تعريفية"}),n.jsx(jt,{id:"bio",name:"bio",value:a.bio,onChange:g,rows:3,placeholder:"أخبرنا المزيد عنك..."})]}),n.jsxs("div",{children:[n.jsx(te,{children:"صورة الملف الشخصي"}),n.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse mt-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:b||"https://avatar.iran.liara.run/public/65",alt:"معاينة الصورة الشخصية",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-300"}),h&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"✓"})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(he,{id:"avatar",type:"file",accept:"image/*",onChange:x,className:"hidden"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{htmlFor:"avatar",className:"cursor-pointer bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"اختيار صورة"}),h&&n.jsx(V,{type:"button",onClick:y,disabled:f,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 text-sm",children:f?"جاري الرفع...":"رفع الصورة"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"يرجى اختيار صورة بصيغة JPG، PNG أو GIF. الحد الأقصى: 5 ميجابايت"})]})]})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"phone",children:"رقم الهاتف"}),n.jsx(he,{id:"phone",name:"phone",value:a.phone,onChange:g,placeholder:"مثال: +201234567890"})]}),(e==null?void 0:e.active_role)==="seller"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(te,{children:"المهارات"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.skills.map((O,R)=>n.jsxs("div",{className:"bg-gray-100 text-gray-800 px-3 py-1 rounded-full flex items-center",children:[n.jsx("span",{children:O}),n.jsx("button",{type:"button",className:"ml-2 text-gray-500 hover:text-red-500",onClick:()=>_(O),children:"×"})]},R))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(he,{placeholder:"أضف مهارة جديدة",value:d,onChange:O=>m(O.target.value),onKeyPress:O=>O.key==="Enter"&&(O.preventDefault(),P())}),n.jsx(V,{type:"button",onClick:P,className:"bg-gray-200 hover:bg-gray-300 text-gray-800",children:"إضافة"})]})]}),n.jsxs(V,{type:"submit",className:"bg-burntOrange hover:bg-burntOrange/90 text-white",children:[n.jsx(Nn,{className:"ml-2 h-4 w-4"})," حفظ تغييرات الملف الشخصي"]})]})}),n.jsx(rt,{}),n.jsx(mc,{title:"الأمان وكلمة المرور",description:"تغيير كلمة المرور الخاصة بك.",icon:Ta,children:n.jsxs("form",{onSubmit:E,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"currentPassword",children:"كلمة المرور الحالية"}),n.jsx(he,{id:"currentPassword",name:"currentPassword",type:"password",value:l.currentPassword,onChange:N})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"newPassword",children:"كلمة المرور الجديدة"}),n.jsx(he,{id:"newPassword",name:"newPassword",type:"password",value:l.newPassword,onChange:N})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور الجديدة"}),n.jsx(he,{id:"confirmPassword",name:"confirmPassword",type:"password",value:l.confirmPassword,onChange:N})]})]}),n.jsxs(V,{type:"submit",className:"bg-blue-500 hover:bg-blue-600",children:[n.jsx(Nn,{className:"ml-2 h-4 w-4"})," تغيير كلمة المرور"]})]})}),n.jsx(rt,{}),n.jsx(mc,{title:"الإشعارات",description:"إدارة تفضيلات الإشعارات الخاصة بك.",icon:zn,children:n.jsx("p",{className:"text-gray-600",children:"سيتم إضافة إعدادات الإشعارات قريباً."})}),(e==null?void 0:e.active_role)==="seller"&&n.jsxs(n.Fragment,{children:[n.jsx(rt,{}),n.jsx(mc,{title:"إعدادات الدفع",description:"إدارة طرق سحب الأرباح.",icon:jn,children:n.jsx("p",{className:"text-gray-600",children:"سيتم إضافة إعدادات الدفع للبائعين قريباً."})})]})]})},SV=()=>{const e=Ve(),{toast:t}=st(),{user:r}=$e(),[s,i]=u.useState([]),[a,o]=u.useState(!0),[l,c]=u.useState(null),[d,m]=u.useState([]),[h,p]=u.useState(!1),[b,j]=u.useState(null),[f,w]=u.useState({title:"",description:"",price:"",category:"",tags:"",deliveryTime:"",images:[],type:"gig"}),[g,x]=u.useState([]),[y,N]=u.useState(!1);u.useEffect(()=>{(async()=>{let M=!0;o(!0),c(null);try{const L=await Se.getCategories();if(!M)return;if(Array.isArray(L))i(L);else if(L&&Array.isArray(L.data))i(L.data);else if(L&&Array.isArray(L.categories))i(L.categories);else if(L&&L.success&&Array.isArray(L.data))i(L.data);else throw console.error("Invalid categories response structure:",L),new Error("استجابة غير صحيحة من الخادم للتصنيفات")}catch(L){console.error("Error loading categories:",L),M&&(c(L.message||"فشل في تحميل التصنيفات"),i([]))}finally{M&&o(!1)}return()=>{M=!1}})()},[]),u.useEffect(()=>{(async()=>{if(!(!r||r.active_role!=="seller")){p(!0),j(null);try{const M=await ur.getSellerProducts();Array.isArray(M)?m(M):M&&Array.isArray(M.data)||M&&M.success&&Array.isArray(M.data)?m(M.data):m([])}catch(M){console.error("Error fetching seller gigs:",M),j("فشل في تحميل الخدمات"),m([])}finally{p(!1)}}})()},[r]);const P=R=>{const{name:M,value:L}=R.target;w(D=>({...D,[M]:L}))},_=R=>{w(M=>({...M,category:R}))},k=R=>{const M=Array.from(R.target.files);w(D=>({...D,images:[...D.images,...M].slice(0,5)}));const L=M.map(D=>URL.createObjectURL(D));x(D=>[...D,...L].slice(0,5))},E=R=>{w(M=>({...M,images:M.images.filter((L,D)=>D!==R)})),x(M=>M.filter((L,D)=>D!==R))},O=async R=>{if(R.preventDefault(),!r||r.active_role!=="seller"){t({variant:"destructive",title:"غير مصرح به",description:"يجب أن تكون في وضع البائع لإنشاء خدمة."});return}if(!f.title||!f.description||!f.price||!f.category){t({variant:"destructive",title:"حقول ناقصة",description:"يرجى ملء جميع الحقول الإلزامية."});return}N(!0);try{const M=await ur.createProduct({title:f.title,description:f.description,price:f.price,category_id:f.category,delivery_time:f.deliveryTime,type:f.type,tags:f.tags.split(",").map(L=>L.trim()).filter(L=>L),images:f.images});t({title:"تم إنشاء الخدمة بنجاح!",description:`خدمة "${f.title}" أصبحت جاهزة.`}),m(L=>[M,...L]),w({title:"",description:"",price:"",category:"",tags:"",deliveryTime:"",images:[],type:"gig"}),x([]),e("/dashboard/gigs")}catch(M){t({variant:"destructive",title:"خطأ في الإنشاء",description:M.message})}finally{N(!1)}};return(r==null?void 0:r.active_role)!=="seller"?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للبائعين فقط."}),n.jsx(V,{onClick:()=>e("/dashboard"),className:"mt-4",children:"العودة للوحة التحكم"})]}):n.jsxs("div",{className:"p-6 md:p-8",children:[n.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إنشاء خدمة جديدة"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["لديك ",d.length," خدمة منشورة"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(V,{variant:"outline",onClick:()=>e("/dashboard/gigs"),className:"flex items-center gap-2",children:[n.jsx(Wr,{className:"h-4 w-4"}),"عرض خدماتي"]}),n.jsx(js,{className:"h-8 w-8 text-primary"})]})]}),d.length>0&&n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"خدماتك الحالية"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[d.slice(0,4).map(R=>n.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[n.jsx("h3",{className:"font-medium text-gray-800 truncate",children:R.title}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[R.price," جنيه"]}),n.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded mt-2 inline-block",children:R.type==="gig"?"خدمة/حرفة":"منتج"})]},R.id)),d.length>4&&n.jsx("div",{className:"bg-gray-50 border rounded-lg p-4 flex items-center justify-center",children:n.jsxs("span",{className:"text-gray-500 text-sm",children:["+",d.length-4," خدمة أخرى"]})})]})]}),n.jsx("form",{onSubmit:O,children:n.jsx(ae,{className:"shadow-xl border-orange-200",children:n.jsxs(oe,{className:"p-6 space-y-6",children:[n.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[n.jsxs(fe,{className:"px-0 pt-0 pb-4",children:[n.jsx(pe,{className:"text-xl text-gray-700",children:"المعلومات الأساسية"}),n.jsx(nt,{children:"صف خدمتك بوضوح لجذب العملاء."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"title",className:"flex items-center",children:[n.jsx(br,{className:"ml-2 h-4 w-4 text-gray-500"}),"عنوان الخدمة"]}),n.jsx(he,{id:"title",name:"title",value:f.title,onChange:P,placeholder:"مثال: تصميم شعار احترافي لشركتك",required:!0})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"description",className:"flex items-center",children:[n.jsx(br,{className:"ml-2 h-4 w-4 text-gray-500"}),"وصف الخدمة"]}),n.jsx(jt,{id:"description",name:"description",value:f.description,onChange:P,rows:5,placeholder:"اشرح بالتفصيل ما تقدمه في هذه الخدمة...",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"category",className:"flex items-center",children:[n.jsx(Ls,{className:"ml-2 h-4 w-4 text-gray-500"}),"التصنيف"]}),n.jsxs($t,{onValueChange:_,value:f.category,required:!0,dir:"rtl",disabled:a||l,children:[n.jsxs(Tt,{id:"category",dir:"rtl",children:[n.jsx(_t,{placeholder:a?"جاري تحميل التصنيفات...":l?"خطأ في تحميل التصنيفات":"اختر تصنيف الخدمة",dir:"rtl"}),a&&n.jsx(Re,{className:"h-4 w-4 animate-spin"})]}),n.jsx(Rt,{dir:"rtl",children:s.length>0?s.map(R=>n.jsx(Ne,{value:String(R.id||R._id),dir:"rtl",children:R.name||R.title||"تصنيف غير محدد"},R.id||R._id)):!a&&!l&&n.jsx(Ne,{value:"no-categories",disabled:!0,dir:"rtl",children:"لا توجد تصنيفات متاحة"})})]}),!a&&!l&&s.length===0&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"لا توجد تصنيفات متاحة حالياً"})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"price",className:"flex items-center",children:[n.jsx(an,{className:"ml-2 h-4 w-4 text-gray-500"}),"السعر (بالجنيه)"]}),n.jsx(he,{id:"price",name:"price",type:"number",value:f.price,onChange:P,placeholder:"مثال: 150",required:!0,min:"1"})]})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"tags",className:"flex items-center",children:[n.jsx(Ls,{className:"ml-2 h-4 w-4 text-gray-500"}),"الكلمات المفتاحية (مفصولة بفاصلة)"]}),n.jsx(he,{id:"tags",name:"tags",value:f.tags,onChange:P,placeholder:"مثال: تصميم, شعار, هوية بصرية"})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"deliveryTime",className:"flex items-center",children:[n.jsx(Ci,{className:"ml-2 h-4 w-4 text-gray-500"}),"مدة التسليم المتوقعة"]}),n.jsx(he,{id:"deliveryTime",name:"deliveryTime",value:f.deliveryTime,onChange:P,placeholder:"مثال: 3-5 أيام عمل"})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"type",className:"flex items-center",children:[n.jsx(br,{className:"ml-2 h-4 w-4 text-gray-500"}),"نوع الخدمة"]}),n.jsxs($t,{id:"type",value:f.type,onValueChange:R=>w(M=>({...M,type:R})),required:!0,dir:"rtl",children:[n.jsx(Tt,{dir:"rtl",children:n.jsx(_t,{placeholder:"اختر نوع الخدمة",dir:"rtl"})}),n.jsxs(Rt,{dir:"rtl",children:[n.jsx(Ne,{value:"gig",dir:"rtl",children:"خدمة/حرفة"}),n.jsx(Ne,{value:"product",dir:"rtl",children:"منتج قابل للبيع"})]})]})]})]})]}),n.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[n.jsxs(fe,{className:"px-0 pt-6 pb-4",children:[n.jsx(pe,{className:"text-xl text-gray-700",children:"صور الخدمة"}),n.jsx(nt,{children:"أضف صورًا عالية الجودة تعرض خدمتك (حتى 5 صور)."})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"images",className:"flex items-center cursor-pointer border-2 border-dashed border-gray-300 rounded-md p-6 justify-center hover:border-primary transition-colors",children:[n.jsx(Ba,{className:"ml-2 h-8 w-8 text-gray-400"}),n.jsx("span",{className:"text-gray-500",children:"انقر هنا لاختيار الصور"})]}),n.jsx(he,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:k,className:"hidden"}),g.length>0&&n.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:g.map((R,M)=>n.jsxs("div",{className:"relative group aspect-square",children:[n.jsx("img",{src:R||"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea",alt:`معاينة ${M+1}`,className:"w-full h-full object-cover rounded-md shadow"}),n.jsx(V,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>E(M),children:n.jsx(is,{className:"h-3 w-3"})})]},M))})]})]}),n.jsx(Z.div,{className:"pt-6 flex justify-end",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:n.jsx(V,{type:"submit",size:"lg",className:"bg-green-500 hover:bg-green-600",disabled:y,children:y?"جاري النشر...":n.jsxs(n.Fragment,{children:[n.jsx(Nn,{className:"ml-2 h-5 w-5"})," نشر الخدمة"]})})})]})})})]})},Uy=({children:e,value:t,onValueChange:r,...s})=>n.jsx($t,{dir:"rtl",value:t,onValueChange:r,...s,children:e}),Wy=({children:e,...t})=>n.jsx(Tt,{className:"text-right",...t,children:e}),Hy=({children:e,...t})=>n.jsx(Rt,{align:"end",className:"rtl-select-content",...t,children:e}),fc=({children:e,...t})=>n.jsx(Ne,{className:"text-right",...t,children:e}),CV=()=>{const{gigId:e}=za(),t=Ve(),{toast:r}=st(),{user:s}=$e(),[i,a]=u.useState(null),[o,l]=u.useState([]),[c,d]=u.useState(!1),[m,h]=u.useState([]),[p,b]=u.useState(!1);u.useEffect(()=>{(async()=>{try{const P=await ie("listcategories");Array.isArray(P)?h(P):P&&Array.isArray(P.data)||P&&P.success&&Array.isArray(P.data)?h(P.data):(console.error("Invalid categories response structure:",P),h([]))}catch(P){console.error("Error loading categories:",P),r({variant:"destructive",title:"خطأ في تحميل التصنيفات",description:P.message||"فشل في تحميل التصنيفات"}),h([])}})()},[r]),u.useEffect(()=>{(async()=>{if(!(!s||s.active_role!=="seller")){d(!0);try{const P=await ur.getProductById(e);if(P&&(P.data||P)){const _=P.data||P,k=Array.isArray(_.tags)?_.tags.map(O=>typeof O=="object"&&O.tag_name?O.tag_name:O).join(", "):"",E=Array.isArray(_.images)?_.images.map(O=>typeof O=="string"?O:O&&O.image_url?O.image_url.startsWith("http")?O.image_url:`https://handy3.abanoubsamir.com/backend/public/storage/${O.image_url}`:null).filter(Boolean):[];a({..._,category:_.category_id||_.category&&_.category.id,price:_.price?_.price.toString():"0",tags:k,deliveryTime:_.delivery_time||"",type:_.type||"gig"}),l(E)}else r({variant:"destructive",title:"خطأ في تحميل البيانات",description:"لم يتم العثور على الخدمة المطلوبة."}),t("/dashboard/gigs")}catch(P){console.error("Error fetching gig details:",P),r({variant:"destructive",title:"خطأ في تحميل البيانات",description:P.message||"فشل في تحميل تفاصيل الخدمة."}),t("/dashboard/gigs")}finally{d(!1)}}})()},[e,s,t,r]);const j=N=>{const{name:P,value:_}=N.target;a(k=>({...k,[P]:_}))},f=N=>{a(P=>({...P,category:N}))},w=N=>{a(P=>({...P,type:N}))},g=N=>{const P=Array.from(N.target.files);if(!P.length)return;if(o.length+P.length>5){r({variant:"destructive",title:"الحد الأقصى للصور",description:"يمكنك إضافة 5 صور كحد أقصى. يرجى حذف بعض الصور أولاً."});return}a(k=>{const E=Array.isArray(k.images)?[...k.images]:[];return{...k,images:[...E,...P].slice(0,5),hasNewImages:!0}});const _=P.map(k=>URL.createObjectURL(k));l(k=>[...k,..._].slice(0,5))},x=N=>{l(_=>{const k=[..._];return k.splice(N,1),k}),a(_=>{const k=Array.isArray(_.images)?[..._.images]:[];return N<k.length&&k.splice(N,1),{..._,images:k}});const P=o[N];P&&typeof P=="string"&&P.startsWith("blob:")&&URL.revokeObjectURL(P)},y=async N=>{if(N.preventDefault(),!!i){if(!i.title||!i.title.trim()){r({variant:"destructive",title:"حقل العنوان مطلوب",description:"يرجى إدخال عنوان للخدمة."});return}if(!i.description||!i.description.trim()){r({variant:"destructive",title:"حقل الوصف مطلوب",description:"يرجى إدخال وصف للخدمة."});return}if(!i.price||parseFloat(i.price)<=0){r({variant:"destructive",title:"السعر غير صحيح",description:"يرجى إدخال سعر صحيح للخدمة."});return}if(!i.category){r({variant:"destructive",title:"التصنيف مطلوب",description:"يرجى اختيار تصنيف للخدمة."});return}if(o.length===0){r({variant:"destructive",title:"الصور مطلوبة",description:"يرجى إضافة صورة واحدة على الأقل للخدمة."});return}b(!0);try{const P={title:i.title,description:i.description,price:parseFloat(i.price),category_id:i.category,tags:i.tags.split(",").map(E=>E.trim()).filter(E=>E),delivery_time:i.deliveryTime,type:i.type||"gig"},_=[],k=[];i.images&&Array.isArray(i.images)&&i.images.forEach(E=>{E instanceof File&&_.push(E)}),o.forEach(E=>{if(typeof E=="string"&&!E.startsWith("blob:")){let O=E;E.includes("/storage/")&&(O=E.substring(E.indexOf("/storage/")+9)),k.push(O)}}),_.length>0&&(P.images=_,console.log("New image files to upload:",_.length)),k.length>0&&(P.existing_images=k,console.log("Existing images to keep:",k)),console.log("Sending update for gig:",e,P),await ur.updateProduct(e,P),r({title:"تم تحديث الخدمة بنجاح!",description:`تم حفظ التغييرات على خدمة "${i.title}".`}),t("/dashboard/gigs")}catch(P){console.error("Error updating gig:",P),r({variant:"destructive",title:"خطأ في تحديث الخدمة",description:P.message||"فشل في تحديث الخدمة. يرجى المحاولة مرة أخرى."})}finally{b(!1)}}};return c?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx(Re,{className:"h-12 w-12 animate-spin text-primary mx-auto"}),n.jsx("p",{className:"mt-4 text-lg",children:"جاري تحميل الخدمة..."})]}):i?(s==null?void 0:s.active_role)!=="seller"?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للبائعين فقط."}),n.jsx(V,{onClick:()=>t("/dashboard"),className:"mt-4",children:"العودة للوحة التحكم"})]}):n.jsxs("div",{className:"p-6 md:p-8",children:[n.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"تعديل الخدمة"}),n.jsx(Kd,{className:"h-8 w-8 text-primary"})]}),n.jsx("form",{onSubmit:y,children:n.jsx(ae,{className:"shadow-xl border-orange-200",children:n.jsxs(oe,{className:"p-6 space-y-6",children:[n.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[n.jsx(fe,{className:"px-0 pt-0 pb-4",children:n.jsx(pe,{className:"text-xl text-gray-700",children:"المعلومات الأساسية"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"title",className:"flex items-center",children:[n.jsx(br,{className:"ml-2 h-4 w-4 text-gray-500"}),"عنوان الخدمة"]}),n.jsx(he,{id:"title",name:"title",value:i.title,onChange:j,required:!0})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"description",className:"flex items-center",children:[n.jsx(br,{className:"ml-2 h-4 w-4 text-gray-500"}),"وصف الخدمة"]}),n.jsx(jt,{id:"description",name:"description",value:i.description,onChange:j,rows:5,required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"category",className:"flex items-center",children:[n.jsx(Ls,{className:"ml-2 h-4 w-4 text-gray-500"}),"التصنيف"]}),n.jsxs(Uy,{onValueChange:f,value:i.category?String(i.category):"",required:!0,children:[n.jsx(Wy,{id:"category",children:n.jsx(_t,{placeholder:"اختر تصنيف الخدمة"})}),n.jsx(Hy,{children:m.length>0?m.map(N=>n.jsx(fc,{value:String(N.id||N._id),children:N.name||N.title||"تصنيف غير محدد"},N.id||N._id)):n.jsx(fc,{value:"no-categories",disabled:!0,children:"لا توجد تصنيفات متاحة"})})]})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"price",className:"flex items-center",children:[n.jsx(an,{className:"ml-2 h-4 w-4 text-gray-500"}),"السعر (بالجنيه)"]}),n.jsx(he,{id:"price",name:"price",type:"number",value:i.price,onChange:j,required:!0,min:"1"})]})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"tags",className:"flex items-center",children:[n.jsx(Ls,{className:"ml-2 h-4 w-4 text-gray-500"}),"الكلمات المفتاحية (مفصولة بفاصلة)"]}),n.jsx(he,{id:"tags",name:"tags",value:i.tags,onChange:j})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"deliveryTime",className:"flex items-center",children:[n.jsx(Ci,{className:"ml-2 h-4 w-4 text-gray-500"}),"مدة التسليم المتوقعة"]}),n.jsx(he,{id:"deliveryTime",name:"deliveryTime",value:i.deliveryTime,onChange:j})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"type",className:"flex items-center",children:[n.jsx(br,{className:"ml-2 h-4 w-4 text-gray-500"}),"نوع الخدمة"]}),n.jsxs(Uy,{id:"type",value:i.type,onValueChange:w,children:[n.jsx(Wy,{children:n.jsx(_t,{placeholder:"اختر نوع الخدمة"})}),n.jsxs(Hy,{children:[n.jsx(fc,{value:"gig",children:"خدمة/حرفة"}),n.jsx(fc,{value:"product",children:"منتج قابل للبيع"})]})]})]})]})]}),n.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[n.jsxs(fe,{className:"px-0 pt-6 pb-4",children:[n.jsx(pe,{className:"text-xl text-gray-700",children:"صور الخدمة"}),n.jsx(nt,{children:"أضف أو عدّل صور خدمتك (حتى 5 صور)."})]}),n.jsxs("div",{children:[n.jsxs(te,{htmlFor:"images",className:"flex items-center cursor-pointer border-2 border-dashed border-gray-300 rounded-md p-6 justify-center hover:border-primary transition-colors",children:[n.jsx(Ba,{className:"ml-2 h-8 w-8 text-gray-400"}),n.jsx("span",{className:"text-gray-500",children:"انقر هنا لاختيار صور جديدة"})]}),n.jsx(he,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:g,className:"hidden"}),o.length>0&&n.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:["                    ",o.map((N,P)=>n.jsxs("div",{className:"relative group aspect-square",children:[n.jsx("img",{src:typeof N=="string"?N:"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea",alt:`معاينة ${P+1}`,className:"w-full h-full object-cover rounded-md shadow"}),n.jsx(V,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>x(P),children:n.jsx(is,{className:"h-3 w-3"})})]},P))]})]})]}),n.jsx(Z.div,{className:"pt-6 flex justify-end",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:n.jsx(V,{type:"submit",size:"lg",className:"bg-green-500 hover:bg-green-600",disabled:p,children:p?n.jsxs(n.Fragment,{children:[n.jsx(Re,{className:"ml-2 h-5 w-5 animate-spin"})," جاري الحفظ..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Nn,{className:"ml-2 h-5 w-5"})," حفظ التعديلات"]})})})]})})})]}):n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"لا يمكن تحميل الخدمة"}),n.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على الخدمة المطلوبة أو تم حذفها."}),n.jsx(V,{onClick:()=>t("/dashboard/gigs"),className:"mt-4",children:"العودة للوحة التحكم"})]})},Ef=[{value:"gem",label:"جوهرة",icon:n.jsx(r3,{className:"w-5 h-5"})},{value:"star",label:"نجمة",icon:n.jsx(He,{className:"w-5 h-5"})},{value:"heart",label:"قلب",icon:n.jsx(Jj,{className:"w-5 h-5"})},{value:"shopping-bag",label:"تسوق",icon:n.jsx(ft,{className:"w-5 h-5"})},{value:"book",label:"كتاب",icon:n.jsx(HR,{className:"w-5 h-5"})},{value:"camera",label:"كاميرا",icon:n.jsx(KR,{className:"w-5 h-5"})},{value:"music",label:"موسيقى",icon:n.jsx(c3,{className:"w-5 h-5"})},{value:"coffee",label:"قهوة",icon:n.jsx(JR,{className:"w-5 h-5"})},{value:"gift",label:"هدية",icon:n.jsx(Ym,{className:"w-5 h-5"})},{value:"scissors",label:"مقص",icon:n.jsx(h3,{className:"w-5 h-5"})},{value:"axe",label:"فأس",icon:n.jsx(UR,{className:"w-5 h-5"})},{value:"palette",label:"لوحة ألوان",icon:n.jsx(e1,{className:"w-5 h-5"})},{value:"briefcase",label:"حقيبة",icon:n.jsx(Xm,{className:"w-5 h-5"})},{value:"droplet",label:"قطرة",icon:n.jsx(QR,{className:"w-5 h-5"})},{value:"fire",label:"نار",icon:n.jsx(t3,{className:"w-5 h-5"})},{value:"shirt",label:"قميص",icon:n.jsx(r1,{className:"w-5 h-5"})},{value:"image",label:"صورة",icon:n.jsx(Ba,{className:"w-5 h-5"})},{value:"watch",label:"ساعة",icon:n.jsx(v3,{className:"w-5 h-5"})},{value:"hammer",label:"مطرقة",icon:n.jsx(n3,{className:"w-5 h-5"})},{value:"utensils",label:"أدوات مائدة",icon:n.jsx(i1,{className:"w-5 h-5"})}],Hh=e=>{const t=Ef.find(r=>r.value===e);return t?t.icon:null},PV=()=>{const{user:e}=$e(),{toast:t}=st(),[r,s]=u.useState([]),[i,a]=u.useState(null),[o,l]=u.useState({id:"",name:"",icon:"",description:""}),[c,d]=u.useState(!1),[m,h]=u.useState(!0),[p,b]=u.useState(!1);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){t({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}j()},[e]);const j=async()=>{try{h(!0);const P=await St.getCategories();s(P.data||[])}catch(P){console.error("Error fetching categories:",P),t({variant:"destructive",title:"خطأ في تحميل التصنيفات",description:"تعذر تحميل التصنيفات من الخادم"})}finally{h(!1)}},f=async P=>{try{b(!0),await St.deleteCategory(P),s(_=>_.filter(k=>k.id!==P)),t({title:"تم حذف التصنيف",description:"تم حذف التصنيف بنجاح"})}catch(_){console.error("Error deleting category:",_),t({variant:"destructive",title:"خطأ في الحذف",description:"تعذر حذف التصنيف من الخادم"})}finally{b(!1)}},w=P=>{a({...P})},g=async()=>{if(!i.name){t({variant:"destructive",title:"خطأ في البيانات",description:"اسم التصنيف مطلوب"});return}try{b(!0);const P=await St.updateCategory(i.id,{name:i.name,icon:i.icon,description:i.description});s(_=>_.map(k=>k.id===i.id?P.data:k)),t({title:"تم تحديث التصنيف",description:`تم تحديث التصنيف "${i.name}" بنجاح`}),a(null)}catch(P){console.error("Error updating category:",P),t({variant:"destructive",title:"خطأ في التحديث",description:"تعذر تحديث التصنيف في الخادم"})}finally{b(!1)}},x=()=>{a(null)},y=async()=>{if(!o.name){t({variant:"destructive",title:"خطأ في البيانات",description:"اسم التصنيف مطلوب"});return}try{b(!0);const P=await St.createCategory({name:o.name,icon:o.icon,description:o.description});s(_=>[..._,P.data]),t({title:"تم إضافة التصنيف",description:`تم إضافة التصنيف "${o.name}" بنجاح`}),l({id:"",name:"",icon:"",description:""}),d(!1)}catch(P){console.error("Error creating category:",P),t({variant:"destructive",title:"خطأ في الإضافة",description:"تعذر إضافة التصنيف إلى الخادم"})}finally{b(!1)}},N=()=>{l({id:"",name:"",icon:"",description:""}),d(!1)};return(e==null?void 0:e.role)!=="admin"?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):m?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx(Re,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل التصنيفات..."})]}):n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs(Z.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة التصنيفات"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"إضافة وتعديل وحذف تصنيفات المنتجات"})]}),"        ",n.jsxs(V,{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700",disabled:c||p,children:[p?n.jsx(Re,{className:"ml-2 h-5 w-5 animate-spin"}):n.jsx(js,{className:"ml-2 h-5 w-5"}),"إضافة تصنيف جديد"]})]}),c&&n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:n.jsxs(ae,{className:"border-blue-200 shadow-md",children:[n.jsx(fe,{children:n.jsx(pe,{className:"text-xl text-gray-800",children:"إضافة تصنيف جديد"})}),"            ",n.jsxs(oe,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم التصنيف"}),n.jsx(he,{value:o.name,onChange:P=>l({...o,name:P.target.value}),placeholder:"مثال: المجوهرات",className:"w-full",disabled:p})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الأيقونة"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:o.icon,onChange:P=>l({...o,icon:P.target.value}),className:"w-full border rounded px-3 py-2 appearance-none focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:p,children:[n.jsx("option",{value:"",children:"اختر أيقونة"}),Ef.map(P=>n.jsx("option",{value:P.value,children:P.label},P.value))]}),n.jsx("span",{className:"absolute left-3 top-2.5 pointer-events-none",children:Hh(o.icon)})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الوصف"}),n.jsx(he,{value:o.description||"",onChange:P=>l({...o,description:P.target.value}),className:"w-full",placeholder:"اكتب وصف التصنيف هنا",disabled:p})]}),n.jsxs("div",{className:"flex justify-end mt-4 space-x-2 space-x-reverse",children:[n.jsxs(V,{onClick:N,variant:"outline",className:"border-gray-300",disabled:p,children:[n.jsx(Ct,{className:"ml-2 h-4 w-4"})," إلغاء"]}),n.jsxs(V,{onClick:y,className:"bg-blue-600 hover:bg-blue-700",disabled:p,children:[p?n.jsx(Re,{className:"ml-2 h-4 w-4 animate-spin"}):n.jsx(Nn,{className:"ml-2 h-4 w-4"}),"حفظ"]})]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((P,_)=>n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},children:i&&i.id===P.id?n.jsxs(ae,{className:"border-blue-200 shadow-md",children:[n.jsxs(fe,{children:[n.jsx(pe,{className:"text-xl text-gray-800",children:"تعديل التصنيف"}),n.jsx(nt,{className:"text-gray-500 mt-1",children:'يمكنك تعديل اسم التصنيف أو الأيقونة أو الوصف ثم الضغط على "حفظ" لتحديث البيانات.'})]}),"                ",n.jsxs(oe,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم التصنيف"}),n.jsx(he,{value:i.name,onChange:k=>a({...i,name:k.target.value}),className:"w-full",disabled:p})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الأيقونة"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:i.icon,onChange:k=>a({...i,icon:k.target.value}),className:"w-full border rounded px-3 py-2 appearance-none focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:p,children:[n.jsx("option",{value:"",children:"اختر أيقونة"}),Ef.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))]}),n.jsx("span",{className:"absolute left-3 top-2.5 pointer-events-none",children:Hh(i.icon)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الوصف"}),n.jsx(he,{value:i.description||"",onChange:k=>a({...i,description:k.target.value}),className:"w-full",placeholder:"اكتب وصف التصنيف هنا",disabled:p})]})]}),n.jsxs("div",{className:"flex justify-end mt-4 space-x-2 space-x-reverse",children:[n.jsxs(V,{onClick:x,variant:"outline",className:"border-gray-300",disabled:p,children:[n.jsx(Ct,{className:"ml-2 h-4 w-4"})," إلغاء"]}),n.jsxs(V,{onClick:g,className:"bg-blue-600 hover:bg-blue-700",disabled:p,children:[p?n.jsx(Re,{className:"ml-2 h-4 w-4 animate-spin"}):n.jsx(Nn,{className:"ml-2 h-4 w-4"}),"حفظ"]})]})]})]}):n.jsxs(ae,{className:"shadow-lg hover:shadow-xl transition-shadow border-blue-100",children:[n.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-full mr-3",children:n.jsx(Ls,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(pe,{className:"text-lg text-gray-800",children:P.name}),n.jsx(nt,{className:"text-xs text-blue-500 mt-1",children:P.description||"لا يوجد وصف لهذا التصنيف."})]})]}),"                "]}),n.jsxs(oe,{children:[n.jsx("div",{className:"flex justify-between items-center text-sm text-gray-500",children:n.jsxs("span",{children:["الأيقونة: ",Hh(P.icon)||P.icon]})}),n.jsxs("div",{className:"flex justify-end mt-4 space-x-2 space-x-reverse",children:[n.jsxs(V,{onClick:()=>w(P),variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",disabled:p,children:[n.jsx(Kd,{className:"ml-1 h-4 w-4"})," تعديل"]}),n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsxs(V,{variant:"destructive",size:"sm",disabled:p,children:[p?n.jsx(Re,{className:"ml-1 h-4 w-4 animate-spin"}):n.jsx(is,{className:"ml-1 h-4 w-4"}),"حذف"]})}),n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"هل أنت متأكد من حذف هذا التصنيف؟"}),n.jsxs(mn,{children:['سيؤدي هذا الإجراء إلى حذف التصنيف "',P.name,'" نهائيًا. قد يؤثر هذا على المنتجات المرتبطة بهذا التصنيف.']})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"إلغاء"}),n.jsx(fn,{onClick:()=>f(P.id),className:"bg-red-600 hover:bg-red-700",children:"حذف"})]})]})]})]})]})]})},P.id))})]})},kV=AP,EV=OP,_V=MP,lk=me.forwardRef(({className:e,...t},r)=>n.jsx(Wx,{ref:r,className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lk.displayName=Wx.displayName;const ck=me.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(_V,{children:[n.jsx(lk,{}),n.jsxs(Hx,{ref:s,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg mb-16 md:mb-0",e),...r,children:[t,n.jsxs(Kx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ck.displayName=Hx.displayName;const dk=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-right",e),...t});dk.displayName="DialogHeader";const uk=me.forwardRef(({className:e,...t},r)=>n.jsx(Gx,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));uk.displayName=Gx.displayName;const hk=me.forwardRef(({className:e,...t},r)=>n.jsx(qx,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));hk.displayName=qx.displayName;const Gy=({children:e,value:t,onValueChange:r,...s})=>n.jsx($t,{dir:"rtl",value:t,onValueChange:r,...s,children:e}),qy=({children:e,...t})=>n.jsx(Tt,{className:"text-right",...t,children:e}),Ky=({children:e,...t})=>n.jsx(Rt,{align:"end",className:"rtl-select-content",...t,children:e}),or=({children:e,...t})=>n.jsx(Ne,{className:"text-right",...t,children:e}),Xy=({children:e,...t})=>n.jsx(_t,{className:"text-right",...t,children:e}),TV=()=>{const{toast:e}=st(),[t,r]=u.useState([]),[s,i]=u.useState([]),[a,o]=u.useState(!0),[l,c]=u.useState(!1),[d,m]=u.useState(null),[h,p]=u.useState(""),[b,j]=u.useState(""),[f,w]=u.useState({search:"",date_from:"",date_to:""}),[g,x]=u.useState("all"),[y,N]=u.useState("all"),P=u.useCallback(async(D,B,G)=>{o(!0);try{const z={search:D.search,status:B==="all"?"":B,payment_proof:G==="all"?"":G,date_from:D.date_from,date_to:D.date_to},U=await St.getOrders(z);r(U.data||[]),i(U.data||[])}catch(z){console.error("Error loading orders:",z),e({variant:"destructive",title:"خطأ في تحميل الطلبات",description:"حدث خطأ أثناء تحميل الطلبات. يرجى المحاولة مرة أخرى."})}finally{o(!1)}},[e]);u.useEffect(()=>{P(f,g,y)},[g,y,P]);const _=D=>{const{name:B,value:G}=D.target;w(z=>({...z,[B]:G}))},k=()=>{P(f,g,y)},E=()=>{const D={search:"",date_from:"",date_to:""};w(D),x("all"),N("all"),P(D,"all","all")},O=async D=>{c(!0);try{await St.adminApproveOrder(D,h),e({title:"تم اعتماد الطلب",description:"تم اعتماد الطلب بنجاح وإرساله للبائع."}),p(""),m(null),P(f,g,y)}catch(B){console.error("Error approving order:",B),e({variant:"destructive",title:"خطأ في اعتماد الطلب",description:"حدث خطأ أثناء اعتماد الطلب."})}finally{c(!1)}},R=async D=>{if(!b.trim()){e({variant:"destructive",title:"سبب الرفض مطلوب",description:"يرجى إدخال سبب رفض الطلب."});return}c(!0);try{await St.rejectOrder(D,b),e({title:"تم رفض الطلب",description:"تم رفض الطلب وإشعار العميل."}),j(""),m(null),P(f,g,y)}catch(B){console.error("Error rejecting order:",B),e({variant:"destructive",title:"خطأ في رفض الطلب",description:"حدث خطأ أثناء رفض الطلب."})}finally{c(!1)}},M=D=>{const B={pending:{label:"بانتظار المراجعة",color:"bg-amber-100 text-amber-800"},admin_approved:{label:"معتمد من الإدارة",color:"bg-blue-100 text-blue-800"},seller_approved:{label:"مقبول من البائع",color:"bg-green-100 text-green-800"},in_progress:{label:"جاري العمل",color:"bg-purple-100 text-purple-800"},ready_for_delivery:{label:"جاهز للتوصيل",color:"bg-indigo-100 text-indigo-800"},out_for_delivery:{label:"في الطريق",color:"bg-orange-100 text-orange-800"},delivered:{label:"تم التوصيل",color:"bg-green-100 text-green-800"},completed:{label:"مكتمل",color:"bg-green-100 text-green-800"},cancelled:{label:"ملغى",color:"bg-red-100 text-red-800"}},G=B[D]||B.pending;return n.jsx(ye,{variant:"outline",className:G.color,children:G.label})},L=({order:D})=>{var B,G,z;return n.jsxs(kV,{children:[n.jsx(EV,{asChild:!0,children:n.jsxs(V,{variant:"outline",size:"sm",children:[n.jsx(Wr,{className:"h-4 w-4 ml-1"}),"عرض التفاصيل"]})}),n.jsxs(ck,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(dk,{children:[n.jsxs(uk,{children:["تفاصيل الطلب رقم: ",D.id]}),n.jsxs(hk,{children:["تاريخ إنشاء الطلب: ",new Date(D.created_at).toLocaleString("ar-EG")]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"معلومات الطلب"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"الحالة:"}),M(D.status)]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"المبلغ الإجمالي:"}),n.jsxs("span",{className:"font-semibold",children:[D.total_amount," جنيه"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"طريقة الدفع:"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:D.payment_method_ar||D.payment_method}),D.payment_method==="cash_on_delivery"&&n.jsx(ye,{variant:"outline",className:"bg-blue-50 text-blue-800 text-xs",children:"عند الاستلام"}),D.is_service_order&&n.jsx(ye,{variant:"outline",className:"bg-green-50 text-green-800 text-xs",children:"طلب خدمة"})]})]}),D.is_service_order&&D.requires_deposit&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"قيمة العربون:"}),n.jsxs("span",{className:"font-semibold text-green-600",children:[D.deposit_amount," جنيه"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"حالة العربون:"}),n.jsx(ye,{variant:D.deposit_status==="paid"?"default":"secondary",className:D.deposit_status==="paid"?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:D.deposit_status==="paid"?"مدفوع ✓":"غير مدفوع ⏳"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"المبلغ المتبقي:"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:[D.total_amount-D.deposit_amount," جنيه"]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"معلومات العميل"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(It,{className:"h-4 w-4 ml-2 text-gray-500"}),n.jsx("span",{children:((B=D.user)==null?void 0:B.name)||"غير محدد"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pn,{className:"h-4 w-4 ml-2 text-gray-500"}),n.jsx("span",{children:D.customer_phone||"غير محدد"})]}),D.delivery_address&&n.jsxs("div",{className:"flex items-start",children:[n.jsx(Qn,{className:"h-4 w-4 ml-2 mt-1 text-gray-500"}),n.jsx("span",{children:D.delivery_address})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"معلومات البائع"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(It,{className:"h-4 w-4 ml-2 text-gray-500"}),n.jsx("span",{children:((G=D.seller)==null?void 0:G.name)||"غير محدد"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pn,{className:"h-4 w-4 ml-2 text-gray-500"}),n.jsx("span",{children:((z=D.seller)==null?void 0:z.phone)||"غير محدد"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"عناصر الطلب"}),n.jsx("div",{className:"space-y-2",children:D.items&&D.items.map((U,$)=>{var F,H,W;return n.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse p-2 bg-gray-50 rounded",children:[n.jsx("img",{src:((F=U.product)==null?void 0:F.image)||"https://via.placeholder.com/50",alt:((H=U.product)==null?void 0:H.name)||"منتج",className:"w-12 h-12 object-cover rounded"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:((W=U.product)==null?void 0:W.name)||"منتج"}),n.jsxs("p",{className:"text-xs text-gray-600",children:[U.quantity," × ",U.price," = ",U.total," جنيه"]})]})]},$)})})]}),D.is_service_order&&D.deposit_image&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[n.jsx(jn,{className:"h-4 w-4 ml-2 text-green-600"}),"إيصال العربون (طلب خدمة)"]}),n.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mb-3",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full ml-2"}),n.jsx("span",{className:"font-medium text-green-800",children:"طلب خدمة - تم دفع العربون"})]}),n.jsxs("p",{className:"text-sm text-green-700",children:["قيمة العربون: ",D.deposit_amount," جنيه"]}),n.jsxs("p",{className:"text-xs text-green-600 mt-1 font-medium",children:["المبلغ المتبقي: ",D.total_amount-D.deposit_amount," جنيه"]})]}),n.jsx("img",{src:D.deposit_image,alt:"إيصال العربون",className:"max-w-full h-auto rounded-md border cursor-pointer",onClick:()=>window.open(D.deposit_image,"_blank")})]}),D.is_service_order&&D.service_requirements&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"متطلبات الخدمة"}),n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsx("p",{className:"text-sm text-blue-800",children:D.service_requirements})})]}),D.payment_proof?n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"إيصال الدفع"}),n.jsx("img",{src:D.payment_proof,alt:"إيصال الدفع",className:"max-w-full h-auto rounded-md border cursor-pointer",onClick:()=>window.open(D.payment_proof,"_blank")})]}):D.payment_method==="cash_on_delivery"?n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[n.jsx(jn,{className:"h-4 w-4 ml-2 text-blue-600"}),"طريقة الدفع"]}),n.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full ml-2"}),n.jsx("span",{className:"font-medium text-blue-800",children:"دفع عند الاستلام"})]}),n.jsx("p",{className:"text-sm text-blue-700",children:"سيتم تحصيل المبلغ عند توصيل الطلب للعميل"}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:["المبلغ المطلوب: ",D.total_amount," جنيه"]})]})]}):null,D.timeline&&D.timeline.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[n.jsx(Jo,{className:"h-4 w-4 ml-2 text-olivePrimary"}),"الجدول الزمني"]}),n.jsxs("div",{className:"relative max-h-48 overflow-y-auto",children:[n.jsx("div",{className:"absolute right-6 top-0 bottom-0 w-0.5 bg-olivePrimary/30"}),n.jsx("div",{className:"space-y-4",children:D.timeline.map((U,$)=>n.jsxs(Z.div,{className:"relative flex items-start space-x-3 space-x-reverse",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:$*.1},children:[n.jsx("div",{className:"flex-shrink-0 relative z-10",children:n.jsx("div",{className:"w-12 h-12 bg-olivePrimary rounded-full flex items-center justify-center shadow-md border-3 border-white",children:n.jsx(tr,{className:"h-4 w-4 text-white"})})}),n.jsxs("div",{className:"flex-1 bg-gray-50 p-3 rounded-lg shadow-sm border border-gray-100 min-w-0",children:[n.jsx("h5",{className:"font-medium text-gray-800 mb-1 text-sm",children:U.action_type_ar||U.label}),n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:new Date(U.created_at||U.date).toLocaleString("ar-EG")}),U.notes&&n.jsx("p",{className:"text-xs text-gray-700 bg-blue-50 p-2 rounded-md border-r-2 border-blue-400 mt-2",children:U.notes})]})]},$))})]})]})]})]}),D.status==="pending"&&(D.payment_proof||D.payment_method==="cash_on_delivery")&&n.jsxs("div",{className:"space-y-3 mt-6",children:[D.payment_method==="cash_on_delivery"&&n.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(jn,{className:"h-4 w-4 ml-2 text-amber-600"}),n.jsx("span",{className:"text-sm font-medium text-amber-800",children:"طلب دفع عند الاستلام"})]}),n.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"يرجى التأكد من صحة بيانات الطلب قبل الاعتماد"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsxs(V,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>m(D),children:[n.jsx(Et,{className:"h-4 w-4 ml-2"}),"اعتماد الطلب"]})}),n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"اعتماد الطلب"}),n.jsxs(mn,{children:["هل أنت متأكد من رغبتك في اعتماد طلب رقم ",D.id,"؟",D.payment_method==="cash_on_delivery"&&n.jsx("span",{className:"block mt-2 text-amber-600 font-medium",children:"ملاحظة: هذا طلب دفع عند الاستلام"})]})]}),n.jsxs("div",{className:"my-4",children:[n.jsx(te,{children:"ملاحظات الاعتماد (اختيارية)"}),n.jsx(jt,{value:h,onChange:U=>p(U.target.value),placeholder:D.payment_method==="cash_on_delivery"?"أدخل أي ملاحظات للبائع حول طلب الدفع عند الاستلام...":"أدخل أي ملاحظات للبائع..."})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"إلغاء"}),n.jsxs(fn,{onClick:()=>O(D.id),disabled:l,className:"bg-green-600 hover:bg-green-700",children:[l?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):null,"اعتماد الطلب"]})]})]})]}),n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsxs(V,{variant:"destructive",className:"flex-1",onClick:()=>m(D),children:[n.jsx(Si,{className:"h-4 w-4 ml-2"}),"رفض الطلب"]})}),n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"رفض الطلب"}),n.jsxs(mn,{children:["هل أنت متأكد من رغبتك في رفض طلب رقم ",D.id,"؟",D.payment_method==="cash_on_delivery"&&n.jsx("span",{className:"block mt-2 text-amber-600 font-medium",children:"ملاحظة: هذا طلب دفع عند الاستلام"})]})]}),n.jsxs("div",{className:"my-4",children:[n.jsx(te,{children:"سبب الرفض *"}),n.jsx(jt,{value:b,onChange:U=>j(U.target.value),placeholder:"أدخل سبب رفض الطلب...",required:!0})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"إلغاء"}),n.jsxs(fn,{onClick:()=>R(D.id),disabled:l||!b.trim(),className:"bg-red-600 hover:bg-red-700",children:[l?n.jsx(Re,{className:"h-4 w-4 animate-spin ml-2"}):null,"رفض الطلب"]})]})]})]})]})]})]})]})};return a?n.jsx("div",{className:"flex justify-center items-center min-h-64",children:n.jsx(Re,{className:"h-8 w-8 animate-spin"})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-darkOlive",children:"إدارة الطلبات"}),n.jsx("p",{className:"text-darkOlive/70",children:"مراجعة واعتماد الطلبات الجديدة"})]}),n.jsxs(ae,{children:[n.jsx(fe,{children:n.jsxs(pe,{className:"flex items-center",children:[n.jsx(ui,{className:"h-5 w-5 ml-2"}),"فلترة الطلبات"]})}),n.jsxs(oe,{children:[n.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"md:col-span-3 lg:col-span-2",children:[n.jsx(te,{children:"البحث"}),n.jsx(he,{name:"search",value:f.search,onChange:_,placeholder:"رقم الطلب، اسم العميل أو البائع..."})]}),n.jsxs("div",{children:[n.jsx(te,{children:"من تاريخ"}),n.jsx(he,{type:"date",name:"date_from",value:f.date_from,onChange:_})]}),n.jsxs("div",{children:[n.jsx(te,{children:"إلى تاريخ"}),n.jsx(he,{type:"date",name:"date_to",value:f.date_to,onChange:_})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsxs(V,{onClick:k,className:"w-full",children:[n.jsx(_n,{className:"h-4 w-4 ml-2"}),"بحث"]}),n.jsx(V,{onClick:E,variant:"outline",className:"w-full",children:"إعادة تعيين"})]})]}),n.jsx(rt,{className:"my-4"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{children:"حالة الطلب"}),n.jsxs(Gy,{value:g,onValueChange:x,children:[n.jsx(qy,{children:n.jsx(Xy,{placeholder:"جميع الحالات"})}),n.jsxs(Ky,{children:[n.jsx(or,{value:"all",children:"جميع الحالات"}),n.jsx(or,{value:"pending",children:"بانتظار المراجعة"}),n.jsx(or,{value:"admin_approved",children:"معتمد من الإدارة"}),n.jsx(or,{value:"seller_approved",children:"مقبول من البائع"}),n.jsx(or,{value:"in_progress",children:"جاري العمل"}),n.jsx(or,{value:"ready_for_delivery",children:"جاهز للتوصيل"}),n.jsx(or,{value:"out_for_delivery",children:"في الطريق"}),n.jsx(or,{value:"delivered",children:"تم التوصيل"}),n.jsx(or,{value:"completed",children:"مكتمل"}),n.jsx(or,{value:"cancelled",children:"ملغى"})]})]})]}),n.jsxs("div",{children:[n.jsx(te,{children:"طريقة الدفع"}),n.jsxs(Gy,{value:y,onValueChange:N,children:[n.jsx(qy,{children:n.jsx(Xy,{placeholder:"جميع الطلبات"})}),n.jsxs(Ky,{children:[n.jsx(or,{value:"all",children:"جميع الطلبات"}),n.jsx(or,{value:"with_proof",children:"مع إيصال دفع"}),n.jsx(or,{value:"without_proof",children:"بدون إيصال دفع"}),n.jsx(or,{value:"cash_on_delivery",children:"دفع عند الاستلام"})]})]})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:s.length===0?n.jsx(ae,{className:"text-center py-12",children:n.jsxs(oe,{children:[n.jsx(Ir,{className:"h-24 w-24 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"لا توجد طلبات"}),n.jsx("p",{className:"text-gray-500",children:"لا توجد طلبات تطابق معايير البحث المحددة."})]})}):s.map((D,B)=>{var G,z,U;return n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:B*.1},children:n.jsxs(ae,{className:"group relative hover:shadow-xl transition-all duration-300 border-0 shadow-lg bg-white overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-olivePrimary/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),n.jsx(oe,{className:"p-6 relative",children:n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 items-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{children:[n.jsxs("h4",{className:"inline-block px-3 py-1 rounded-full bg-olivePrimary text-white text-sm font-bold",children:["طلب #",D.id]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(D.created_at).toLocaleDateString("ar-EG")}),D.payment_method==="cash_on_delivery"&&n.jsx("div",{className:"mt-1",children:n.jsxs(ye,{variant:"outline",className:"bg-blue-50 text-blue-700 text-xs",children:[n.jsx(jn,{className:"h-3 w-3 ml-1"}),"دفع عند الاستلام"]})}),D.payment_proof&&D.payment_method!=="cash_on_delivery"&&n.jsx("div",{className:"mt-1",children:n.jsxs(ye,{variant:"outline",className:"bg-green-50 text-green-700 text-xs",children:[n.jsx(Et,{className:"h-3 w-3 ml-1"}),"مع إيصال دفع"]})})]})})}),n.jsxs("div",{className:"flex items-center justify-between",children:[M(D.status),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"الإجمالي"}),n.jsxs("p",{className:"text-lg font-bold text-olivePrimary",children:[D.total_amount," ج.م"]})]})]})]}),n.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:[n.jsx("h5",{className:"text-xs font-semibold text-green-700 mb-2",children:"معلومات العميل"}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(It,{className:"h-4 w-4 ml-1 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:((G=D.user)==null?void 0:G.name)||"غير محدد"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pn,{className:"h-4 w-4 ml-1 text-green-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:D.customer_phone||"غير محدد"})]})]}),n.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-100",children:[n.jsx("h5",{className:"text-xs font-semibold text-orange-700 mb-2",children:"معلومات البائع"}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(It,{className:"h-4 w-4 ml-1 text-orange-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:((z=D.seller)==null?void 0:z.name)||"غير محدد"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ir,{className:"h-4 w-4 ml-1 text-orange-600"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[((U=D.items)==null?void 0:U.length)||0," عنصر"]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(L,{order:D}),D.status==="pending"&&(D.payment_proof||D.payment_method==="cash_on_delivery")&&n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(V,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>{m(D)},children:[n.jsx(Et,{className:"h-4 w-4 ml-1"}),"اعتماد"]}),n.jsxs(V,{size:"sm",variant:"destructive",className:"flex-1",onClick:()=>{m(D)},children:[n.jsx(Si,{className:"h-4 w-4 ml-1"}),"رفض"]})]}),D.status==="pending"&&!D.payment_proof&&D.payment_method!=="cash_on_delivery"&&n.jsx(ye,{variant:"outline",className:"bg-amber-50 text-amber-800 text-center",children:"بانتظار إيصال الدفع"}),D.status==="pending"&&D.payment_method==="cash_on_delivery"&&n.jsx(ye,{variant:"outline",className:"bg-blue-50 text-blue-800 text-center",children:"دفع عند الاستلام - جاهز للمراجعة"})]})]})})]})},D.id)})}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsx(ae,{children:n.jsxs(oe,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.filter(D=>D.status==="pending").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"بانتظار المراجعة"})]})}),n.jsx(ae,{children:n.jsxs(oe,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(D=>D.status==="admin_approved").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"معتمد من الإدارة"})]})}),n.jsx(ae,{children:n.jsxs(oe,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(D=>["completed","delivered"].includes(D.status)).length}),n.jsx("div",{className:"text-sm text-gray-600",children:"مكتمل"})]})}),n.jsx(ae,{children:n.jsxs(oe,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.filter(D=>D.status==="cancelled").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"ملغى"})]})})]})]})},RV=()=>{const{user:e}=$e(),{toast:t}=st(),r=Ve(),[s,i]=u.useState(""),[a,o]=u.useState(""),[l,c]=u.useState([]),[d,m]=u.useState([]),[h,p]=u.useState(!0),[b,j]=u.useState(!1),[f,w]=u.useState(1),[g,x]=u.useState(1),[y,N]=u.useState(0),[P,_]=u.useState(5);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){t({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}k(),E()},[e]),u.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&k()},[s,a,f,e]);const k=async()=>{try{p(!0);const $={page:f};s&&($.search=s),a&&($.category=a);const F=await St.getProducts($);console.log("Full API Response:",F),F.data&&Array.isArray(F.data)&&(c(F.data||[]),w(F.meta.current_page||1),x(F.meta.last_page||1),N(F.meta.total||0),_(F.meta.per_page||5))}catch($){console.error("Error fetching products:",$),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب بيانات المنتجات"})}finally{p(!1)}},E=async()=>{try{const $=await Se.getCategories();m($.data||[])}catch($){console.error("Error fetching categories:",$),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب التصنيفات"})}},O=$=>{i($),w(1)},R=$=>{o($),w(1)},M=$=>{$>=1&&$<=g&&$!==f&&w($)},L=()=>{f>1&&w(f-1)},D=()=>{f<g&&w(f+1)},B=async $=>{try{j(!0),await St.deleteProduct($),await k(),t({title:"تم حذف المنتج",description:"تم حذف المنتج بنجاح."})}catch(F){console.error("Error deleting product:",F),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء حذف المنتج"})}finally{j(!1)}},G=()=>{t({title:"إضافة منتج جديد",description:"سيتم تحويلك إلى صفحة إضافة منتج."})},z=$=>{r(`/gigs/${$}`)},U=async $=>{try{j(!0);const F=l.find(W=>W.id===$),H=!(F!=null&&F.featured);await St.toggleProductFeatured($,H),c(W=>W.map(T=>T.id===$?{...T,featured:H}:T)),t({title:H?"تمييز المنتج":"إلغاء تمييز المنتج",description:H?"تم تمييز المنتج بنجاح.":"تم إلغاء تمييز المنتج بنجاح."})}catch(F){console.error("Error toggling product featured status:",F),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تغيير حالة تمييز المنتج"})}finally{j(!1)}};return(e==null?void 0:e.role)!=="admin"?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):h?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx(Re,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل المنتجات..."})]}):n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs(Z.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة المنتجات"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"استعراض وإدارة المنتجات المعروضة"})]}),n.jsxs(V,{onClick:G,className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(js,{className:"ml-2 h-5 w-5"})," إضافة منتج جديد"]})]}),n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4",children:["        ",n.jsxs("div",{className:"relative flex-grow",children:[n.jsx(_n,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(he,{placeholder:"البحث عن منتج...",value:s,onChange:$=>O($.target.value),className:"pr-10"})]}),n.jsx("div",{className:"w-full md:w-1/3",children:n.jsxs($t,{value:a,onValueChange:R,children:[n.jsxs(Tt,{className:"w-full",children:[n.jsx(ui,{className:"h-4 w-4 ml-2"}),n.jsx(_t,{placeholder:"تصفية حسب التصنيف"})]}),n.jsxs(Rt,{children:[n.jsx(Ne,{value:"",children:"الكل"}),d.map($=>n.jsx(Ne,{value:$.id,children:$.name},$.id))]})]})})]}),"      ",l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ir,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا توجد منتجات"}),n.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على منتجات تطابق معايير البحث."})]}):n.jsxs(n.Fragment,{children:["          ",n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["عرض ",(f-1)*P+1," إلى ",Math.min(f*P,y)," من ",y," منتج"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["الصفحة ",f," من ",g]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.map(($,F)=>{const H=d.find(W=>W.id===$.category_id);return n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},children:[n.jsxs(ae,{className:"shadow-lg hover:shadow-xl transition-shadow border-blue-100 h-full flex flex-col",children:[n.jsxs(fe,{className:"pb-2 relative",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(pe,{className:"text-lg text-gray-800 line-clamp-2",children:$.title}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx(ye,{className:$.status==="active"?"bg-green-500 hover:bg-green-600":"bg-gray-400 hover:bg-gray-500",children:$.status==="active"?"نشط":"غير نشط"}),n.jsx(ye,{className:$.featured?"bg-yellow-500 hover:bg-yellow-600":"bg-gray-400 hover:bg-gray-500",children:$.featured?"مميز":"غير مميز"})]})]}),n.jsxs(nt,{className:"text-gray-500 line-clamp-2",children:[$.description.substring(0,100),"..."]})]}),n.jsx(oe,{className:"flex-grow",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"التصنيف:"}),n.jsx(ye,{variant:"outline",className:"border-blue-200 text-blue-600",children:(H==null?void 0:H.name)||"غير محدد"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"السعر:"}),n.jsxs("span",{className:"font-semibold text-green-600",children:[$.price," جنيه"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"التقييم:"}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(He,{className:"h-4 w-4 text-yellow-500 ml-1"}),$.rating," (",$.reviewCount,")"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"معرف البائع:"}),n.jsx("span",{children:$.sellerId})]})]})}),n.jsxs(et,{className:"grid grid-cols-2 gap-2 pt-4 border-t",children:[n.jsxs(V,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>z($.id),children:[n.jsx(Wr,{className:"ml-1 h-4 w-4"})," عرض"]}),n.jsxs(V,{variant:$.featured?"outline":"default",size:"sm",className:$.featured?"border-yellow-500 text-yellow-600":"bg-yellow-500 hover:bg-yellow-600",onClick:()=>U($.id),children:[n.jsx(GR,{className:"ml-1 h-4 w-4"}),$.featured?"إلغاء التمييز":"تمييز"]}),n.jsx(V,{variant:$.status==="active"?"destructive":"default",size:"sm",className:$.status==="active"?"bg-gray-400 hover:bg-gray-500":"bg-green-500 hover:bg-green-600",disabled:b,onClick:async()=>{j(!0);try{const W=$.status==="active"?"inactive":"active";await St.updateProductStatus($.id,W),c(T=>T.map(q=>q.id===$.id?{...q,status:W}:q)),t({title:W==="active"?"تم تفعيل المنتج":"تم إلغاء تفعيل المنتج",description:W==="active"?"تم تفعيل المنتج بنجاح.":"تم إلغاء تفعيل المنتج بنجاح."})}catch{t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تغيير حالة المنتج"})}finally{j(!1)}},children:$.status==="active"?"تعطيل":"تفعيل"}),n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsxs(V,{variant:"destructive",size:"sm",children:[n.jsx(is,{className:"ml-1 h-4 w-4"})," حذف"]})}),n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"هل أنت متأكد من حذف هذا المنتج؟"}),n.jsxs(mn,{children:['سيؤدي هذا الإجراء إلى حذف المنتج "',$.title,'" نهائيًا. لا يمكن التراجع عن هذا الإجراء.']})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"إلغاء"}),n.jsx(fn,{onClick:()=>B($.id),className:"bg-red-600 hover:bg-red-700",children:"حذف"})]})]})]})]})]}),"              "]},$.id)}),"          "]}),g>1&&n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-center items-center gap-2 mt-8",children:[n.jsxs(V,{variant:"outline",size:"sm",onClick:L,disabled:f===1,className:"flex items-center gap-1",children:[n.jsx(Gd,{className:"h-4 w-4"}),"السابق"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[f>3&&n.jsxs(n.Fragment,{children:[n.jsx(V,{variant:f===1?"default":"outline",size:"sm",onClick:()=>M(1),className:f===1?"bg-blue-600 hover:bg-blue-700":"",children:"1"}),f>4&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),Array.from({length:Math.min(5,g)},($,F)=>{const W=Math.max(1,Math.min(f-2,g-4))+F;return W>g||W<1?null:f<=3||W!==1?n.jsx(V,{variant:W===f?"default":"outline",size:"sm",onClick:()=>M(W),className:W===f?"bg-blue-600 hover:bg-blue-700":"",children:W},W):null}),f<g-2&&n.jsxs(n.Fragment,{children:[f<g-3&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."}),n.jsx(V,{variant:g===f?"default":"outline",size:"sm",onClick:()=>M(g),className:g===f?"bg-blue-600 hover:bg-blue-700":"",children:g})]})]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:D,disabled:f===g,className:"flex items-center gap-1",children:["التالي",n.jsx(fl,{className:"h-4 w-4"})]})]})]})]})},AV=()=>{const{user:e}=$e(),{toast:t}=st(),r=Ve(),{startConversation:s,setActiveConversation:i}=as(),[a,o]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState(""),[h,p]=u.useState(""),[b,j]=u.useState(!0),[f,w]=u.useState(!1),[g,x]=u.useState(1),[y,N]=u.useState(1),[P,_]=u.useState(0),[k,E]=u.useState(5);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){t({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}O()},[e]),u.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&O()},[d,h,g,e]);const O=async()=>{var T,q,re,Q;try{j(!0);const de={page:g};d&&(de.search=d),h&&(de.status=h);const X=await St.getSellers(de);X.data&&Array.isArray(X.data)?(o(X.data||[]),c(X.data||[]),x(((T=X.meta)==null?void 0:T.current_page)||1),N(((q=X.meta)==null?void 0:q.last_page)||1),_(((re=X.meta)==null?void 0:re.total)||0),E(((Q=X.meta)==null?void 0:Q.per_page)||5)):(o(X.data||[]),c(X.data||[]))}catch(de){console.error("Error fetching sellers:",de),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب بيانات البائعين"})}finally{j(!1)}},R=T=>{m(T),x(1)},M=(T,q)=>{o(re=>re.map(Q=>Q.id===T?{...Q,user:{...Q.user,status:q}}:Q)),c(h&&h!==q?re=>re.filter(Q=>Q.id!==T):re=>re.map(Q=>Q.id===T?{...Q,user:{...Q.user,status:q}}:Q))},L=T=>{p(T),x(1)},D=T=>{T>=1&&T<=y&&T!==g&&x(T)},B=()=>{g>1&&x(g-1)},G=()=>{g<y&&x(g+1)};u.useEffect(()=>{let T=[...a];h&&(T=T.filter(q=>{var re;return((re=q.user)==null?void 0:re.status)===h})),d&&(T=T.filter(q=>{var re,Q,de,X;return((Q=(re=q.user)==null?void 0:re.name)==null?void 0:Q.toLowerCase().includes(d.toLowerCase()))||((X=(de=q.user)==null?void 0:de.email)==null?void 0:X.toLowerCase().includes(d.toLowerCase()))})),c(T)},[a,h,d]);const z=async T=>{try{w(!0),await St.updateSellerStatus(T,"active"),M(T,"active"),t({title:"تمت الموافقة على البائع",description:"تم تفعيل حساب البائع بنجاح."})}catch(q){console.error("Error approving seller:",q),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء الموافقة على البائع"})}finally{w(!1)}},U=async T=>{try{w(!0),await St.updateSellerStatus(T,"rejected"),M(T,"rejected"),t({title:"تم رفض البائع",description:"تم رفض حساب البائع."})}catch(q){console.error("Error rejecting seller:",q),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء رفض البائع"})}finally{w(!1)}},$=async T=>{try{w(!0),await St.updateSellerStatus(T,"suspended"),M(T,"suspended"),t({title:"تم تعليق البائع",description:"تم تعليق حساب البائع بنجاح."})}catch(q){console.error("Error suspending seller:",q),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تعليق البائع"})}finally{w(!1)}},F=T=>{r(`/sellers/${T}`)},H=async T=>{if(T.user.id===e.id){t({variant:"destructive",title:"لا يمكن مراسلة نفسك",description:"لا يمكنك بدء محادثة مع نفسك."});return}const q={id:T.user.id,name:T.user.name,avatar:T.user.avatar||"",lastSeen:new Date().toISOString()};try{const re=await s(q);i(re),r("/chat")}catch(re){console.error("Error starting conversation:",re)}},W=T=>{switch(T){case"active":return n.jsxs(ye,{className:"bg-green-500 hover:bg-green-600",children:[n.jsx(tr,{className:"h-3 w-3 ml-1"}),"نشط"]});case"pending":return n.jsxs(ye,{className:"bg-yellow-500 hover:bg-yellow-600",children:[n.jsx(Fr,{className:"h-3 w-3 ml-1"}),"بانتظار الموافقة"]});case"suspended":return n.jsxs(ye,{className:"bg-red-500 hover:bg-red-600",children:[n.jsx(ga,{className:"h-3 w-3 ml-1"}),"معلق"]});case"rejected":return n.jsxs(ye,{className:"bg-gray-500 hover:bg-gray-600",children:[n.jsx(Ct,{className:"h-3 w-3 ml-1"}),"مرفوض"]});default:return n.jsx(ye,{variant:"outline",children:T})}};return(e==null?void 0:e.role)!=="admin"?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):b?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx(Re,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل البائعين..."})]}):n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs(Z.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة البائعين"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"عرض وإدارة جميع حسابات البائعين"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:["          ",n.jsxs(ye,{className:"bg-green-100 text-green-700 py-2 px-3",children:[n.jsx(gi,{className:"h-4 w-4 ml-1"})," نشط: ",a.filter(T=>{var q;return((q=T.user)==null?void 0:q.status)==="active"}).length]}),n.jsxs(ye,{className:"bg-yellow-100 text-yellow-700 py-2 px-3",children:[n.jsx(Fr,{className:"h-4 w-4 ml-1"})," بانتظار الموافقة: ",a.filter(T=>{var q;return((q=T.user)==null?void 0:q.status)==="pending"}).length]}),n.jsxs(ye,{className:"bg-orange-100 text-red-700 py-2 px-3",children:[n.jsx(ga,{className:"h-4 w-4 ml-1"})," معلق: ",a.filter(T=>{var q;return((q=T.user)==null?void 0:q.status)==="suspended"}).length]}),n.jsxs(ye,{className:"bg-red-100 text-gray-700 py-2 px-3",children:[n.jsx(Ct,{className:"h-4 w-4 ml-1"})," مرفوض: ",a.filter(T=>{var q;return((q=T.user)==null?void 0:q.status)==="rejected"}).length]})]})]}),n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4",children:["        ",n.jsxs("div",{className:"relative flex-grow",children:[n.jsx(_n,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(he,{placeholder:"البحث عن بائع...",value:d,onChange:T=>R(T.target.value),className:"pr-10"})]}),n.jsx("div",{className:"w-full md:w-1/4",children:n.jsxs($t,{value:h,onValueChange:L,children:[n.jsxs(Tt,{className:"w-full",children:[n.jsx(Fr,{className:"h-4 w-4 ml-2"}),n.jsx(_t,{placeholder:"فلترة حسب الحالة"})]}),n.jsxs(Rt,{children:[n.jsx(Ne,{value:"",children:"الكل"}),n.jsx(Ne,{value:"active",children:"نشط"}),n.jsx(Ne,{value:"pending",children:"بانتظار الموافقة"}),n.jsx(Ne,{value:"suspended",children:"معلق"}),n.jsx(Ne,{value:"rejected",children:"مرفوض"})]})]})})]}),"      ",l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(s1,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا يوجد بائعين"}),n.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على بائعين يطابقون معايير البحث."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["عرض ",(g-1)*k+1," إلى ",Math.min(g*k,P)," من ",P," بائع"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["الصفحة ",g," من ",y]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map((T,q)=>{var re,Q;return n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:q*.05},children:n.jsxs(ae,{className:"shadow-lg hover:shadow-xl transition-shadow border-blue-100 h-full flex flex-col",children:[n.jsx(fe,{className:"pb-2",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs(qt,{className:"h-12 w-12 ml-3",children:[n.jsx(rr,{src:T.user.avatar}),n.jsx(Kt,{children:((re=T.user.name)==null?void 0:re.charAt(0))||"S"})]}),n.jsxs("div",{children:[n.jsx(pe,{className:"text-lg text-gray-800",children:T.user.name}),n.jsx(nt,{className:"text-gray-500",children:T.user.email})]})]}),W(T.user.status)]})}),n.jsx(oe,{className:"flex-grow",children:n.jsxs("div",{className:"space-y-3 text-sm",children:["                    ",n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"الوصف:"}),n.jsx("span",{className:"text-right max-w-[200px] truncate",children:((Q=T.user)==null?void 0:Q.bio)||"لا يوجد وصف"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"التقييم:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(He,{className:"h-4 w-4 text-yellow-400 fill-current ml-1"}),n.jsx("span",{children:T.rating?parseFloat(T.rating).toFixed(1):"0.0"}),n.jsxs("span",{className:"text-gray-400 mr-1",children:["(",T.review_count||0,")"]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"تاريخ الانضمام:"}),n.jsx("span",{children:T.member_since?new Date(T.member_since).toLocaleDateString("en-GB"):"غير محدد"})]}),"                      ",n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"المهارات:"}),n.jsx("span",{children:Array.isArray(T.skills)&&T.skills.length>0?T.skills.join(", "):"لا يوجد"})]})]})}),n.jsxs(et,{className:"grid grid-cols-2 gap-2 pt-4 border-t",children:[n.jsxs(V,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>F(T.id),children:[n.jsx(Wr,{className:"ml-1 h-4 w-4"})," عرض الملف الشخصي"]}),n.jsxs(V,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>H(T),children:[n.jsx(Lr,{className:"ml-1 h-4 w-4"})," محادثة"]}),T.user.status==="pending"&&n.jsxs("div",{className:"grid grid-cols-2 gap-2 col-span-2",children:[n.jsxs(V,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600",onClick:()=>z(T.id),disabled:f,children:[f?n.jsx(Re,{className:"ml-1 h-4 w-4 animate-spin"}):n.jsx(tr,{className:"ml-1 h-4 w-4"}),"موافقة"]}),n.jsxs(V,{variant:"destructive",size:"sm",onClick:()=>U(T.id),disabled:f,children:[f?n.jsx(Re,{className:"ml-1 h-4 w-4 animate-spin"}):n.jsx(Ct,{className:"ml-1 h-4 w-4"}),"رفض"]})]}),T.user.status==="active"&&n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsxs(V,{variant:"destructive",size:"sm",className:"col-span-2",disabled:f,children:[f?n.jsx(Re,{className:"ml-1 h-4 w-4 animate-spin"}):n.jsx(ga,{className:"ml-1 h-4 w-4"}),"تعليق الحساب"]})}),n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"هل أنت متأكد من تعليق هذا الحساب؟"}),n.jsxs(mn,{children:['سيؤدي هذا إلى منع البائع "',T.user.name,'" من بيع المنتجات مؤقتًا حتى تقوم بإلغاء التعليق.']})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"إلغاء"}),n.jsx(fn,{onClick:()=>$(T.id),className:"bg-red-600 hover:bg-red-700",children:"تعليق الحساب"})]})]})]}),T.user.status==="suspended"&&n.jsxs(V,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 col-span-2",onClick:()=>z(T.id),disabled:f,children:[f?n.jsx(Re,{className:"ml-1 h-4 w-4 animate-spin"}):n.jsx(tr,{className:"ml-1 h-4 w-4"}),"إعادة تفعيل"]})]})]})},T.id)})}),y>1&&n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-center items-center gap-2 mt-8",children:[n.jsxs(V,{variant:"outline",size:"sm",onClick:B,disabled:g===1,className:"flex items-center gap-1",children:[n.jsx(Gd,{className:"h-4 w-4"}),"السابق"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[g>3&&n.jsxs(n.Fragment,{children:[n.jsx(V,{variant:g===1?"default":"outline",size:"sm",onClick:()=>D(1),className:g===1?"bg-blue-600 hover:bg-blue-700":"",children:"1"}),g>4&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),Array.from({length:Math.min(5,y)},(T,q)=>{const Q=Math.max(1,Math.min(g-2,y-4))+q;return Q>y||Q<1?null:g<=3||Q!==1?n.jsx(V,{variant:Q===g?"default":"outline",size:"sm",onClick:()=>D(Q),className:Q===g?"bg-blue-600 hover:bg-blue-700":"",children:Q},Q):null}),g<y-2&&n.jsxs(n.Fragment,{children:[g<y-3&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."}),n.jsx(V,{variant:y===g?"default":"outline",size:"sm",onClick:()=>D(y),className:y===g?"bg-blue-600 hover:bg-blue-700":"",children:y})]})]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:G,disabled:g===y,className:"flex items-center gap-1",children:["التالي",n.jsx(fl,{className:"h-4 w-4"})]})]})]})]})},OV=()=>{const{user:e}=$e(),{toast:t}=st(),r=Ve(),{startConversation:s,setActiveConversation:i}=as(),[a,o]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState(""),[h,p]=u.useState(""),[b,j]=u.useState(""),[f,w]=u.useState(!0),[g,x]=u.useState(!1);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){t({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}y()},[e]);const y=async()=>{try{w(!0);const R={};d&&(R.search=d),h&&(R.role=h),b&&(R.status=b);const M=await St.getUsers(R);o(M.data||[]),c(M.data||[])}catch(R){console.error("Error fetching users:",R),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب بيانات المستخدمين"})}finally{w(!1)}};u.useEffect(()=>{let R=[...a];d&&(R=R.filter(M=>M.name.toLowerCase().includes(d.toLowerCase())||M.email.toLowerCase().includes(d.toLowerCase())||M.id.toString().includes(d.toLowerCase()))),h&&(R=R.filter(M=>M.role===h)),b&&(R=R.filter(M=>M.status===b)),c(R)},[d,h,b,a]);const N=async R=>{try{x(!0),await St.updateUserStatus(R,"suspended"),o(M=>M.map(L=>L.id===R?{...L,status:"suspended"}:L)),t({title:"تم تعليق المستخدم",description:"تم تعليق حساب المستخدم بنجاح."})}catch(M){console.error("Error suspending user:",M),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تعليق المستخدم"})}finally{x(!1)}},P=async R=>{try{x(!0),await St.updateUserStatus(R,"active"),o(M=>M.map(L=>L.id===R?{...L,status:"active"}:L)),t({title:"تم تفعيل المستخدم",description:"تم تفعيل حساب المستخدم بنجاح."})}catch(M){console.error("Error activating user:",M),t({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تفعيل المستخدم"})}finally{x(!1)}},_=R=>{r(`/profile/${R}`)},k=async R=>{if(R.id===e.id){t({variant:"destructive",title:"لا يمكن مراسلة نفسك",description:"لا يمكنك بدء محادثة مع نفسك."});return}const M={id:R.id,name:R.name,avatar:R.avatar||"",lastSeen:R.last_login||new Date().toISOString()};try{const L=await s(M);i(L),r("/chat")}catch(L){console.error("Error starting conversation:",L)}},E=R=>{switch(R){case"active":return n.jsxs(ye,{className:"bg-green-500 hover:bg-green-600",children:[n.jsx(Et,{className:"h-3 w-3 ml-1"}),"نشط"]});case"suspended":return n.jsxs(ye,{className:"bg-red-500 hover:bg-red-600",children:[n.jsx(ga,{className:"h-3 w-3 ml-1"}),"معلق"]});case"inactive":return n.jsxs(ye,{className:"bg-gray-500 hover:bg-gray-600",children:[n.jsx(Ct,{className:"h-3 w-3 ml-1"}),"غير نشط"]});default:return n.jsx(ye,{variant:"outline",children:R})}},O=R=>{switch(R){case"admin":return n.jsxs(ye,{className:"bg-purple-500 hover:bg-purple-600",children:[n.jsx(m3,{className:"h-3 w-3 ml-1"}),"مشرف"]});case"seller":return n.jsxs(ye,{className:"bg-blue-500 hover:bg-blue-600",children:[n.jsx(gi,{className:"h-3 w-3 ml-1"}),"بائع"]});case"buyer":return n.jsxs(ye,{className:"bg-green-500 hover:bg-green-600",children:[n.jsx(It,{className:"h-3 w-3 ml-1"}),"مشتري"]});default:return n.jsx(ye,{variant:"outline",children:R})}};return(e==null?void 0:e.role)!=="admin"?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):f?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx(Re,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل المستخدمين..."})]}):n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs(Z.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة المستخدمين"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"عرض وإدارة جميع حسابات المستخدمين"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ye,{className:"bg-green-100 text-green-700 py-2 px-3",children:[n.jsx(It,{className:"h-4 w-4 ml-1"})," المشترين: ",a.filter(R=>R.role==="buyer").length]}),n.jsxs(ye,{className:"bg-blue-100 text-blue-700 py-2 px-3",children:[n.jsx(gi,{className:"h-4 w-4 ml-1"})," البائعين: ",a.filter(R=>R.role==="seller").length]}),n.jsxs(ye,{className:"bg-red-100 text-red-700 py-2 px-3",children:[n.jsx(ga,{className:"h-4 w-4 ml-1"})," معلق: ",a.filter(R=>R.status==="suspended").length]})]})]}),n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-grow",children:[n.jsx(_n,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(he,{placeholder:"البحث عن مستخدم...",value:d,onChange:R=>m(R.target.value),className:"pr-10"})]}),n.jsx("div",{className:"w-full md:w-1/4",children:n.jsxs($t,{value:h,onValueChange:p,children:[n.jsxs(Tt,{className:"w-full",children:[n.jsx(gi,{className:"h-4 w-4 ml-2"}),n.jsx(_t,{placeholder:"فلترة حسب الدور"})]}),n.jsxs(Rt,{children:[n.jsx(Ne,{value:"",children:"الكل"}),n.jsx(Ne,{value:"buyer",children:"مشتري"}),n.jsx(Ne,{value:"seller",children:"بائع"}),n.jsx(Ne,{value:"admin",children:"مشرف"})]})]})}),n.jsx("div",{className:"w-full md:w-1/4",children:n.jsxs($t,{value:b,onValueChange:j,children:[n.jsxs(Tt,{className:"w-full",children:[n.jsx(Fr,{className:"h-4 w-4 ml-2"}),n.jsx(_t,{placeholder:"فلترة حسب الحالة"})]}),n.jsxs(Rt,{children:[n.jsx(Ne,{value:"",children:"الكل"}),n.jsx(Ne,{value:"active",children:"نشط"}),n.jsx(Ne,{value:"suspended",children:"معلق"}),n.jsx(Ne,{value:"inactive",children:"غير نشط"})]})]})})]}),l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(s1,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا يوجد مستخدمين"}),n.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على مستخدمين يطابقون معايير البحث."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map((R,M)=>{var L;return n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},children:n.jsxs(ae,{className:"shadow-lg hover:shadow-xl transition-shadow border-blue-100 h-full flex flex-col",children:[n.jsx(fe,{className:"pb-2",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs(qt,{className:"h-12 w-12 ml-3",children:[n.jsx(rr,{src:R.avatar}),n.jsx(Kt,{children:((L=R.name)==null?void 0:L.charAt(0))||"U"})]}),n.jsxs("div",{children:[n.jsx(pe,{className:"text-lg text-gray-800",children:R.name}),n.jsx(nt,{className:"text-gray-500",children:R.email})]})]}),E(R.status)]})}),n.jsx(oe,{className:"flex-grow",children:n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"الدور:"}),O(R.role)]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"تاريخ التسجيل:"}),n.jsx("span",{children:R.created_at?new Date(R.created_at).toLocaleDateString("ar-SA"):"غير محدد"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"آخر تسجيل دخول:"}),n.jsx("span",{children:R.last_login?new Date(R.last_login).toLocaleDateString("ar-SA"):"لم يسجل دخول"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:R.role==="buyer"?"عدد الطلبات:":"عدد المنتجات:"}),n.jsx("span",{children:R.role==="buyer"?R.orders_count||0:R.products_count||0})]})]})}),n.jsxs(et,{className:"grid grid-cols-1 gap-2 pt-4 border-t",children:[n.jsxs(V,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>_(R.id),children:[n.jsx(Wr,{className:"ml-1 h-4 w-4"}),"  عرض الملف الشخصي"]}),n.jsxs(V,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>k(R),children:[n.jsx(Lr,{className:"ml-1 h-4 w-4"})," محادثة"]}),R.status==="active"?n.jsxs(Rn,{children:[n.jsx(ns,{asChild:!0,children:n.jsxs(V,{variant:"destructive",size:"sm",className:"col-span-2",disabled:g,children:[g?n.jsx(Re,{className:"ml-1 h-4 w-4 animate-spin"}):n.jsx(ga,{className:"ml-1 h-4 w-4"}),"تعليق الحساب"]})}),n.jsxs(cn,{children:[n.jsxs(dn,{children:[n.jsx(hn,{children:"هل أنت متأكد من تعليق هذا الحساب؟"}),n.jsxs(mn,{children:['سيؤدي هذا إلى منع المستخدم "',R.name,'" من استخدام النظام مؤقتًا حتى تقوم بإلغاء التعليق.']})]}),n.jsxs(un,{children:[n.jsx(pn,{children:"إلغاء"}),n.jsx(fn,{onClick:()=>N(R.id),className:"bg-red-600 hover:bg-red-700",children:"تعليق الحساب"})]})]})]}):n.jsxs(V,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 col-span-2",onClick:()=>P(R.id),disabled:g,children:[g?n.jsx(Re,{className:"ml-1 h-4 w-4 animate-spin"}):n.jsx(Et,{className:"ml-1 h-4 w-4"}),"تفعيل الحساب"]})]})]})},R.id)})})]})},MV=()=>{var g;const{user:e}=$e(),{toast:t}=st(),{conversations:r,messages:s}=as(),[i,a]=u.useState(""),[o,l]=u.useState("all"),[c,d]=u.useState(null),[m,h]=u.useState([]),[p,b]=u.useState([]);u.useEffect(()=>{if(r.length){const x=r.map(y=>{var E,O,R;const N=y.participant,P=((O=s[y.id])==null?void 0:O[((E=s[y.id])==null?void 0:E.length)-1])||{},_=P.senderId!==N.id?P.senderId:null;let k=null;return _&&(k=lP.find(M=>M.id===_)||(Wh==null?void 0:Wh[0])||{id:_,name:`User ${_.substring(0,4)}`,avatar:""}),{...y,participant:N,otherParticipant:k,lastMessage:P,messageCount:((R=s[y.id])==null?void 0:R.length)||0,lastActivity:P.timestamp||new Date().toISOString(),isReported:Math.random()>.8}});h(x),b(x)}},[r,s]),u.useEffect(()=>{let x=[...m];i&&(x=x.filter(y=>{var k,E,O;const N=((k=y.participant)==null?void 0:k.name)||"",P=((E=y.otherParticipant)==null?void 0:E.name)||"",_=((O=y.lastMessage)==null?void 0:O.text)||"";return N.toLowerCase().includes(i.toLowerCase())||P.toLowerCase().includes(i.toLowerCase())||_.toLowerCase().includes(i.toLowerCase())})),o==="reported"&&(x=x.filter(y=>y.isReported)),b(x)},[i,o,m]);const j=x=>{d(x)},f=()=>{d(null)},w=x=>{h(y=>y.map(N=>N.id===x?{...N,isReported:!1}:N)),t({title:"تم حل البلاغ",description:"تم حل البلاغ المتعلق بهذه المحادثة."}),(c==null?void 0:c.id)===x&&d(null)};return(e==null?void 0:e.role)!=="admin"?n.jsxs("div",{className:"p-6 md:p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),n.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsxs(Z.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة المحادثات"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"مراقبة وإدارة جميع المحادثات بين المستخدمين"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ye,{className:"bg-blue-100 text-blue-700 py-2 px-3",children:[n.jsx(Lr,{className:"h-4 w-4 ml-1"}),"إجمالي المحادثات: ",m.length]}),n.jsxs(ye,{className:"bg-yellow-100 text-yellow-700 py-2 px-3",children:[n.jsx(pi,{className:"h-4 w-4 ml-1"}),"بلاغات: ",m.filter(x=>x.isReported).length]})]})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsxs("div",{className:`w-full ${c?"lg:w-1/3":"lg:w-full"}`,children:[n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(_n,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(he,{placeholder:"البحث في المحادثات...",value:i,onChange:x=>a(x.target.value),className:"pr-10"})]})}),n.jsxs(bu,{defaultValue:"all",value:o,onValueChange:l,children:[n.jsxs(Nl,{className:"grid grid-cols-2 mb-4",children:[n.jsx(en,{value:"all",children:"جميع المحادثات"}),n.jsxs(en,{value:"reported",children:["البلاغات ",n.jsx(ye,{className:"mr-1 bg-red-500",children:m.filter(x=>x.isReported).length})]})]}),n.jsx(tn,{value:"all",className:"m-0",children:n.jsxs(ae,{children:[n.jsxs(fe,{children:[n.jsx(pe,{className:"text-lg",children:"جميع المحادثات"}),n.jsx(nt,{children:"مراقبة جميع المحادثات بين المستخدمين"})]}),n.jsx(oe,{children:p.length>0?n.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:p.map(x=>n.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${(c==null?void 0:c.id)===x.id?"bg-blue-100":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>j(x),children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs(qt,{className:"h-10 w-10 ml-3",children:[n.jsx(rr,{src:x.participant.avatar}),n.jsx(Kt,{children:x.participant.name.charAt(0)})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-800",children:[x.participant.name,x.otherParticipant&&n.jsxs("span",{className:"text-gray-500",children:[" ↔ ",x.otherParticipant.name]})]}),x.lastMessage&&n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:x.lastMessage.text})]})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[x.isReported&&n.jsxs(ye,{className:"bg-red-500 mb-1",size:"sm",children:[n.jsx(pi,{className:"h-3 w-3 ml-1"}),"مُبلغ عنها"]}),n.jsx("span",{className:"text-xs text-gray-400",children:new Date(x.lastActivity).toLocaleDateString("ar-EG")})]})]})},x.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Lr,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على محادثات تطابق البحث"})]})})]})}),n.jsx(tn,{value:"reported",className:"m-0",children:n.jsxs(ae,{children:[n.jsxs(fe,{children:[n.jsx(pe,{className:"text-lg",children:"البلاغات"}),n.jsx(nt,{children:"المحادثات التي تم الإبلاغ عنها من المستخدمين"})]}),n.jsx(oe,{children:p.length>0?n.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:p.map(x=>n.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${(c==null?void 0:c.id)===x.id?"bg-blue-100":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>j(x),children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs(qt,{className:"h-10 w-10 ml-3",children:[n.jsx(rr,{src:x.participant.avatar}),n.jsx(Kt,{children:x.participant.name.charAt(0)})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-800",children:[x.participant.name,x.otherParticipant&&n.jsxs("span",{className:"text-gray-500",children:[" ↔ ",x.otherParticipant.name]})]}),x.lastMessage&&n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:x.lastMessage.text})]})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs(ye,{className:"bg-red-500 mb-1",size:"sm",children:[n.jsx(pi,{className:"h-3 w-3 ml-1"}),"مُبلغ عنها"]}),n.jsx("span",{className:"text-xs text-gray-400",children:new Date(x.lastActivity).toLocaleDateString("ar-EG")})]})]})},x.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Et,{className:"h-12 w-12 text-green-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"لا توجد بلاغات حاليًا"})]})})]})})]})]}),c&&n.jsx(Z.div,{className:"w-full lg:w-2/3",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:n.jsxs(ae,{className:"border-blue-200 shadow-lg h-full",children:[n.jsxs(fe,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs(qt,{className:"h-10 w-10 ml-3",children:[n.jsx(rr,{src:c.participant.avatar}),n.jsx(Kt,{children:c.participant.name.charAt(0)})]}),n.jsxs("div",{children:[n.jsxs(pe,{className:"text-lg",children:["محادثة بين ",c.participant.name,c.otherParticipant&&` و ${c.otherParticipant.name}`]}),n.jsxs(nt,{children:[c.messageCount," رسالة - آخر نشاط: ",new Date(c.lastActivity).toLocaleDateString("ar-EG")]})]})]}),n.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[c.isReported&&n.jsxs(V,{variant:"outline",className:"border-green-200 text-green-600",onClick:()=>w(c.id),children:[n.jsx(Et,{className:"ml-2 h-4 w-4"}),"حل البلاغ"]}),n.jsxs(V,{variant:"outline",className:"border-gray-200",onClick:f,children:[n.jsx(Ct,{className:"ml-2 h-4 w-4"}),"إغلاق"]})]})]}),n.jsx(oe,{children:n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 h-[400px] overflow-y-auto",children:((g=s[c.id])==null?void 0:g.length)>0?n.jsx("div",{className:"space-y-4",children:s[c.id].map((x,y)=>{var _;const N=x.senderId===c.participant.id,P=N?c.participant:c.otherParticipant;return n.jsx("div",{className:`flex ${N?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`flex items-start max-w-[70%] ${N?"flex-row":"flex-row-reverse"}`,children:[n.jsxs(qt,{className:`h-8 w-8 ${N?"ml-2":"mr-2"}`,children:[n.jsx(rr,{src:P==null?void 0:P.avatar}),n.jsx(Kt,{children:((_=P==null?void 0:P.name)==null?void 0:_.charAt(0))||"U"})]}),n.jsxs("div",{children:[n.jsx("div",{className:`px-3 py-2 rounded-lg ${N?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-900"}`,children:n.jsx("p",{className:"text-sm",dir:"rtl",children:x.text})}),n.jsx("p",{className:`text-xs text-gray-500 mt-1 ${N?"text-right":"text-left"}`,children:new Date(x.timestamp).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]})]})},y)})}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx("p",{className:"text-gray-500",children:"لا توجد رسائل في هذه المحادثة"})})})}),n.jsxs(et,{className:"flex justify-between border-t pt-4",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(va,{className:"h-4 w-4 ml-1"}),"يتم تحديث المحادثة تلقائيًا"]}),n.jsx("div",{children:c.isReported?n.jsxs(V,{className:"bg-green-500 hover:bg-green-600",onClick:()=>w(c.id),children:[n.jsx(Et,{className:"ml-2 h-4 w-4"}),"حل البلاغ"]}):n.jsxs(V,{variant:"outline",className:"border-blue-200 text-blue-600",children:[n.jsx(Wr,{className:"ml-2 h-4 w-4"}),"مراقبة المحادثة"]})})]})]})})]})]})},pc=({title:e,description:t,icon:r,children:s})=>n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs(ae,{className:"shadow-lg border-blue-100",children:[n.jsxs(fe,{className:"flex flex-row items-start space-x-4 space-x-reverse pb-4",children:[me.createElement(r,{className:"h-8 w-8 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx(pe,{className:"text-xl text-gray-800",children:e}),n.jsx(nt,{className:"text-gray-500",children:t})]})]}),n.jsx(oe,{children:s})]})}),$V=()=>{$e();const{toast:e}=st(),[t,r]=u.useState({siteName:"منصة الصنايعي",siteDescription:"منصة تسويق المنتجات الحرفية اليدوية",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",maintenanceMode:!1,registrationsEnabled:!0,defaultLanguage:"ar",defaultCurrency:"EGP"}),[s,i]=u.useState({senderName:"منصة الصنايعي",senderEmail:"no-reply@example.com",smtpServer:"smtp.example.com",smtpPort:"587",smtpUsername:"smtp-user",smtpPassword:"smtp-password",useSMTP:!0}),[a,o]=u.useState({newUserNotifications:!0,newOrderNotifications:!0,productReportNotifications:!0,chatReportNotifications:!0,lowStockNotifications:!0,adminEmails:"admin@example.com"}),[l,c]=u.useState({requireEmailVerification:!0,twoFactorAuthEnabled:!1,passwordMinLength:"8",passwordRequiresUppercase:!0,passwordRequiresNumber:!0,passwordRequiresSymbol:!1,sessionTimeout:"120"}),d=j=>{const{name:f,value:w,type:g,checked:x}=j.target;r(y=>({...y,[f]:g==="checkbox"?x:w}))},m=j=>{const{name:f,value:w,type:g,checked:x}=j.target;i(y=>({...y,[f]:g==="checkbox"?x:w}))},h=j=>{const{name:f,value:w,type:g,checked:x}=j.target;o(y=>({...y,[f]:g==="checkbox"?x:w}))},p=j=>{const{name:f,value:w,type:g,checked:x}=j.target;c(y=>({...y,[f]:g==="checkbox"?x:w}))},b=j=>{let f="";switch(j){case"general":f="تم حفظ الإعدادات العامة بنجاح";break;case"email":f="تم حفظ إعدادات البريد الإلكتروني بنجاح";break;case"notifications":f="تم حفظ إعدادات الإشعارات بنجاح";break;case"security":f="تم حفظ إعدادات الأمان بنجاح";break;default:f="تم حفظ الإعدادات بنجاح"}e({title:"تم حفظ الإعدادات",description:f})};return n.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[n.jsx(Z.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إعدادات النظام"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"تكوين وتخصيص إعدادات المنصة"})]})}),n.jsxs(bu,{defaultValue:"general",children:[n.jsxs(Nl,{className:"grid grid-cols-4 mb-8",children:[n.jsxs(en,{value:"general",children:[n.jsx(Hv,{className:"ml-2 h-4 w-4"}),"عام"]}),n.jsxs(en,{value:"email",children:[n.jsx(Jn,{className:"ml-2 h-4 w-4"}),"البريد الإلكتروني"]}),n.jsxs(en,{value:"notifications",children:[n.jsx(zn,{className:"ml-2 h-4 w-4"}),"الإشعارات"]}),n.jsxs(en,{value:"security",children:[n.jsx(Fr,{className:"ml-2 h-4 w-4"}),"الأمان"]})]}),n.jsx(tn,{value:"general",children:n.jsxs(pc,{title:"الإعدادات العامة",description:"ضبط الإعدادات الأساسية للمنصة",icon:Hv,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"siteName",children:"اسم الموقع"}),n.jsx(he,{id:"siteName",name:"siteName",value:t.siteName,onChange:d})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"defaultLanguage",children:"اللغة الافتراضية"}),n.jsxs($t,{name:"defaultLanguage",value:t.defaultLanguage,onValueChange:j=>r(f=>({...f,defaultLanguage:j})),children:[n.jsx(Tt,{children:n.jsx(_t,{placeholder:"اختر اللغة"})}),n.jsxs(Rt,{children:[n.jsx(Ne,{value:"ar",children:"العربية"}),n.jsx(Ne,{value:"en",children:"الإنجليزية"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"siteDescription",children:"وصف الموقع"}),n.jsx(jt,{id:"siteDescription",name:"siteDescription",value:t.siteDescription,onChange:d,rows:3})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"logoUrl",children:"رابط الشعار"}),n.jsx(he,{id:"logoUrl",name:"logoUrl",value:t.logoUrl,onChange:d})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"faviconUrl",children:"رابط أيقونة الموقع"}),n.jsx(he,{id:"faviconUrl",name:"faviconUrl",value:t.faviconUrl,onChange:d})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx(te,{htmlFor:"defaultCurrency",children:"العملة الافتراضية"}),n.jsxs($t,{name:"defaultCurrency",value:t.defaultCurrency,onValueChange:j=>r(f=>({...f,defaultCurrency:j})),children:[n.jsx(Tt,{children:n.jsx(_t,{placeholder:"اختر العملة"})}),n.jsxs(Rt,{children:[n.jsx(Ne,{value:"EGP",children:"جنيه مصري (EGP)"}),n.jsx(Ne,{value:"USD",children:"دولار أمريكي (USD)"}),n.jsx(Ne,{value:"SAR",children:"ريال سعودي (SAR)"}),n.jsx(Ne,{value:"AED",children:"درهم إماراتي (AED)"})]})]})]})}),n.jsx(rt,{className:"my-4"}),n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"maintenanceMode",className:"cursor-pointer",children:"وضع الصيانة"}),n.jsx(Ut,{id:"maintenanceMode",name:"maintenanceMode",checked:t.maintenanceMode,onCheckedChange:j=>r(f=>({...f,maintenanceMode:j}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"registrationsEnabled",className:"cursor-pointer",children:"تمكين التسجيل للمستخدمين الجدد"}),n.jsx(Ut,{id:"registrationsEnabled",name:"registrationsEnabled",checked:t.registrationsEnabled,onCheckedChange:j=>r(f=>({...f,registrationsEnabled:j}))})]})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs(V,{onClick:()=>b("general"),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Nn,{className:"ml-2 h-4 w-4"}),"حفظ الإعدادات"]})})]})}),n.jsx(tn,{value:"email",children:n.jsxs(pc,{title:"إعدادات البريد الإلكتروني",description:"ضبط إعدادات خادم البريد الإلكتروني ورسائل النظام",icon:Jn,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"senderName",children:"اسم المرسل"}),n.jsx(he,{id:"senderName",name:"senderName",value:s.senderName,onChange:m})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"senderEmail",children:"بريد المرسل"}),n.jsx(he,{id:"senderEmail",name:"senderEmail",type:"email",value:s.senderEmail,onChange:m})]})]}),n.jsx(rt,{className:"my-4"}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(te,{htmlFor:"useSMTP",className:"cursor-pointer",children:"استخدام خادم SMTP"}),n.jsx(Ut,{id:"useSMTP",name:"useSMTP",checked:s.useSMTP,onCheckedChange:j=>i(f=>({...f,useSMTP:j}))})]}),s.useSMTP&&n.jsxs("div",{className:"space-y-4 border-r-2 border-blue-200 pr-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"smtpServer",children:"خادم SMTP"}),n.jsx(he,{id:"smtpServer",name:"smtpServer",value:s.smtpServer,onChange:m})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"smtpPort",children:"منفذ SMTP"}),n.jsx(he,{id:"smtpPort",name:"smtpPort",value:s.smtpPort,onChange:m})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"smtpUsername",children:"اسم مستخدم SMTP"}),n.jsx(he,{id:"smtpUsername",name:"smtpUsername",value:s.smtpUsername,onChange:m})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"smtpPassword",children:"كلمة مرور SMTP"}),n.jsx(he,{id:"smtpPassword",name:"smtpPassword",type:"password",value:s.smtpPassword,onChange:m})]})]})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs(V,{onClick:()=>b("email"),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Nn,{className:"ml-2 h-4 w-4"}),"حفظ الإعدادات"]})})]})}),n.jsx(tn,{value:"notifications",children:n.jsxs(pc,{title:"إعدادات الإشعارات",description:"تكوين الإشعارات التي يتلقاها المشرفون والمستخدمون",icon:zn,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"adminEmails",children:"بريد المشرفين (للإشعارات)"}),n.jsx(he,{id:"adminEmails",name:"adminEmails",value:a.adminEmails,onChange:h,placeholder:"admin@example.com, admin2@example.com"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"افصل بين عناوين البريد الإلكتروني بفاصلة"})]}),n.jsx(rt,{className:"my-4"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(te,{className:"block mb-2",children:"إشعارات المشرفين"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"newUserNotifications",className:"cursor-pointer",children:"تنبيه عند تسجيل مستخدم جديد"}),n.jsx(Ut,{id:"newUserNotifications",name:"newUserNotifications",checked:a.newUserNotifications,onCheckedChange:j=>o(f=>({...f,newUserNotifications:j}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"newOrderNotifications",className:"cursor-pointer",children:"تنبيه عند إنشاء طلب جديد"}),n.jsx(Ut,{id:"newOrderNotifications",name:"newOrderNotifications",checked:a.newOrderNotifications,onCheckedChange:j=>o(f=>({...f,newOrderNotifications:j}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"productReportNotifications",className:"cursor-pointer",children:"تنبيه عند الإبلاغ عن منتج"}),n.jsx(Ut,{id:"productReportNotifications",name:"productReportNotifications",checked:a.productReportNotifications,onCheckedChange:j=>o(f=>({...f,productReportNotifications:j}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"chatReportNotifications",className:"cursor-pointer",children:"تنبيه عند الإبلاغ عن محادثة"}),n.jsx(Ut,{id:"chatReportNotifications",name:"chatReportNotifications",checked:a.chatReportNotifications,onCheckedChange:j=>o(f=>({...f,chatReportNotifications:j}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"lowStockNotifications",className:"cursor-pointer",children:"تنبيه عند انخفاض المخزون"}),n.jsx(Ut,{id:"lowStockNotifications",name:"lowStockNotifications",checked:a.lowStockNotifications,onCheckedChange:j=>o(f=>({...f,lowStockNotifications:j}))})]})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs(V,{onClick:()=>b("notifications"),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Nn,{className:"ml-2 h-4 w-4"}),"حفظ الإعدادات"]})})]})}),n.jsx(tn,{value:"security",children:n.jsxs(pc,{title:"إعدادات الأمان",description:"تكوين إعدادات أمان النظام وسياسات كلمات المرور",icon:Fr,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"requireEmailVerification",className:"cursor-pointer",children:"طلب تأكيد البريد الإلكتروني"}),n.jsx(Ut,{id:"requireEmailVerification",name:"requireEmailVerification",checked:l.requireEmailVerification,onCheckedChange:j=>c(f=>({...f,requireEmailVerification:j}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"twoFactorAuthEnabled",className:"cursor-pointer",children:"تمكين المصادقة الثنائية (إذا كان متاحًا)"}),n.jsx(Ut,{id:"twoFactorAuthEnabled",name:"twoFactorAuthEnabled",checked:l.twoFactorAuthEnabled,onCheckedChange:j=>c(f=>({...f,twoFactorAuthEnabled:j}))})]}),n.jsx(rt,{className:"my-4"}),n.jsx(te,{className:"block mb-2",children:"متطلبات كلمة المرور"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(te,{htmlFor:"passwordMinLength",children:"الحد الأدنى لطول كلمة المرور"}),n.jsx(he,{id:"passwordMinLength",name:"passwordMinLength",type:"number",min:"6",max:"64",value:l.passwordMinLength,onChange:p})]}),n.jsxs("div",{children:[n.jsx(te,{htmlFor:"sessionTimeout",children:"مهلة الجلسة (بالدقائق)"}),n.jsx(he,{id:"sessionTimeout",name:"sessionTimeout",type:"number",min:"5",value:l.sessionTimeout,onChange:p})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"passwordRequiresUppercase",className:"cursor-pointer",children:"يتطلب حرف كبير واحد على الأقل"}),n.jsx(Ut,{id:"passwordRequiresUppercase",name:"passwordRequiresUppercase",checked:l.passwordRequiresUppercase,onCheckedChange:j=>c(f=>({...f,passwordRequiresUppercase:j}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"passwordRequiresNumber",className:"cursor-pointer",children:"يتطلب رقم واحد على الأقل"}),n.jsx(Ut,{id:"passwordRequiresNumber",name:"passwordRequiresNumber",checked:l.passwordRequiresNumber,onCheckedChange:j=>c(f=>({...f,passwordRequiresNumber:j}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(te,{htmlFor:"passwordRequiresSymbol",className:"cursor-pointer",children:"يتطلب رمزًا واحدًا على الأقل"}),n.jsx(Ut,{id:"passwordRequiresSymbol",name:"passwordRequiresSymbol",checked:l.passwordRequiresSymbol,onCheckedChange:j=>c(f=>({...f,passwordRequiresSymbol:j}))})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs(V,{onClick:()=>b("security"),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Nn,{className:"ml-2 h-4 w-4"}),"حفظ الإعدادات"]})})]})})]})]})};function IV(){return n.jsx(_3,{children:n.jsx(T3,{children:n.jsx(U3,{children:n.jsxs(W3,{children:[n.jsx(H3,{}),n.jsxs(l5,{children:[n.jsxs(Ae,{path:"/",element:n.jsx(zL,{}),children:[n.jsx(Ae,{index:!0,element:n.jsx(XL,{})}),n.jsx(Ae,{path:"explore",element:n.jsx(aF,{})}),n.jsx(Ae,{path:"gigs/:id",element:n.jsx(oF,{})}),n.jsx(Ae,{path:"sellers/:id",element:n.jsx(lF,{})}),n.jsx(Ae,{path:"message/:id",element:n.jsx(Jt,{children:n.jsx(dF,{})})}),n.jsx(Ae,{path:"profile/me",element:n.jsx(Jt,{children:n.jsx(zy,{})})}),n.jsx(Ae,{path:"profile/:id",element:n.jsx(Jt,{children:n.jsx(zy,{})})}),n.jsxs(Ae,{path:"dashboard",element:n.jsx(Jt,{allowedRoles:["buyer","seller"],children:n.jsx(wF,{})}),children:[n.jsx(Ae,{index:!0,element:n.jsx(By,{})}),n.jsx(Ae,{path:"overview",element:n.jsx(By,{})}),n.jsx(Ae,{path:"orders",element:n.jsx(yV,{})}),n.jsx(Ae,{path:"gigs",element:n.jsx(bV,{})}),n.jsx(Ae,{path:"gigs/new",element:n.jsx(SV,{})}),n.jsx(Ae,{path:"gigs/edit/:gigId",element:n.jsx(CV,{})}),n.jsx(Ae,{path:"earnings",element:n.jsx(wV,{})}),n.jsx(Ae,{path:"messages",element:n.jsx(jV,{})}),n.jsx(Ae,{path:"settings",element:n.jsx(NV,{})})]}),n.jsx(Ae,{path:"chat",element:n.jsx(Jt,{children:n.jsx(KF,{})})}),n.jsx(Ae,{path:"notifications",element:n.jsx(Jt,{children:n.jsx(xV,{})})}),n.jsx(Ae,{path:"cart",element:n.jsx(Jt,{children:n.jsx(XF,{})})}),n.jsx(Ae,{path:"checkout",element:n.jsx(Jt,{children:n.jsx(YF,{})})}),n.jsx(Ae,{path:"orders/:orderId",element:n.jsx(Jt,{children:n.jsx(JF,{})})}),n.jsx(Ae,{path:"login",element:n.jsx(Jt,{requireAuth:!1,children:n.jsx(QF,{})})}),n.jsx(Ae,{path:"register",element:n.jsx(Jt,{requireAuth:!1,children:n.jsx(dV,{})})}),n.jsx(Ae,{path:"forgot-password",element:n.jsx(Jt,{requireAuth:!1,children:n.jsx(uV,{})})}),n.jsx(Ae,{path:"reset-password",element:n.jsx(Jt,{requireAuth:!1,children:n.jsx(hV,{})})}),n.jsx(Ae,{path:"verify-email",element:n.jsx(Jt,{requireAuth:!1,children:n.jsx(mV,{})})}),n.jsx(Ae,{path:"*",element:n.jsx(fV,{})})]}),n.jsxs(Ae,{path:"/admin",element:n.jsx(Jt,{allowedRoles:["admin"],children:n.jsx(qL,{})}),children:[n.jsx(Ae,{path:"dashboard",element:n.jsx(pV,{})}),n.jsx(Ae,{path:"orders",element:n.jsx(TV,{})}),n.jsx(Ae,{path:"categories",element:n.jsx(PV,{})}),n.jsx(Ae,{path:"products",element:n.jsx(RV,{})}),n.jsx(Ae,{path:"sellers",element:n.jsx(AV,{})}),n.jsx(Ae,{path:"users",element:n.jsx(OV,{})}),n.jsx(Ae,{path:"messages",element:n.jsx(MV,{})}),n.jsx(Ae,{path:"settings",element:n.jsx($V,{})})]})]}),n.jsx(k3,{})]})})})})}Gh.createRoot(document.getElementById("root")).render(n.jsx(me.StrictMode,{children:n.jsx(x5,{children:n.jsx(IV,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(e=>{})});
