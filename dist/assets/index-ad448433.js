function Yk(e,s){for(var n=0;n<s.length;n++){const r=s[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Vp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ub={exports:{}},Mu={},hb={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),Xk=Symbol.for("react.portal"),Jk=Symbol.for("react.fragment"),Qk=Symbol.for("react.strict_mode"),Zk=Symbol.for("react.profiler"),eP=Symbol.for("react.provider"),tP=Symbol.for("react.context"),sP=Symbol.for("react.forward_ref"),nP=Symbol.for("react.suspense"),rP=Symbol.for("react.memo"),aP=Symbol.for("react.lazy"),Tg=Symbol.iterator;function iP(e){return e===null||typeof e!="object"?null:(e=Tg&&e[Tg]||e["@@iterator"],typeof e=="function"?e:null)}var mb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fb=Object.assign,pb={};function Eo(e,s,n){this.props=e,this.context=s,this.refs=pb,this.updater=n||mb}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xb(){}xb.prototype=Eo.prototype;function Up(e,s,n){this.props=e,this.context=s,this.refs=pb,this.updater=n||mb}var Bp=Up.prototype=new xb;Bp.constructor=Up;fb(Bp,Eo.prototype);Bp.isPureReactComponent=!0;var Ag=Array.isArray,gb=Object.prototype.hasOwnProperty,Wp={current:null},vb={key:!0,ref:!0,__self:!0,__source:!0};function yb(e,s,n){var r,a={},i=null,o=null;if(s!=null)for(r in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)gb.call(s,r)&&!vb.hasOwnProperty(r)&&(a[r]=s[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:fc,type:e,key:i,ref:o,props:a,_owner:Wp.current}}function oP(e,s){return{$$typeof:fc,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Hp(e){return typeof e=="object"&&e!==null&&e.$$typeof===fc}function lP(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return s[n]})}var Rg=/\/+/g;function Yh(e,s){return typeof e=="object"&&e!==null&&e.key!=null?lP(""+e.key):s.toString(36)}function Nd(e,s,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fc:case Xk:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Yh(o,0):r,Ag(a)?(n="",e!=null&&(n=e.replace(Rg,"$&/")+"/"),Nd(a,s,n,"",function(d){return d})):a!=null&&(Hp(a)&&(a=oP(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Rg,"$&/")+"/")+e)),s.push(a)),1;if(o=0,r=r===""?".":r+":",Ag(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Yh(i,l);o+=Nd(i,s,n,c,a)}else if(c=iP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Yh(i,l++),o+=Nd(i,s,n,c,a);else if(i==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function Uc(e,s,n){if(e==null)return e;var r=[],a=0;return Nd(e,r,"","",function(i){return s.call(n,i,a++)}),r}function cP(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Vs={current:null},Sd={transition:null},dP={ReactCurrentDispatcher:Vs,ReactCurrentBatchConfig:Sd,ReactCurrentOwner:Wp};function jb(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Uc,forEach:function(e,s,n){Uc(e,function(){s.apply(this,arguments)},n)},count:function(e){var s=0;return Uc(e,function(){s++}),s},toArray:function(e){return Uc(e,function(s){return s})||[]},only:function(e){if(!Hp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Eo;He.Fragment=Jk;He.Profiler=Zk;He.PureComponent=Up;He.StrictMode=Qk;He.Suspense=nP;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dP;He.act=jb;He.cloneElement=function(e,s,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fb({},e.props),a=e.key,i=e.ref,o=e._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=Wp.current),s.key!==void 0&&(a=""+s.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in s)gb.call(s,c)&&!vb.hasOwnProperty(c)&&(r[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:fc,type:e.type,key:a,ref:i,props:r,_owner:o}};He.createContext=function(e){return e={$$typeof:tP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eP,_context:e},e.Consumer=e};He.createElement=yb;He.createFactory=function(e){var s=yb.bind(null,e);return s.type=e,s};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:sP,render:e}};He.isValidElement=Hp;He.lazy=function(e){return{$$typeof:aP,_payload:{_status:-1,_result:e},_init:cP}};He.memo=function(e,s){return{$$typeof:rP,type:e,compare:s===void 0?null:s}};He.startTransition=function(e){var s=Sd.transition;Sd.transition={};try{e()}finally{Sd.transition=s}};He.unstable_act=jb;He.useCallback=function(e,s){return Vs.current.useCallback(e,s)};He.useContext=function(e){return Vs.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return Vs.current.useDeferredValue(e)};He.useEffect=function(e,s){return Vs.current.useEffect(e,s)};He.useId=function(){return Vs.current.useId()};He.useImperativeHandle=function(e,s,n){return Vs.current.useImperativeHandle(e,s,n)};He.useInsertionEffect=function(e,s){return Vs.current.useInsertionEffect(e,s)};He.useLayoutEffect=function(e,s){return Vs.current.useLayoutEffect(e,s)};He.useMemo=function(e,s){return Vs.current.useMemo(e,s)};He.useReducer=function(e,s,n){return Vs.current.useReducer(e,s,n)};He.useRef=function(e){return Vs.current.useRef(e)};He.useState=function(e){return Vs.current.useState(e)};He.useSyncExternalStore=function(e,s,n){return Vs.current.useSyncExternalStore(e,s,n)};He.useTransition=function(){return Vs.current.useTransition()};He.version="18.3.1";hb.exports=He;var u=hb.exports;const ce=Vp(u),Du=Yk({__proto__:null,default:ce},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP=u,hP=Symbol.for("react.element"),mP=Symbol.for("react.fragment"),fP=Object.prototype.hasOwnProperty,pP=uP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xP={key:!0,ref:!0,__self:!0,__source:!0};function bb(e,s,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(r in s)fP.call(s,r)&&!xP.hasOwnProperty(r)&&(a[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:hP,type:e,key:i,ref:o,props:a,_owner:pP.current}}Mu.Fragment=mP;Mu.jsx=bb;Mu.jsxs=bb;ub.exports=Mu;var t=ub.exports,af={},wb={exports:{}},mn={},Nb={exports:{}},Sb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(R,V){var q=R.length;R.push(V);e:for(;0<q;){var T=q-1>>>1,U=R[T];if(0<a(U,V))R[T]=V,R[q]=U,q=T;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var V=R[0],q=R.pop();if(q!==V){R[0]=q;e:for(var T=0,U=R.length,se=U>>>1;T<se;){var ie=2*(T+1)-1,fe=R[ie],ue=ie+1,le=R[ue];if(0>a(fe,q))ue<U&&0>a(le,fe)?(R[T]=le,R[ue]=q,T=ue):(R[T]=fe,R[ie]=q,T=ie);else if(ue<U&&0>a(le,q))R[T]=le,R[ue]=q,T=ue;else break e}}return V}function a(R,V){var q=R.sortIndex-V.sortIndex;return q!==0?q:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,h=null,p=3,v=!1,w=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(R){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=R)r(d),V.sortIndex=V.expirationTime,s(c,V);else break;V=n(d)}}function N(R){if(g=!1,j(R),!w)if(n(c)!==null)w=!0,W(S);else{var V=n(d);V!==null&&G(N,V.startTime-R)}}function S(R,V){w=!1,g&&(g=!1,f(k),k=-1),v=!0;var q=p;try{for(j(V),h=n(c);h!==null&&(!(h.expirationTime>V)||R&&!D());){var T=h.callback;if(typeof T=="function"){h.callback=null,p=h.priorityLevel;var U=T(h.expirationTime<=V);V=e.unstable_now(),typeof U=="function"?h.callback=U:h===n(c)&&r(c),j(V)}else r(c);h=n(c)}if(h!==null)var se=!0;else{var ie=n(d);ie!==null&&G(N,ie.startTime-V),se=!1}return se}finally{h=null,p=q,v=!1}}var A=!1,C=null,k=-1,M=5,P=-1;function D(){return!(e.unstable_now()-P<M)}function I(){if(C!==null){var R=e.unstable_now();P=R;var V=!0;try{V=C(!0,R)}finally{V?H():(A=!1,C=null)}}else A=!1}var H;if(typeof x=="function")H=function(){x(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,$=O.port2;O.port1.onmessage=I,H=function(){$.postMessage(null)}}else H=function(){y(I,0)};function W(R){C=R,A||(A=!0,H())}function G(R,V){k=y(function(){R(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,W(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var q=p;p=V;try{return R()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=p;p=R;try{return V()}finally{p=q}},e.unstable_scheduleCallback=function(R,V,q){var T=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?T+q:T):q=T,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=q+U,R={id:m++,callback:V,priorityLevel:R,startTime:q,expirationTime:U,sortIndex:-1},q>T?(R.sortIndex=q,s(d,R),n(c)===null&&R===n(d)&&(g?(f(k),k=-1):g=!0,G(N,q-T))):(R.sortIndex=U,s(c,R),w||v||(w=!0,W(S))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var V=p;return function(){var q=p;p=V;try{return R.apply(this,arguments)}finally{p=q}}}})(Sb);Nb.exports=Sb;var gP=Nb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP=u,dn=gP;function xe(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cb=new Set,$l={};function vi(e,s){po(e,s),po(e+"Capture",s)}function po(e,s){for($l[e]=s,e=0;e<s.length;e++)Cb.add(s[e])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=Object.prototype.hasOwnProperty,yP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mg={},Dg={};function jP(e){return of.call(Dg,e)?!0:of.call(Mg,e)?!1:yP.test(e)?Dg[e]=!0:(Mg[e]=!0,!1)}function bP(e,s,n,r){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wP(e,s,n,r){if(s===null||typeof s>"u"||bP(e,s,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Us(e,s,n,r,a,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var xs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xs[e]=new Us(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];xs[s]=new Us(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xs[e]=new Us(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xs[e]=new Us(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xs[e]=new Us(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xs[e]=new Us(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xs[e]=new Us(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xs[e]=new Us(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xs[e]=new Us(e,5,!1,e.toLowerCase(),null,!1,!1)});var qp=/[\-:]([a-z])/g;function Gp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(qp,Gp);xs[s]=new Us(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(qp,Gp);xs[s]=new Us(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(qp,Gp);xs[s]=new Us(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xs[e]=new Us(e,1,!1,e.toLowerCase(),null,!1,!1)});xs.xlinkHref=new Us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xs[e]=new Us(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kp(e,s,n,r){var a=xs.hasOwnProperty(s)?xs[s]:null;(a!==null?a.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(wP(s,n,a,r)&&(n=null),r||a===null?jP(s)&&(n===null?e.removeAttribute(s):e.setAttribute(s,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(s=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(s):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,s,n):e.setAttribute(s,n))))}var qr=vP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bc=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),lf=Symbol.for("react.profiler"),_b=Symbol.for("react.provider"),kb=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),df=Symbol.for("react.suspense_list"),Jp=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),Pb=Symbol.for("react.offscreen"),Og=Symbol.iterator;function Qo(e){return e===null||typeof e!="object"?null:(e=Og&&e[Og]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,Xh;function ul(e){if(Xh===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);Xh=s&&s[1]||""}return`
`+Xh+e}var Jh=!1;function Qh(e,s){if(!e||Jh)return"";Jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var r=d}Reflect.construct(e,[],s)}else{try{s.call()}catch(d){r=d}e.call(s.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Jh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ul(e):""}function NP(e){switch(e.tag){case 5:return ul(e.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 2:case 15:return e=Qh(e.type,!1),e;case 11:return e=Qh(e.type.render,!1),e;case 1:return e=Qh(e.type,!0),e;default:return""}}function uf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zi:return"Fragment";case Fi:return"Portal";case lf:return"Profiler";case Yp:return"StrictMode";case cf:return"Suspense";case df:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kb:return(e.displayName||"Context")+".Consumer";case _b:return(e._context.displayName||"Context")+".Provider";case Xp:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jp:return s=e.displayName||null,s!==null?s:uf(e.type)||"Memo";case ta:s=e._payload,e=e._init;try{return uf(e(s))}catch{}}return null}function SP(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uf(s);case 8:return s===Yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eb(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function CP(e){var s=Eb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),r=""+e[s];if(!e.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,s,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Wc(e){e._valueTracker||(e._valueTracker=CP(e))}function Tb(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var n=s.getValue(),r="";return e&&(r=Eb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(s.setValue(e),!0):!1}function Ld(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hf(e,s){var n=s.checked;return Tt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $g(e,s){var n=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;n=Sa(s.value!=null?s.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ab(e,s){s=s.checked,s!=null&&Kp(e,"checked",s,!1)}function mf(e,s){Ab(e,s);var n=Sa(s.value),r=s.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?ff(e,s.type,n):s.hasOwnProperty("defaultValue")&&ff(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function Ig(e,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,n||s===e.value||(e.value=s),e.defaultValue=s}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ff(e,s,n){(s!=="number"||Ld(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hl=Array.isArray;function to(e,s,n,r){if(e=e.options,s){s={};for(var a=0;a<n.length;a++)s["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=s.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sa(n),s=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}s!==null||e[a].disabled||(s=e[a])}s!==null&&(s.selected=!0)}}function pf(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Tt({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lg(e,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(xe(92));if(hl(n)){if(1<n.length)throw Error(xe(93));n=n[0]}s=n}s==null&&(s=""),n=s}e._wrapperState={initialValue:Sa(n)}}function Rb(e,s){var n=Sa(s.value),r=Sa(s.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),s.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fg(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function Mb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xf(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?Mb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hc,Db=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(s,n,r,a)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Hc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function Il(e,s){if(s){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=s;return}}e.textContent=s}var gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_P=["Webkit","ms","Moz","O"];Object.keys(gl).forEach(function(e){_P.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),gl[s]=gl[e]})});function Ob(e,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||gl.hasOwnProperty(e)&&gl[e]?(""+s).trim():s+"px"}function $b(e,s){e=e.style;for(var n in s)if(s.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Ob(n,s[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var kP=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gf(e,s){if(s){if(kP[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(xe(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(xe(61))}if(s.style!=null&&typeof s.style!="object")throw Error(xe(62))}}function vf(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=null;function Qp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jf=null,so=null,no=null;function zg(e){if(e=gc(e)){if(typeof jf!="function")throw Error(xe(280));var s=e.stateNode;s&&(s=Fu(s),jf(e.stateNode,e.type,s))}}function Ib(e){so?no?no.push(e):no=[e]:so=e}function Lb(){if(so){var e=so,s=no;if(no=so=null,zg(e),s)for(e=0;e<s.length;e++)zg(s[e])}}function Fb(e,s){return e(s)}function zb(){}var Zh=!1;function Vb(e,s,n){if(Zh)return e(s,n);Zh=!0;try{return Fb(e,s,n)}finally{Zh=!1,(so!==null||no!==null)&&(zb(),Lb())}}function Ll(e,s){var n=e.stateNode;if(n===null)return null;var r=Fu(n);if(r===null)return null;n=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,s,typeof n));return n}var bf=!1;if(Ir)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){bf=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{bf=!1}function PP(e,s,n,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(n,d)}catch(m){this.onError(m)}}var vl=!1,Fd=null,zd=!1,wf=null,EP={onError:function(e){vl=!0,Fd=e}};function TP(e,s,n,r,a,i,o,l,c){vl=!1,Fd=null,PP.apply(EP,arguments)}function AP(e,s,n,r,a,i,o,l,c){if(TP.apply(this,arguments),vl){if(vl){var d=Fd;vl=!1,Fd=null}else throw Error(xe(198));zd||(zd=!0,wf=d)}}function yi(e){var s=e,n=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(n=s.return),e=s.return;while(e)}return s.tag===3?n:null}function Ub(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Vg(e){if(yi(e)!==e)throw Error(xe(188))}function RP(e){var s=e.alternate;if(!s){if(s=yi(e),s===null)throw Error(xe(188));return s!==e?null:e}for(var n=e,r=s;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Vg(a),e;if(i===r)return Vg(a),s;i=i.sibling}throw Error(xe(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:s}function Bb(e){return e=RP(e),e!==null?Wb(e):null}function Wb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=Wb(e);if(s!==null)return s;e=e.sibling}return null}var Hb=dn.unstable_scheduleCallback,Ug=dn.unstable_cancelCallback,MP=dn.unstable_shouldYield,DP=dn.unstable_requestPaint,$t=dn.unstable_now,OP=dn.unstable_getCurrentPriorityLevel,Zp=dn.unstable_ImmediatePriority,qb=dn.unstable_UserBlockingPriority,Vd=dn.unstable_NormalPriority,$P=dn.unstable_LowPriority,Gb=dn.unstable_IdlePriority,Ou=null,lr=null;function IP(e){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Ou,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:zP,LP=Math.log,FP=Math.LN2;function zP(e){return e>>>=0,e===0?32:31-(LP(e)/FP|0)|0}var qc=64,Gc=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ud(e,s){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=ml(l):(i&=o,i!==0&&(r=ml(i)))}else o=n&~a,o!==0?r=ml(o):i!==0&&(r=ml(i));if(r===0)return 0;if(s!==0&&s!==r&&!(s&a)&&(a=r&-r,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(r&4&&(r|=n&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=r;0<s;)n=31-Un(s),a=1<<n,r|=e[n],s&=~a;return r}function VP(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UP(e,s){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Un(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=VP(l,s)):c<=s&&(e.expiredLanes|=l),i&=~l}}function Nf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kb(){var e=qc;return qc<<=1,!(qc&4194240)&&(qc=64),e}function em(e){for(var s=[],n=0;31>n;n++)s.push(e);return s}function pc(e,s,n){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-Un(s),e[s]=n}function BP(e,s){var n=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Un(n),i=1<<a;s[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function ex(e,s){var n=e.entangledLanes|=s;for(e=e.entanglements;n;){var r=31-Un(n),a=1<<r;a&s|e[r]&s&&(e[r]|=s),n&=~a}}var lt=0;function Yb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xb,tx,Jb,Qb,Zb,Sf=!1,Kc=[],ha=null,ma=null,fa=null,Fl=new Map,zl=new Map,aa=[],WP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bg(e,s){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(s.pointerId)}}function el(e,s,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},s!==null&&(s=gc(s),s!==null&&tx(s)),e):(e.eventSystemFlags|=r,s=e.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),e)}function HP(e,s,n,r,a){switch(s){case"focusin":return ha=el(ha,e,s,n,r,a),!0;case"dragenter":return ma=el(ma,e,s,n,r,a),!0;case"mouseover":return fa=el(fa,e,s,n,r,a),!0;case"pointerover":var i=a.pointerId;return Fl.set(i,el(Fl.get(i)||null,e,s,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,zl.set(i,el(zl.get(i)||null,e,s,n,r,a)),!0}return!1}function ew(e){var s=Za(e.target);if(s!==null){var n=yi(s);if(n!==null){if(s=n.tag,s===13){if(s=Ub(n),s!==null){e.blockedOn=s,Zb(e.priority,function(){Jb(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cd(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var n=Cf(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yf=r,n.target.dispatchEvent(r),yf=null}else return s=gc(n),s!==null&&tx(s),e.blockedOn=n,!1;s.shift()}return!0}function Wg(e,s,n){Cd(e)&&n.delete(s)}function qP(){Sf=!1,ha!==null&&Cd(ha)&&(ha=null),ma!==null&&Cd(ma)&&(ma=null),fa!==null&&Cd(fa)&&(fa=null),Fl.forEach(Wg),zl.forEach(Wg)}function tl(e,s){e.blockedOn===s&&(e.blockedOn=null,Sf||(Sf=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,qP)))}function Vl(e){function s(a){return tl(a,e)}if(0<Kc.length){tl(Kc[0],e);for(var n=1;n<Kc.length;n++){var r=Kc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ha!==null&&tl(ha,e),ma!==null&&tl(ma,e),fa!==null&&tl(fa,e),Fl.forEach(s),zl.forEach(s),n=0;n<aa.length;n++)r=aa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<aa.length&&(n=aa[0],n.blockedOn===null);)ew(n),n.blockedOn===null&&aa.shift()}var ro=qr.ReactCurrentBatchConfig,Bd=!0;function GP(e,s,n,r){var a=lt,i=ro.transition;ro.transition=null;try{lt=1,sx(e,s,n,r)}finally{lt=a,ro.transition=i}}function KP(e,s,n,r){var a=lt,i=ro.transition;ro.transition=null;try{lt=4,sx(e,s,n,r)}finally{lt=a,ro.transition=i}}function sx(e,s,n,r){if(Bd){var a=Cf(e,s,n,r);if(a===null)dm(e,s,r,Wd,n),Bg(e,r);else if(HP(a,e,s,n,r))r.stopPropagation();else if(Bg(e,r),s&4&&-1<WP.indexOf(e)){for(;a!==null;){var i=gc(a);if(i!==null&&Xb(i),i=Cf(e,s,n,r),i===null&&dm(e,s,r,Wd,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else dm(e,s,r,null,n)}}var Wd=null;function Cf(e,s,n,r){if(Wd=null,e=Qp(r),e=Za(e),e!==null)if(s=yi(e),s===null)e=null;else if(n=s.tag,n===13){if(e=Ub(s),e!==null)return e;e=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return Wd=e,null}function tw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OP()){case Zp:return 1;case qb:return 4;case Vd:case $P:return 16;case Gb:return 536870912;default:return 16}default:return 16}}var la=null,nx=null,_d=null;function sw(){if(_d)return _d;var e,s=nx,n=s.length,r,a="value"in la?la.value:la.textContent,i=a.length;for(e=0;e<n&&s[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&s[n-r]===a[i-r];r++);return _d=a.slice(e,1<r?1-r:void 0)}function kd(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Yc(){return!0}function Hg(){return!1}function fn(e){function s(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yc:Hg,this.isPropagationStopped=Hg,this}return Tt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),s}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rx=fn(To),xc=Tt({},To,{view:0,detail:0}),YP=fn(xc),tm,sm,sl,$u=Tt({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ax,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sl&&(sl&&e.type==="mousemove"?(tm=e.screenX-sl.screenX,sm=e.screenY-sl.screenY):sm=tm=0,sl=e),tm)},movementY:function(e){return"movementY"in e?e.movementY:sm}}),qg=fn($u),XP=Tt({},$u,{dataTransfer:0}),JP=fn(XP),QP=Tt({},xc,{relatedTarget:0}),nm=fn(QP),ZP=Tt({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),eE=fn(ZP),tE=Tt({},To,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sE=fn(tE),nE=Tt({},To,{data:0}),Gg=fn(nE),rE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oE(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=iE[e])?!!s[e]:!1}function ax(){return oE}var lE=Tt({},xc,{key:function(e){if(e.key){var s=rE[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ax,charCode:function(e){return e.type==="keypress"?kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cE=fn(lE),dE=Tt({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=fn(dE),uE=Tt({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ax}),hE=fn(uE),mE=Tt({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),fE=fn(mE),pE=Tt({},$u,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xE=fn(pE),gE=[9,13,27,32],ix=Ir&&"CompositionEvent"in window,yl=null;Ir&&"documentMode"in document&&(yl=document.documentMode);var vE=Ir&&"TextEvent"in window&&!yl,nw=Ir&&(!ix||yl&&8<yl&&11>=yl),Yg=String.fromCharCode(32),Xg=!1;function rw(e,s){switch(e){case"keyup":return gE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function yE(e,s){switch(e){case"compositionend":return aw(s);case"keypress":return s.which!==32?null:(Xg=!0,Yg);case"textInput":return e=s.data,e===Yg&&Xg?null:e;default:return null}}function jE(e,s){if(Vi)return e==="compositionend"||!ix&&rw(e,s)?(e=sw(),_d=nx=la=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nw&&s.locale!=="ko"?null:s.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!bE[e.type]:s==="textarea"}function iw(e,s,n,r){Ib(r),s=Hd(s,"onChange"),0<s.length&&(n=new rx("onChange","change",null,n,r),e.push({event:n,listeners:s}))}var jl=null,Ul=null;function wE(e){gw(e,0)}function Iu(e){var s=Wi(e);if(Tb(s))return e}function NE(e,s){if(e==="change")return s}var ow=!1;if(Ir){var rm;if(Ir){var am="oninput"in document;if(!am){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),am=typeof Qg.oninput=="function"}rm=am}else rm=!1;ow=rm&&(!document.documentMode||9<document.documentMode)}function Zg(){jl&&(jl.detachEvent("onpropertychange",lw),Ul=jl=null)}function lw(e){if(e.propertyName==="value"&&Iu(Ul)){var s=[];iw(s,Ul,e,Qp(e)),Vb(wE,s)}}function SE(e,s,n){e==="focusin"?(Zg(),jl=s,Ul=n,jl.attachEvent("onpropertychange",lw)):e==="focusout"&&Zg()}function CE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Ul)}function _E(e,s){if(e==="click")return Iu(s)}function kE(e,s){if(e==="input"||e==="change")return Iu(s)}function PE(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var qn=typeof Object.is=="function"?Object.is:PE;function Bl(e,s){if(qn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var n=Object.keys(e),r=Object.keys(s);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!of.call(s,a)||!qn(e[a],s[a]))return!1}return!0}function ev(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tv(e,s){var n=ev(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=s&&r>=s)return{node:n,offset:s-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ev(n)}}function cw(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?cw(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function dw(){for(var e=window,s=Ld();s instanceof e.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)e=s.contentWindow;else break;s=Ld(e.document)}return s}function ox(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function EE(e){var s=dw(),n=e.focusedElem,r=e.selectionRange;if(s!==n&&n&&n.ownerDocument&&cw(n.ownerDocument.documentElement,n)){if(r!==null&&ox(n)){if(s=r.start,e=r.end,e===void 0&&(e=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(e,n.value.length);else if(e=(s=n.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=tv(n,i);var o=tv(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(s),e.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),e.addRange(s)))}}for(s=[],e=n;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)e=s[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TE=Ir&&"documentMode"in document&&11>=document.documentMode,Ui=null,_f=null,bl=null,kf=!1;function sv(e,s,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kf||Ui==null||Ui!==Ld(r)||(r=Ui,"selectionStart"in r&&ox(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&Bl(bl,r)||(bl=r,r=Hd(_f,"onSelect"),0<r.length&&(s=new rx("onSelect","select",null,s,n),e.push({event:s,listeners:r}),s.target=Ui)))}function Xc(e,s){var n={};return n[e.toLowerCase()]=s.toLowerCase(),n["Webkit"+e]="webkit"+s,n["Moz"+e]="moz"+s,n}var Bi={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},im={},uw={};Ir&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Lu(e){if(im[e])return im[e];if(!Bi[e])return e;var s=Bi[e],n;for(n in s)if(s.hasOwnProperty(n)&&n in uw)return im[e]=s[n];return e}var hw=Lu("animationend"),mw=Lu("animationiteration"),fw=Lu("animationstart"),pw=Lu("transitionend"),xw=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(e,s){xw.set(e,s),vi(s,[e])}for(var om=0;om<nv.length;om++){var lm=nv[om],AE=lm.toLowerCase(),RE=lm[0].toUpperCase()+lm.slice(1);Da(AE,"on"+RE)}Da(hw,"onAnimationEnd");Da(mw,"onAnimationIteration");Da(fw,"onAnimationStart");Da("dblclick","onDoubleClick");Da("focusin","onFocus");Da("focusout","onBlur");Da(pw,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ME=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function rv(e,s,n){var r=e.type||"unknown-event";e.currentTarget=n,AP(r,s,void 0,e),e.currentTarget=null}function gw(e,s){s=(s&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(s)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;rv(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;rv(a,l,d),i=c}}}if(zd)throw e=wf,zd=!1,wf=null,e}function vt(e,s){var n=s[Rf];n===void 0&&(n=s[Rf]=new Set);var r=e+"__bubble";n.has(r)||(vw(s,e,2,!1),n.add(r))}function cm(e,s,n){var r=0;s&&(r|=4),vw(n,e,r,s)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Wl(e){if(!e[Jc]){e[Jc]=!0,Cb.forEach(function(n){n!=="selectionchange"&&(ME.has(n)||cm(n,!1,e),cm(n,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Jc]||(s[Jc]=!0,cm("selectionchange",!1,s))}}function vw(e,s,n,r){switch(tw(s)){case 1:var a=GP;break;case 4:a=KP;break;default:a=sx}n=a.bind(null,s,n,e),a=void 0,!bf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(s,n,{capture:!0,passive:a}):e.addEventListener(s,n,!0):a!==void 0?e.addEventListener(s,n,{passive:a}):e.addEventListener(s,n,!1)}function dm(e,s,n,r,a){var i=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Za(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Vb(function(){var d=i,m=Qp(n),h=[];e:{var p=xw.get(e);if(p!==void 0){var v=rx,w=e;switch(e){case"keypress":if(kd(n)===0)break e;case"keydown":case"keyup":v=cE;break;case"focusin":w="focus",v=nm;break;case"focusout":w="blur",v=nm;break;case"beforeblur":case"afterblur":v=nm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=JP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hE;break;case hw:case mw:case fw:v=eE;break;case pw:v=fE;break;case"scroll":v=YP;break;case"wheel":v=xE;break;case"copy":case"cut":case"paste":v=sE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Kg}var g=(s&4)!==0,y=!g&&e==="scroll",f=g?p!==null?p+"Capture":null:p;g=[];for(var x=d,j;x!==null;){j=x;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,f!==null&&(N=Ll(x,f),N!=null&&g.push(Hl(x,N,j)))),y)break;x=x.return}0<g.length&&(p=new v(p,w,null,n,m),h.push({event:p,listeners:g}))}}if(!(s&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==yf&&(w=n.relatedTarget||n.fromElement)&&(Za(w)||w[Lr]))break e;if((v||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=d,w=w?Za(w):null,w!==null&&(y=yi(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=d),v!==w)){if(g=qg,N="onMouseLeave",f="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Kg,N="onPointerLeave",f="onPointerEnter",x="pointer"),y=v==null?p:Wi(v),j=w==null?p:Wi(w),p=new g(N,x+"leave",v,n,m),p.target=y,p.relatedTarget=j,N=null,Za(m)===d&&(g=new g(f,x+"enter",w,n,m),g.target=j,g.relatedTarget=y,N=g),y=N,v&&w)t:{for(g=v,f=w,x=0,j=g;j;j=Pi(j))x++;for(j=0,N=f;N;N=Pi(N))j++;for(;0<x-j;)g=Pi(g),x--;for(;0<j-x;)f=Pi(f),j--;for(;x--;){if(g===f||f!==null&&g===f.alternate)break t;g=Pi(g),f=Pi(f)}g=null}else g=null;v!==null&&av(h,p,v,g,!1),w!==null&&y!==null&&av(h,y,w,g,!0)}}e:{if(p=d?Wi(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var S=NE;else if(Jg(p))if(ow)S=kE;else{S=CE;var A=SE}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=_E);if(S&&(S=S(e,d))){iw(h,S,n,m);break e}A&&A(e,p,d),e==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&ff(p,"number",p.value)}switch(A=d?Wi(d):window,e){case"focusin":(Jg(A)||A.contentEditable==="true")&&(Ui=A,_f=d,bl=null);break;case"focusout":bl=_f=Ui=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,sv(h,n,m);break;case"selectionchange":if(TE)break;case"keydown":case"keyup":sv(h,n,m)}var C;if(ix)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vi?rw(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(nw&&n.locale!=="ko"&&(Vi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Vi&&(C=sw()):(la=m,nx="value"in la?la.value:la.textContent,Vi=!0)),A=Hd(d,k),0<A.length&&(k=new Gg(k,e,null,n,m),h.push({event:k,listeners:A}),C?k.data=C:(C=aw(n),C!==null&&(k.data=C)))),(C=vE?yE(e,n):jE(e,n))&&(d=Hd(d,"onBeforeInput"),0<d.length&&(m=new Gg("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:d}),m.data=C))}gw(h,s)})}function Hl(e,s,n){return{instance:e,listener:s,currentTarget:n}}function Hd(e,s){for(var n=s+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ll(e,n),i!=null&&r.unshift(Hl(e,i,a)),i=Ll(e,s),i!=null&&r.push(Hl(e,i,a))),e=e.return}return r}function Pi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function av(e,s,n,r,a){for(var i=s._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Ll(n,i),c!=null&&o.unshift(Hl(n,c,l))):a||(c=Ll(n,i),c!=null&&o.push(Hl(n,c,l)))),n=n.return}o.length!==0&&e.push({event:s,listeners:o})}var DE=/\r\n?/g,OE=/\u0000|\uFFFD/g;function iv(e){return(typeof e=="string"?e:""+e).replace(DE,`
`).replace(OE,"")}function Qc(e,s,n){if(s=iv(s),iv(e)!==s&&n)throw Error(xe(425))}function qd(){}var Pf=null,Ef=null;function Tf(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Af=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,IE=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(e){return ov.resolve(null).then(e).catch(LE)}:Af;function LE(e){setTimeout(function(){throw e})}function um(e,s){var n=s,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Vl(s);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Vl(s)}function pa(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function lv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return e;s--}else n==="/$"&&s++}e=e.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),ar="__reactFiber$"+Ao,ql="__reactProps$"+Ao,Lr="__reactContainer$"+Ao,Rf="__reactEvents$"+Ao,FE="__reactListeners$"+Ao,zE="__reactHandles$"+Ao;function Za(e){var s=e[ar];if(s)return s;for(var n=e.parentNode;n;){if(s=n[Lr]||n[ar]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(e=lv(e);e!==null;){if(n=e[ar])return n;e=lv(e)}return s}e=n,n=e.parentNode}return null}function gc(e){return e=e[ar]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function Fu(e){return e[ql]||null}var Mf=[],Hi=-1;function Oa(e){return{current:e}}function jt(e){0>Hi||(e.current=Mf[Hi],Mf[Hi]=null,Hi--)}function ct(e,s){Hi++,Mf[Hi]=e.current,e.current=s}var Ca={},Ts=Oa(Ca),Ks=Oa(!1),li=Ca;function xo(e,s){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=s[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ys(e){return e=e.childContextTypes,e!=null}function Gd(){jt(Ks),jt(Ts)}function cv(e,s,n){if(Ts.current!==Ca)throw Error(xe(168));ct(Ts,s),ct(Ks,n)}function yw(e,s,n){var r=e.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in s))throw Error(xe(108,SP(e)||"Unknown",a));return Tt({},n,r)}function Kd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,li=Ts.current,ct(Ts,e),ct(Ks,Ks.current),!0}function dv(e,s,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=yw(e,s,li),r.__reactInternalMemoizedMergedChildContext=e,jt(Ks),jt(Ts),ct(Ts,e)):jt(Ks),ct(Ks,n)}var _r=null,zu=!1,hm=!1;function jw(e){_r===null?_r=[e]:_r.push(e)}function VE(e){zu=!0,jw(e)}function $a(){if(!hm&&_r!==null){hm=!0;var e=0,s=lt;try{var n=_r;for(lt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_r=null,zu=!1}catch(a){throw _r!==null&&(_r=_r.slice(e+1)),Hb(Zp,$a),a}finally{lt=s,hm=!1}}return null}var qi=[],Gi=0,Yd=null,Xd=0,jn=[],bn=0,ci=null,kr=1,Pr="";function Ga(e,s){qi[Gi++]=Xd,qi[Gi++]=Yd,Yd=e,Xd=s}function bw(e,s,n){jn[bn++]=kr,jn[bn++]=Pr,jn[bn++]=ci,ci=e;var r=kr;e=Pr;var a=32-Un(r)-1;r&=~(1<<a),n+=1;var i=32-Un(s)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,kr=1<<32-Un(s)+a|n<<a|r,Pr=i+e}else kr=1<<i|n<<a|r,Pr=e}function lx(e){e.return!==null&&(Ga(e,1),bw(e,1,0))}function cx(e){for(;e===Yd;)Yd=qi[--Gi],qi[Gi]=null,Xd=qi[--Gi],qi[Gi]=null;for(;e===ci;)ci=jn[--bn],jn[bn]=null,Pr=jn[--bn],jn[bn]=null,kr=jn[--bn],jn[bn]=null}var ln=null,on=null,Nt=!1,Vn=null;function ww(e,s){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=e,s=e.deletions,s===null?(e.deletions=[n],e.flags|=16):s.push(n)}function uv(e,s){switch(e.tag){case 5:var n=e.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,ln=e,on=pa(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,ln=e,on=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=ci!==null?{id:kr,overflow:Pr}:null,e.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=s,n.return=e,e.child=n,ln=e,on=null,!0):!1;default:return!1}}function Df(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Of(e){if(Nt){var s=on;if(s){var n=s;if(!uv(e,s)){if(Df(e))throw Error(xe(418));s=pa(n.nextSibling);var r=ln;s&&uv(e,s)?ww(r,n):(e.flags=e.flags&-4097|2,Nt=!1,ln=e)}}else{if(Df(e))throw Error(xe(418));e.flags=e.flags&-4097|2,Nt=!1,ln=e}}}function hv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function Zc(e){if(e!==ln)return!1;if(!Nt)return hv(e),Nt=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Tf(e.type,e.memoizedProps)),s&&(s=on)){if(Df(e))throw Nw(),Error(xe(418));for(;s;)ww(e,s),s=pa(s.nextSibling)}if(hv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(s===0){on=pa(e.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}e=e.nextSibling}on=null}}else on=ln?pa(e.stateNode.nextSibling):null;return!0}function Nw(){for(var e=on;e;)e=pa(e.nextSibling)}function go(){on=ln=null,Nt=!1}function dx(e){Vn===null?Vn=[e]:Vn.push(e)}var UE=qr.ReactCurrentBatchConfig;function nl(e,s,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var a=r,i=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function ed(e,s){throw e=Object.prototype.toString.call(s),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function mv(e){var s=e._init;return s(e._payload)}function Sw(e){function s(f,x){if(e){var j=f.deletions;j===null?(f.deletions=[x],f.flags|=16):j.push(x)}}function n(f,x){if(!e)return null;for(;x!==null;)s(f,x),x=x.sibling;return null}function r(f,x){for(f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function a(f,x){return f=ya(f,x),f.index=0,f.sibling=null,f}function i(f,x,j){return f.index=j,e?(j=f.alternate,j!==null?(j=j.index,j<x?(f.flags|=2,x):j):(f.flags|=2,x)):(f.flags|=1048576,x)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,x,j,N){return x===null||x.tag!==6?(x=ym(j,f.mode,N),x.return=f,x):(x=a(x,j),x.return=f,x)}function c(f,x,j,N){var S=j.type;return S===zi?m(f,x,j.props.children,N,j.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ta&&mv(S)===x.type)?(N=a(x,j.props),N.ref=nl(f,x,j),N.return=f,N):(N=Dd(j.type,j.key,j.props,null,f.mode,N),N.ref=nl(f,x,j),N.return=f,N)}function d(f,x,j,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=jm(j,f.mode,N),x.return=f,x):(x=a(x,j.children||[]),x.return=f,x)}function m(f,x,j,N,S){return x===null||x.tag!==7?(x=ai(j,f.mode,N,S),x.return=f,x):(x=a(x,j),x.return=f,x)}function h(f,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ym(""+x,f.mode,j),x.return=f,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bc:return j=Dd(x.type,x.key,x.props,null,f.mode,j),j.ref=nl(f,null,x),j.return=f,j;case Fi:return x=jm(x,f.mode,j),x.return=f,x;case ta:var N=x._init;return h(f,N(x._payload),j)}if(hl(x)||Qo(x))return x=ai(x,f.mode,j,null),x.return=f,x;ed(f,x)}return null}function p(f,x,j,N){var S=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(f,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Bc:return j.key===S?c(f,x,j,N):null;case Fi:return j.key===S?d(f,x,j,N):null;case ta:return S=j._init,p(f,x,S(j._payload),N)}if(hl(j)||Qo(j))return S!==null?null:m(f,x,j,N,null);ed(f,j)}return null}function v(f,x,j,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return f=f.get(j)||null,l(x,f,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Bc:return f=f.get(N.key===null?j:N.key)||null,c(x,f,N,S);case Fi:return f=f.get(N.key===null?j:N.key)||null,d(x,f,N,S);case ta:var A=N._init;return v(f,x,j,A(N._payload),S)}if(hl(N)||Qo(N))return f=f.get(j)||null,m(x,f,N,S,null);ed(x,N)}return null}function w(f,x,j,N){for(var S=null,A=null,C=x,k=x=0,M=null;C!==null&&k<j.length;k++){C.index>k?(M=C,C=null):M=C.sibling;var P=p(f,C,j[k],N);if(P===null){C===null&&(C=M);break}e&&C&&P.alternate===null&&s(f,C),x=i(P,x,k),A===null?S=P:A.sibling=P,A=P,C=M}if(k===j.length)return n(f,C),Nt&&Ga(f,k),S;if(C===null){for(;k<j.length;k++)C=h(f,j[k],N),C!==null&&(x=i(C,x,k),A===null?S=C:A.sibling=C,A=C);return Nt&&Ga(f,k),S}for(C=r(f,C);k<j.length;k++)M=v(C,f,k,j[k],N),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?k:M.key),x=i(M,x,k),A===null?S=M:A.sibling=M,A=M);return e&&C.forEach(function(D){return s(f,D)}),Nt&&Ga(f,k),S}function g(f,x,j,N){var S=Qo(j);if(typeof S!="function")throw Error(xe(150));if(j=S.call(j),j==null)throw Error(xe(151));for(var A=S=null,C=x,k=x=0,M=null,P=j.next();C!==null&&!P.done;k++,P=j.next()){C.index>k?(M=C,C=null):M=C.sibling;var D=p(f,C,P.value,N);if(D===null){C===null&&(C=M);break}e&&C&&D.alternate===null&&s(f,C),x=i(D,x,k),A===null?S=D:A.sibling=D,A=D,C=M}if(P.done)return n(f,C),Nt&&Ga(f,k),S;if(C===null){for(;!P.done;k++,P=j.next())P=h(f,P.value,N),P!==null&&(x=i(P,x,k),A===null?S=P:A.sibling=P,A=P);return Nt&&Ga(f,k),S}for(C=r(f,C);!P.done;k++,P=j.next())P=v(C,f,k,P.value,N),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),x=i(P,x,k),A===null?S=P:A.sibling=P,A=P);return e&&C.forEach(function(I){return s(f,I)}),Nt&&Ga(f,k),S}function y(f,x,j,N){if(typeof j=="object"&&j!==null&&j.type===zi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Bc:e:{for(var S=j.key,A=x;A!==null;){if(A.key===S){if(S=j.type,S===zi){if(A.tag===7){n(f,A.sibling),x=a(A,j.props.children),x.return=f,f=x;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ta&&mv(S)===A.type){n(f,A.sibling),x=a(A,j.props),x.ref=nl(f,A,j),x.return=f,f=x;break e}n(f,A);break}else s(f,A);A=A.sibling}j.type===zi?(x=ai(j.props.children,f.mode,N,j.key),x.return=f,f=x):(N=Dd(j.type,j.key,j.props,null,f.mode,N),N.ref=nl(f,x,j),N.return=f,f=N)}return o(f);case Fi:e:{for(A=j.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){n(f,x.sibling),x=a(x,j.children||[]),x.return=f,f=x;break e}else{n(f,x);break}else s(f,x);x=x.sibling}x=jm(j,f.mode,N),x.return=f,f=x}return o(f);case ta:return A=j._init,y(f,x,A(j._payload),N)}if(hl(j))return w(f,x,j,N);if(Qo(j))return g(f,x,j,N);ed(f,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,x!==null&&x.tag===6?(n(f,x.sibling),x=a(x,j),x.return=f,f=x):(n(f,x),x=ym(j,f.mode,N),x.return=f,f=x),o(f)):n(f,x)}return y}var vo=Sw(!0),Cw=Sw(!1),Jd=Oa(null),Qd=null,Ki=null,ux=null;function hx(){ux=Ki=Qd=null}function mx(e){var s=Jd.current;jt(Jd),e._currentValue=s}function $f(e,s,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),e===n)break;e=e.return}}function ao(e,s){Qd=e,ux=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Gs=!0),e.firstContext=null)}function Pn(e){var s=e._currentValue;if(ux!==e)if(e={context:e,memoizedValue:s,next:null},Ki===null){if(Qd===null)throw Error(xe(308));Ki=e,Qd.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return s}var ei=null;function fx(e){ei===null?ei=[e]:ei.push(e)}function _w(e,s,n,r){var a=s.interleaved;return a===null?(n.next=n,fx(s)):(n.next=a.next,a.next=n),s.interleaved=n,Fr(e,r)}function Fr(e,s){e.lanes|=s;var n=e.alternate;for(n!==null&&(n.lanes|=s),n=e,e=e.return;e!==null;)e.childLanes|=s,n=e.alternate,n!==null&&(n.childLanes|=s),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sa=!1;function px(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kw(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function xa(e,s,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var a=r.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s,Fr(e,n)}return a=r.interleaved,a===null?(s.next=s,fx(r)):(s.next=a.next,a.next=s),r.interleaved=s,Fr(e,n)}function Pd(e,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var r=s.lanes;r&=e.pendingLanes,n|=r,s.lanes=n,ex(e,n)}}function fv(e,s){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=s:i=i.next=s}else a=i=s;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=s:e.next=s,n.lastBaseUpdate=s}function Zd(e,s,n,r){var a=e.updateQueue;sa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,m=d=c=null,l=i;do{var p=l.lane,v=l.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(p=s,v=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(v,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,p=typeof w=="function"?w.call(v,h,p):w,p==null)break e;h=Tt({},h,p);break e;case 2:sa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=v,c=h):m=m.next=v,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(1);if(m===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,s=a.shared.interleaved,s!==null){a=s;do o|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);ui|=o,e.lanes=o,e.memoizedState=h}}function pv(e,s,n){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var r=e[s],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(xe(191,a));a.call(r)}}}var vc={},cr=Oa(vc),Gl=Oa(vc),Kl=Oa(vc);function ti(e){if(e===vc)throw Error(xe(174));return e}function xx(e,s){switch(ct(Kl,s),ct(Gl,e),ct(cr,vc),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:xf(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=xf(s,e)}jt(cr),ct(cr,s)}function yo(){jt(cr),jt(Gl),jt(Kl)}function Pw(e){ti(Kl.current);var s=ti(cr.current),n=xf(s,e.type);s!==n&&(ct(Gl,e),ct(cr,n))}function gx(e){Gl.current===e&&(jt(cr),jt(Gl))}var kt=Oa(0);function eu(e){for(var s=e;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mm=[];function vx(){for(var e=0;e<mm.length;e++)mm[e]._workInProgressVersionPrimary=null;mm.length=0}var Ed=qr.ReactCurrentDispatcher,fm=qr.ReactCurrentBatchConfig,di=0,Et=null,qt=null,Zt=null,tu=!1,wl=!1,Yl=0,BE=0;function vs(){throw Error(xe(321))}function yx(e,s){if(s===null)return!1;for(var n=0;n<s.length&&n<e.length;n++)if(!qn(e[n],s[n]))return!1;return!0}function jx(e,s,n,r,a,i){if(di=i,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ed.current=e===null||e.memoizedState===null?GE:KE,e=n(r,a),wl){i=0;do{if(wl=!1,Yl=0,25<=i)throw Error(xe(301));i+=1,Zt=qt=null,s.updateQueue=null,Ed.current=YE,e=n(r,a)}while(wl)}if(Ed.current=su,s=qt!==null&&qt.next!==null,di=0,Zt=qt=Et=null,tu=!1,s)throw Error(xe(300));return e}function bx(){var e=Yl!==0;return Yl=0,e}function tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Et.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function En(){if(qt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var s=Zt===null?Et.memoizedState:Zt.next;if(s!==null)Zt=s,qt=e;else{if(e===null)throw Error(xe(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Zt===null?Et.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function Xl(e,s){return typeof s=="function"?s(e):s}function pm(e){var s=En(),n=s.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=qt,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var m=d.lane;if((di&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Et.lanes|=m,ui|=m}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,qn(r,s.memoizedState)||(Gs=!0),s.memoizedState=r,s.baseState=o,s.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Et.lanes|=i,ui|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function xm(e){var s=En(),n=s.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=s.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);qn(i,s.memoizedState)||(Gs=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),n.lastRenderedState=i}return[i,r]}function Ew(){}function Tw(e,s){var n=Et,r=En(),a=s(),i=!qn(r.memoizedState,a);if(i&&(r.memoizedState=a,Gs=!0),r=r.queue,wx(Mw.bind(null,n,r,e),[e]),r.getSnapshot!==s||i||Zt!==null&&Zt.memoizedState.tag&1){if(n.flags|=2048,Jl(9,Rw.bind(null,n,r,a,s),void 0,null),ts===null)throw Error(xe(349));di&30||Aw(n,s,a)}return a}function Aw(e,s,n){e.flags|=16384,e={getSnapshot:s,value:n},s=Et.updateQueue,s===null?(s={lastEffect:null,stores:null},Et.updateQueue=s,s.stores=[e]):(n=s.stores,n===null?s.stores=[e]:n.push(e))}function Rw(e,s,n,r){s.value=n,s.getSnapshot=r,Dw(s)&&Ow(e)}function Mw(e,s,n){return n(function(){Dw(s)&&Ow(e)})}function Dw(e){var s=e.getSnapshot;e=e.value;try{var n=s();return!qn(e,n)}catch{return!0}}function Ow(e){var s=Fr(e,1);s!==null&&Bn(s,e,1,-1)}function xv(e){var s=tr();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:e},s.queue=e,e=e.dispatch=qE.bind(null,Et,e),[s.memoizedState,e]}function Jl(e,s,n,r){return e={tag:e,create:s,destroy:n,deps:r,next:null},s=Et.updateQueue,s===null?(s={lastEffect:null,stores:null},Et.updateQueue=s,s.lastEffect=e.next=e):(n=s.lastEffect,n===null?s.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,s.lastEffect=e)),e}function $w(){return En().memoizedState}function Td(e,s,n,r){var a=tr();Et.flags|=e,a.memoizedState=Jl(1|s,n,void 0,r===void 0?null:r)}function Vu(e,s,n,r){var a=En();r=r===void 0?null:r;var i=void 0;if(qt!==null){var o=qt.memoizedState;if(i=o.destroy,r!==null&&yx(r,o.deps)){a.memoizedState=Jl(s,n,i,r);return}}Et.flags|=e,a.memoizedState=Jl(1|s,n,i,r)}function gv(e,s){return Td(8390656,8,e,s)}function wx(e,s){return Vu(2048,8,e,s)}function Iw(e,s){return Vu(4,2,e,s)}function Lw(e,s){return Vu(4,4,e,s)}function Fw(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function zw(e,s,n){return n=n!=null?n.concat([e]):null,Vu(4,4,Fw.bind(null,s,e),n)}function Nx(){}function Vw(e,s){var n=En();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&yx(s,r[1])?r[0]:(n.memoizedState=[e,s],e)}function Uw(e,s){var n=En();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&yx(s,r[1])?r[0]:(e=e(),n.memoizedState=[e,s],e)}function Bw(e,s,n){return di&21?(qn(n,s)||(n=Kb(),Et.lanes|=n,ui|=n,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Gs=!0),e.memoizedState=n)}function WE(e,s){var n=lt;lt=n!==0&&4>n?n:4,e(!0);var r=fm.transition;fm.transition={};try{e(!1),s()}finally{lt=n,fm.transition=r}}function Ww(){return En().memoizedState}function HE(e,s,n){var r=va(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hw(e))qw(s,n);else if(n=_w(e,s,n,r),n!==null){var a=Fs();Bn(n,e,r,a),Gw(n,s,r)}}function qE(e,s,n){var r=va(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hw(e))qw(s,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,qn(l,o)){var c=s.interleaved;c===null?(a.next=a,fx(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}n=_w(e,s,a,r),n!==null&&(a=Fs(),Bn(n,e,r,a),Gw(n,s,r))}}function Hw(e){var s=e.alternate;return e===Et||s!==null&&s===Et}function qw(e,s){wl=tu=!0;var n=e.pending;n===null?s.next=s:(s.next=n.next,n.next=s),e.pending=s}function Gw(e,s,n){if(n&4194240){var r=s.lanes;r&=e.pendingLanes,n|=r,s.lanes=n,ex(e,n)}}var su={readContext:Pn,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useInsertionEffect:vs,useLayoutEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useMutableSource:vs,useSyncExternalStore:vs,useId:vs,unstable_isNewReconciler:!1},GE={readContext:Pn,useCallback:function(e,s){return tr().memoizedState=[e,s===void 0?null:s],e},useContext:Pn,useEffect:gv,useImperativeHandle:function(e,s,n){return n=n!=null?n.concat([e]):null,Td(4194308,4,Fw.bind(null,s,e),n)},useLayoutEffect:function(e,s){return Td(4194308,4,e,s)},useInsertionEffect:function(e,s){return Td(4,2,e,s)},useMemo:function(e,s){var n=tr();return s=s===void 0?null:s,e=e(),n.memoizedState=[e,s],e},useReducer:function(e,s,n){var r=tr();return s=n!==void 0?n(s):s,r.memoizedState=r.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=HE.bind(null,Et,e),[r.memoizedState,e]},useRef:function(e){var s=tr();return e={current:e},s.memoizedState=e},useState:xv,useDebugValue:Nx,useDeferredValue:function(e){return tr().memoizedState=e},useTransition:function(){var e=xv(!1),s=e[0];return e=WE.bind(null,e[1]),tr().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,n){var r=Et,a=tr();if(Nt){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=s(),ts===null)throw Error(xe(349));di&30||Aw(r,s,n)}a.memoizedState=n;var i={value:n,getSnapshot:s};return a.queue=i,gv(Mw.bind(null,r,i,e),[e]),r.flags|=2048,Jl(9,Rw.bind(null,r,i,n,s),void 0,null),n},useId:function(){var e=tr(),s=ts.identifierPrefix;if(Nt){var n=Pr,r=kr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,s=":"+s+"R"+n,n=Yl++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=BE++,s=":"+s+"r"+n.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},KE={readContext:Pn,useCallback:Vw,useContext:Pn,useEffect:wx,useImperativeHandle:zw,useInsertionEffect:Iw,useLayoutEffect:Lw,useMemo:Uw,useReducer:pm,useRef:$w,useState:function(){return pm(Xl)},useDebugValue:Nx,useDeferredValue:function(e){var s=En();return Bw(s,qt.memoizedState,e)},useTransition:function(){var e=pm(Xl)[0],s=En().memoizedState;return[e,s]},useMutableSource:Ew,useSyncExternalStore:Tw,useId:Ww,unstable_isNewReconciler:!1},YE={readContext:Pn,useCallback:Vw,useContext:Pn,useEffect:wx,useImperativeHandle:zw,useInsertionEffect:Iw,useLayoutEffect:Lw,useMemo:Uw,useReducer:xm,useRef:$w,useState:function(){return xm(Xl)},useDebugValue:Nx,useDeferredValue:function(e){var s=En();return qt===null?s.memoizedState=e:Bw(s,qt.memoizedState,e)},useTransition:function(){var e=xm(Xl)[0],s=En().memoizedState;return[e,s]},useMutableSource:Ew,useSyncExternalStore:Tw,useId:Ww,unstable_isNewReconciler:!1};function Fn(e,s){if(e&&e.defaultProps){s=Tt({},s),e=e.defaultProps;for(var n in e)s[n]===void 0&&(s[n]=e[n]);return s}return s}function If(e,s,n,r){s=e.memoizedState,n=n(r,s),n=n==null?s:Tt({},s,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Uu={isMounted:function(e){return(e=e._reactInternals)?yi(e)===e:!1},enqueueSetState:function(e,s,n){e=e._reactInternals;var r=Fs(),a=va(e),i=Mr(r,a);i.payload=s,n!=null&&(i.callback=n),s=xa(e,i,a),s!==null&&(Bn(s,e,a,r),Pd(s,e,a))},enqueueReplaceState:function(e,s,n){e=e._reactInternals;var r=Fs(),a=va(e),i=Mr(r,a);i.tag=1,i.payload=s,n!=null&&(i.callback=n),s=xa(e,i,a),s!==null&&(Bn(s,e,a,r),Pd(s,e,a))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var n=Fs(),r=va(e),a=Mr(n,r);a.tag=2,s!=null&&(a.callback=s),s=xa(e,a,r),s!==null&&(Bn(s,e,r,n),Pd(s,e,r))}};function vv(e,s,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):s.prototype&&s.prototype.isPureReactComponent?!Bl(n,r)||!Bl(a,i):!0}function Kw(e,s,n){var r=!1,a=Ca,i=s.contextType;return typeof i=="object"&&i!==null?i=Pn(i):(a=Ys(s)?li:Ts.current,r=s.contextTypes,i=(r=r!=null)?xo(e,a):Ca),s=new s(n,i),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Uu,e.stateNode=s,s._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),s}function yv(e,s,n,r){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,r),s.state!==e&&Uu.enqueueReplaceState(s,s.state,null)}function Lf(e,s,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},px(e);var i=s.contextType;typeof i=="object"&&i!==null?a.context=Pn(i):(i=Ys(s)?li:Ts.current,a.context=xo(e,i)),a.state=e.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(If(e,s,i,n),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Uu.enqueueReplaceState(a,a.state,null),Zd(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function jo(e,s){try{var n="",r=s;do n+=NP(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:s,stack:a,digest:null}}function gm(e,s,n){return{value:e,source:null,stack:n??null,digest:s??null}}function Ff(e,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var XE=typeof WeakMap=="function"?WeakMap:Map;function Yw(e,s,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=s.value;return n.callback=function(){ru||(ru=!0,Yf=r),Ff(e,s)},n}function Xw(e,s,n){n=Mr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;n.payload=function(){return r(a)},n.callback=function(){Ff(e,s)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ff(e,s),typeof r!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),n}function jv(e,s,n){var r=e.pingCache;if(r===null){r=e.pingCache=new XE;var a=new Set;r.set(s,a)}else a=r.get(s),a===void 0&&(a=new Set,r.set(s,a));a.has(n)||(a.add(n),e=d3.bind(null,e,s,n),s.then(e,e))}function bv(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function wv(e,s,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===s?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=Mr(-1,1),s.tag=2,xa(n,s,1))),n.lanes|=1),e)}var JE=qr.ReactCurrentOwner,Gs=!1;function Os(e,s,n,r){s.child=e===null?Cw(s,null,n,r):vo(s,e.child,n,r)}function Nv(e,s,n,r,a){n=n.render;var i=s.ref;return ao(s,a),r=jx(e,s,n,r,i,a),n=bx(),e!==null&&!Gs?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,zr(e,s,a)):(Nt&&n&&lx(s),s.flags|=1,Os(e,s,r,a),s.child)}function Sv(e,s,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Ax(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=i,Jw(e,s,i,r,a)):(e=Dd(n.type,null,r,s,s.mode,a),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(o,r)&&e.ref===s.ref)return zr(e,s,a)}return s.flags|=1,e=ya(i,r),e.ref=s.ref,e.return=s,s.child=e}function Jw(e,s,n,r,a){if(e!==null){var i=e.memoizedProps;if(Bl(i,r)&&e.ref===s.ref)if(Gs=!1,s.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Gs=!0);else return s.lanes=e.lanes,zr(e,s,a)}return zf(e,s,n,r,a)}function Qw(e,s,n){var r=s.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Xi,nn),nn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,ct(Xi,nn),nn|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ct(Xi,nn),nn|=r}else i!==null?(r=i.baseLanes|n,s.memoizedState=null):r=n,ct(Xi,nn),nn|=r;return Os(e,s,a,n),s.child}function Zw(e,s){var n=s.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function zf(e,s,n,r,a){var i=Ys(n)?li:Ts.current;return i=xo(s,i),ao(s,a),n=jx(e,s,n,r,i,a),r=bx(),e!==null&&!Gs?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,zr(e,s,a)):(Nt&&r&&lx(s),s.flags|=1,Os(e,s,n,a),s.child)}function Cv(e,s,n,r,a){if(Ys(n)){var i=!0;Kd(s)}else i=!1;if(ao(s,a),s.stateNode===null)Ad(e,s),Kw(s,n,r),Lf(s,n,r,a),r=!0;else if(e===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Pn(d):(d=Ys(n)?li:Ts.current,d=xo(s,d));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&yv(s,o,r,d),sa=!1;var p=s.memoizedState;o.state=p,Zd(s,r,o,a),c=s.memoizedState,l!==r||p!==c||Ks.current||sa?(typeof m=="function"&&(If(s,n,m,r),c=s.memoizedState),(l=sa||vv(s,n,l,r,p,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{o=s.stateNode,kw(e,s),l=s.memoizedProps,d=s.type===s.elementType?l:Fn(s.type,l),o.props=d,h=s.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pn(c):(c=Ys(n)?li:Ts.current,c=xo(s,c));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&yv(s,o,r,c),sa=!1,p=s.memoizedState,o.state=p,Zd(s,r,o,a);var w=s.memoizedState;l!==h||p!==w||Ks.current||sa?(typeof v=="function"&&(If(s,n,v,r),w=s.memoizedState),(d=sa||vv(s,n,d,r,p,w,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=w),o.props=r,o.state=w,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=1024),r=!1)}return Vf(e,s,n,r,i,a)}function Vf(e,s,n,r,a,i){Zw(e,s);var o=(s.flags&128)!==0;if(!r&&!o)return a&&dv(s,n,!1),zr(e,s,i);r=s.stateNode,JE.current=s;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,e!==null&&o?(s.child=vo(s,e.child,null,i),s.child=vo(s,null,l,i)):Os(e,s,l,i),s.memoizedState=r.state,a&&dv(s,n,!0),s.child}function eN(e){var s=e.stateNode;s.pendingContext?cv(e,s.pendingContext,s.pendingContext!==s.context):s.context&&cv(e,s.context,!1),xx(e,s.containerInfo)}function _v(e,s,n,r,a){return go(),dx(a),s.flags|=256,Os(e,s,n,r),s.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function Bf(e){return{baseLanes:e,cachePool:null,transitions:null}}function tN(e,s,n){var r=s.pendingProps,a=kt.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ct(kt,a&1),e===null)return Of(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=r.children,e=r.fallback,i?(r=s.mode,i=s.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hu(o,r,0,null),e=ai(e,r,n,null),i.return=s,e.return=s,i.sibling=e,s.child=i,s.child.memoizedState=Bf(n),s.memoizedState=Uf,e):Sx(s,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return QE(e,s,o,r,l,a,n);if(i){i=r.fallback,o=s.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&s.child!==a?(r=s.child,r.childLanes=0,r.pendingProps=c,s.deletions=null):(r=ya(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ya(l,i):(i=ai(i,o,n,null),i.flags|=2),i.return=s,r.return=s,r.sibling=i,s.child=r,r=i,i=s.child,o=e.child.memoizedState,o=o===null?Bf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,s.memoizedState=Uf,r}return i=e.child,e=i.sibling,r=ya(i,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=n),r.return=s,r.sibling=null,e!==null&&(n=s.deletions,n===null?(s.deletions=[e],s.flags|=16):n.push(e)),s.child=r,s.memoizedState=null,r}function Sx(e,s){return s=Hu({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function td(e,s,n,r){return r!==null&&dx(r),vo(s,e.child,null,n),e=Sx(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function QE(e,s,n,r,a,i,o){if(n)return s.flags&256?(s.flags&=-257,r=gm(Error(xe(422))),td(e,s,o,r)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(i=r.fallback,a=s.mode,r=Hu({mode:"visible",children:r.children},a,0,null),i=ai(i,a,o,null),i.flags|=2,r.return=s,i.return=s,r.sibling=i,s.child=r,s.mode&1&&vo(s,e.child,null,o),s.child.memoizedState=Bf(o),s.memoizedState=Uf,i);if(!(s.mode&1))return td(e,s,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(xe(419)),r=gm(i,r,void 0),td(e,s,o,r)}if(l=(o&e.childLanes)!==0,Gs||l){if(r=ts,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Fr(e,a),Bn(r,e,a,-1))}return Tx(),r=gm(Error(xe(421))),td(e,s,o,r)}return a.data==="$?"?(s.flags|=128,s.child=e.child,s=u3.bind(null,e),a._reactRetry=s,null):(e=i.treeContext,on=pa(a.nextSibling),ln=s,Nt=!0,Vn=null,e!==null&&(jn[bn++]=kr,jn[bn++]=Pr,jn[bn++]=ci,kr=e.id,Pr=e.overflow,ci=s),s=Sx(s,r.children),s.flags|=4096,s)}function kv(e,s,n){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s),$f(e.return,s,n)}function vm(e,s,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function sN(e,s,n){var r=s.pendingProps,a=r.revealOrder,i=r.tail;if(Os(e,s,r.children,n),r=kt.current,r&2)r=r&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kv(e,n,s);else if(e.tag===19)kv(e,n,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ct(kt,r),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(n=s.child,a=null;n!==null;)e=n.alternate,e!==null&&eu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=s.child,s.child=null):(a=n.sibling,n.sibling=null),vm(s,!1,a,n,i);break;case"backwards":for(n=null,a=s.child,s.child=null;a!==null;){if(e=a.alternate,e!==null&&eu(e)===null){s.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}vm(s,!0,n,null,i);break;case"together":vm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ad(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function zr(e,s,n){if(e!==null&&(s.dependencies=e.dependencies),ui|=s.lanes,!(n&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(xe(153));if(s.child!==null){for(e=s.child,n=ya(e,e.pendingProps),s.child=n,n.return=s;e.sibling!==null;)e=e.sibling,n=n.sibling=ya(e,e.pendingProps),n.return=s;n.sibling=null}return s.child}function ZE(e,s,n){switch(s.tag){case 3:eN(s),go();break;case 5:Pw(s);break;case 1:Ys(s.type)&&Kd(s);break;case 4:xx(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,a=s.memoizedProps.value;ct(Jd,r._currentValue),r._currentValue=a;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(ct(kt,kt.current&1),s.flags|=128,null):n&s.child.childLanes?tN(e,s,n):(ct(kt,kt.current&1),e=zr(e,s,n),e!==null?e.sibling:null);ct(kt,kt.current&1);break;case 19:if(r=(n&s.childLanes)!==0,e.flags&128){if(r)return sN(e,s,n);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ct(kt,kt.current),r)break;return null;case 22:case 23:return s.lanes=0,Qw(e,s,n)}return zr(e,s,n)}var nN,Wf,rN,aN;nN=function(e,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wf=function(){};rN=function(e,s,n,r){var a=e.memoizedProps;if(a!==r){e=s.stateNode,ti(cr.current);var i=null;switch(n){case"input":a=hf(e,a),r=hf(e,r),i=[];break;case"select":a=Tt({},a,{value:void 0}),r=Tt({},r,{value:void 0}),i=[];break;case"textarea":a=pf(e,a),r=pf(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qd)}gf(n,r);var o;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($l.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&vt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};aN=function(e,s,n,r){n!==r&&(s.flags|=4)};function rl(e,s){if(!Nt)switch(e.tailMode){case"hidden":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ys(e){var s=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(s)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,s}function e3(e,s,n){var r=s.pendingProps;switch(cx(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(s),null;case 1:return Ys(s.type)&&Gd(),ys(s),null;case 3:return r=s.stateNode,yo(),jt(Ks),jt(Ts),vx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zc(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Vn!==null&&(Qf(Vn),Vn=null))),Wf(e,s),ys(s),null;case 5:gx(s);var a=ti(Kl.current);if(n=s.type,e!==null&&s.stateNode!=null)rN(e,s,n,r,a),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(xe(166));return ys(s),null}if(e=ti(cr.current),Zc(s)){r=s.stateNode,n=s.type;var i=s.memoizedProps;switch(r[ar]=s,r[ql]=i,e=(s.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<fl.length;a++)vt(fl[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":$g(r,i),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},vt("invalid",r);break;case"textarea":Lg(r,i),vt("invalid",r)}gf(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qc(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qc(r.textContent,l,e),a=["children",""+l]):$l.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&vt("scroll",r)}switch(n){case"input":Wc(r),Ig(r,i,!0);break;case"textarea":Wc(r),Fg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qd)}r=a,s.updateQueue=r,r!==null&&(s.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ar]=s,e[ql]=r,nN(e,s,!1,!1),s.stateNode=e;e:{switch(o=vf(n,r),n){case"dialog":vt("cancel",e),vt("close",e),a=r;break;case"iframe":case"object":case"embed":vt("load",e),a=r;break;case"video":case"audio":for(a=0;a<fl.length;a++)vt(fl[a],e);a=r;break;case"source":vt("error",e),a=r;break;case"img":case"image":case"link":vt("error",e),vt("load",e),a=r;break;case"details":vt("toggle",e),a=r;break;case"input":$g(e,r),a=hf(e,r),vt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Tt({},r,{value:void 0}),vt("invalid",e);break;case"textarea":Lg(e,r),a=pf(e,r),vt("invalid",e);break;default:a=r}gf(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$b(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Db(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Il(e,c):typeof c=="number"&&Il(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($l.hasOwnProperty(i)?c!=null&&i==="onScroll"&&vt("scroll",e):c!=null&&Kp(e,i,c,o))}switch(n){case"input":Wc(e),Ig(e,r,!1);break;case"textarea":Wc(e),Fg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sa(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?to(e,!!r.multiple,i,!1):r.defaultValue!=null&&to(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ys(s),null;case 6:if(e&&s.stateNode!=null)aN(e,s,e.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(xe(166));if(n=ti(Kl.current),ti(cr.current),Zc(s)){if(r=s.stateNode,n=s.memoizedProps,r[ar]=s,(i=r.nodeValue!==n)&&(e=ln,e!==null))switch(e.tag){case 3:Qc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qc(r.nodeValue,n,(e.mode&1)!==0)}i&&(s.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=s,s.stateNode=r}return ys(s),null;case 13:if(jt(kt),r=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&on!==null&&s.mode&1&&!(s.flags&128))Nw(),go(),s.flags|=98560,i=!1;else if(i=Zc(s),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(xe(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[ar]=s}else go(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ys(s),i=!1}else Vn!==null&&(Qf(Vn),Vn=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=n,s):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(e===null||kt.current&1?Yt===0&&(Yt=3):Tx())),s.updateQueue!==null&&(s.flags|=4),ys(s),null);case 4:return yo(),Wf(e,s),e===null&&Wl(s.stateNode.containerInfo),ys(s),null;case 10:return mx(s.type._context),ys(s),null;case 17:return Ys(s.type)&&Gd(),ys(s),null;case 19:if(jt(kt),i=s.memoizedState,i===null)return ys(s),null;if(r=(s.flags&128)!==0,o=i.rendering,o===null)if(r)rl(i,!1);else{if(Yt!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(o=eu(e),o!==null){for(s.flags|=128,rl(i,!1),r=o.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=n,n=s.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ct(kt,kt.current&1|2),s.child}e=e.sibling}i.tail!==null&&$t()>bo&&(s.flags|=128,r=!0,rl(i,!1),s.lanes=4194304)}else{if(!r)if(e=eu(o),e!==null){if(s.flags|=128,r=!0,n=e.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),rl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Nt)return ys(s),null}else 2*$t()-i.renderingStartTime>bo&&n!==1073741824&&(s.flags|=128,r=!0,rl(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(n=i.last,n!==null?n.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=$t(),s.sibling=null,n=kt.current,ct(kt,r?n&1|2:n&1),s):(ys(s),null);case 22:case 23:return Ex(),r=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?nn&1073741824&&(ys(s),s.subtreeFlags&6&&(s.flags|=8192)):ys(s),null;case 24:return null;case 25:return null}throw Error(xe(156,s.tag))}function t3(e,s){switch(cx(s),s.tag){case 1:return Ys(s.type)&&Gd(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return yo(),jt(Ks),jt(Ts),vx(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return gx(s),null;case 13:if(jt(kt),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(xe(340));go()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return jt(kt),null;case 4:return yo(),null;case 10:return mx(s.type._context),null;case 22:case 23:return Ex(),null;case 24:return null;default:return null}}var sd=!1,Ns=!1,s3=typeof WeakSet=="function"?WeakSet:Set,be=null;function Yi(e,s){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(e,s,r)}else n.current=null}function Hf(e,s,n){try{n()}catch(r){Rt(e,s,r)}}var Pv=!1;function n3(e,s){if(Pf=Bd,e=dw(),ox(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,m=0,h=e,p=null;t:for(;;){for(var v;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++d===a&&(l=o),p===i&&++m===r&&(c=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ef={focusedElem:e,selectionRange:n},Bd=!1,be=s;be!==null;)if(s=be,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,be=e;else for(;be!==null;){s=be;try{var w=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,y=w.memoizedState,f=s.stateNode,x=f.getSnapshotBeforeUpdate(s.elementType===s.type?g:Fn(s.type,g),y);f.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(N){Rt(s,s.return,N)}if(e=s.sibling,e!==null){e.return=s.return,be=e;break}be=s.return}return w=Pv,Pv=!1,w}function Nl(e,s,n){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Hf(s,n,i)}a=a.next}while(a!==r)}}function Bu(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==s)}}function qf(e){var s=e.ref;if(s!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof s=="function"?s(e):s.current=e}}function iN(e){var s=e.alternate;s!==null&&(e.alternate=null,iN(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[ar],delete s[ql],delete s[Rf],delete s[FE],delete s[zE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oN(e){return e.tag===5||e.tag===3||e.tag===4}function Ev(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,s,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(e,s):n.insertBefore(e,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(e,n)):(s=n,s.appendChild(e)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=qd));else if(r!==4&&(e=e.child,e!==null))for(Gf(e,s,n),e=e.sibling;e!==null;)Gf(e,s,n),e=e.sibling}function Kf(e,s,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,s?n.insertBefore(e,s):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Kf(e,s,n),e=e.sibling;e!==null;)Kf(e,s,n),e=e.sibling}var rs=null,zn=!1;function Kr(e,s,n){for(n=n.child;n!==null;)lN(e,s,n),n=n.sibling}function lN(e,s,n){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Ou,n)}catch{}switch(n.tag){case 5:Ns||Yi(n,s);case 6:var r=rs,a=zn;rs=null,Kr(e,s,n),rs=r,zn=a,rs!==null&&(zn?(e=rs,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rs.removeChild(n.stateNode));break;case 18:rs!==null&&(zn?(e=rs,n=n.stateNode,e.nodeType===8?um(e.parentNode,n):e.nodeType===1&&um(e,n),Vl(e)):um(rs,n.stateNode));break;case 4:r=rs,a=zn,rs=n.stateNode.containerInfo,zn=!0,Kr(e,s,n),rs=r,zn=a;break;case 0:case 11:case 14:case 15:if(!Ns&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Hf(n,s,o),a=a.next}while(a!==r)}Kr(e,s,n);break;case 1:if(!Ns&&(Yi(n,s),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Rt(n,s,l)}Kr(e,s,n);break;case 21:Kr(e,s,n);break;case 22:n.mode&1?(Ns=(r=Ns)||n.memoizedState!==null,Kr(e,s,n),Ns=r):Kr(e,s,n);break;default:Kr(e,s,n)}}function Tv(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new s3),s.forEach(function(r){var a=h3.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function $n(e,s){var n=s.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:rs=l.stateNode,zn=!1;break e;case 3:rs=l.stateNode.containerInfo,zn=!0;break e;case 4:rs=l.stateNode.containerInfo,zn=!0;break e}l=l.return}if(rs===null)throw Error(xe(160));lN(i,o,a),rs=null,zn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Rt(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)cN(s,e),s=s.sibling}function cN(e,s){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(s,e),er(e),r&4){try{Nl(3,e,e.return),Bu(3,e)}catch(g){Rt(e,e.return,g)}try{Nl(5,e,e.return)}catch(g){Rt(e,e.return,g)}}break;case 1:$n(s,e),er(e),r&512&&n!==null&&Yi(n,n.return);break;case 5:if($n(s,e),er(e),r&512&&n!==null&&Yi(n,n.return),e.flags&32){var a=e.stateNode;try{Il(a,"")}catch(g){Rt(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ab(a,i),vf(l,o);var d=vf(l,i);for(o=0;o<c.length;o+=2){var m=c[o],h=c[o+1];m==="style"?$b(a,h):m==="dangerouslySetInnerHTML"?Db(a,h):m==="children"?Il(a,h):Kp(a,m,h,d)}switch(l){case"input":mf(a,i);break;case"textarea":Rb(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?to(a,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?to(a,!!i.multiple,i.defaultValue,!0):to(a,!!i.multiple,i.multiple?[]:"",!1))}a[ql]=i}catch(g){Rt(e,e.return,g)}}break;case 6:if($n(s,e),er(e),r&4){if(e.stateNode===null)throw Error(xe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Rt(e,e.return,g)}}break;case 3:if($n(s,e),er(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vl(s.containerInfo)}catch(g){Rt(e,e.return,g)}break;case 4:$n(s,e),er(e);break;case 13:$n(s,e),er(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(kx=$t())),r&4&&Tv(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ns=(d=Ns)||m,$n(s,e),Ns=d):$n(s,e),er(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(be=e,m=e.child;m!==null;){for(h=be=m;be!==null;){switch(p=be,v=p.child,p.tag){case 0:case 11:case 14:case 15:Nl(4,p,p.return);break;case 1:Yi(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{s=r,w.props=s.memoizedProps,w.state=s.memoizedState,w.componentWillUnmount()}catch(g){Rt(r,n,g)}}break;case 5:Yi(p,p.return);break;case 22:if(p.memoizedState!==null){Rv(h);continue}}v!==null?(v.return=p,be=v):Rv(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ob("display",o))}catch(g){Rt(e,e.return,g)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Rt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$n(s,e),er(e),r&4&&Tv(e);break;case 21:break;default:$n(s,e),er(e)}}function er(e){var s=e.flags;if(s&2){try{e:{for(var n=e.return;n!==null;){if(oN(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Il(a,""),r.flags&=-33);var i=Ev(e);Kf(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ev(e);Gf(e,l,o);break;default:throw Error(xe(161))}}catch(c){Rt(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function r3(e,s,n){be=e,dN(e)}function dN(e,s,n){for(var r=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||sd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ns;l=sd;var d=Ns;if(sd=o,(Ns=c)&&!d)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?Mv(a):c!==null?(c.return=o,be=c):Mv(a);for(;i!==null;)be=i,dN(i),i=i.sibling;be=a,sd=l,Ns=d}Av(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):Av(e)}}function Av(e){for(;be!==null;){var s=be;if(s.flags&8772){var n=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ns||Bu(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Ns)if(n===null)r.componentDidMount();else{var a=s.elementType===s.type?n.memoizedProps:Fn(s.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&pv(s,i,r);break;case 3:var o=s.updateQueue;if(o!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}pv(s,o,n)}break;case 5:var l=s.stateNode;if(n===null&&s.flags&4){n=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Vl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Ns||s.flags&512&&qf(s)}catch(p){Rt(s,s.return,p)}}if(s===e){be=null;break}if(n=s.sibling,n!==null){n.return=s.return,be=n;break}be=s.return}}function Rv(e){for(;be!==null;){var s=be;if(s===e){be=null;break}var n=s.sibling;if(n!==null){n.return=s.return,be=n;break}be=s.return}}function Mv(e){for(;be!==null;){var s=be;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{Bu(4,s)}catch(c){Rt(s,n,c)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var a=s.return;try{r.componentDidMount()}catch(c){Rt(s,a,c)}}var i=s.return;try{qf(s)}catch(c){Rt(s,i,c)}break;case 5:var o=s.return;try{qf(s)}catch(c){Rt(s,o,c)}}}catch(c){Rt(s,s.return,c)}if(s===e){be=null;break}var l=s.sibling;if(l!==null){l.return=s.return,be=l;break}be=s.return}}var a3=Math.ceil,nu=qr.ReactCurrentDispatcher,Cx=qr.ReactCurrentOwner,Cn=qr.ReactCurrentBatchConfig,Xe=0,ts=null,Bt=null,ps=0,nn=0,Xi=Oa(0),Yt=0,Ql=null,ui=0,Wu=0,_x=0,Sl=null,Hs=null,kx=0,bo=1/0,Sr=null,ru=!1,Yf=null,ga=null,nd=!1,ca=null,au=0,Cl=0,Xf=null,Rd=-1,Md=0;function Fs(){return Xe&6?$t():Rd!==-1?Rd:Rd=$t()}function va(e){return e.mode&1?Xe&2&&ps!==0?ps&-ps:UE.transition!==null?(Md===0&&(Md=Kb()),Md):(e=lt,e!==0||(e=window.event,e=e===void 0?16:tw(e.type)),e):1}function Bn(e,s,n,r){if(50<Cl)throw Cl=0,Xf=null,Error(xe(185));pc(e,n,r),(!(Xe&2)||e!==ts)&&(e===ts&&(!(Xe&2)&&(Wu|=n),Yt===4&&ia(e,ps)),Xs(e,r),n===1&&Xe===0&&!(s.mode&1)&&(bo=$t()+500,zu&&$a()))}function Xs(e,s){var n=e.callbackNode;UP(e,s);var r=Ud(e,e===ts?ps:0);if(r===0)n!==null&&Ug(n),e.callbackNode=null,e.callbackPriority=0;else if(s=r&-r,e.callbackPriority!==s){if(n!=null&&Ug(n),s===1)e.tag===0?VE(Dv.bind(null,e)):jw(Dv.bind(null,e)),IE(function(){!(Xe&6)&&$a()}),n=null;else{switch(Yb(r)){case 1:n=Zp;break;case 4:n=qb;break;case 16:n=Vd;break;case 536870912:n=Gb;break;default:n=Vd}n=vN(n,uN.bind(null,e))}e.callbackPriority=s,e.callbackNode=n}}function uN(e,s){if(Rd=-1,Md=0,Xe&6)throw Error(xe(327));var n=e.callbackNode;if(io()&&e.callbackNode!==n)return null;var r=Ud(e,e===ts?ps:0);if(r===0)return null;if(r&30||r&e.expiredLanes||s)s=iu(e,r);else{s=r;var a=Xe;Xe|=2;var i=mN();(ts!==e||ps!==s)&&(Sr=null,bo=$t()+500,ri(e,s));do try{l3();break}catch(l){hN(e,l)}while(1);hx(),nu.current=i,Xe=a,Bt!==null?s=0:(ts=null,ps=0,s=Yt)}if(s!==0){if(s===2&&(a=Nf(e),a!==0&&(r=a,s=Jf(e,a))),s===1)throw n=Ql,ri(e,0),ia(e,r),Xs(e,$t()),n;if(s===6)ia(e,r);else{if(a=e.current.alternate,!(r&30)&&!i3(a)&&(s=iu(e,r),s===2&&(i=Nf(e),i!==0&&(r=i,s=Jf(e,i))),s===1))throw n=Ql,ri(e,0),ia(e,r),Xs(e,$t()),n;switch(e.finishedWork=a,e.finishedLanes=r,s){case 0:case 1:throw Error(xe(345));case 2:Ka(e,Hs,Sr);break;case 3:if(ia(e,r),(r&130023424)===r&&(s=kx+500-$t(),10<s)){if(Ud(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Fs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Af(Ka.bind(null,e,Hs,Sr),s);break}Ka(e,Hs,Sr);break;case 4:if(ia(e,r),(r&4194240)===r)break;for(s=e.eventTimes,a=-1;0<r;){var o=31-Un(r);i=1<<o,o=s[o],o>a&&(a=o),r&=~i}if(r=a,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a3(r/1960))-r,10<r){e.timeoutHandle=Af(Ka.bind(null,e,Hs,Sr),r);break}Ka(e,Hs,Sr);break;case 5:Ka(e,Hs,Sr);break;default:throw Error(xe(329))}}}return Xs(e,$t()),e.callbackNode===n?uN.bind(null,e):null}function Jf(e,s){var n=Sl;return e.current.memoizedState.isDehydrated&&(ri(e,s).flags|=256),e=iu(e,s),e!==2&&(s=Hs,Hs=n,s!==null&&Qf(s)),e}function Qf(e){Hs===null?Hs=e:Hs.push.apply(Hs,e)}function i3(e){for(var s=e;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!qn(i(),a))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ia(e,s){for(s&=~_x,s&=~Wu,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var n=31-Un(s),r=1<<n;e[n]=-1,s&=~r}}function Dv(e){if(Xe&6)throw Error(xe(327));io();var s=Ud(e,0);if(!(s&1))return Xs(e,$t()),null;var n=iu(e,s);if(e.tag!==0&&n===2){var r=Nf(e);r!==0&&(s=r,n=Jf(e,r))}if(n===1)throw n=Ql,ri(e,0),ia(e,s),Xs(e,$t()),n;if(n===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Ka(e,Hs,Sr),Xs(e,$t()),null}function Px(e,s){var n=Xe;Xe|=1;try{return e(s)}finally{Xe=n,Xe===0&&(bo=$t()+500,zu&&$a())}}function hi(e){ca!==null&&ca.tag===0&&!(Xe&6)&&io();var s=Xe;Xe|=1;var n=Cn.transition,r=lt;try{if(Cn.transition=null,lt=1,e)return e()}finally{lt=r,Cn.transition=n,Xe=s,!(Xe&6)&&$a()}}function Ex(){nn=Xi.current,jt(Xi)}function ri(e,s){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$E(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(cx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gd();break;case 3:yo(),jt(Ks),jt(Ts),vx();break;case 5:gx(r);break;case 4:yo();break;case 13:jt(kt);break;case 19:jt(kt);break;case 10:mx(r.type._context);break;case 22:case 23:Ex()}n=n.return}if(ts=e,Bt=e=ya(e.current,null),ps=nn=s,Yt=0,Ql=null,_x=Wu=ui=0,Hs=Sl=null,ei!==null){for(s=0;s<ei.length;s++)if(n=ei[s],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}ei=null}return e}function hN(e,s){do{var n=Bt;try{if(hx(),Ed.current=su,tu){for(var r=Et.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}tu=!1}if(di=0,Zt=qt=Et=null,wl=!1,Yl=0,Cx.current=null,n===null||n.return===null){Yt=1,Ql=s,Bt=null;break}e:{var i=e,o=n.return,l=n,c=s;if(s=ps,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=bv(o);if(v!==null){v.flags&=-257,wv(v,o,l,i,s),v.mode&1&&jv(i,d,s),s=v,c=d;var w=s.updateQueue;if(w===null){var g=new Set;g.add(c),s.updateQueue=g}else w.add(c);break e}else{if(!(s&1)){jv(i,d,s),Tx();break e}c=Error(xe(426))}}else if(Nt&&l.mode&1){var y=bv(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),wv(y,o,l,i,s),dx(jo(c,l));break e}}i=c=jo(c,l),Yt!==4&&(Yt=2),Sl===null?Sl=[i]:Sl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var f=Yw(i,c,s);fv(i,f);break e;case 1:l=c;var x=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ga===null||!ga.has(j)))){i.flags|=65536,s&=-s,i.lanes|=s;var N=Xw(i,l,s);fv(i,N);break e}}i=i.return}while(i!==null)}pN(n)}catch(S){s=S,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(1)}function mN(){var e=nu.current;return nu.current=su,e===null?su:e}function Tx(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),ts===null||!(ui&268435455)&&!(Wu&268435455)||ia(ts,ps)}function iu(e,s){var n=Xe;Xe|=2;var r=mN();(ts!==e||ps!==s)&&(Sr=null,ri(e,s));do try{o3();break}catch(a){hN(e,a)}while(1);if(hx(),Xe=n,nu.current=r,Bt!==null)throw Error(xe(261));return ts=null,ps=0,Yt}function o3(){for(;Bt!==null;)fN(Bt)}function l3(){for(;Bt!==null&&!MP();)fN(Bt)}function fN(e){var s=gN(e.alternate,e,nn);e.memoizedProps=e.pendingProps,s===null?pN(e):Bt=s,Cx.current=null}function pN(e){var s=e;do{var n=s.alternate;if(e=s.return,s.flags&32768){if(n=t3(n,s),n!==null){n.flags&=32767,Bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yt=6,Bt=null;return}}else if(n=e3(n,s,nn),n!==null){Bt=n;return}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=e}while(s!==null);Yt===0&&(Yt=5)}function Ka(e,s,n){var r=lt,a=Cn.transition;try{Cn.transition=null,lt=1,c3(e,s,n,r)}finally{Cn.transition=a,lt=r}return null}function c3(e,s,n,r){do io();while(ca!==null);if(Xe&6)throw Error(xe(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(BP(e,i),e===ts&&(Bt=ts=null,ps=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nd||(nd=!0,vN(Vd,function(){return io(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var o=lt;lt=1;var l=Xe;Xe|=4,Cx.current=null,n3(e,n),cN(n,e),EE(Ef),Bd=!!Pf,Ef=Pf=null,e.current=n,r3(n),DP(),Xe=l,lt=o,Cn.transition=i}else e.current=n;if(nd&&(nd=!1,ca=e,au=a),i=e.pendingLanes,i===0&&(ga=null),IP(n.stateNode),Xs(e,$t()),s!==null)for(r=e.onRecoverableError,n=0;n<s.length;n++)a=s[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ru)throw ru=!1,e=Yf,Yf=null,e;return au&1&&e.tag!==0&&io(),i=e.pendingLanes,i&1?e===Xf?Cl++:(Cl=0,Xf=e):Cl=0,$a(),null}function io(){if(ca!==null){var e=Yb(au),s=Cn.transition,n=lt;try{if(Cn.transition=null,lt=16>e?16:e,ca===null)var r=!1;else{if(e=ca,ca=null,au=0,Xe&6)throw Error(xe(331));var a=Xe;for(Xe|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var m=be;switch(m.tag){case 0:case 11:case 15:Nl(8,m,i)}var h=m.child;if(h!==null)h.return=m,be=h;else for(;be!==null;){m=be;var p=m.sibling,v=m.return;if(iN(m),m===d){be=null;break}if(p!==null){p.return=v,be=p;break}be=v}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nl(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,be=f;break e}be=i.return}}var x=e.current;for(be=x;be!==null;){o=be;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,be=j;else e:for(o=x;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bu(9,l)}}catch(S){Rt(l,l.return,S)}if(l===o){be=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,be=N;break e}be=l.return}}if(Xe=a,$a(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Ou,e)}catch{}r=!0}return r}finally{lt=n,Cn.transition=s}}return!1}function Ov(e,s,n){s=jo(n,s),s=Yw(e,s,1),e=xa(e,s,1),s=Fs(),e!==null&&(pc(e,1,s),Xs(e,s))}function Rt(e,s,n){if(e.tag===3)Ov(e,e,n);else for(;s!==null;){if(s.tag===3){Ov(s,e,n);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ga===null||!ga.has(r))){e=jo(n,e),e=Xw(s,e,1),s=xa(s,e,1),e=Fs(),s!==null&&(pc(s,1,e),Xs(s,e));break}}s=s.return}}function d3(e,s,n){var r=e.pingCache;r!==null&&r.delete(s),s=Fs(),e.pingedLanes|=e.suspendedLanes&n,ts===e&&(ps&n)===n&&(Yt===4||Yt===3&&(ps&130023424)===ps&&500>$t()-kx?ri(e,0):_x|=n),Xs(e,s)}function xN(e,s){s===0&&(e.mode&1?(s=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):s=1);var n=Fs();e=Fr(e,s),e!==null&&(pc(e,s,n),Xs(e,n))}function u3(e){var s=e.memoizedState,n=0;s!==null&&(n=s.retryLane),xN(e,n)}function h3(e,s){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(s),xN(e,n)}var gN;gN=function(e,s,n){if(e!==null)if(e.memoizedProps!==s.pendingProps||Ks.current)Gs=!0;else{if(!(e.lanes&n)&&!(s.flags&128))return Gs=!1,ZE(e,s,n);Gs=!!(e.flags&131072)}else Gs=!1,Nt&&s.flags&1048576&&bw(s,Xd,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;Ad(e,s),e=s.pendingProps;var a=xo(s,Ts.current);ao(s,n),a=jx(null,s,r,e,a,n);var i=bx();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ys(r)?(i=!0,Kd(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,px(s),a.updater=Uu,s.stateNode=a,a._reactInternals=s,Lf(s,r,e,n),s=Vf(null,s,r,!0,i,n)):(s.tag=0,Nt&&i&&lx(s),Os(null,s,a,n),s=s.child),s;case 16:r=s.elementType;e:{switch(Ad(e,s),e=s.pendingProps,a=r._init,r=a(r._payload),s.type=r,a=s.tag=f3(r),e=Fn(r,e),a){case 0:s=zf(null,s,r,e,n);break e;case 1:s=Cv(null,s,r,e,n);break e;case 11:s=Nv(null,s,r,e,n);break e;case 14:s=Sv(null,s,r,Fn(r.type,e),n);break e}throw Error(xe(306,r,""))}return s;case 0:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Fn(r,a),zf(e,s,r,a,n);case 1:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Fn(r,a),Cv(e,s,r,a,n);case 3:e:{if(eN(s),e===null)throw Error(xe(387));r=s.pendingProps,i=s.memoizedState,a=i.element,kw(e,s),Zd(s,r,null,n);var o=s.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=jo(Error(xe(423)),s),s=_v(e,s,r,n,a);break e}else if(r!==a){a=jo(Error(xe(424)),s),s=_v(e,s,r,n,a);break e}else for(on=pa(s.stateNode.containerInfo.firstChild),ln=s,Nt=!0,Vn=null,n=Cw(s,null,r,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),r===a){s=zr(e,s,n);break e}Os(e,s,r,n)}s=s.child}return s;case 5:return Pw(s),e===null&&Of(s),r=s.type,a=s.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Tf(r,a)?o=null:i!==null&&Tf(r,i)&&(s.flags|=32),Zw(e,s),Os(e,s,o,n),s.child;case 6:return e===null&&Of(s),null;case 13:return tN(e,s,n);case 4:return xx(s,s.stateNode.containerInfo),r=s.pendingProps,e===null?s.child=vo(s,null,r,n):Os(e,s,r,n),s.child;case 11:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Fn(r,a),Nv(e,s,r,a,n);case 7:return Os(e,s,s.pendingProps,n),s.child;case 8:return Os(e,s,s.pendingProps.children,n),s.child;case 12:return Os(e,s,s.pendingProps.children,n),s.child;case 10:e:{if(r=s.type._context,a=s.pendingProps,i=s.memoizedProps,o=a.value,ct(Jd,r._currentValue),r._currentValue=o,i!==null)if(qn(i.value,o)){if(i.children===a.children&&!Ks.current){s=zr(e,s,n);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Mr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),$f(i.return,n,s),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(xe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$f(o,n,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Os(e,s,a.children,n),s=s.child}return s;case 9:return a=s.type,r=s.pendingProps.children,ao(s,n),a=Pn(a),r=r(a),s.flags|=1,Os(e,s,r,n),s.child;case 14:return r=s.type,a=Fn(r,s.pendingProps),a=Fn(r.type,a),Sv(e,s,r,a,n);case 15:return Jw(e,s,s.type,s.pendingProps,n);case 17:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Fn(r,a),Ad(e,s),s.tag=1,Ys(r)?(e=!0,Kd(s)):e=!1,ao(s,n),Kw(s,r,a),Lf(s,r,a,n),Vf(null,s,r,!0,e,n);case 19:return sN(e,s,n);case 22:return Qw(e,s,n)}throw Error(xe(156,s.tag))};function vN(e,s){return Hb(e,s)}function m3(e,s,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,s,n,r){return new m3(e,s,n,r)}function Ax(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f3(e){if(typeof e=="function")return Ax(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xp)return 11;if(e===Jp)return 14}return 2}function ya(e,s){var n=e.alternate;return n===null?(n=Nn(e.tag,s,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=s,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,s=e.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dd(e,s,n,r,a,i){var o=2;if(r=e,typeof e=="function")Ax(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zi:return ai(n.children,a,i,s);case Yp:o=8,a|=8;break;case lf:return e=Nn(12,n,s,a|2),e.elementType=lf,e.lanes=i,e;case cf:return e=Nn(13,n,s,a),e.elementType=cf,e.lanes=i,e;case df:return e=Nn(19,n,s,a),e.elementType=df,e.lanes=i,e;case Pb:return Hu(n,a,i,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _b:o=10;break e;case kb:o=9;break e;case Xp:o=11;break e;case Jp:o=14;break e;case ta:o=16,r=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return s=Nn(o,n,s,a),s.elementType=e,s.type=r,s.lanes=i,s}function ai(e,s,n,r){return e=Nn(7,e,r,s),e.lanes=n,e}function Hu(e,s,n,r){return e=Nn(22,e,r,s),e.elementType=Pb,e.lanes=n,e.stateNode={isHidden:!1},e}function ym(e,s,n){return e=Nn(6,e,null,s),e.lanes=n,e}function jm(e,s,n){return s=Nn(4,e.children!==null?e.children:[],e.key,s),s.lanes=n,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function p3(e,s,n,r,a){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=em(0),this.expirationTimes=em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=em(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Rx(e,s,n,r,a,i,o,l,c){return e=new p3(e,s,n,l,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Nn(3,null,null,s),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},px(i),e}function x3(e,s,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:e,containerInfo:s,implementation:n}}function yN(e){if(!e)return Ca;e=e._reactInternals;e:{if(yi(e)!==e||e.tag!==1)throw Error(xe(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ys(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(xe(171))}if(e.tag===1){var n=e.type;if(Ys(n))return yw(e,n,s)}return s}function jN(e,s,n,r,a,i,o,l,c){return e=Rx(n,r,!0,e,a,i,o,l,c),e.context=yN(null),n=e.current,r=Fs(),a=va(n),i=Mr(r,a),i.callback=s??null,xa(n,i,a),e.current.lanes=a,pc(e,a,r),Xs(e,r),e}function qu(e,s,n,r){var a=s.current,i=Fs(),o=va(a);return n=yN(n),s.context===null?s.context=n:s.pendingContext=n,s=Mr(i,o),s.payload={element:e},r=r===void 0?null:r,r!==null&&(s.callback=r),e=xa(a,s,o),e!==null&&(Bn(e,a,o,i),Pd(e,a,o)),o}function ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $v(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<s?n:s}}function Mx(e,s){$v(e,s),(e=e.alternate)&&$v(e,s)}function g3(){return null}var bN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dx(e){this._internalRoot=e}Gu.prototype.render=Dx.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(xe(409));qu(e,s,null,null)};Gu.prototype.unmount=Dx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;hi(function(){qu(null,e,null,null)}),s[Lr]=null}};function Gu(e){this._internalRoot=e}Gu.prototype.unstable_scheduleHydration=function(e){if(e){var s=Qb();e={blockedOn:null,target:e,priority:s};for(var n=0;n<aa.length&&s!==0&&s<aa[n].priority;n++);aa.splice(n,0,e),n===0&&ew(e)}};function Ox(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ku(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function v3(e,s,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=ou(o);i.call(d)}}var o=jN(s,r,e,0,null,!1,!1,"",Iv);return e._reactRootContainer=o,e[Lr]=o.current,Wl(e.nodeType===8?e.parentNode:e),hi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=ou(c);l.call(d)}}var c=Rx(e,0,!1,null,null,!1,!1,"",Iv);return e._reactRootContainer=c,e[Lr]=c.current,Wl(e.nodeType===8?e.parentNode:e),hi(function(){qu(s,c,n,r)}),c}function Yu(e,s,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ou(o);l.call(c)}}qu(s,o,e,a)}else o=v3(n,s,e,a,r);return ou(o)}Xb=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var n=ml(s.pendingLanes);n!==0&&(ex(s,n|1),Xs(s,$t()),!(Xe&6)&&(bo=$t()+500,$a()))}break;case 13:hi(function(){var r=Fr(e,1);if(r!==null){var a=Fs();Bn(r,e,1,a)}}),Mx(e,1)}};tx=function(e){if(e.tag===13){var s=Fr(e,134217728);if(s!==null){var n=Fs();Bn(s,e,134217728,n)}Mx(e,134217728)}};Jb=function(e){if(e.tag===13){var s=va(e),n=Fr(e,s);if(n!==null){var r=Fs();Bn(n,e,s,r)}Mx(e,s)}};Qb=function(){return lt};Zb=function(e,s){var n=lt;try{return lt=e,s()}finally{lt=n}};jf=function(e,s,n){switch(s){case"input":if(mf(e,n),s=n.name,n.type==="radio"&&s!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var r=n[s];if(r!==e&&r.form===e.form){var a=Fu(r);if(!a)throw Error(xe(90));Tb(r),mf(r,a)}}}break;case"textarea":Rb(e,n);break;case"select":s=n.value,s!=null&&to(e,!!n.multiple,s,!1)}};Fb=Px;zb=hi;var y3={usingClientEntryPoint:!1,Events:[gc,Wi,Fu,Ib,Lb,Px]},al={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j3={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bb(e),e===null?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||g3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{Ou=rd.inject(j3),lr=rd}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y3;mn.createPortal=function(e,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ox(s))throw Error(xe(200));return x3(e,s,null,n)};mn.createRoot=function(e,s){if(!Ox(e))throw Error(xe(299));var n=!1,r="",a=bN;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Rx(e,1,!1,null,null,n,!1,r,a),e[Lr]=s.current,Wl(e.nodeType===8?e.parentNode:e),new Dx(s)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=Bb(s),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return hi(e)};mn.hydrate=function(e,s,n){if(!Ku(s))throw Error(xe(200));return Yu(null,e,s,!0,n)};mn.hydrateRoot=function(e,s,n){if(!Ox(e))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=bN;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),s=jN(s,null,e,1,n??null,a,!1,i,o),e[Lr]=s.current,Wl(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,a]:s.mutableSourceEagerHydrationData.push(n,a);return new Gu(s)};mn.render=function(e,s,n){if(!Ku(s))throw Error(xe(200));return Yu(null,e,s,!1,n)};mn.unmountComponentAtNode=function(e){if(!Ku(e))throw Error(xe(40));return e._reactRootContainer?(hi(function(){Yu(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};mn.unstable_batchedUpdates=Px;mn.unstable_renderSubtreeIntoContainer=function(e,s,n,r){if(!Ku(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return Yu(e,s,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function wN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wN)}catch(e){console.error(e)}}wN(),wb.exports=mn;var Ia=wb.exports;const NN=Vp(Ia);var Lv=Ia;af.createRoot=Lv.createRoot,af.hydrateRoot=Lv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}var da;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(da||(da={}));const Fv="popstate";function b3(e){e===void 0&&(e={});function s(r,a){let{pathname:i,search:o,hash:l}=r.location;return Zf("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:lu(a)}return N3(s,n,null,e)}function Ft(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function SN(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function w3(){return Math.random().toString(36).substr(2,8)}function zv(e,s){return{usr:e.state,key:e.key,idx:s}}function Zf(e,s,n,r){return n===void 0&&(n=null),Zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Ro(s):s,{state:n,key:s&&s.key||r||w3()})}function lu(e){let{pathname:s="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Ro(e){let s={};if(e){let n=e.indexOf("#");n>=0&&(s.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(s.search=e.substr(r),e=e.substr(0,r)),e&&(s.pathname=e)}return s}function N3(e,s,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=da.Pop,c=null,d=m();d==null&&(d=0,o.replaceState(Zl({},o.state,{idx:d}),""));function m(){return(o.state||{idx:null}).idx}function h(){l=da.Pop;let y=m(),f=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:f})}function p(y,f){l=da.Push;let x=Zf(g.location,y,f);n&&n(x,y),d=m()+1;let j=zv(x,d),N=g.createHref(x);try{o.pushState(j,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function v(y,f){l=da.Replace;let x=Zf(g.location,y,f);n&&n(x,y),d=m();let j=zv(x,d),N=g.createHref(x);o.replaceState(j,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function w(y){let f=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:lu(y);return x=x.replace(/ $/,"%20"),Ft(f,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,f)}let g={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Fv,h),c=y,()=>{a.removeEventListener(Fv,h),c=null}},createHref(y){return s(a,y)},createURL:w,encodeLocation(y){let f=w(y);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:v,go(y){return o.go(y)}};return g}var Vv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vv||(Vv={}));function S3(e,s,n){return n===void 0&&(n="/"),C3(e,s,n,!1)}function C3(e,s,n,r){let a=typeof s=="string"?Ro(s):s,i=$x(a.pathname||"/",n);if(i==null)return null;let o=CN(e);_3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=I3(i);l=O3(o[c],d,r)}return l}function CN(e,s,n,r){s===void 0&&(s=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ft(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ja([r,c.relativePath]),m=n.concat(c);i.children&&i.children.length>0&&(Ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),CN(i.children,s,m,d)),!(i.path==null&&!i.index)&&s.push({path:d,score:M3(d,i.index),routesMeta:m})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of _N(i.path))a(i,o,c)}),s}function _N(e){let s=e.split("/");if(s.length===0)return[];let[n,...r]=s,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=_N(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _3(e){e.sort((s,n)=>s.score!==n.score?n.score-s.score:D3(s.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const k3=/^:[\w-]+$/,P3=3,E3=2,T3=1,A3=10,R3=-2,Uv=e=>e==="*";function M3(e,s){let n=e.split("/"),r=n.length;return n.some(Uv)&&(r+=R3),s&&(r+=E3),n.filter(a=>!Uv(a)).reduce((a,i)=>a+(k3.test(i)?P3:i===""?T3:A3),r)}function D3(e,s){return e.length===s.length&&e.slice(0,-1).every((r,a)=>r===s[a])?e[e.length-1]-s[s.length-1]:0}function O3(e,s,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,m=i==="/"?s:s.slice(i.length)||"/",h=Bv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),p=c.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=Bv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:ja([i,h.pathname]),pathnameBase:V3(ja([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ja([i,h.pathnameBase]))}return o}function Bv(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$3(e.path,e.caseSensitive,e.end),a=s.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,m,h)=>{let{paramName:p,isOptional:v}=m;if(p==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[h];return v&&!w?d[p]=void 0:d[p]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function $3(e,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),SN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),r]}function I3(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return SN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function $x(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function L3(e,s){s===void 0&&(s="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ro(e):e;return{pathname:n?n.startsWith("/")?n:F3(n,s):s,search:U3(r),hash:B3(a)}}function F3(e,s){let n=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bm(e,s,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z3(e){return e.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Ix(e,s){let n=z3(e);return s?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lx(e,s,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Ro(e):(a=Zl({},e),Ft(!a.pathname||!a.pathname.includes("?"),bm("?","pathname","search",a)),Ft(!a.pathname||!a.pathname.includes("#"),bm("#","pathname","hash",a)),Ft(!a.search||!a.search.includes("#"),bm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=s.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?s[h]:"/"}let c=L3(a,l),d=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const ja=e=>e.join("/").replace(/\/\/+/g,"/"),V3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,B3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kN=["post","put","patch","delete"];new Set(kN);const H3=["get",...kN];new Set(H3);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}const Fx=u.createContext(null),q3=u.createContext(null),La=u.createContext(null),Xu=u.createContext(null),gr=u.createContext({outlet:null,matches:[],isDataRoute:!1}),PN=u.createContext(null);function G3(e,s){let{relative:n}=s===void 0?{}:s;Mo()||Ft(!1);let{basename:r,navigator:a}=u.useContext(La),{hash:i,pathname:o,search:l}=TN(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ja([r,o])),a.createHref({pathname:c,search:l,hash:i})}function Mo(){return u.useContext(Xu)!=null}function Jt(){return Mo()||Ft(!1),u.useContext(Xu).location}function EN(e){u.useContext(La).static||u.useLayoutEffect(e)}function We(){let{isDataRoute:e}=u.useContext(gr);return e?lT():K3()}function K3(){Mo()||Ft(!1);let e=u.useContext(Fx),{basename:s,future:n,navigator:r}=u.useContext(La),{matches:a}=u.useContext(gr),{pathname:i}=Jt(),o=JSON.stringify(Ix(a,n.v7_relativeSplatPath)),l=u.useRef(!1);return EN(()=>{l.current=!0}),u.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=Lx(d,JSON.parse(o),i,m.relative==="path");e==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:ja([s,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[s,r,o,i,e])}const Y3=u.createContext(null);function X3(e){let s=u.useContext(gr).outlet;return s&&u.createElement(Y3.Provider,{value:e},s)}function Fa(){let{matches:e}=u.useContext(gr),s=e[e.length-1];return s?s.params:{}}function TN(e,s){let{relative:n}=s===void 0?{}:s,{future:r}=u.useContext(La),{matches:a}=u.useContext(gr),{pathname:i}=Jt(),o=JSON.stringify(Ix(a,r.v7_relativeSplatPath));return u.useMemo(()=>Lx(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function J3(e,s){return Q3(e,s)}function Q3(e,s,n,r){Mo()||Ft(!1);let{navigator:a,static:i}=u.useContext(La),{matches:o}=u.useContext(gr),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let m=Jt(),h;if(s){var p;let f=typeof s=="string"?Ro(s):s;d==="/"||(p=f.pathname)!=null&&p.startsWith(d)||Ft(!1),h=f}else h=m;let v=h.pathname||"/",w=v;if(d!=="/"){let f=d.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(f.length).join("/")}let g=!i&&n&&n.matches&&n.matches.length>0?n.matches:S3(e,{pathname:w}),y=nT(g&&g.map(f=>Object.assign({},f,{params:Object.assign({},c,f.params),pathname:ja([d,a.encodeLocation?a.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?d:ja([d,a.encodeLocation?a.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),o,n,r);return s&&y?u.createElement(Xu.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:da.Pop}},y):y}function Z3(){let e=oT(),s=W3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},s),n?u.createElement("pre",{style:a},n):null,i)}const eT=u.createElement(Z3,null);class tT extends u.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?u.createElement(gr.Provider,{value:this.props.routeContext},u.createElement(PN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sT(e){let{routeContext:s,match:n,children:r}=e,a=u.useContext(Fx);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),u.createElement(gr.Provider,{value:s},r)}function nT(e,s,n,r){var a;if(s===void 0&&(s=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let m=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);m>=0||Ft(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let h=o[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:p,errors:v}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,h,p)=>{let v,w=!1,g=null,y=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||eT,c&&(d<0&&p===0?(cT("route-fallback",!1),w=!0,y=null):d===p&&(w=!0,y=h.route.hydrateFallbackElement||null)));let f=s.concat(o.slice(0,p+1)),x=()=>{let j;return v?j=g:w?j=y:h.route.Component?j=u.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=m,u.createElement(sT,{match:h,routeContext:{outlet:m,matches:f,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?u.createElement(tT,{location:n.location,revalidation:n.revalidation,component:g,error:v,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var AN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(AN||{}),cu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cu||{});function rT(e){let s=u.useContext(Fx);return s||Ft(!1),s}function aT(e){let s=u.useContext(q3);return s||Ft(!1),s}function iT(e){let s=u.useContext(gr);return s||Ft(!1),s}function RN(e){let s=iT(),n=s.matches[s.matches.length-1];return n.route.id||Ft(!1),n.route.id}function oT(){var e;let s=u.useContext(PN),n=aT(cu.UseRouteError),r=RN(cu.UseRouteError);return s!==void 0?s:(e=n.errors)==null?void 0:e[r]}function lT(){let{router:e}=rT(AN.UseNavigateStable),s=RN(cu.UseNavigateStable),n=u.useRef(!1);return EN(()=>{n.current=!0}),u.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ec({fromRouteId:s},i)))},[e,s])}const Wv={};function cT(e,s,n){!s&&!Wv[e]&&(Wv[e]=!0)}function dT(e,s){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!s||s.v7_relativeSplatPath),s&&(s.v7_fetcherPersist,s.v7_normalizeFormMethod,s.v7_partialHydration,s.v7_skipActionErrorRevalidation)}function nr(e){let{to:s,replace:n,state:r,relative:a}=e;Mo()||Ft(!1);let{future:i,static:o}=u.useContext(La),{matches:l}=u.useContext(gr),{pathname:c}=Jt(),d=We(),m=Lx(s,Ix(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(m);return u.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:a}),[d,h,a,n,r]),null}function zx(e){return X3(e.context)}function Te(e){Ft(!1)}function uT(e){let{basename:s="/",children:n=null,location:r,navigationType:a=da.Pop,navigator:i,static:o=!1,future:l}=e;Mo()&&Ft(!1);let c=s.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:i,static:o,future:ec({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Ro(r));let{pathname:m="/",search:h="",hash:p="",state:v=null,key:w="default"}=r,g=u.useMemo(()=>{let y=$x(m,c);return y==null?null:{location:{pathname:y,search:h,hash:p,state:v,key:w},navigationType:a}},[c,m,h,p,v,w,a]);return g==null?null:u.createElement(La.Provider,{value:d},u.createElement(Xu.Provider,{children:n,value:g}))}function hT(e){let{children:s,location:n}=e;return J3(ep(s),n)}new Promise(()=>{});function ep(e,s){s===void 0&&(s=[]);let n=[];return u.Children.forEach(e,(r,a)=>{if(!u.isValidElement(r))return;let i=[...s,a];if(r.type===u.Fragment){n.push.apply(n,ep(r.props.children,i));return}r.type!==Te&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ep(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tp.apply(this,arguments)}function mT(e,s){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}function fT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pT(e,s){return e.button===0&&(!s||s==="_self")&&!fT(e)}function sp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,n)=>{let r=e[n];return s.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function xT(e,s){let n=sp(e);return s&&s.forEach((r,a)=>{n.has(a)||s.getAll(a).forEach(i=>{n.append(a,i)})}),n}const gT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vT="6";try{window.__reactRouterVersion=vT}catch{}const yT="startTransition",Hv=Du[yT];function jT(e){let{basename:s,children:n,future:r,window:a}=e,i=u.useRef();i.current==null&&(i.current=b3({window:a,v5Compat:!0}));let o=i.current,[l,c]=u.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},m=u.useCallback(h=>{d&&Hv?Hv(()=>c(h)):c(h)},[c,d]);return u.useLayoutEffect(()=>o.listen(m),[o,m]),u.useEffect(()=>dT(r),[r]),u.createElement(uT,{basename:s,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const bT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=u.forwardRef(function(s,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:m,viewTransition:h}=s,p=mT(s,gT),{basename:v}=u.useContext(La),w,g=!1;if(typeof d=="string"&&wT.test(d)&&(w=d,bT))try{let j=new URL(window.location.href),N=d.startsWith("//")?new URL(j.protocol+d):new URL(d),S=$x(N.pathname,v);N.origin===j.origin&&S!=null?d=S+N.search+N.hash:g=!0}catch{}let y=G3(d,{relative:a}),f=NT(d,{replace:o,state:l,target:c,preventScrollReset:m,relative:a,viewTransition:h});function x(j){r&&r(j),j.defaultPrevented||f(j)}return u.createElement("a",tp({},p,{href:w||y,onClick:g||i?r:x,ref:n,target:c}))});var qv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qv||(qv={}));var Gv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gv||(Gv={}));function NT(e,s){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,c=We(),d=Jt(),m=TN(e,{relative:o});return u.useCallback(h=>{if(pT(h,n)){h.preventDefault();let p=r!==void 0?r:lu(d)===lu(m);c(e,{replace:p,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,m,r,a,n,e,i,o,l])}function MN(e){let s=u.useRef(sp(e)),n=u.useRef(!1),r=Jt(),a=u.useMemo(()=>xT(r.search,n.current?null:s.current),[r.search]),i=We(),o=u.useCallback((l,c)=>{const d=sp(typeof l=="function"?l(a):l);n.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function DN(e){var s,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(s=0;s<a;s++)e[s]&&(n=DN(e[s]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ON(){for(var e,s,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(s=DN(e))&&(r&&(r+=" "),r+=s);return r}function ST(){for(var e=0,s,n,r="";e<arguments.length;)(s=arguments[e++])&&(n=$N(s))&&(r&&(r+=" "),r+=n);return r}function $N(e){if(typeof e=="string")return e;for(var s,n="",r=0;r<e.length;r++)e[r]&&(s=$N(e[r]))&&(n&&(n+=" "),n+=s);return n}var Vx="-";function CT(e){var s=kT(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,a=r===void 0?{}:r;function i(l){var c=l.split(Vx);return c[0]===""&&c.length!==1&&c.shift(),IN(c,s)||_T(l)}function o(l,c){var d=n[l]||[];return c&&a[l]?[].concat(d,a[l]):d}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function IN(e,s){var o;if(e.length===0)return s.classGroupId;var n=e[0],r=s.nextPart.get(n),a=r?IN(e.slice(1),r):void 0;if(a)return a;if(s.validators.length!==0){var i=e.join(Vx);return(o=s.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var Kv=/^\[(.+)\]$/;function _T(e){if(Kv.test(e)){var s=Kv.exec(e)[1],n=s==null?void 0:s.substring(0,s.indexOf(":"));if(n)return"arbitrary.."+n}}function kT(e){var s=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},a=ET(Object.entries(e.classGroups),n);return a.forEach(function(i){var o=i[0],l=i[1];np(l,r,o,s)}),r}function np(e,s,n,r){e.forEach(function(a){if(typeof a=="string"){var i=a===""?s:Yv(s,a);i.classGroupId=n;return}if(typeof a=="function"){if(PT(a)){np(a(r),s,n,r);return}s.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(function(o){var l=o[0],c=o[1];np(c,Yv(s,l),n,r)})})}function Yv(e,s){var n=e;return s.split(Vx).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function PT(e){return e.isThemeGetter}function ET(e,s){return s?e.map(function(n){var r=n[0],a=n[1],i=a.map(function(o){return typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],d=l[1];return[s+c,d]})):o});return[r,i]}):e}function TT(e){if(e<1)return{get:function(){},set:function(){}};var s=0,n=new Map,r=new Map;function a(i,o){n.set(i,o),s++,s>e&&(s=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return a(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):a(o,l)}}}var LN="!";function AT(e){var s=e.separator||":",n=s.length===1,r=s[0],a=s.length;return function(o){for(var l=[],c=0,d=0,m,h=0;h<o.length;h++){var p=o[h];if(c===0){if(p===r&&(n||o.slice(h,h+a)===s)){l.push(o.slice(d,h)),d=h+a;continue}if(p==="/"){m=h;continue}}p==="["?c++:p==="]"&&c--}var v=l.length===0?o:o.substring(d),w=v.startsWith(LN),g=w?v.substring(1):v,y=m&&m>d?m-d:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:y}}}function RT(e){if(e.length<=1)return e;var s=[],n=[];return e.forEach(function(r){var a=r[0]==="[";a?(s.push.apply(s,n.sort().concat([r])),n=[]):n.push(r)}),s.push.apply(s,n.sort()),s}function MT(e){return{cache:TT(e.cacheSize),splitModifiers:AT(e),...CT(e)}}var DT=/\s+/;function OT(e,s){var n=s.splitModifiers,r=s.getClassGroupId,a=s.getConflictingClassGroupIds,i=new Set;return e.trim().split(DT).map(function(o){var l=n(o),c=l.modifiers,d=l.hasImportantModifier,m=l.baseClassName,h=l.maybePostfixModifierPosition,p=r(h?m.substring(0,h):m),v=!!h;if(!p){if(!h)return{isTailwindClass:!1,originalClassName:o};if(p=r(m),!p)return{isTailwindClass:!1,originalClassName:o};v=!1}var w=RT(c).join(":"),g=d?w+LN:w;return{isTailwindClass:!0,modifierId:g,classGroupId:p,originalClassName:o,hasPostfixModifier:v}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,m=l+c;return i.has(m)?!1:(i.add(m),a(c,d).forEach(function(h){return i.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function $T(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];var r,a,i,o=l;function l(d){var m=s[0],h=s.slice(1),p=h.reduce(function(v,w){return w(v)},m());return r=MT(p),a=r.cache.get,i=r.cache.set,o=c,c(d)}function c(d){var m=a(d);if(m)return m;var h=OT(d,r);return i(d,h),h}return function(){return o(ST.apply(null,arguments))}}function xt(e){var s=function(r){return r[e]||[]};return s.isThemeGetter=!0,s}var FN=/^\[(?:([a-z-]+):)?(.+)\]$/i,IT=/^\d+\/\d+$/,LT=new Set(["px","full","screen"]),FT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VT=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function In(e){return si(e)||LT.has(e)||IT.test(e)||rp(e)}function rp(e){return ji(e,"length",GT)}function UT(e){return ji(e,"size",zN)}function BT(e){return ji(e,"position",zN)}function WT(e){return ji(e,"url",KT)}function ad(e){return ji(e,"number",si)}function si(e){return!Number.isNaN(Number(e))}function HT(e){return e.endsWith("%")&&si(e.slice(0,-1))}function il(e){return Xv(e)||ji(e,"number",Xv)}function Ge(e){return FN.test(e)}function ol(){return!0}function Yr(e){return FT.test(e)}function qT(e){return ji(e,"",YT)}function ji(e,s,n){var r=FN.exec(e);return r?r[1]?r[1]===s:n(r[2]):!1}function GT(e){return zT.test(e)}function zN(){return!1}function KT(e){return e.startsWith("url(")}function Xv(e){return Number.isInteger(Number(e))}function YT(e){return VT.test(e)}function XT(){var e=xt("colors"),s=xt("spacing"),n=xt("blur"),r=xt("brightness"),a=xt("borderColor"),i=xt("borderRadius"),o=xt("borderSpacing"),l=xt("borderWidth"),c=xt("contrast"),d=xt("grayscale"),m=xt("hueRotate"),h=xt("invert"),p=xt("gap"),v=xt("gradientColorStops"),w=xt("gradientColorStopPositions"),g=xt("inset"),y=xt("margin"),f=xt("opacity"),x=xt("padding"),j=xt("saturate"),N=xt("scale"),S=xt("sepia"),A=xt("skew"),C=xt("space"),k=xt("translate"),M=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Ge,s]},I=function(){return[Ge,s]},H=function(){return["",In]},O=function(){return["auto",si,Ge]},$=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},W=function(){return["solid","dashed","dotted","double","none"]},G=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},R=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",Ge]},q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},T=function(){return[si,ad]},U=function(){return[si,Ge]};return{cacheSize:500,theme:{colors:[ol],spacing:[In],blur:["none","",Yr,Ge],brightness:T(),borderColor:[e],borderRadius:["none","","full",Yr,Ge],borderSpacing:I(),borderWidth:H(),contrast:T(),grayscale:V(),hueRotate:U(),invert:V(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[HT,rp],inset:D(),margin:D(),opacity:T(),padding:I(),saturate:T(),scale:T(),sepia:V(),skew:U(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Yr]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat($(),[Ge])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",il]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",il]}],"grid-cols":[{"grid-cols":[ol]}],"col-start-end":[{col:["auto",{span:["full",il]},Ge]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[ol]}],"row-start-end":[{row:["auto",{span:[il]},Ge]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(R())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(R(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(R(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ge,s]}],"min-w":[{"min-w":["min","max","fit",Ge,In]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Yr]},Yr,Ge]}],h:[{h:[Ge,s,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ge,In]}],"max-h":[{"max-h":[Ge,s,"min","max","fit"]}],"font-size":[{text:["base",Yr,rp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ad]}],"font-family":[{font:[ol]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",si,ad]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ge,In]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(W(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",In]}],"underline-offset":[{"underline-offset":["auto",Ge,In]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat($(),[BT])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[].concat(W(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(W())}],"outline-offset":[{"outline-offset":[Ge,In]}],"outline-w":[{outline:[In]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[In]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yr,qT]}],"shadow-color":[{shadow:[ol]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":G()}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yr,Ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[il,Ge]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[In,ad]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var JT=$T(XT);function je(...e){return JT(ON(e))}function ke(e,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function Jv(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function Ju(...e){return s=>{let n=!1;const r=e.map(a=>{const i=Jv(a,s);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Jv(e[a],null)}}}}function Ze(...e){return u.useCallback(Ju(...e),e)}function QT(e,s){const n=u.createContext(s),r=i=>{const{children:o,...l}=i,c=u.useMemo(()=>l,Object.values(l));return t.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=u.useContext(n);if(o)return o;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function pn(e,s=[]){let n=[];function r(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];const d=h=>{var f;const{scope:p,children:v,...w}=h,g=((f=p==null?void 0:p[e])==null?void 0:f[c])||l,y=u.useMemo(()=>w,Object.values(w));return t.jsx(g.Provider,{value:y,children:v})};d.displayName=i+"Provider";function m(h,p){var g;const v=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,w=u.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,m]}const a=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,ZT(a,...s)]}function ZT(...e){const s=e[0];if(e.length===1)return s;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return n.scopeName=s.scopeName,n}function wo(e){const s=tA(e),n=u.forwardRef((r,a)=>{const{children:i,...o}=r,l=u.Children.toArray(i),c=l.find(nA);if(c){const d=c.props.children,m=l.map(h=>h===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:h);return t.jsx(s,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,m):null})}return t.jsx(s,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var eA=wo("Slot");function tA(e){const s=u.forwardRef((n,r)=>{const{children:a,...i}=n,o=u.isValidElement(a)?aA(a):void 0,l=Ze(o,r);if(u.isValidElement(a)){const c=rA(i,a.props);return a.type!==u.Fragment&&(c.ref=l),u.cloneElement(a,c)}return u.Children.count(a)>1?u.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var VN=Symbol("radix.slottable");function sA(e){const s=({children:n})=>t.jsx(t.Fragment,{children:n});return s.displayName=`${e}.Slottable`,s.__radixId=VN,s}function nA(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VN}function rA(e,s){const n={...s};for(const r in s){const a=e[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function aA(e){var r,a;let s=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qu(e){const s=e+"CollectionProvider",[n,r]=pn(s),[a,i]=n(s,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:f}=g,x=ce.useRef(null),j=ce.useRef(new Map).current;return t.jsx(a,{scope:y,itemMap:j,collectionRef:x,children:f})};o.displayName=s;const l=e+"CollectionSlot",c=wo(l),d=ce.forwardRef((g,y)=>{const{scope:f,children:x}=g,j=i(l,f),N=Ze(y,j.collectionRef);return t.jsx(c,{ref:N,children:x})});d.displayName=l;const m=e+"CollectionItemSlot",h="data-radix-collection-item",p=wo(m),v=ce.forwardRef((g,y)=>{const{scope:f,children:x,...j}=g,N=ce.useRef(null),S=Ze(y,N),A=i(m,f);return ce.useEffect(()=>(A.itemMap.set(N,{ref:N,...j}),()=>void A.itemMap.delete(N))),t.jsx(p,{[h]:"",ref:S,children:x})});v.displayName=m;function w(g){const y=i(e+"CollectionConsumer",g);return ce.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const j=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((A,C)=>j.indexOf(A.ref.current)-j.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},w,r]}var iA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=iA.reduce((e,s)=>{const n=wo(`Primitive.${s}`),r=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{});function Ux(e,s){e&&Ia.flushSync(()=>e.dispatchEvent(s))}function Qs(e){const s=u.useRef(e);return u.useEffect(()=>{s.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=s.current)==null?void 0:r.call(s,...n)},[])}function oA(e,s=globalThis==null?void 0:globalThis.document){const n=Qs(e);u.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[n,s])}var lA="DismissableLayer",ap="dismissableLayer.update",cA="dismissableLayer.pointerDownOutside",dA="dismissableLayer.focusOutside",Qv,UN=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zu=u.forwardRef((e,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(UN),[m,h]=u.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=u.useState({}),w=Ze(s,C=>h(C)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),f=g.indexOf(y),x=m?g.indexOf(m):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=x>=f,S=hA(C=>{const k=C.target,M=[...d.branches].some(P=>P.contains(k));!N||M||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),A=mA(C=>{const k=C.target;[...d.branches].some(P=>P.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return oA(C=>{x===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),u.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Qv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Zv(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Qv)}},[m,p,n,d]),u.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Zv())},[m,d]),u.useEffect(()=>{const C=()=>v({});return document.addEventListener(ap,C),()=>document.removeEventListener(ap,C)},[]),t.jsx($e.div,{...c,ref:w,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,S.onPointerDownCapture)})});Zu.displayName=lA;var uA="DismissableLayerBranch",BN=u.forwardRef((e,s)=>{const n=u.useContext(UN),r=u.useRef(null),a=Ze(s,r);return u.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),t.jsx($e.div,{...e,ref:a})});BN.displayName=uA;function hA(e,s=globalThis==null?void 0:globalThis.document){const n=Qs(e),r=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){WN(cA,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,n]),{onPointerDownCapture:()=>r.current=!0}}function mA(e,s=globalThis==null?void 0:globalThis.document){const n=Qs(e),r=u.useRef(!1);return u.useEffect(()=>{const a=i=>{i.target&&!r.current&&WN(dA,n,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zv(){const e=new CustomEvent(ap);document.dispatchEvent(e)}function WN(e,s,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});s&&a.addEventListener(e,s,{once:!0}),r?Ux(a,i):a.dispatchEvent(i)}var fA=Zu,pA=BN,Tn=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},xA="Portal",eh=u.forwardRef((e,s)=>{var l;const{container:n,...r}=e,[a,i]=u.useState(!1);Tn(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?NN.createPortal(t.jsx($e.div,{...r,ref:s}),o):null});eh.displayName=xA;function gA(e,s){return u.useReducer((n,r)=>s[n][r]??n,e)}var Xn=e=>{const{present:s,children:n}=e,r=vA(s),a=typeof n=="function"?n({present:r.isPresent}):u.Children.only(n),i=Ze(r.ref,yA(a));return typeof n=="function"||r.isPresent?u.cloneElement(a,{ref:i}):null};Xn.displayName="Presence";function vA(e){const[s,n]=u.useState(),r=u.useRef(null),a=u.useRef(e),i=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=gA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=id(r.current);i.current=l==="mounted"?d:"none"},[l]),Tn(()=>{const d=r.current,m=a.current;if(m!==e){const p=i.current,v=id(d);e?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&p!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Tn(()=>{if(s){let d;const m=s.ownerDocument.defaultView??window,h=v=>{const g=id(r.current).includes(v.animationName);if(v.target===s&&g&&(c("ANIMATION_END"),!a.current)){const y=s.style.animationFillMode;s.style.animationFillMode="forwards",d=m.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=y)})}},p=v=>{v.target===s&&(i.current=id(r.current))};return s.addEventListener("animationstart",p),s.addEventListener("animationcancel",h),s.addEventListener("animationend",h),()=>{m.clearTimeout(d),s.removeEventListener("animationstart",p),s.removeEventListener("animationcancel",h),s.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function id(e){return(e==null?void 0:e.animationName)||"none"}function yA(e){var r,a;let s=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jA=Du[" useInsertionEffect ".trim().toString()]||Tn;function za({prop:e,defaultProp:s,onChange:n=()=>{},caller:r}){const[a,i,o]=bA({defaultProp:s,onChange:n}),l=e!==void 0,c=l?e:a;{const m=u.useRef(e!==void 0);u.useEffect(()=>{const h=m.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const d=u.useCallback(m=>{var h;if(l){const p=wA(m)?m(e):m;p!==e&&((h=o.current)==null||h.call(o,p))}else i(m)},[l,e,i,o]);return[c,d]}function bA({defaultProp:e,onChange:s}){const[n,r]=u.useState(e),a=u.useRef(n),i=u.useRef(s);return jA(()=>{i.current=s},[s]),u.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function wA(e){return typeof e=="function"}var NA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SA="VisuallyHidden",Bx=u.forwardRef((e,s)=>t.jsx($e.span,{...e,ref:s,style:{...NA,...e.style}}));Bx.displayName=SA;var Wx="ToastProvider",[Hx,CA,_A]=Qu("Toast"),[HN,rB]=pn("Toast",[_A]),[kA,th]=HN(Wx),qN=e=>{const{__scopeToast:s,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=u.useState(null),[d,m]=u.useState(0),h=u.useRef(!1),p=u.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Wx}\`. Expected non-empty \`string\`.`),t.jsx(Hx.Provider,{scope:s,children:t.jsx(kA,{scope:s,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>m(v=>v+1),[]),onToastRemove:u.useCallback(()=>m(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};qN.displayName=Wx;var GN="ToastViewport",PA=["F8"],ip="toast.viewportPause",op="toast.viewportResume",KN=u.forwardRef((e,s)=>{const{__scopeToast:n,hotkey:r=PA,label:a="Notifications ({hotkey})",...i}=e,o=th(GN,n),l=CA(n),c=u.useRef(null),d=u.useRef(null),m=u.useRef(null),h=u.useRef(null),p=Ze(s,h,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;u.useEffect(()=>{const y=f=>{var j;r.length!==0&&r.every(N=>f[N]||f.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),u.useEffect(()=>{const y=c.current,f=h.current;if(w&&y&&f){const x=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(ip);f.dispatchEvent(A),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(op);f.dispatchEvent(A),o.isClosePausedRef.current=!1}},N=A=>{!y.contains(A.relatedTarget)&&j()},S=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",x),y.addEventListener("focusout",N),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",j)}}},[w,o.isClosePausedRef]);const g=u.useCallback(({tabbingDirection:y})=>{const x=l().map(j=>{const N=j.ref.current,S=[N,...VA(N)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?x.reverse():x).flat()},[l]);return u.useEffect(()=>{const y=h.current;if(y){const f=x=>{var S,A,C;const j=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!j){const k=document.activeElement,M=x.shiftKey;if(x.target===y&&M){(S=d.current)==null||S.focus();return}const I=g({tabbingDirection:M?"backwards":"forwards"}),H=I.findIndex(O=>O===k);wm(I.slice(H+1))?x.preventDefault():M?(A=d.current)==null||A.focus():(C=m.current)==null||C.focus()}};return y.addEventListener("keydown",f),()=>y.removeEventListener("keydown",f)}},[l,g]),t.jsxs(pA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&t.jsx(lp,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});wm(y)}}),t.jsx(Hx.Slot,{scope:n,children:t.jsx($e.ol,{tabIndex:-1,...i,ref:p})}),w&&t.jsx(lp,{ref:m,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});wm(y)}})]})});KN.displayName=GN;var YN="ToastFocusProxy",lp=u.forwardRef((e,s)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=th(YN,n);return t.jsx(Bx,{"aria-hidden":!0,tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});lp.displayName=YN;var yc="Toast",EA="toast.swipeStart",TA="toast.swipeMove",AA="toast.swipeCancel",RA="toast.swipeEnd",XN=u.forwardRef((e,s)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=za({prop:r,defaultProp:a??!0,onChange:i,caller:yc});return t.jsx(Xn,{present:n||l,children:t.jsx(OA,{open:l,...o,ref:s,onClose:()=>c(!1),onPause:Qs(e.onPause),onResume:Qs(e.onResume),onSwipeStart:ke(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(e.onSwipeMove,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ke(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(e.onSwipeEnd,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});XN.displayName=yc;var[MA,DA]=HN(yc,{onClose(){}}),OA=u.forwardRef((e,s)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:v,...w}=e,g=th(yc,n),[y,f]=u.useState(null),x=Ze(s,O=>f(O)),j=u.useRef(null),N=u.useRef(null),S=a||g.duration,A=u.useRef(0),C=u.useRef(S),k=u.useRef(0),{onToastAdd:M,onToastRemove:P}=g,D=Qs(()=>{var $;(y==null?void 0:y.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),I=u.useCallback(O=>{!O||O===1/0||(window.clearTimeout(k.current),A.current=new Date().getTime(),k.current=window.setTimeout(D,O))},[D]);u.useEffect(()=>{const O=g.viewport;if(O){const $=()=>{I(C.current),d==null||d()},W=()=>{const G=new Date().getTime()-A.current;C.current=C.current-G,window.clearTimeout(k.current),c==null||c()};return O.addEventListener(ip,W),O.addEventListener(op,$),()=>{O.removeEventListener(ip,W),O.removeEventListener(op,$)}}},[g.viewport,S,c,d,I]),u.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(S)},[i,S,g.isClosePausedRef,I]),u.useEffect(()=>(M(),()=>P()),[M,P]);const H=u.useMemo(()=>y?n1(y):null,[y]);return g.viewport?t.jsxs(t.Fragment,{children:[H&&t.jsx($A,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),t.jsx(MA,{scope:n,onClose:D,children:Ia.createPortal(t.jsx(Hx.ItemSlot,{scope:n,children:t.jsx(fA,{asChild:!0,onEscapeKeyDown:ke(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx($e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ke(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ke(e.onPointerDown,O=>{O.button===0&&(j.current={x:O.clientX,y:O.clientY})}),onPointerMove:ke(e.onPointerMove,O=>{if(!j.current)return;const $=O.clientX-j.current.x,W=O.clientY-j.current.y,G=!!N.current,R=["left","right"].includes(g.swipeDirection),V=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,q=R?V(0,$):0,T=R?0:V(0,W),U=O.pointerType==="touch"?10:2,se={x:q,y:T},ie={originalEvent:O,delta:se};G?(N.current=se,od(TA,h,ie,{discrete:!1})):ey(se,g.swipeDirection,U)?(N.current=se,od(EA,m,ie,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs($)>U||Math.abs(W)>U)&&(j.current=null)}),onPointerUp:ke(e.onPointerUp,O=>{const $=N.current,W=O.target;if(W.hasPointerCapture(O.pointerId)&&W.releasePointerCapture(O.pointerId),N.current=null,j.current=null,$){const G=O.currentTarget,R={originalEvent:O,delta:$};ey($,g.swipeDirection,g.swipeThreshold)?od(RA,v,R,{discrete:!0}):od(AA,p,R,{discrete:!0}),G.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),$A=e=>{const{__scopeToast:s,children:n,...r}=e,a=th(yc,s),[i,o]=u.useState(!1),[l,c]=u.useState(!1);return FA(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:t.jsx(eh,{asChild:!0,children:t.jsx(Bx,{...r,children:i&&t.jsxs(t.Fragment,{children:[a.label," ",n]})})})},IA="ToastTitle",JN=u.forwardRef((e,s)=>{const{__scopeToast:n,...r}=e;return t.jsx($e.div,{...r,ref:s})});JN.displayName=IA;var LA="ToastDescription",QN=u.forwardRef((e,s)=>{const{__scopeToast:n,...r}=e;return t.jsx($e.div,{...r,ref:s})});QN.displayName=LA;var ZN="ToastAction",e1=u.forwardRef((e,s)=>{const{altText:n,...r}=e;return n.trim()?t.jsx(s1,{altText:n,asChild:!0,children:t.jsx(qx,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZN}\`. Expected non-empty \`string\`.`),null)});e1.displayName=ZN;var t1="ToastClose",qx=u.forwardRef((e,s)=>{const{__scopeToast:n,...r}=e,a=DA(t1,n);return t.jsx(s1,{asChild:!0,children:t.jsx($e.button,{type:"button",...r,ref:s,onClick:ke(e.onClick,a.onClose)})})});qx.displayName=t1;var s1=u.forwardRef((e,s)=>{const{__scopeToast:n,altText:r,...a}=e;return t.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:s})});function n1(e){const s=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&s.push(r.textContent),zA(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&s.push(o)}else s.push(...n1(r))}}),s}function od(e,s,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});s&&a.addEventListener(e,s,{once:!0}),r?Ux(a,i):a.dispatchEvent(i)}var ey=(e,s,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return s==="left"||s==="right"?i&&r>n:!i&&a>n};function FA(e=()=>{}){const s=Qs(e);Tn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[s])}function zA(e){return e.nodeType===e.ELEMENT_NODE}function VA(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function wm(e){const s=document.activeElement;return e.some(n=>n===s?!0:(n.focus(),document.activeElement!==s))}var UA=qN,r1=KN,a1=XN,i1=JN,o1=QN,l1=e1,c1=qx;const ty=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sy=ON,jc=(e,s)=>n=>{var r;if((s==null?void 0:s.variants)==null)return sy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=s,o=Object.keys(a).map(d=>{const m=n==null?void 0:n[d],h=i==null?void 0:i[d];if(m===null)return null;const p=ty(m)||ty(h);return a[d][p]}),l=n&&Object.entries(n).reduce((d,m)=>{let[h,p]=m;return p===void 0||(d[h]=p),d},{}),c=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:h,className:p,...v}=m;return Object.entries(v).every(w=>{let[g,y]=w;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...d,h,p]:d},[]);return sy(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};var BA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),re=(e,s)=>{const n=u.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},d)=>u.createElement("svg",{ref:d,...BA,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${WA(e)}`,...c},[...s.map(([m,h])=>u.createElement(m,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},Ps=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),hs=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),HA=re("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),An=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),qA=re("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),qs=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),GA=re("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),_l=re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),KA=re("Axe",[["path",{d:"m14 12-8.5 8.5a2.12 2.12 0 1 1-3-3L11 9",key:"csbz4o"}],["path",{d:"M15 13 9 7l4-4 6 6h3a8 8 0 0 1-7 7z",key:"113wfo"}]]),oo=re("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Gx=re("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),YA=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Er=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),XA=re("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),JA=re("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),cp=re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),QA=re("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),hr=re("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ZA=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Be=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ws=re("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Kx=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),bc=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),sh=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),d1=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),e6=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Zs=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),t6=re("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Ws=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),s6=re("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]),bt=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),tc=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),n6=re("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),No=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),en=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),r6=re("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Yx=re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),a6=re("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Tr=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),i6=re("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),o6=re("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),l6=re("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),sc=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),kl=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),c6=re("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),du=re("HandMetal",[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4",key:"7eki13"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2",key:"94qvcw"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9",key:"m1ah89"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5",key:"t1skq1"}]]),_n=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Xx=re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Jx=re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Va=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),mi=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),d6=re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),u6=re("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),u1=re("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),ii=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Nm=re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),ny=re("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Se=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ry=re("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),_a=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),h1=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),wc=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Gn=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zt=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),m1=re("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),Qx=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),un=re("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Xt=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),h6=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),m6=re("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),f6=re("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),nc=re("PackageOpen",[["path",{d:"M20.91 8.84 8.56 2.23a1.93 1.93 0 0 0-1.81 0L3.1 4.13a2.12 2.12 0 0 0-.05 3.69l12.22 6.93a2 2 0 0 0 1.94 0L21 12.51a2.12 2.12 0 0 0-.09-3.67Z",key:"1vy178"}],["path",{d:"m3.09 8.84 12.35-6.61a1.93 1.93 0 0 1 1.81 0l3.65 1.9a2.12 2.12 0 0 1 .1 3.69L8.73 14.75a2 2 0 0 1-1.94 0L3 12.51a2.12 2.12 0 0 1 .09-3.67Z",key:"s3bv25"}],["line",{x1:"12",x2:"12",y1:"22",y2:"13",key:"1o4xyi"}],["path",{d:"M20 13.5v3.37a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13.5",key:"1na2nq"}]]),It=re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),ua=re("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),p6=re("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),f1=re("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),ay=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Do=re("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),x6=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),g6=re("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),Dt=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ar=re("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Zx=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Wn=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),v6=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),an=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),p1=re("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),As=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),uu=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ka=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x1=re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),y6=re("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),j6=re("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Js=re("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),nh=re("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),Lt=re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),e0=re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),b6=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),g1=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),ze=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),v1=re("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Pa=re("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),w6=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),dp=re("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),zs=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),N6=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Wt=re("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),S6=re("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),fi=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Hn=re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),t0=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),y1=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),tt=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Sn=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rh=re("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),C6=re("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]),j1=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Pl=re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),st=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_6=re("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),k6=re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),P6=UA,b1=ce.forwardRef(({className:e,...s},n)=>t.jsx(r1,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...s}));b1.displayName=r1.displayName;const E6=jc("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w1=ce.forwardRef(({className:e,variant:s,...n},r)=>t.jsx(a1,{ref:r,className:je(E6({variant:s}),e),...n}));w1.displayName=a1.displayName;const T6=ce.forwardRef(({className:e,...s},n)=>t.jsx(l1,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...s}));T6.displayName=l1.displayName;const N1=ce.forwardRef(({className:e,...s},n)=>t.jsx(c1,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...s,children:t.jsx(st,{className:"h-4 w-4"})}));N1.displayName=c1.displayName;const S1=ce.forwardRef(({className:e,...s},n)=>t.jsx(i1,{ref:n,className:je("text-sm font-semibold",e),...s}));S1.displayName=i1.displayName;const C1=ce.forwardRef(({className:e,...s},n)=>t.jsx(o1,{ref:n,className:je("text-sm opacity-90",e),...s}));C1.displayName=o1.displayName;const A6=1;let Sm=0;function R6(){return Sm=(Sm+1)%Number.MAX_VALUE,Sm.toString()}const Ms={state:{toasts:[]},listeners:[],getState:()=>Ms.state,setState:e=>{typeof e=="function"?Ms.state=e(Ms.state):Ms.state={...Ms.state,...e},Ms.listeners.forEach(s=>s(Ms.state))},subscribe:e=>(Ms.listeners.push(e),()=>{Ms.listeners=Ms.listeners.filter(s=>s!==e)})},Gt=({...e})=>{const s=R6(),n=a=>Ms.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===s?{...o,...a}:o)})),r=()=>Ms.setState(a=>({...a,toasts:a.toasts.filter(i=>i.id!==s)}));return Ms.setState(a=>({...a,toasts:[{...e,id:s,dismiss:r},...a.toasts].slice(0,A6)})),{id:s,dismiss:r,update:n}};function Ke(){const[e,s]=u.useState(Ms.getState());return u.useEffect(()=>Ms.subscribe(r=>{s(r)}),[]),u.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const a=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(a)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:Gt,toasts:e.toasts}}function M6(){const{toasts:e}=Ke();return t.jsxs(P6,{children:[e.map(({id:s,title:n,description:r,action:a,dismiss:i,...o})=>t.jsxs(w1,{...o,children:[t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(S1,{children:n}),r&&t.jsx(C1,{children:r})]}),a,t.jsx(N1,{})]},s)),t.jsx(b1,{})]})}const D6=()=>(window.location.hostname==="handy3.abanoubsamir.com","https://handy3.abanoubsamir.com/backend/public/api"),O6=D6();function $s(e){const s=O6.replace(/\/$/,""),n=e.replace(/^\//,"");return`${s}/${n}`}async function Z(e,s={}){const n=localStorage.getItem("token"),r={headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}},a=await fetch($s(e),{...r,...s});if(!a.ok){const i=await a.text();throw new Error(`API error: ${a.status} - ${i}`)}return a.json()}async function wn(e,s={}){const n=localStorage.getItem("token"),r={Accept:"application/json",...n?{Authorization:`Bearer ${n}`}:{}},a=await fetch($s(e),{...s,headers:r});if(!a.ok){const i=await a.text();throw new Error(`API error: ${a.status} - ${i}`)}return a.json()}async function gn(e,s={}){const n=localStorage.getItem("delivery_token"),r={headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}},a=await fetch($s(e),{...r,...s});if(!a.ok){const i=await a.text();throw new Error(`API error: ${a.status} - ${i}`)}return a.json()}const ve={get:e=>Z(e),post:(e,s)=>Z(e,{method:"POST",body:JSON.stringify(s)}),put:(e,s)=>Z(e,{method:"PUT",body:JSON.stringify(s)}),delete:e=>Z(e,{method:"DELETE"}),getCategories:()=>Z("listcategories"),getCities:()=>Z("cities"),getSeller:e=>Z(`listsellers/${e}`),getSellerProducts:e=>Z(`listsellers/${e}/products`),getSellers:()=>Z("listsellers"),getTopSellers:()=>Z("sellers/top"),getFeaturedProducts:()=>Z("TopProducts?featured=1&status=active&limit=10"),getProductById:e=>Z(`Listpoducts/${e}`),sendEmailVerificationOTP:e=>Z("send-email-verification-otp",{method:"POST",body:JSON.stringify({email:e})}),verifyEmail:(e,s)=>Z("verify-email",{method:"POST",body:JSON.stringify({email:e,otp_code:s})}),registerWithVerification:e=>Z("register-with-verification",{method:"POST",body:JSON.stringify(e)}),sendPasswordResetOTP:e=>Z("send-password-reset-otp",{method:"POST",body:JSON.stringify({email:e})}),verifyPasswordResetOTP:(e,s)=>Z("verify-password-reset-otp",{method:"POST",body:JSON.stringify({email:e,otp_code:s})}),resetPassword:(e,s,n,r)=>Z("reset-password",{method:"POST",body:JSON.stringify({email:e,otp_code:s,password:n,password_confirmation:r})}),uploadProfileImage:(e,s)=>{const n=new FormData;return n.append("avatar",s),wn(`users/${e}/upload-avatar`,{method:"POST",body:n})},uploadCoverImage:(e,s)=>{const n=new FormData;return n.append("cover_image",s),wn(`users/${e}/upload-cover-image`,{method:"POST",body:n})},getCart:()=>Z("cart"),addToCart:(e,s=1)=>Z("cart/add",{method:"POST",body:JSON.stringify({product_id:e,quantity:s})}),updateCartItem:(e,s)=>Z(`cart-items/${e}`,{method:"PATCH",body:JSON.stringify({quantity:s})}),removeFromCart:e=>Z(`cart-items/${e}`,{method:"DELETE"}),clearCart:()=>Z("cart/clear",{method:"DELETE"}),createOrder:e=>Z("orders",{method:"POST",body:JSON.stringify(e)}),createOrderWithFiles:e=>wn("orders",{method:"POST",body:e}),getOrders:(e={})=>{const n=new URLSearchParams(e).toString();return Z(`orders${n?`?${n}`:""}`)},getOrder:e=>Z(`orders/${e}`),updateOrder:(e,s)=>Z(`orders/${e}`,{method:"PUT",body:JSON.stringify(s)}),deleteOrder:e=>Z(`orders/${e}`,{method:"DELETE"}),uploadPaymentProof:(e,s)=>{let n;return s instanceof FormData?n=s:(n=new FormData,n.append("payment_proof",s)),wn(`orders/${e}/upload-payment-proof`,{method:"POST",body:n})},completeOrder:e=>Z(`orders/${e}/complete`,{method:"POST"}),cancelOrder:(e,s)=>Z(`orders/${e}/cancel`,{method:"POST",body:JSON.stringify({reason:s})}),getWishlist:()=>Z("wishlist"),getWishlistCount:()=>Z("wishlist/count"),addToWishlist:e=>Z("wishlist/add",{method:"POST",body:JSON.stringify({product_id:e})}),removeFromWishlist:e=>Z(`wishlist/remove/${e}`,{method:"DELETE"}),toggleWishlist:e=>Z("wishlist/toggle",{method:"POST",body:JSON.stringify({product_id:e})}),checkWishlistStatus:e=>Z(`wishlist/check/${e}`),clearWishlist:()=>Z("wishlist/clear",{method:"DELETE"}),getConversations:()=>Z("chat/conversations"),getMessages:e=>Z(`chat/conversations/${e}/messages`),sendMessage:e=>Z("chat/messages",{method:"POST",body:JSON.stringify(e)}),sendMessageWithFiles:e=>wn("chat/messages",{method:"POST",body:e}),updateOnlineStatus:()=>Z("chat/update-online-status",{method:"POST"}),getSellerServices:e=>Z(`users/${e}/services`),createServiceOrder:e=>wn("orders",{method:"POST",body:e}),startConversation:e=>Z("chat/conversations/start",{method:"POST",body:JSON.stringify({recipient_id:e})}),markAsRead:e=>Z(`chat/conversations/${e}/mark-read`,{method:"POST"}),deleteConversation:e=>Z(`chat/conversations/${e}`,{method:"DELETE"}),getNotifications:()=>Z("notifications"),getUnreadNotificationCount:()=>Z("notifications/unread-count"),markNotificationAsRead:e=>Z(`notifications/${e}/mark-read`,{method:"POST"}),markAllNotificationsAsRead:()=>Z("notifications/mark-all-read",{method:"POST"}),deleteNotification:e=>Z(`notifications/${e}`,{method:"DELETE"}),getWithdrawalRequests:()=>Z("withdrawals"),createWithdrawalRequest:e=>Z("withdrawals",{method:"POST",body:JSON.stringify(e)}),getEarningsSummary:()=>Z("earnings-summary"),getBuyerWithdrawals:()=>Z("buyer-withdrawals"),createBuyerWithdrawalRequest:e=>Z("buyer-withdrawals",{method:"POST",body:JSON.stringify(e)}),getProductReviews:e=>Z(`products/${e}/reviews`),getSellerReviews:e=>Z(`sellers/${e}/reviews`),getOrderReviews:e=>Z(`orders/${e}/reviews`),canReviewOrder:e=>Z(`orders/${e}/can-review`),createReview:e=>Z("reviews",{method:"POST",body:JSON.stringify(e)}),updateReview:(e,s)=>Z(`reviews/${e}`,{method:"PUT",body:JSON.stringify(s)}),deleteReview:e=>Z(`reviews/${e}`,{method:"DELETE"}),submitContactForm:e=>Z("contact",{method:"POST",body:JSON.stringify(e)}),getPublicAnnouncements:(e={})=>{const s=new URLSearchParams(e);return Z(`announcements?${s}`)},getLatestAnnouncements:(e=3)=>Z(`announcements/latest?limit=${e}`),getAnnouncementById:e=>Z(`announcements/${e}`),getAnnouncementStats:()=>Z("announcements/stats"),getAboutUsStats:()=>Z("about-us/stats")},Ce={getDashboardStats:()=>Z("admin/dashboard"),getUsers:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/users?${s}`)},updateUserStatus:(e,s)=>Z(`admin/users/${e}/status`,{method:"PATCH",body:JSON.stringify({status:s})}),deleteUser:e=>Z(`admin/users/${e}`,{method:"DELETE"}),getSellers:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/sellers?${s}`)},updateSellerStatus:(e,s)=>Z(`admin/sellers/${e}/status`,{method:"PATCH",body:JSON.stringify({status:s})}),getProducts:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/products?${s}`)},toggleProductFeatured:e=>Z(`admin/products/${e}/featured`,{method:"PATCH"}),deleteProduct:e=>Z(`admin/products/${e}`,{method:"DELETE"}),updateProductStatus:(e,s)=>Z(`admin/products/${e}/status`,{method:"PATCH",body:JSON.stringify({status:s})}),getRecentActivity:()=>Z("admin/recent-activity"),getCategories:(e={})=>{const s=new URLSearchParams(e);return Z(`categories?${s}`)},createCategory:e=>e instanceof FormData?wn("categories",{method:"POST",body:e}):Z("categories",{method:"POST",body:JSON.stringify(e)}),updateCategory:(e,s)=>s instanceof FormData?wn(`categories/${e}`,{method:"POST",body:s}):Z(`categories/${e}`,{method:"PUT",body:JSON.stringify(s)}),deleteCategory:e=>Z(`categories/${e}`,{method:"DELETE"}),getOrders:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/orders?${s}`)},getPendingOrders:()=>Z("admin/orders/pending"),approveOrder:(e,s="")=>Z(`admin/orders/${e}/approve`,{method:"POST",body:JSON.stringify({notes:s})}),rejectOrder:(e,s)=>Z(`admin/orders/${e}/reject`,{method:"POST",body:JSON.stringify({reason:s})}),adminApproveOrder:(e,s="")=>Z(`orders/${e}/admin-approve`,{method:"POST",body:JSON.stringify({notes:s})}),adminUpdateOrderStatus:(e,s,n="")=>Z(`admin/orders/${e}/update-status`,{method:"POST",body:JSON.stringify({status:s,notes:n})}),getPendingApprovalOrders:()=>Z("orders/pending-approval"),getDeliveryPersonnel:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/delivery-personnel?${s}`)},createDeliveryPersonnel:e=>Z("admin/delivery-personnel",{method:"POST",body:JSON.stringify(e)}),updateDeliveryPersonnel:(e,s)=>Z(`admin/delivery-personnel/${e}`,{method:"PUT",body:JSON.stringify(s)}),deleteDeliveryPersonnel:e=>Z(`admin/delivery-personnel/${e}`,{method:"DELETE"}),resetDeliveryPersonnelPassword:e=>Z(`admin/delivery-personnel/${e}/reset-password`,{method:"POST"}),getAvailableDeliveryPersonnel:()=>Z("admin/delivery/available-personnel"),getOrdersReadyForDelivery:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/delivery/orders-ready?${s}`)},getPickedUpOrdersAwaitingDelivery:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/delivery/picked-up-orders?${s}`)},bulkAssignOrders:(e,s)=>Z("admin/delivery/bulk-assign-orders",{method:"POST",body:JSON.stringify({order_ids:e,delivery_person_id:s})}),assignPickupPerson:(e,s)=>Z("admin/delivery/assign-pickup-person",{method:"POST",body:JSON.stringify({order_id:e,pickup_person_id:s})}),assignDeliveryPerson:(e,s)=>Z("admin/delivery/assign-delivery-person",{method:"POST",body:JSON.stringify({order_id:e,delivery_person_id:s})}),getWithdrawalRequests:()=>Z("admin/withdrawal-requests"),approveWithdrawalRequest:(e,s)=>Z(`admin/withdrawal-requests/${e}/approve`,{method:"POST",body:JSON.stringify(s)}),rejectWithdrawalRequest:(e,s)=>Z(`admin/withdrawal-requests/${e}/reject`,{method:"POST",body:JSON.stringify(s)}),getBuyerWithdrawalRequests:()=>Z("admin/buyer-withdrawal-requests"),approveBuyerWithdrawalRequest:(e,s)=>Z(`admin/buyer-withdrawal-requests/${e}/approve`,{method:"POST",body:JSON.stringify(s)}),rejectBuyerWithdrawalRequest:(e,s)=>Z(`admin/buyer-withdrawal-requests/${e}/reject`,{method:"POST",body:JSON.stringify(s)}),getWithdrawalSettings:()=>Z("admin/withdrawal-settings"),updateWithdrawalSettings:e=>Z("admin/withdrawal-settings",{method:"POST",body:JSON.stringify(e)}),getSiteSettings:()=>Z("admin/site-settings"),updateSiteSettings:(e,s)=>Z("admin/site-settings",{method:"POST",body:JSON.stringify({settingsType:e,settings:s})}),getContactMessages:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/contact?${s}`)},getContactStats:()=>Z("admin/contact/stats"),getContactMessage:e=>Z(`admin/contact/${e}`),markContactMessageAsRead:e=>Z(`admin/contact/${e}/read`,{method:"PATCH"}),markContactMessageAsResolved:(e,s)=>Z(`admin/contact/${e}/resolve`,{method:"PATCH",body:JSON.stringify(s)}),deleteContactMessage:e=>Z(`admin/contact/${e}`,{method:"DELETE"}),getAllConversations:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/chat/conversations?${s}`)},getConversationMessages:e=>Z(`admin/chat/conversations/${e}/messages`),getChatStats:()=>Z("admin/chat/stats"),getAnnouncements:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/announcements?${s}`)},getAnnouncementStats:()=>Z("admin/announcements/stats"),createAnnouncement:e=>wn("admin/announcements",{method:"POST",body:e}),updateAnnouncement:(e,s)=>wn(`admin/announcements/${e}`,{method:"POST",body:s}),deleteAnnouncement:e=>Z(`admin/announcements/${e}`,{method:"DELETE"}),toggleAnnouncementStatus:e=>Z(`admin/announcements/${e}/toggle-status`,{method:"POST"}),getCities:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/cities?${s}`)},createCity:e=>Z("admin/cities",{method:"POST",body:JSON.stringify(e)}),updateCity:(e,s)=>Z(`admin/cities/${e}`,{method:"PUT",body:JSON.stringify(s)}),deleteCity:e=>Z(`admin/cities/${e}`,{method:"DELETE"}),getPlatformProfits:(e={})=>{const s=new URLSearchParams(e);return Z(`admin/platform-profits?${s}`)}},Ss={getSellerProducts:async()=>Z("seller/products"),getProductById:async e=>Z(`seller/products/${e}`),createProduct:async e=>{const s=new FormData;return Object.entries(e).forEach(([n,r])=>{Array.isArray(r)?n==="images"?r.forEach(a=>s.append("images[]",a)):n==="tags"&&r.forEach(a=>s.append("tags[]",a)):s.append(n,r)}),wn("seller/products",{method:"POST",body:s})},updateProduct:async(e,s)=>{const n=new FormData;return Object.entries(s).forEach(([r,a])=>{Array.isArray(a)?r==="images"?a.forEach(i=>{i instanceof File&&n.append("images[]",i)}):r==="tags"?a.forEach(i=>n.append("tags[]",i)):r==="existing_images"?a.forEach((i,o)=>{n.append(`existing_images[${o}]`,i)}):a.forEach(i=>n.append(`${r}[]`,i)):a!=null&&n.append(r,a)}),n.append("_method","PUT"),wn(`seller/products/${e}`,{method:"POST",body:n})},deleteProduct:async e=>Z(`seller/products/${e}`,{method:"DELETE"}),getSellerOrders:(e={})=>{const s=new URLSearchParams({seller_orders:!0,...e});return Z(`orders?${s}`)},approveOrder:(e,s={})=>{const n=typeof s=="string"?{notes:s}:s;return Z(`orders/${e}/seller-approve`,{method:"POST",body:JSON.stringify(n)})},approveProposedPrice:(e,s="")=>Z(`orders/${e}/approve-price`,{method:"POST",body:JSON.stringify({notes:s})}),rejectProposedPrice:(e,s="")=>Z(`orders/${e}/reject-price`,{method:"POST",body:JSON.stringify({reason:s})}),startWork:(e,s="")=>Z(`orders/${e}/start-work`,{method:"POST",body:JSON.stringify({notes:s})}),completeWork:(e,s="",n=null)=>Z(`orders/${e}/complete-work`,{method:"POST",body:JSON.stringify({notes:s,delivery_date:n})})},Is={login:e=>Z("delivery/login",{method:"POST",body:JSON.stringify(e)}),logout:()=>gn("delivery/logout",{method:"POST"}),getProfile:()=>gn("delivery/profile"),getStats:()=>gn("delivery/stats"),toggleAvailability:()=>gn("delivery/toggle-availability",{method:"POST"}),getOrdersToPickup:()=>gn("delivery/orders-to-pickup"),getOrdersToDeliver:()=>gn("delivery/orders-to-deliver"),getOrderDetails:e=>gn(`delivery/orders/${e}`),pickupOrder:e=>gn(`delivery/orders/${e}/pickup`,{method:"POST"}),deliverOrder:e=>gn(`delivery/orders/${e}/deliver`,{method:"POST"}),suspendOrder:(e,s)=>gn(`delivery/orders/${e}/suspend`,{method:"POST",body:JSON.stringify(s)}),myOrders:()=>gn("delivery/my-orders"),suspendedOrders:()=>gn("delivery/suspended-orders")},_1=u.createContext(),De=()=>u.useContext(_1),$6=({children:e})=>{const[s,n]=u.useState(null),[r,a]=u.useState(!0),{toast:i}=Ke(),o=()=>localStorage.getItem("token");u.useEffect(()=>{if(!s)return;ve.updateOnlineStatus().catch(M=>console.error("Failed to update online status:",M));const C=setInterval(()=>{ve.updateOnlineStatus().catch(M=>console.error("Failed to update online status:",M))},48e4),k=()=>{document.visibilityState==="visible"&&ve.updateOnlineStatus().catch(M=>console.error("Failed to update online status:",M))};return document.addEventListener("visibilitychange",k),()=>{clearInterval(C),document.removeEventListener("visibilitychange",k)}},[s]),u.useEffect(()=>{const C=o();C?(a(!0),fetch($s("me"),{headers:{Authorization:`Bearer ${C}`,Accept:"application/json"}}).then(async k=>{if(k.ok){const M=(await k.json()).data;n(M),localStorage.setItem("user",JSON.stringify(M))}else n(null),localStorage.removeItem("user"),localStorage.removeItem("token")}).catch(k=>{n(null),localStorage.removeItem("user"),localStorage.removeItem("token")}).finally(()=>{a(!1)})):(n(null),a(!1))},[]);const A={user:s,loading:r,login:async C=>{try{const k=await fetch($s("login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(C)});if(!k.ok){const P=await k.json().catch(()=>({}));return i({variant:"destructive",title:"فشل تسجيل الدخول",description:P.message||"البريد الإلكتروني أو كلمة المرور غير صحيحة"}),!1}const M=await k.json();return localStorage.setItem("token",M.token),n(M.user),localStorage.setItem("user",JSON.stringify(M.user)),i({title:"تم تسجيل الدخول بنجاح",description:`مرحباً بك ${M.user.name}`}),!0}catch{return i({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تسجيل الدخول"}),!1}},register:async C=>{try{const k=await fetch($s("register"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(C)});if(!k.ok){const P=await k.json().catch(()=>({}));return i({variant:"destructive",title:"فشل إنشاء الحساب",description:P.message||"حدث خطأ أثناء إنشاء الحساب"}),!1}const M=await k.json();return localStorage.setItem("token",M.token),n(M.user),localStorage.setItem("user",JSON.stringify(M.user)),i({title:"تم إنشاء الحساب بنجاح",description:`مرحباً بك ${C.name}`}),!0}catch{return i({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء إنشاء الحساب"}),!1}},logout:async()=>{const C=o();if(C)try{await fetch($s("logout"),{method:"POST",headers:{Authorization:`Bearer ${C}`}})}catch{}n(null),localStorage.removeItem("user"),localStorage.removeItem("token"),i({title:"تم تسجيل الخروج",description:"نتمنى رؤيتك مرة أخرى قريباً"})},updateProfile:async C=>{try{const k=o();if(!k||!s)throw new Error("Not authenticated");const M={name:C.name||s.name,bio:C.bio||s.bio||"",location:C.location||s.location||"",avatar:typeof C.avatar=="string"?C.avatar:s.avatar||"",phone:typeof C.phone=="string"?C.phone:s.phone||""};Array.isArray(C.skills)&&s.active_role==="seller"&&(M.skills=C.skills);const P=await fetch($s(`users/${s.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(M)});if(!P.ok){const I=await P.text();throw new Error(`Update failed: ${P.status} ${I}`)}const D=(await P.json()).data;return n(D),localStorage.setItem("user",JSON.stringify(D)),i({title:"تم تحديث الملف الشخصي",description:"تم تحديث بياناتك بنجاح"}),!0}catch{return i({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تحديث الملف الشخصي"}),!1}},uploadProfileImage:async C=>{try{if(!o()||!s)throw new Error("Not authenticated");const M=await ve.uploadProfileImage(s.id,C),P=M.data;return n(P),localStorage.setItem("user",JSON.stringify(P)),i({title:"تم تحديث صورة الملف الشخصي",description:"تم تحديث صورتك الشخصية بنجاح"}),{success:!0,data:P,avatarUrl:M.avatar_url}}catch(k){return console.error("Profile image upload failed:",k),i({variant:"destructive",title:"خطأ في رفع الصورة",description:"حدث خطأ أثناء رفع صورة الملف الشخصي"}),{success:!1,error:k.message}}},uploadCoverImage:async C=>{try{if(!o()||!s)throw new Error("Not authenticated");const M=await ve.uploadCoverImage(s.id,C),P=M.data;return n(P),localStorage.setItem("user",JSON.stringify(P)),i({title:"تم تحديث صورة الغلاف",description:"تم تحديث صورة الغلاف بنجاح"}),{success:!0,data:P,coverImageUrl:M.cover_image_url}}catch(k){return console.error("Cover image upload failed:",k),i({variant:"destructive",title:"خطأ في رفع الصورة",description:"حدث خطأ أثناء رفع صورة الغلاف"}),{success:!1,error:k.message}}},switchRole:async C=>{try{const k=o();if(!k||!s)throw new Error("Not authenticated");const M=await fetch($s("switch-role"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({role:C})});if(!M.ok){const I=await M.json().catch(()=>({}));throw new Error(I.message||"Failed to switch role")}const D=(await M.json()).user;return n(D),localStorage.setItem("user",JSON.stringify(D)),i({title:"تم تبديل الدور بنجاح",description:`تم التبديل إلى دور ${C==="seller"?"البائع":"المشتري"}`}),!0}catch(k){return i({variant:"destructive",title:"خطأ",description:k.message||"حدث خطأ أثناء تبديل الدور"}),!1}},enableSellerMode:async()=>{try{const C=o();if(!C||!s)throw new Error("Not authenticated");const k=await fetch($s("enable-seller-mode"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${C}`}});if(!k.ok){const D=await k.json().catch(()=>({}));throw new Error(D.message||"Failed to enable seller mode")}const P=(await k.json()).user;return n(P),localStorage.setItem("user",JSON.stringify(P)),i({title:"تم تفعيل وضع البائع",description:"يمكنك الآن إضافة منتجات وإدارة متجرك"}),!0}catch(C){return i({variant:"destructive",title:"خطأ",description:C.message||"حدث خطأ أثناء تفعيل وضع البائع"}),!1}},changePassword:async({currentPassword:C,newPassword:k,confirmPassword:M})=>{try{const P=o();if(!P||!s)throw new Error("Not authenticated");const D=await fetch($s("change-password"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({current_password:C,new_password:k,new_password_confirmation:M})}),I=await D.json();return D.ok?(i({title:"تم تغيير كلمة المرور",description:I.message||"تم تغيير كلمة المرور بنجاح."}),!0):(i({variant:"destructive",title:"خطأ",description:I.message||"حدث خطأ أثناء تغيير كلمة المرور"}),!1)}catch(P){return i({variant:"destructive",title:"خطأ",description:P.message||"حدث خطأ أثناء تغيير كلمة المرور"}),!1}},sendEmailVerificationOTP:async C=>{try{return await ve.sendEmailVerificationOTP(C),i({title:"تم الإرسال بنجاح",description:"تم إرسال رمز التحقق إلى بريدك الإلكتروني"}),!0}catch(k){const M=k.message.includes("Email is already verified")?"البريد الإلكتروني مُفعل بالفعل":"حدث خطأ أثناء إرسال رمز التحقق";return i({variant:"destructive",title:"خطأ في الإرسال",description:M}),!1}},verifyEmail:async(C,k)=>{try{return await ve.verifyEmail(C,k),i({title:"تم التحقق بنجاح",description:"تم تأكيد بريدك الإلكتروني بنجاح"}),!0}catch{return i({variant:"destructive",title:"خطأ في التحقق",description:"رمز التحقق غير صحيح أو منتهي الصلاحية"}),!1}},registerWithEmailVerification:async C=>{try{const k=await ve.registerWithVerification(C);return localStorage.setItem("token",k.token),n(k.user),localStorage.setItem("user",JSON.stringify(k.user)),i({title:"تم إنشاء الحساب بنجاح",description:`مرحباً بك ${C.name}`}),!0}catch(k){const M=k.message.includes("Invalid or expired verification code")?"رمز التحقق غير صحيح أو منتهي الصلاحية":"حدث خطأ أثناء إنشاء الحساب";return i({variant:"destructive",title:"فشل إنشاء الحساب",description:M}),!1}},sendPasswordResetOTP:async C=>{try{return await ve.sendPasswordResetOTP(C),i({title:"تم الإرسال بنجاح",description:"تم إرسال رمز إعادة تعيين كلمة المرور إلى بريدك الإلكتروني"}),!0}catch(k){const M=k.message.includes("No user found")?"لا يوجد مستخدم بهذا البريد الإلكتروني":"حدث خطأ أثناء إرسال رمز إعادة التعيين";return i({variant:"destructive",title:"خطأ في الإرسال",description:M}),!1}},verifyPasswordResetOTP:async(C,k)=>{try{return await ve.verifyPasswordResetOTP(C,k),i({title:"تم التحقق بنجاح",description:"رمز التحقق صحيح، يمكنك الآن تغيير كلمة المرور"}),!0}catch{return i({variant:"destructive",title:"رمز غير صحيح",description:"رمز التحقق غير صحيح أو منتهي الصلاحية"}),!1}},resetPassword:async(C,k,M,P)=>{try{return await ve.resetPassword(C,k,M,P),i({title:"تم تغيير كلمة المرور بنجاح",description:"يمكنك الآن تسجيل الدخول بكلمة المرور الجديدة"}),!0}catch(D){const I=D.message.includes("Invalid or expired reset code")?"رمز التحقق غير صحيح أو منتهي الصلاحية":D.message.includes("password")?"كلمتا المرور غير متطابقتين أو ضعيفتان":"حدث خطأ أثناء تغيير كلمة المرور";return i({variant:"destructive",title:"خطأ في تغيير كلمة المرور",description:I}),!1}}};return t.jsx(_1.Provider,{value:A,children:e})},k1=u.createContext(),Nc=()=>u.useContext(k1),I6=({children:e})=>{const[s,n]=u.useState([]),{toast:r}=Ke();u.useEffect(()=>{const m=localStorage.getItem("cart");m&&n(JSON.parse(m))},[]),u.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(s))},[s]);const a=m=>{const h=s.findIndex(p=>p.id===m.id);if(h!==-1){const p=[...s];p[h].quantity+=m.quantity||1,n(p)}else n([...s,{...m,quantity:m.quantity||1}]);r({title:"تمت الإضافة إلى السلة",description:`تمت إضافة ${m.title} إلى سلة التسوق`})},i=m=>{n(s.filter(h=>h.id!==m)),r({title:"تمت الإزالة من السلة",description:"تم حذف المنتج من سلة التسوق"})},d={cart:s,addToCart:a,removeFromCart:i,updateQuantity:(m,h)=>{if(h<=0){i(m);return}const p=s.map(v=>v.id===m?{...v,quantity:h}:v);n(p)},clearCart:()=>{n([]),r({title:"تم تفريغ السلة",description:"تم حذف جميع المنتجات من سلة التسوق"})},getCartTotal:()=>s.reduce((m,h)=>m+h.price*h.quantity,0)};return t.jsx(k1.Provider,{value:d,children:e})};class s0{listenForWhisper(s,n){return this.listen(".client-"+s,n)}notification(s){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",s)}stopListeningForWhisper(s,n){return this.stopListening(".client-"+s,n)}}class P1{constructor(s){this.namespace=s}format(s){return[".","\\"].includes(s.charAt(0))?s.substring(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}setNamespace(s){this.namespace=s}}function L6(e){try{new e}catch(s){if(s instanceof Error&&s.message.includes("is not a constructor"))return!1}return!0}class n0 extends s0{constructor(s,n,r){super(),this.name=n,this.pusher=s,this.options=r,this.eventFormatter=new P1(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(s,n){return this.on(this.eventFormatter.format(s),n),this}listenToAll(s){return this.subscription.bind_global((n,r)=>{if(n.startsWith("pusher:"))return;let a=String(this.options.namespace??"").replace(/\./g,"\\"),i=n.startsWith(a)?n.substring(a.length+1):"."+n;s(i,r)}),this}stopListening(s,n){return n?this.subscription.unbind(this.eventFormatter.format(s),n):this.subscription.unbind(this.eventFormatter.format(s)),this}stopListeningToAll(s){return s?this.subscription.unbind_global(s):this.subscription.unbind_global(),this}subscribed(s){return this.on("pusher:subscription_succeeded",()=>{s()}),this}error(s){return this.on("pusher:subscription_error",n=>{s(n)}),this}on(s,n){return this.subscription.bind(s,n),this}}class E1 extends n0{whisper(s,n){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,n),this}}class F6 extends n0{whisper(s,n){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,n),this}}class z6 extends E1{here(s){return this.on("pusher:subscription_succeeded",n=>{s(Object.keys(n.members).map(r=>n.members[r]))}),this}joining(s){return this.on("pusher:member_added",n=>{s(n.info)}),this}whisper(s,n){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,n),this}leaving(s){return this.on("pusher:member_removed",n=>{s(n.info)}),this}}let T1=class extends s0{constructor(s,n,r){super(),this.events={},this.listeners={},this.name=n,this.socket=s,this.options=r,this.eventFormatter=new P1(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(s,n){return this.on(this.eventFormatter.format(s),n),this}stopListening(s,n){return this.unbindEvent(this.eventFormatter.format(s),n),this}subscribed(s){return this.on("connect",n=>{s(n)}),this}error(s){return this}on(s,n){return this.listeners[s]=this.listeners[s]||[],this.events[s]||(this.events[s]=(r,a)=>{this.name===r&&this.listeners[s]&&this.listeners[s].forEach(i=>i(a))},this.socket.on(s,this.events[s])),this.listeners[s].push(n),this}unbind(){Object.keys(this.events).forEach(s=>{this.unbindEvent(s)})}unbindEvent(s,n){this.listeners[s]=this.listeners[s]||[],n&&(this.listeners[s]=this.listeners[s].filter(r=>r!==n)),(!n||this.listeners[s].length===0)&&(this.events[s]&&(this.socket.removeListener(s,this.events[s]),delete this.events[s]),delete this.listeners[s])}},A1=class extends T1{whisper(s,n){return this.socket.emit("client event",{channel:this.name,event:`client-${s}`,data:n}),this}},V6=class extends A1{here(s){return this.on("presence:subscribed",n=>{s(n.map(r=>r.user_info))}),this}joining(s){return this.on("presence:joining",n=>s(n.user_info)),this}whisper(s,n){return this.socket.emit("client event",{channel:this.name,event:`client-${s}`,data:n}),this}leaving(s){return this.on("presence:leaving",n=>s(n.user_info)),this}};class hu extends s0{subscribe(){}unsubscribe(){}listen(s,n){return this}listenToAll(s){return this}stopListening(s,n){return this}subscribed(s){return this}error(s){return this}on(s,n){return this}}let R1=class extends hu{whisper(s,n){return this}},U6=class extends hu{whisper(s,n){return this}};class B6 extends R1{here(s){return this}joining(s){return this}whisper(s,n){return this}leaving(s){return this}}const M1=class D1{constructor(s){this.setOptions(s),this.connect()}setOptions(s){this.options={...D1._defaultOptions,...s,broadcaster:s.broadcaster};let n=this.csrfToken();n&&(this.options.auth.headers["X-CSRF-TOKEN"]=n,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=n),n=this.options.bearerToken,n&&(this.options.auth.headers.Authorization="Bearer "+n,this.options.userAuthentication.headers.Authorization="Bearer "+n)}csrfToken(){var s,n;return typeof window<"u"&&(s=window.Laravel)!=null&&s.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))??null:null}};M1._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let r0=M1;class ld extends r0{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(s,n,r){return this.channel(s).listen(n,r)}channel(s){return this.channels[s]||(this.channels[s]=new n0(this.pusher,s,this.options)),this.channels[s]}privateChannel(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new E1(this.pusher,"private-"+s,this.options)),this.channels["private-"+s]}encryptedPrivateChannel(s){return this.channels["private-encrypted-"+s]||(this.channels["private-encrypted-"+s]=new F6(this.pusher,"private-encrypted-"+s,this.options)),this.channels["private-encrypted-"+s]}presenceChannel(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new z6(this.pusher,"presence-"+s,this.options)),this.channels["presence-"+s]}leave(s){[s,"private-"+s,"private-encrypted-"+s,"presence-"+s].forEach(n=>{this.leaveChannel(n)})}leaveChannel(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}let W6=class extends r0{constructor(){super(...arguments),this.channels={}}connect(){let s=this.getSocketIO();this.socket=s(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(n=>{n.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(s,n,r){return this.channel(s).listen(n,r)}channel(s){return this.channels[s]||(this.channels[s]=new T1(this.socket,s,this.options)),this.channels[s]}privateChannel(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new A1(this.socket,"private-"+s,this.options)),this.channels["private-"+s]}presenceChannel(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new V6(this.socket,"presence-"+s,this.options)),this.channels["presence-"+s]}leave(s){[s,"private-"+s,"presence-"+s].forEach(n=>{this.leaveChannel(n)})}leaveChannel(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}};class iy extends r0{constructor(){super(...arguments),this.channels={}}connect(){}listen(s,n,r){return new hu}channel(s){return new hu}privateChannel(s){return new R1}encryptedPrivateChannel(s){return new U6}presenceChannel(s){return new B6}leave(s){}leaveChannel(s){}socketId(){return"fake-socket-id"}disconnect(){}}let H6=class{constructor(s){this.options=s,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(s){return this.connector.channel(s)}connect(){if(this.options.broadcaster==="reverb")this.connector=new ld({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new ld(this.options);else if(this.options.broadcaster==="ably")this.connector=new ld({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new W6(this.options);else if(this.options.broadcaster==="null")this.connector=new iy(this.options);else if(typeof this.options.broadcaster=="function"&&L6(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(s){return this.connector.presenceChannel(s)}leave(s){this.connector.leave(s)}leaveChannel(s){this.connector.leaveChannel(s)}leaveAllChannels(){for(const s in this.connector.channels)this.leaveChannel(s)}listen(s,n,r){return this.connector.listen(s,n,r)}private(s){return this.connector.privateChannel(s)}encryptedPrivate(s){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(s);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(s){return s instanceof ld||s instanceof iy}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((s,n)=>{this.socketId()&&s.headers.set("X-Socket-ID",this.socketId()),n()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(s=>(this.socketId()&&(s.headers["X-Socket-Id"]=this.socketId()),s))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((s,n,r)=>{this.socketId()&&r.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",s=>{s.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}};var O1={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(e,s){(function(r,a){e.exports=a()})(window,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=r,a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:l})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(o&1&&(i=a(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var c in i)a.d(l,c,(function(d){return i[d]}).bind(null,c));return l},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=2)}([function(n,r,a){var i=this&&this.__extends||function(){var g=function(y,f){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,j){x.__proto__=j}||function(x,j){for(var N in j)j.hasOwnProperty(N)&&(x[N]=j[N])},g(y,f)};return function(y,f){g(y,f);function x(){this.constructor=y}y.prototype=f===null?Object.create(f):(x.prototype=f.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=256,l=function(){function g(y){y===void 0&&(y="="),this._paddingCharacter=y}return g.prototype.encodedLength=function(y){return this._paddingCharacter?(y+2)/3*4|0:(y*8+5)/6|0},g.prototype.encode=function(y){for(var f="",x=0;x<y.length-2;x+=3){var j=y[x]<<16|y[x+1]<<8|y[x+2];f+=this._encodeByte(j>>>3*6&63),f+=this._encodeByte(j>>>2*6&63),f+=this._encodeByte(j>>>1*6&63),f+=this._encodeByte(j>>>0*6&63)}var N=y.length-x;if(N>0){var j=y[x]<<16|(N===2?y[x+1]<<8:0);f+=this._encodeByte(j>>>3*6&63),f+=this._encodeByte(j>>>2*6&63),N===2?f+=this._encodeByte(j>>>1*6&63):f+=this._paddingCharacter||"",f+=this._paddingCharacter||""}return f},g.prototype.maxDecodedLength=function(y){return this._paddingCharacter?y/4*3|0:(y*6+7)/8|0},g.prototype.decodedLength=function(y){return this.maxDecodedLength(y.length-this._getPaddingLength(y))},g.prototype.decode=function(y){if(y.length===0)return new Uint8Array(0);for(var f=this._getPaddingLength(y),x=y.length-f,j=new Uint8Array(this.maxDecodedLength(x)),N=0,S=0,A=0,C=0,k=0,M=0,P=0;S<x-4;S+=4)C=this._decodeChar(y.charCodeAt(S+0)),k=this._decodeChar(y.charCodeAt(S+1)),M=this._decodeChar(y.charCodeAt(S+2)),P=this._decodeChar(y.charCodeAt(S+3)),j[N++]=C<<2|k>>>4,j[N++]=k<<4|M>>>2,j[N++]=M<<6|P,A|=C&o,A|=k&o,A|=M&o,A|=P&o;if(S<x-1&&(C=this._decodeChar(y.charCodeAt(S)),k=this._decodeChar(y.charCodeAt(S+1)),j[N++]=C<<2|k>>>4,A|=C&o,A|=k&o),S<x-2&&(M=this._decodeChar(y.charCodeAt(S+2)),j[N++]=k<<4|M>>>2,A|=M&o),S<x-3&&(P=this._decodeChar(y.charCodeAt(S+3)),j[N++]=M<<6|P,A|=P&o),A!==0)throw new Error("Base64Coder: incorrect characters for decoding");return j},g.prototype._encodeByte=function(y){var f=y;return f+=65,f+=25-y>>>8&0-65-26+97,f+=51-y>>>8&26-97-52+48,f+=61-y>>>8&52-48-62+43,f+=62-y>>>8&62-43-63+47,String.fromCharCode(f)},g.prototype._decodeChar=function(y){var f=o;return f+=(42-y&y-44)>>>8&-o+y-43+62,f+=(46-y&y-48)>>>8&-o+y-47+63,f+=(47-y&y-58)>>>8&-o+y-48+52,f+=(64-y&y-91)>>>8&-o+y-65+0,f+=(96-y&y-123)>>>8&-o+y-97+26,f},g.prototype._getPaddingLength=function(y){var f=0;if(this._paddingCharacter){for(var x=y.length-1;x>=0&&y[x]===this._paddingCharacter;x--)f++;if(y.length<4||f>2)throw new Error("Base64Coder: incorrect padding")}return f},g}();r.Coder=l;var c=new l;function d(g){return c.encode(g)}r.encode=d;function m(g){return c.decode(g)}r.decode=m;var h=function(g){i(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype._encodeByte=function(f){var x=f;return x+=65,x+=25-f>>>8&0-65-26+97,x+=51-f>>>8&26-97-52+48,x+=61-f>>>8&52-48-62+45,x+=62-f>>>8&62-45-63+95,String.fromCharCode(x)},y.prototype._decodeChar=function(f){var x=o;return x+=(44-f&f-46)>>>8&-o+f-45+62,x+=(94-f&f-96)>>>8&-o+f-95+63,x+=(47-f&f-58)>>>8&-o+f-48+52,x+=(64-f&f-91)>>>8&-o+f-65+0,x+=(96-f&f-123)>>>8&-o+f-97+26,x},y}(l);r.URLSafeCoder=h;var p=new h;function v(g){return p.encode(g)}r.encodeURLSafe=v;function w(g){return p.decode(g)}r.decodeURLSafe=w,r.encodedLength=function(g){return c.encodedLength(g)},r.maxDecodedLength=function(g){return c.maxDecodedLength(g)},r.decodedLength=function(g){return c.decodedLength(g)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i="utf8: invalid string",o="utf8: invalid source encoding";function l(m){for(var h=new Uint8Array(c(m)),p=0,v=0;v<m.length;v++){var w=m.charCodeAt(v);w<128?h[p++]=w:w<2048?(h[p++]=192|w>>6,h[p++]=128|w&63):w<55296?(h[p++]=224|w>>12,h[p++]=128|w>>6&63,h[p++]=128|w&63):(v++,w=(w&1023)<<10,w|=m.charCodeAt(v)&1023,w+=65536,h[p++]=240|w>>18,h[p++]=128|w>>12&63,h[p++]=128|w>>6&63,h[p++]=128|w&63)}return h}r.encode=l;function c(m){for(var h=0,p=0;p<m.length;p++){var v=m.charCodeAt(p);if(v<128)h+=1;else if(v<2048)h+=2;else if(v<55296)h+=3;else if(v<=57343){if(p>=m.length-1)throw new Error(i);p++,h+=4}else throw new Error(i)}return h}r.encodedLength=c;function d(m){for(var h=[],p=0;p<m.length;p++){var v=m[p];if(v&128){var w=void 0;if(v<224){if(p>=m.length)throw new Error(o);var g=m[++p];if((g&192)!==128)throw new Error(o);v=(v&31)<<6|g&63,w=128}else if(v<240){if(p>=m.length-1)throw new Error(o);var g=m[++p],y=m[++p];if((g&192)!==128||(y&192)!==128)throw new Error(o);v=(v&15)<<12|(g&63)<<6|y&63,w=2048}else if(v<248){if(p>=m.length-2)throw new Error(o);var g=m[++p],y=m[++p],f=m[++p];if((g&192)!==128||(y&192)!==128||(f&192)!==128)throw new Error(o);v=(v&15)<<18|(g&63)<<12|(y&63)<<6|f&63,w=65536}else throw new Error(o);if(v<w||v>=55296&&v<=57343)throw new Error(o);if(v>=65536){if(v>1114111)throw new Error(o);v-=65536,h.push(String.fromCharCode(55296|v>>10)),v=56320|v&1023}}h.push(String.fromCharCode(v))}return h.join("")}r.decode=d},function(n,r,a){n.exports=a(3).default},function(n,r,a){a.r(r);class i{constructor(b,_){this.lastId=0,this.prefix=b,this.name=_}create(b){this.lastId++;var _=this.lastId,F=this.prefix+_,B=this.name+"["+_+"]",ae=!1,ge=function(){ae||(b.apply(null,arguments),ae=!0)};return this[_]=ge,{number:_,id:F,name:B,callback:ge}}remove(b){delete this[b.number]}}var o=new i("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},c=l;class d{constructor(b){this.options=b,this.receivers=b.receivers||o,this.loading={}}load(b,_,F){var B=this;if(B.loading[b]&&B.loading[b].length>0)B.loading[b].push(F);else{B.loading[b]=[F];var ae=Le.createScriptRequest(B.getPath(b,_)),ge=B.receivers.create(function(Ee){if(B.receivers.remove(ge),B.loading[b]){var Oe=B.loading[b];delete B.loading[b];for(var Qe=function(Vt){Vt||ae.cleanup()},at=0;at<Oe.length;at++)Oe[at](Ee,Qe)}});ae.send(ge)}}getRoot(b){var _,F=Le.getDocument().location.protocol;return b&&b.useTLS||F==="https:"?_=this.options.cdn_https:_=this.options.cdn_http,_.replace(/\/*$/,"")+"/"+this.options.version}getPath(b,_){return this.getRoot(_)+"/"+b+this.options.suffix+".js"}}var m=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),h=new d({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:m});const p={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var w={buildLogSuffix:function(E){const b="See:",_=p.urls[E];if(!_)return"";let F;return _.fullUrl?F=_.fullUrl:_.path&&(F=p.baseUrl+_.path),F?`${b} ${F}`:""}},g;(function(E){E.UserAuthentication="user-authentication",E.ChannelAuthorization="channel-authorization"})(g||(g={}));class y extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class f extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(b,_){super(_),this.status=b,Object.setPrototypeOf(this,new.target.prototype)}}var P=function(E,b,_,F,B){const ae=Le.createXHR();ae.open("POST",_.endpoint,!0),ae.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var ge in _.headers)ae.setRequestHeader(ge,_.headers[ge]);if(_.headersProvider!=null){let Ee=_.headersProvider();for(var ge in Ee)ae.setRequestHeader(ge,Ee[ge])}return ae.onreadystatechange=function(){if(ae.readyState===4)if(ae.status===200){let Ee,Oe=!1;try{Ee=JSON.parse(ae.responseText),Oe=!0}catch{B(new k(200,`JSON returned from ${F.toString()} endpoint was invalid, yet status code was 200. Data was: ${ae.responseText}`),null)}Oe&&B(null,Ee)}else{let Ee="";switch(F){case g.UserAuthentication:Ee=w.buildLogSuffix("authenticationEndpoint");break;case g.ChannelAuthorization:Ee=`Clients must be authorized to join private or presence channels. ${w.buildLogSuffix("authorizationEndpoint")}`;break}B(new k(ae.status,`Unable to retrieve auth string from ${F.toString()} endpoint - received status: ${ae.status} from ${_.endpoint}. ${Ee}`),null)}},ae.send(b),ae};function D(E){return G($(E))}var I=String.fromCharCode,H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=function(E){var b=E.charCodeAt(0);return b<128?E:b<2048?I(192|b>>>6)+I(128|b&63):I(224|b>>>12&15)+I(128|b>>>6&63)+I(128|b&63)},$=function(E){return E.replace(/[^\x00-\x7F]/g,O)},W=function(E){var b=[0,2,1][E.length%3],_=E.charCodeAt(0)<<16|(E.length>1?E.charCodeAt(1):0)<<8|(E.length>2?E.charCodeAt(2):0),F=[H.charAt(_>>>18),H.charAt(_>>>12&63),b>=2?"=":H.charAt(_>>>6&63),b>=1?"=":H.charAt(_&63)];return F.join("")},G=window.btoa||function(E){return E.replace(/[\s\S]{1,3}/g,W)};class R{constructor(b,_,F,B){this.clear=_,this.timer=b(()=>{this.timer&&(this.timer=B(this.timer))},F)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var V=R;function q(E){window.clearTimeout(E)}function T(E){window.clearInterval(E)}class U extends V{constructor(b,_){super(setTimeout,q,b,function(F){return _(),null})}}class se extends V{constructor(b,_){super(setInterval,T,b,function(F){return _(),F})}}var ie={now(){return Date.now?Date.now():new Date().valueOf()},defer(E){return new U(0,E)},method(E,...b){var _=Array.prototype.slice.call(arguments,1);return function(F){return F[E].apply(F,_.concat(arguments))}}},fe=ie;function ue(E,...b){for(var _=0;_<b.length;_++){var F=b[_];for(var B in F)F[B]&&F[B].constructor&&F[B].constructor===Object?E[B]=ue(E[B]||{},F[B]):E[B]=F[B]}return E}function le(){for(var E=["Pusher"],b=0;b<arguments.length;b++)typeof arguments[b]=="string"?E.push(arguments[b]):E.push(Re(arguments[b]));return E.join(" : ")}function Pe(E,b){var _=Array.prototype.indexOf;if(E===null)return-1;if(_&&E.indexOf===_)return E.indexOf(b);for(var F=0,B=E.length;F<B;F++)if(E[F]===b)return F;return-1}function L(E,b){for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&b(E[_],_,E)}function Y(E){var b=[];return L(E,function(_,F){b.push(F)}),b}function X(E){var b=[];return L(E,function(_){b.push(_)}),b}function pe(E,b,_){for(var F=0;F<E.length;F++)b.call(_||window,E[F],F,E)}function Me(E,b){for(var _=[],F=0;F<E.length;F++)_.push(b(E[F],F,E,_));return _}function Ie(E,b){var _={};return L(E,function(F,B){_[B]=b(F)}),_}function qe(E,b){b=b||function(B){return!!B};for(var _=[],F=0;F<E.length;F++)b(E[F],F,E,_)&&_.push(E[F]);return _}function At(E,b){var _={};return L(E,function(F,B){(b&&b(F,B,E,_)||F)&&(_[B]=F)}),_}function ss(E){var b=[];return L(E,function(_,F){b.push([F,_])}),b}function sn(E,b){for(var _=0;_<E.length;_++)if(b(E[_],_,E))return!0;return!1}function ye(E,b){for(var _=0;_<E.length;_++)if(!b(E[_],_,E))return!1;return!0}function ne(E){return Ie(E,function(b){return typeof b=="object"&&(b=Re(b)),encodeURIComponent(D(b.toString()))})}function Ve(E){var b=At(E,function(F){return F!==void 0}),_=Me(ss(ne(b)),fe.method("join","=")).join("&");return _}function Ue(E){var b=[],_=[];return function F(B,ae){var ge,Ee,Oe;switch(typeof B){case"object":if(!B)return null;for(ge=0;ge<b.length;ge+=1)if(b[ge]===B)return{$ref:_[ge]};if(b.push(B),_.push(ae),Object.prototype.toString.apply(B)==="[object Array]")for(Oe=[],ge=0;ge<B.length;ge+=1)Oe[ge]=F(B[ge],ae+"["+ge+"]");else{Oe={};for(Ee in B)Object.prototype.hasOwnProperty.call(B,Ee)&&(Oe[Ee]=F(B[Ee],ae+"["+JSON.stringify(Ee)+"]"))}return Oe;case"number":case"string":case"boolean":return B}}(E,"$")}function Re(E){try{return JSON.stringify(E)}catch{return JSON.stringify(Ue(E))}}class Je{constructor(){this.globalLog=b=>{window.console&&window.console.log&&window.console.log(b)}}debug(...b){this.log(this.globalLog,b)}warn(...b){this.log(this.globalLogWarn,b)}error(...b){this.log(this.globalLogError,b)}globalLogWarn(b){window.console&&window.console.warn?window.console.warn(b):this.globalLog(b)}globalLogError(b){window.console&&window.console.error?window.console.error(b):this.globalLogWarn(b)}log(b,..._){var F=le.apply(this,arguments);qh.log?qh.log(F):qh.logToConsole&&b.bind(this)(F)}}var Fe=new Je,Mn=function(E,b,_,F,B){(_.headers!==void 0||_.headersProvider!=null)&&Fe.warn(`To send headers with the ${F.toString()} request, you must use AJAX, rather than JSONP.`);var ae=E.nextAuthCallbackID.toString();E.nextAuthCallbackID++;var ge=E.getDocument(),Ee=ge.createElement("script");E.auth_callbacks[ae]=function(at){B(null,at)};var Oe="Pusher.auth_callbacks['"+ae+"']";Ee.src=_.endpoint+"?callback="+encodeURIComponent(Oe)+"&"+b;var Qe=ge.getElementsByTagName("head")[0]||ge.documentElement;Qe.insertBefore(Ee,Qe.firstChild)},yr=Mn;class pt{constructor(b){this.src=b}send(b){var _=this,F="Error loading "+_.src;_.script=document.createElement("script"),_.script.id=b.id,_.script.src=_.src,_.script.type="text/javascript",_.script.charset="UTF-8",_.script.addEventListener?(_.script.onerror=function(){b.callback(F)},_.script.onload=function(){b.callback(null)}):_.script.onreadystatechange=function(){(_.script.readyState==="loaded"||_.script.readyState==="complete")&&b.callback(null)},_.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(_.errorScript=document.createElement("script"),_.errorScript.id=b.id+"_error",_.errorScript.text=b.name+"('"+F+"');",_.script.async=_.errorScript.async=!1):_.script.async=!0;var B=document.getElementsByTagName("head")[0];B.insertBefore(_.script,B.firstChild),_.errorScript&&B.insertBefore(_.errorScript,_.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Dn{constructor(b,_){this.url=b,this.data=_}send(b){if(!this.request){var _=Ve(this.data),F=this.url+"/"+b.number+"?"+_;this.request=Le.createScriptRequest(F),this.request.send(b)}}cleanup(){this.request&&this.request.cleanup()}}var Ht=function(E,b){return function(_,F){var B="http"+(b?"s":"")+"://",ae=B+(E.host||E.options.host)+E.options.path,ge=Le.createJSONPRequest(ae,_),Ee=Le.ScriptReceivers.create(function(Oe,Qe){o.remove(Ee),ge.cleanup(),Qe&&Qe.host&&(E.host=Qe.host),F&&F(Oe,Qe)});ge.send(Ee)}},Dh={name:"jsonp",getAgent:Ht},Rc=Dh;function Vo(E,b,_){var F=E+(b.useTLS?"s":""),B=b.useTLS?b.hostTLS:b.hostNonTLS;return F+"://"+B+_}function Uo(E,b){var _="/app/"+E,F="?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(b?"&"+b:"");return _+F}var Oh={getInitial:function(E,b){var _=(b.httpPath||"")+Uo(E,"flash=false");return Vo("ws",b,_)}},$h={getInitial:function(E,b){var _=(b.httpPath||"/pusher")+Uo(E);return Vo("http",b,_)}},Ih={getInitial:function(E,b){return Vo("http",b,b.httpPath||"/pusher")},getPath:function(E,b){return Uo(E)}};class Lh{constructor(){this._callbacks={}}get(b){return this._callbacks[Bo(b)]}add(b,_,F){var B=Bo(b);this._callbacks[B]=this._callbacks[B]||[],this._callbacks[B].push({fn:_,context:F})}remove(b,_,F){if(!b&&!_&&!F){this._callbacks={};return}var B=b?[Bo(b)]:Y(this._callbacks);_||F?this.removeCallback(B,_,F):this.removeAllCallbacks(B)}removeCallback(b,_,F){pe(b,function(B){this._callbacks[B]=qe(this._callbacks[B]||[],function(ae){return _&&_!==ae.fn||F&&F!==ae.context}),this._callbacks[B].length===0&&delete this._callbacks[B]},this)}removeAllCallbacks(b){pe(b,function(_){delete this._callbacks[_]},this)}}function Bo(E){return"_"+E}class On{constructor(b){this.callbacks=new Lh,this.global_callbacks=[],this.failThrough=b}bind(b,_,F){return this.callbacks.add(b,_,F),this}bind_global(b){return this.global_callbacks.push(b),this}unbind(b,_,F){return this.callbacks.remove(b,_,F),this}unbind_global(b){return b?(this.global_callbacks=qe(this.global_callbacks||[],_=>_!==b),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(b,_,F){for(var B=0;B<this.global_callbacks.length;B++)this.global_callbacks[B](b,_);var ae=this.callbacks.get(b),ge=[];if(F?ge.push(_,F):_&&ge.push(_),ae&&ae.length>0)for(var B=0;B<ae.length;B++)ae[B].fn.apply(ae[B].context||window,ge);else this.failThrough&&this.failThrough(b,_);return this}}class Mc extends On{constructor(b,_,F,B,ae){super(),this.initialize=Le.transportConnectionInitializer,this.hooks=b,this.name=_,this.priority=F,this.key=B,this.options=ae,this.state="new",this.timeline=ae.timeline,this.activityTimeout=ae.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var b=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(b,this.options)}catch(_){return fe.defer(()=>{this.onError(_),this.changeState("closed")}),!1}return this.bindListeners(),Fe.debug("Connecting",{transport:this.name,url:b}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(b){return this.state==="open"?(fe.defer(()=>{this.socket&&this.socket.send(b)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(b){this.emit("error",{type:"WebSocketError",error:b}),this.timeline.error(this.buildTimelineMessage({error:b.toString()}))}onClose(b){b?this.changeState("closed",{code:b.code,reason:b.reason,wasClean:b.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(b){this.emit("message",b)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=b=>{this.onError(b)},this.socket.onclose=b=>{this.onClose(b)},this.socket.onmessage=b=>{this.onMessage(b)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(b,_){this.state=b,this.timeline.info(this.buildTimelineMessage({state:b,params:_})),this.emit(b,_)}buildTimelineMessage(b){return ue({cid:this.id},b)}}class jr{constructor(b){this.hooks=b}isSupported(b){return this.hooks.isSupported(b)}createConnection(b,_,F,B){return new Mc(this.hooks,b,_,F,B)}}var Dc=new jr({urls:Oh,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Le.getWebSocketAPI()},isSupported:function(){return!!Le.getWebSocketAPI()},getSocket:function(E){return Le.createWebSocket(E)}}),Wo={urls:$h,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Ho=ue({getSocket:function(E){return Le.HTTPFactory.createStreamingSocket(E)}},Wo),qo=ue({getSocket:function(E){return Le.HTTPFactory.createPollingSocket(E)}},Wo),Go={isSupported:function(){return Le.isXHRSupported()}},Oc=new jr(ue({},Ho,Go)),$c=new jr(ue({},qo,Go)),te={ws:Dc,xhr_streaming:Oc,xhr_polling:$c},_e=te,Ye=new jr({file:"sockjs",urls:Ih,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(E,b){return new window.SockJS(E,null,{js_path:h.getPath("sockjs",{useTLS:b.useTLS}),ignore_null_origin:b.ignoreNullOrigin})},beforeOpen:function(E,b){E.send(JSON.stringify({path:b}))}}),Ct={isSupported:function(E){var b=Le.isXDRSupported(E.useTLS);return b}},xn=new jr(ue({},Ho,Ct)),br=new jr(ue({},qo,Ct));_e.xdr_streaming=xn,_e.xdr_polling=br,_e.sockjs=Ye;var wr=_e;class Qt extends On{constructor(){super();var b=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){b.emit("online")},!1),window.addEventListener("offline",function(){b.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Ko=new Qt;class Ic{constructor(b,_,F){this.manager=b,this.transport=_,this.minPingDelay=F.minPingDelay,this.maxPingDelay=F.maxPingDelay,this.pingDelay=void 0}createConnection(b,_,F,B){B=ue({},B,{activityTimeout:this.pingDelay});var ae=this.transport.createConnection(b,_,F,B),ge=null,Ee=function(){ae.unbind("open",Ee),ae.bind("closed",Oe),ge=fe.now()},Oe=Qe=>{if(ae.unbind("closed",Oe),Qe.code===1002||Qe.code===1003)this.manager.reportDeath();else if(!Qe.wasClean&&ge){var at=fe.now()-ge;at<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(at/2,this.minPingDelay))}};return ae.bind("open",Ee),ae}isSupported(b){return this.manager.isAlive()&&this.transport.isSupported(b)}}const Yo={decodeMessage:function(E){try{var b=JSON.parse(E.data),_=b.data;if(typeof _=="string")try{_=JSON.parse(b.data)}catch{}var F={event:b.event,channel:b.channel,data:_};return b.user_id&&(F.user_id=b.user_id),F}catch(B){throw{type:"MessageParseError",error:B,data:E.data}}},encodeMessage:function(E){return JSON.stringify(E)},processHandshake:function(E){var b=Yo.decodeMessage(E);if(b.event==="pusher:connection_established"){if(!b.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:b.data.socket_id,activityTimeout:b.data.activity_timeout*1e3}}else{if(b.event==="pusher:error")return{action:this.getCloseAction(b.data),error:this.getCloseError(b.data)};throw"Invalid handshake"}},getCloseAction:function(E){return E.code<4e3?E.code>=1002&&E.code<=1004?"backoff":null:E.code===4e3?"tls_only":E.code<4100?"refused":E.code<4200?"backoff":E.code<4300?"retry":"refused"},getCloseError:function(E){return E.code!==1e3&&E.code!==1001?{type:"PusherError",data:{code:E.code,message:E.reason||E.message}}:null}};var Zn=Yo;class Lc extends On{constructor(b,_){super(),this.id=b,this.transport=_,this.activityTimeout=_.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(b){return this.transport.send(b)}send_event(b,_,F){var B={event:b,data:_};return F&&(B.channel=F),Fe.debug("Event sent",B),this.send(Zn.encodeMessage(B))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var b={message:F=>{var B;try{B=Zn.decodeMessage(F)}catch(ae){this.emit("error",{type:"MessageParseError",error:ae,data:F.data})}if(B!==void 0){switch(Fe.debug("Event recd",B),B.event){case"pusher:error":this.emit("error",{type:"PusherError",data:B.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",B)}},activity:()=>{this.emit("activity")},error:F=>{this.emit("error",F)},closed:F=>{_(),F&&F.code&&this.handleCloseEvent(F),this.transport=null,this.emit("closed")}},_=()=>{L(b,(F,B)=>{this.transport.unbind(B,F)})};L(b,(F,B)=>{this.transport.bind(B,F)})}handleCloseEvent(b){var _=Zn.getCloseAction(b),F=Zn.getCloseError(b);F&&this.emit("error",F),_&&this.emit(_,{action:_,error:F})}}class _t{constructor(b,_){this.transport=b,this.callback=_,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=b=>{this.unbindListeners();var _;try{_=Zn.processHandshake(b)}catch(F){this.finish("error",{error:F}),this.transport.close();return}_.action==="connected"?this.finish("connected",{connection:new Lc(_.id,this.transport),activityTimeout:_.activityTimeout}):(this.finish(_.action,{error:_.error}),this.transport.close())},this.onClosed=b=>{this.unbindListeners();var _=Zn.getCloseAction(b)||"backoff",F=Zn.getCloseError(b);this.finish(_,{error:F})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(b,_){this.callback(ue({transport:this.transport,action:b},_))}}class E4{constructor(b,_){this.timeline=b,this.options=_||{}}send(b,_){this.timeline.isEmpty()||this.timeline.send(Le.TimelineTransport.getAgent(this,b),_)}}class Fh extends On{constructor(b,_){super(function(F,B){Fe.debug("No callbacks on "+b+" for "+F)}),this.name=b,this.pusher=_,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(b,_){return _(null,{auth:""})}trigger(b,_){if(b.indexOf("client-")!==0)throw new y("Event '"+b+"' does not start with 'client-'");if(!this.subscribed){var F=w.buildLogSuffix("triggeringClientEvents");Fe.warn(`Client event triggered before channel 'subscription_succeeded' event . ${F}`)}return this.pusher.send_event(b,_,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(b){var _=b.event,F=b.data;if(_==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(b);else if(_==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(b);else if(_.indexOf("pusher_internal:")!==0){var B={};this.emit(_,F,B)}}handleSubscriptionSucceededEvent(b){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",b.data)}handleSubscriptionCountEvent(b){b.data.subscription_count&&(this.subscriptionCount=b.data.subscription_count),this.emit("pusher:subscription_count",b.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(b,_)=>{b?(this.subscriptionPending=!1,Fe.error(b.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:b.message},b instanceof k?{status:b.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:_.auth,channel_data:_.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class zh extends Fh{authorize(b,_){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:b},_)}}class T4{constructor(){this.reset()}get(b){return Object.prototype.hasOwnProperty.call(this.members,b)?{id:b,info:this.members[b]}:null}each(b){L(this.members,(_,F)=>{b(this.get(F))})}setMyID(b){this.myID=b}onSubscription(b){this.members=b.presence.hash,this.count=b.presence.count,this.me=this.get(this.myID)}addMember(b){return this.get(b.user_id)===null&&this.count++,this.members[b.user_id]=b.user_info,this.get(b.user_id)}removeMember(b){var _=this.get(b.user_id);return _&&(delete this.members[b.user_id],this.count--),_}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var A4=function(E,b,_,F){function B(ae){return ae instanceof _?ae:new _(function(ge){ge(ae)})}return new(_||(_=Promise))(function(ae,ge){function Ee(at){try{Qe(F.next(at))}catch(Vt){ge(Vt)}}function Oe(at){try{Qe(F.throw(at))}catch(Vt){ge(Vt)}}function Qe(at){at.done?ae(at.value):B(at.value).then(Ee,Oe)}Qe((F=F.apply(E,b||[])).next())})};class R4 extends zh{constructor(b,_){super(b,_),this.members=new T4}authorize(b,_){super.authorize(b,(F,B)=>A4(this,void 0,void 0,function*(){if(!F)if(B=B,B.channel_data!=null){var ae=JSON.parse(B.channel_data);this.members.setMyID(ae.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let ge=w.buildLogSuffix("authorizationEndpoint");Fe.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${ge}, or the user should be signed in.`),_("Invalid auth response");return}_(F,B)}))}handleEvent(b){var _=b.event;if(_.indexOf("pusher_internal:")===0)this.handleInternalEvent(b);else{var F=b.data,B={};b.user_id&&(B.user_id=b.user_id),this.emit(_,F,B)}}handleInternalEvent(b){var _=b.event,F=b.data;switch(_){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(b);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(b);break;case"pusher_internal:member_added":var B=this.members.addMember(F);this.emit("pusher:member_added",B);break;case"pusher_internal:member_removed":var ae=this.members.removeMember(F);ae&&this.emit("pusher:member_removed",ae);break}}handleSubscriptionSucceededEvent(b){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(b.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var M4=a(1),Vh=a(0);class D4 extends zh{constructor(b,_,F){super(b,_),this.key=null,this.nacl=F}authorize(b,_){super.authorize(b,(F,B)=>{if(F){_(F,B);return}let ae=B.shared_secret;if(!ae){_(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Vh.decode)(ae),delete B.shared_secret,_(null,B)})}trigger(b,_){throw new S("Client events are not currently supported for encrypted channels")}handleEvent(b){var _=b.event,F=b.data;if(_.indexOf("pusher_internal:")===0||_.indexOf("pusher:")===0){super.handleEvent(b);return}this.handleEncryptedEvent(_,F)}handleEncryptedEvent(b,_){if(!this.key){Fe.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!_.ciphertext||!_.nonce){Fe.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+_);return}let F=Object(Vh.decode)(_.ciphertext);if(F.length<this.nacl.secretbox.overheadLength){Fe.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${F.length}`);return}let B=Object(Vh.decode)(_.nonce);if(B.length<this.nacl.secretbox.nonceLength){Fe.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${B.length}`);return}let ae=this.nacl.secretbox.open(F,B,this.key);if(ae===null){Fe.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(ge,Ee)=>{if(ge){Fe.error(`Failed to make a request to the authEndpoint: ${Ee}. Unable to fetch new key, so dropping encrypted event`);return}if(ae=this.nacl.secretbox.open(F,B,this.key),ae===null){Fe.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(b,this.getDataToEmit(ae))});return}this.emit(b,this.getDataToEmit(ae))}getDataToEmit(b){let _=Object(M4.decode)(b);try{return JSON.parse(_)}catch{return _}}}class O4 extends On{constructor(b,_){super(),this.state="initialized",this.connection=null,this.key=b,this.options=_,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var F=Le.getNetwork();F.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),F.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(b){return this.connection?this.connection.send(b):!1}send_event(b,_,F){return this.connection?this.connection.send_event(b,_,F):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var b=(_,F)=>{_?this.runner=this.strategy.connect(0,b):F.action==="error"?(this.emit("error",{type:"HandshakeError",error:F.error}),this.timeline.error({handshakeError:F.error})):(this.abortConnecting(),this.handshakeCallbacks[F.action](F))};this.runner=this.strategy.connect(0,b)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var b=this.abandonConnection();b.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(b){this.timeline.info({action:"retry",delay:b}),b>0&&this.emit("connecting_in",Math.round(b/1e3)),this.retryTimer=new U(b||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new U(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new U(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new U(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(b){return ue({},b,{message:_=>{this.resetActivityCheck(),this.emit("message",_)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:_=>{this.emit("error",_)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(b){return ue({},b,{connected:_=>{this.activityTimeout=Math.min(this.options.activityTimeout,_.activityTimeout,_.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(_.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let b=_=>F=>{F.error&&this.emit("error",{type:"WebSocketError",error:F.error}),_(F)};return{tls_only:b(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:b(()=>{this.disconnect()}),backoff:b(()=>{this.retryIn(1e3)}),retry:b(()=>{this.retryIn(0)})}}setConnection(b){this.connection=b;for(var _ in this.connectionCallbacks)this.connection.bind(_,this.connectionCallbacks[_]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var b in this.connectionCallbacks)this.connection.unbind(b,this.connectionCallbacks[b]);var _=this.connection;return this.connection=null,_}}updateState(b,_){var F=this.state;if(this.state=b,F!==b){var B=b;B==="connected"&&(B+=" with new socket ID "+_.socket_id),Fe.debug("State changed",F+" -> "+B),this.timeline.info({state:b,params:_}),this.emit("state_change",{previous:F,current:b}),this.emit(b,_)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class $4{constructor(){this.channels={}}add(b,_){return this.channels[b]||(this.channels[b]=I4(b,_)),this.channels[b]}all(){return X(this.channels)}find(b){return this.channels[b]}remove(b){var _=this.channels[b];return delete this.channels[b],_}disconnect(){L(this.channels,function(b){b.disconnect()})}}function I4(E,b){if(E.indexOf("private-encrypted-")===0){if(b.config.nacl)return Nr.createEncryptedChannel(E,b,b.config.nacl);let _="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",F=w.buildLogSuffix("encryptedChannelSupport");throw new S(`${_}. ${F}`)}else{if(E.indexOf("private-")===0)return Nr.createPrivateChannel(E,b);if(E.indexOf("presence-")===0)return Nr.createPresenceChannel(E,b);if(E.indexOf("#")===0)throw new f('Cannot create a channel with name "'+E+'".');return Nr.createChannel(E,b)}}var L4={createChannels(){return new $4},createConnectionManager(E,b){return new O4(E,b)},createChannel(E,b){return new Fh(E,b)},createPrivateChannel(E,b){return new zh(E,b)},createPresenceChannel(E,b){return new R4(E,b)},createEncryptedChannel(E,b,_){return new D4(E,b,_)},createTimelineSender(E,b){return new E4(E,b)},createHandshake(E,b){return new _t(E,b)},createAssistantToTheTransportManager(E,b,_){return new Ic(E,b,_)}},Nr=L4;class xg{constructor(b){this.options=b||{},this.livesLeft=this.options.lives||1/0}getAssistant(b){return Nr.createAssistantToTheTransportManager(this,b,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Wa{constructor(b,_){this.strategies=b,this.loop=!!_.loop,this.failFast=!!_.failFast,this.timeout=_.timeout,this.timeoutLimit=_.timeoutLimit}isSupported(){return sn(this.strategies,fe.method("isSupported"))}connect(b,_){var F=this.strategies,B=0,ae=this.timeout,ge=null,Ee=(Oe,Qe)=>{Qe?_(null,Qe):(B=B+1,this.loop&&(B=B%F.length),B<F.length?(ae&&(ae=ae*2,this.timeoutLimit&&(ae=Math.min(ae,this.timeoutLimit))),ge=this.tryStrategy(F[B],b,{timeout:ae,failFast:this.failFast},Ee)):_(!0))};return ge=this.tryStrategy(F[B],b,{timeout:ae,failFast:this.failFast},Ee),{abort:function(){ge.abort()},forceMinPriority:function(Oe){b=Oe,ge&&ge.forceMinPriority(Oe)}}}tryStrategy(b,_,F,B){var ae=null,ge=null;return F.timeout>0&&(ae=new U(F.timeout,function(){ge.abort(),B(!0)})),ge=b.connect(_,function(Ee,Oe){Ee&&ae&&ae.isRunning()&&!F.failFast||(ae&&ae.ensureAborted(),B(Ee,Oe))}),{abort:function(){ae&&ae.ensureAborted(),ge.abort()},forceMinPriority:function(Ee){ge.forceMinPriority(Ee)}}}}class Uh{constructor(b){this.strategies=b}isSupported(){return sn(this.strategies,fe.method("isSupported"))}connect(b,_){return F4(this.strategies,b,function(F,B){return function(ae,ge){if(B[F].error=ae,ae){z4(B)&&_(!0);return}pe(B,function(Ee){Ee.forceMinPriority(ge.transport.priority)}),_(null,ge)}})}}function F4(E,b,_){var F=Me(E,function(B,ae,ge,Ee){return B.connect(b,_(ae,Ee))});return{abort:function(){pe(F,V4)},forceMinPriority:function(B){pe(F,function(ae){ae.forceMinPriority(B)})}}}function z4(E){return ye(E,function(b){return!!b.error})}function V4(E){!E.error&&!E.aborted&&(E.abort(),E.aborted=!0)}class U4{constructor(b,_,F){this.strategy=b,this.transports=_,this.ttl=F.ttl||1800*1e3,this.usingTLS=F.useTLS,this.timeline=F.timeline}isSupported(){return this.strategy.isSupported()}connect(b,_){var F=this.usingTLS,B=B4(F),ae=B&&B.cacheSkipCount?B.cacheSkipCount:0,ge=[this.strategy];if(B&&B.timestamp+this.ttl>=fe.now()){var Ee=this.transports[B.transport];Ee&&(["ws","wss"].includes(B.transport)||ae>3?(this.timeline.info({cached:!0,transport:B.transport,latency:B.latency}),ge.push(new Wa([Ee],{timeout:B.latency*2+1e3,failFast:!0}))):ae++)}var Oe=fe.now(),Qe=ge.pop().connect(b,function at(Vt,Vc){Vt?(gg(F),ge.length>0?(Oe=fe.now(),Qe=ge.pop().connect(b,at)):_(Vt)):(W4(F,Vc.transport.name,fe.now()-Oe,ae),_(null,Vc))});return{abort:function(){Qe.abort()},forceMinPriority:function(at){b=at,Qe&&Qe.forceMinPriority(at)}}}}function Bh(E){return"pusherTransport"+(E?"TLS":"NonTLS")}function B4(E){var b=Le.getLocalStorage();if(b)try{var _=b[Bh(E)];if(_)return JSON.parse(_)}catch{gg(E)}return null}function W4(E,b,_,F){var B=Le.getLocalStorage();if(B)try{B[Bh(E)]=Re({timestamp:fe.now(),transport:b,latency:_,cacheSkipCount:F})}catch{}}function gg(E){var b=Le.getLocalStorage();if(b)try{delete b[Bh(E)]}catch{}}class Fc{constructor(b,{delay:_}){this.strategy=b,this.options={delay:_}}isSupported(){return this.strategy.isSupported()}connect(b,_){var F=this.strategy,B,ae=new U(this.options.delay,function(){B=F.connect(b,_)});return{abort:function(){ae.ensureAborted(),B&&B.abort()},forceMinPriority:function(ge){b=ge,B&&B.forceMinPriority(ge)}}}}class Xo{constructor(b,_,F){this.test=b,this.trueBranch=_,this.falseBranch=F}isSupported(){var b=this.test()?this.trueBranch:this.falseBranch;return b.isSupported()}connect(b,_){var F=this.test()?this.trueBranch:this.falseBranch;return F.connect(b,_)}}class H4{constructor(b){this.strategy=b}isSupported(){return this.strategy.isSupported()}connect(b,_){var F=this.strategy.connect(b,function(B,ae){ae&&F.abort(),_(B,ae)});return F}}function Jo(E){return function(){return E.isSupported()}}var q4=function(E,b,_){var F={};function B(Pg,Hk,qk,Gk,Kk){var Eg=_(E,Pg,Hk,qk,Gk,Kk);return F[Pg]=Eg,Eg}var ae=Object.assign({},b,{hostNonTLS:E.wsHost+":"+E.wsPort,hostTLS:E.wsHost+":"+E.wssPort,httpPath:E.wsPath}),ge=Object.assign({},ae,{useTLS:!0}),Ee=Object.assign({},b,{hostNonTLS:E.httpHost+":"+E.httpPort,hostTLS:E.httpHost+":"+E.httpsPort,httpPath:E.httpPath}),Oe={loop:!0,timeout:15e3,timeoutLimit:6e4},Qe=new xg({minPingDelay:1e4,maxPingDelay:E.activityTimeout}),at=new xg({lives:2,minPingDelay:1e4,maxPingDelay:E.activityTimeout}),Vt=B("ws","ws",3,ae,Qe),Vc=B("wss","ws",3,ge,Qe),zk=B("sockjs","sockjs",1,Ee),wg=B("xhr_streaming","xhr_streaming",1,Ee,at),Vk=B("xdr_streaming","xdr_streaming",1,Ee,at),Ng=B("xhr_polling","xhr_polling",1,Ee),Uk=B("xdr_polling","xdr_polling",1,Ee),Sg=new Wa([Vt],Oe),Bk=new Wa([Vc],Oe),Wk=new Wa([zk],Oe),Cg=new Wa([new Xo(Jo(wg),wg,Vk)],Oe),_g=new Wa([new Xo(Jo(Ng),Ng,Uk)],Oe),kg=new Wa([new Xo(Jo(Cg),new Uh([Cg,new Fc(_g,{delay:4e3})]),_g)],Oe),Gh=new Xo(Jo(kg),kg,Wk),Kh;return b.useTLS?Kh=new Uh([Sg,new Fc(Gh,{delay:2e3})]):Kh=new Uh([Sg,new Fc(Bk,{delay:2e3}),new Fc(Gh,{delay:5e3})]),new U4(new H4(new Xo(Jo(Vt),Kh,Gh)),F,{ttl:18e5,timeline:b.timeline,useTLS:b.useTLS})},G4=q4,K4=function(){var E=this;E.timeline.info(E.buildTimelineMessage({transport:E.name+(E.options.useTLS?"s":"")})),E.hooks.isInitialized()?E.changeState("initialized"):E.hooks.file?(E.changeState("initializing"),h.load(E.hooks.file,{useTLS:E.options.useTLS},function(b,_){E.hooks.isInitialized()?(E.changeState("initialized"),_(!0)):(b&&E.onError(b),E.onClose(),_(!1))})):E.onClose()},Y4={getRequest:function(E){var b=new window.XDomainRequest;return b.ontimeout=function(){E.emit("error",new x),E.close()},b.onerror=function(_){E.emit("error",_),E.close()},b.onprogress=function(){b.responseText&&b.responseText.length>0&&E.onChunk(200,b.responseText)},b.onload=function(){b.responseText&&b.responseText.length>0&&E.onChunk(200,b.responseText),E.emit("finished",200),E.close()},b},abortRequest:function(E){E.ontimeout=E.onerror=E.onprogress=E.onload=null,E.abort()}},X4=Y4;const J4=256*1024;class Q4 extends On{constructor(b,_,F){super(),this.hooks=b,this.method=_,this.url=F}start(b){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},Le.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(b)}close(){this.unloader&&(Le.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(b,_){for(;;){var F=this.advanceBuffer(_);if(F)this.emit("chunk",{status:b,data:F});else break}this.isBufferTooLong(_)&&this.emit("buffer_too_long")}advanceBuffer(b){var _=b.slice(this.position),F=_.indexOf(`
`);return F!==-1?(this.position+=F+1,_.slice(0,F)):null}isBufferTooLong(b){return this.position===b.length&&b.length>J4}}var Wh;(function(E){E[E.CONNECTING=0]="CONNECTING",E[E.OPEN=1]="OPEN",E[E.CLOSED=3]="CLOSED"})(Wh||(Wh={}));var Ha=Wh,Z4=1;class ek{constructor(b,_){this.hooks=b,this.session=yg(1e3)+"/"+rk(8),this.location=tk(_),this.readyState=Ha.CONNECTING,this.openStream()}send(b){return this.sendRaw(JSON.stringify([b]))}ping(){this.hooks.sendHeartbeat(this)}close(b,_){this.onClose(b,_,!0)}sendRaw(b){if(this.readyState===Ha.OPEN)try{return Le.createSocketRequest("POST",vg(sk(this.location,this.session))).start(b),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(b,_,F){this.closeStream(),this.readyState=Ha.CLOSED,this.onclose&&this.onclose({code:b,reason:_,wasClean:F})}onChunk(b){if(b.status===200){this.readyState===Ha.OPEN&&this.onActivity();var _,F=b.data.slice(0,1);switch(F){case"o":_=JSON.parse(b.data.slice(1)||"{}"),this.onOpen(_);break;case"a":_=JSON.parse(b.data.slice(1)||"[]");for(var B=0;B<_.length;B++)this.onEvent(_[B]);break;case"m":_=JSON.parse(b.data.slice(1)||"null"),this.onEvent(_);break;case"h":this.hooks.onHeartbeat(this);break;case"c":_=JSON.parse(b.data.slice(1)||"[]"),this.onClose(_[0],_[1],!0);break}}}onOpen(b){this.readyState===Ha.CONNECTING?(b&&b.hostname&&(this.location.base=nk(this.location.base,b.hostname)),this.readyState=Ha.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(b){this.readyState===Ha.OPEN&&this.onmessage&&this.onmessage({data:b})}onActivity(){this.onactivity&&this.onactivity()}onError(b){this.onerror&&this.onerror(b)}openStream(){this.stream=Le.createSocketRequest("POST",vg(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",b=>{this.onChunk(b)}),this.stream.bind("finished",b=>{this.hooks.onFinished(this,b)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(b){fe.defer(()=>{this.onError(b),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function tk(E){var b=/([^\?]*)\/*(\??.*)/.exec(E);return{base:b[1],queryString:b[2]}}function sk(E,b){return E.base+"/"+b+"/xhr_send"}function vg(E){var b=E.indexOf("?")===-1?"?":"&";return E+b+"t="+ +new Date+"&n="+Z4++}function nk(E,b){var _=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(E);return _[1]+b+_[3]}function yg(E){return Le.randomInt(E)}function rk(E){for(var b=[],_=0;_<E;_++)b.push(yg(32).toString(32));return b.join("")}var ak=ek,ik={getReceiveURL:function(E,b){return E.base+"/"+b+"/xhr_streaming"+E.queryString},onHeartbeat:function(E){E.sendRaw("[]")},sendHeartbeat:function(E){E.sendRaw("[]")},onFinished:function(E,b){E.onClose(1006,"Connection interrupted ("+b+")",!1)}},ok=ik,lk={getReceiveURL:function(E,b){return E.base+"/"+b+"/xhr"+E.queryString},onHeartbeat:function(){},sendHeartbeat:function(E){E.sendRaw("[]")},onFinished:function(E,b){b===200?E.reconnect():E.onClose(1006,"Connection interrupted ("+b+")",!1)}},ck=lk,dk={getRequest:function(E){var b=Le.getXHRAPI(),_=new b;return _.onreadystatechange=_.onprogress=function(){switch(_.readyState){case 3:_.responseText&&_.responseText.length>0&&E.onChunk(_.status,_.responseText);break;case 4:_.responseText&&_.responseText.length>0&&E.onChunk(_.status,_.responseText),E.emit("finished",_.status),E.close();break}},_},abortRequest:function(E){E.onreadystatechange=null,E.abort()}},uk=dk,hk={createStreamingSocket(E){return this.createSocket(ok,E)},createPollingSocket(E){return this.createSocket(ck,E)},createSocket(E,b){return new ak(E,b)},createXHR(E,b){return this.createRequest(uk,E,b)},createRequest(E,b,_){return new Q4(E,b,_)}},jg=hk;jg.createXDR=function(E,b){return this.createRequest(X4,E,b)};var mk=jg,fk={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:m,getDefaultStrategy:G4,Transports:wr,transportConnectionInitializer:K4,HTTPFactory:mk,TimelineTransport:Rc,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(E){window.Pusher=E;var b=()=>{this.onDocumentBody(E.ready)};window.JSON?b():h.load("json2",{},b)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:P,jsonp:yr}},onDocumentBody(E){document.body?E():setTimeout(()=>{this.onDocumentBody(E)},0)},createJSONPRequest(E,b){return new Dn(E,b)},createScriptRequest(E){return new pt(E)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var E=this.getXHRAPI();return new E},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Ko},createWebSocket(E){var b=this.getWebSocketAPI();return new b(E)},createSocketRequest(E,b){if(this.isXHRSupported())return this.HTTPFactory.createXHR(E,b);if(this.isXDRSupported(b.indexOf("https:")===0))return this.HTTPFactory.createXDR(E,b);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var E=this.getXHRAPI();return!!E&&new E().withCredentials!==void 0},isXDRSupported(E){var b=E?"https:":"http:",_=this.getProtocol();return!!window.XDomainRequest&&_===b},addUnloadListener(E){window.addEventListener!==void 0?window.addEventListener("unload",E,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",E)},removeUnloadListener(E){window.addEventListener!==void 0?window.removeEventListener("unload",E,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",E)},randomInt(E){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*E)}},Le=fk,Hh;(function(E){E[E.ERROR=3]="ERROR",E[E.INFO=6]="INFO",E[E.DEBUG=7]="DEBUG"})(Hh||(Hh={}));var zc=Hh;class pk{constructor(b,_,F){this.key=b,this.session=_,this.events=[],this.options=F||{},this.sent=0,this.uniqueID=0}log(b,_){b<=this.options.level&&(this.events.push(ue({},_,{timestamp:fe.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(b){this.log(zc.ERROR,b)}info(b){this.log(zc.INFO,b)}debug(b){this.log(zc.DEBUG,b)}isEmpty(){return this.events.length===0}send(b,_){var F=ue({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],b(F,(B,ae)=>{B||this.sent++,_&&_(B,ae)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class xk{constructor(b,_,F,B){this.name=b,this.priority=_,this.transport=F,this.options=B||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(b,_){if(this.isSupported()){if(this.priority<b)return bg(new j,_)}else return bg(new C,_);var F=!1,B=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),ae=null,ge=function(){B.unbind("initialized",ge),B.connect()},Ee=function(){ae=Nr.createHandshake(B,function(Vt){F=!0,at(),_(null,Vt)})},Oe=function(Vt){at(),_(Vt)},Qe=function(){at();var Vt;Vt=Re(B),_(new N(Vt))},at=function(){B.unbind("initialized",ge),B.unbind("open",Ee),B.unbind("error",Oe),B.unbind("closed",Qe)};return B.bind("initialized",ge),B.bind("open",Ee),B.bind("error",Oe),B.bind("closed",Qe),B.initialize(),{abort:()=>{F||(at(),ae?ae.close():B.close())},forceMinPriority:Vt=>{F||this.priority<Vt&&(ae?ae.close():B.close())}}}}function bg(E,b){return fe.defer(function(){b(E)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:gk}=Le;var vk=function(E,b,_,F,B,ae){var ge=gk[_];if(!ge)throw new A(_);var Ee=(!E.enabledTransports||Pe(E.enabledTransports,b)!==-1)&&(!E.disabledTransports||Pe(E.disabledTransports,b)===-1),Oe;return Ee?(B=Object.assign({ignoreNullOrigin:E.ignoreNullOrigin},B),Oe=new xk(b,F,ae?ae.getAssistant(ge):ge,B)):Oe=yk,Oe},yk={isSupported:function(){return!1},connect:function(E,b){var _=fe.defer(function(){b(new C)});return{abort:function(){_.ensureAborted()},forceMinPriority:function(){}}}};function jk(E){if(E==null)throw"You must pass an options object";if(E.cluster==null)throw"Options object must provide a cluster";"disableStats"in E&&Fe.warn("The disableStats option is deprecated in favor of enableStats")}const bk=(E,b)=>{var _="socket_id="+encodeURIComponent(E.socketId);for(var F in b.params)_+="&"+encodeURIComponent(F)+"="+encodeURIComponent(b.params[F]);if(b.paramsProvider!=null){let B=b.paramsProvider();for(var F in B)_+="&"+encodeURIComponent(F)+"="+encodeURIComponent(B[F])}return _};var wk=E=>{if(typeof Le.getAuthorizers()[E.transport]>"u")throw`'${E.transport}' is not a recognized auth transport`;return(b,_)=>{const F=bk(b,E);Le.getAuthorizers()[E.transport](Le,F,E,g.UserAuthentication,_)}};const Nk=(E,b)=>{var _="socket_id="+encodeURIComponent(E.socketId);_+="&channel_name="+encodeURIComponent(E.channelName);for(var F in b.params)_+="&"+encodeURIComponent(F)+"="+encodeURIComponent(b.params[F]);if(b.paramsProvider!=null){let B=b.paramsProvider();for(var F in B)_+="&"+encodeURIComponent(F)+"="+encodeURIComponent(B[F])}return _};var Sk=E=>{if(typeof Le.getAuthorizers()[E.transport]>"u")throw`'${E.transport}' is not a recognized auth transport`;return(b,_)=>{const F=Nk(b,E);Le.getAuthorizers()[E.transport](Le,F,E,g.ChannelAuthorization,_)}};const Ck=(E,b,_)=>{const F={authTransport:b.transport,authEndpoint:b.endpoint,auth:{params:b.params,headers:b.headers}};return(B,ae)=>{const ge=E.channel(B.channelName);_(ge,F).authorize(B.socketId,ae)}};function _k(E,b){let _={activityTimeout:E.activityTimeout||c.activityTimeout,cluster:E.cluster,httpPath:E.httpPath||c.httpPath,httpPort:E.httpPort||c.httpPort,httpsPort:E.httpsPort||c.httpsPort,pongTimeout:E.pongTimeout||c.pongTimeout,statsHost:E.statsHost||c.stats_host,unavailableTimeout:E.unavailableTimeout||c.unavailableTimeout,wsPath:E.wsPath||c.wsPath,wsPort:E.wsPort||c.wsPort,wssPort:E.wssPort||c.wssPort,enableStats:Ak(E),httpHost:kk(E),useTLS:Tk(E),wsHost:Pk(E),userAuthenticator:Rk(E),channelAuthorizer:Dk(E,b)};return"disabledTransports"in E&&(_.disabledTransports=E.disabledTransports),"enabledTransports"in E&&(_.enabledTransports=E.enabledTransports),"ignoreNullOrigin"in E&&(_.ignoreNullOrigin=E.ignoreNullOrigin),"timelineParams"in E&&(_.timelineParams=E.timelineParams),"nacl"in E&&(_.nacl=E.nacl),_}function kk(E){return E.httpHost?E.httpHost:E.cluster?`sockjs-${E.cluster}.pusher.com`:c.httpHost}function Pk(E){return E.wsHost?E.wsHost:Ek(E.cluster)}function Ek(E){return`ws-${E}.pusher.com`}function Tk(E){return Le.getProtocol()==="https:"?!0:E.forceTLS!==!1}function Ak(E){return"enableStats"in E?E.enableStats:"disableStats"in E?!E.disableStats:!1}function Rk(E){const b=Object.assign(Object.assign({},c.userAuthentication),E.userAuthentication);return"customHandler"in b&&b.customHandler!=null?b.customHandler:wk(b)}function Mk(E,b){let _;return"channelAuthorization"in E?_=Object.assign(Object.assign({},c.channelAuthorization),E.channelAuthorization):(_={transport:E.authTransport||c.authTransport,endpoint:E.authEndpoint||c.authEndpoint},"auth"in E&&("params"in E.auth&&(_.params=E.auth.params),"headers"in E.auth&&(_.headers=E.auth.headers)),"authorizer"in E&&(_.customHandler=Ck(b,_,E.authorizer))),_}function Dk(E,b){const _=Mk(E,b);return"customHandler"in _&&_.customHandler!=null?_.customHandler:Sk(_)}class Ok extends On{constructor(b){super(function(_,F){Fe.debug(`No callbacks on watchlist events for ${_}`)}),this.pusher=b,this.bindWatchlistInternalEvent()}handleEvent(b){b.data.events.forEach(_=>{this.emit(_.name,_)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",b=>{var _=b.event;_==="pusher_internal:watchlist_events"&&this.handleEvent(b)})}}function $k(){let E,b;return{promise:new Promise((F,B)=>{E=F,b=B}),resolve:E,reject:b}}var Ik=$k;class Lk extends On{constructor(b){super(function(_,F){Fe.debug("No callbacks on user for "+_)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(_,F)=>{if(_){Fe.warn(`Error during signin: ${_}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:F.auth,user_data:F.user_data})},this.pusher=b,this.pusher.connection.bind("state_change",({previous:_,current:F})=>{_!=="connected"&&F==="connected"&&this._signin(),_==="connected"&&F!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Ok(b),this.pusher.connection.bind("message",_=>{var F=_.event;F==="pusher:signin_success"&&this._onSigninSuccess(_.data),this.serverToUserChannel&&this.serverToUserChannel.name===_.channel&&this.serverToUserChannel.handleEvent(_)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(b){try{this.user_data=JSON.parse(b.user_data)}catch{Fe.error(`Failed parsing user data after signin: ${b.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Fe.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const b=_=>{_.subscriptionPending&&_.subscriptionCancelled?_.reinstateSubscription():!_.subscriptionPending&&this.pusher.connection.state==="connected"&&_.subscribe()};this.serverToUserChannel=new Fh(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((_,F)=>{_.indexOf("pusher_internal:")===0||_.indexOf("pusher:")===0||this.emit(_,F)}),b(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:b,resolve:_,reject:F}=Ik();b.done=!1;const B=()=>{b.done=!0};b.then(B).catch(B),this.signinDonePromise=b,this._signinDoneResolve=_}}class ns{static ready(){ns.isReady=!0;for(var b=0,_=ns.instances.length;b<_;b++)ns.instances[b].connect()}static getClientFeatures(){return Y(At({ws:Le.Transports.ws},function(b){return b.isSupported({})}))}constructor(b,_){Fk(b),jk(_),this.key=b,this.config=_k(_,this),this.channels=Nr.createChannels(),this.global_emitter=new On,this.sessionID=Le.randomInt(1e9),this.timeline=new pk(this.key,this.sessionID,{cluster:this.config.cluster,features:ns.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:zc.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=Nr.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Le.TimelineTransport.name}));var F=B=>Le.getDefaultStrategy(this.config,B,vk);this.connection=Nr.createConnectionManager(this.key,{getStrategy:F,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",B=>{var ae=B.event,ge=ae.indexOf("pusher_internal:")===0;if(B.channel){var Ee=this.channel(B.channel);Ee&&Ee.handleEvent(B)}ge||this.global_emitter.emit(B.event,B.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",B=>{Fe.warn(B)}),ns.instances.push(this),this.timeline.info({instances:ns.instances.length}),this.user=new Lk(this),ns.isReady&&this.connect()}channel(b){return this.channels.find(b)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var b=this.connection.isUsingTLS(),_=this.timelineSender;this.timelineSenderTimer=new se(6e4,function(){_.send(b)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(b,_,F){return this.global_emitter.bind(b,_,F),this}unbind(b,_,F){return this.global_emitter.unbind(b,_,F),this}bind_global(b){return this.global_emitter.bind_global(b),this}unbind_global(b){return this.global_emitter.unbind_global(b),this}unbind_all(b){return this.global_emitter.unbind_all(),this}subscribeAll(){var b;for(b in this.channels.channels)this.channels.channels.hasOwnProperty(b)&&this.subscribe(b)}subscribe(b){var _=this.channels.add(b,this);return _.subscriptionPending&&_.subscriptionCancelled?_.reinstateSubscription():!_.subscriptionPending&&this.connection.state==="connected"&&_.subscribe(),_}unsubscribe(b){var _=this.channels.find(b);_&&_.subscriptionPending?_.cancelSubscription():(_=this.channels.remove(b),_&&_.subscribed&&_.unsubscribe())}send_event(b,_,F){return this.connection.send_event(b,_,F)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}ns.instances=[],ns.isReady=!1,ns.logToConsole=!1,ns.Runtime=Le,ns.ScriptReceivers=Le.ScriptReceivers,ns.DependenciesReceivers=Le.DependenciesReceivers,ns.auth_callbacks=Le.auth_callbacks;var qh=r.default=ns;function Fk(E){if(E==null)throw"You must pass your app key when you instantiate Pusher."}Le.setup(ns)}])})})(O1);var q6=O1.exports;const G6=Vp(q6);window.Pusher=G6;const $1=()=>{const e=localStorage.getItem("token");return e?`Bearer ${e}`:""},K6=()=>"https://handy3.abanoubsamir.com/backend/public";let oa;try{oa=new H6({broadcaster:"pusher",key:{}.VITE_PUSHER_APP_KEY||"fc7fffaa70ba48b0ab84",cluster:{}.VITE_PUSHER_APP_CLUSTER||"eu",forceTLS:!0,encrypted:!0,authEndpoint:`${K6()}/api/broadcasting/auth`,auth:{headers:{Authorization:$1(),Accept:"application/json"}}})}catch{oa=null}const Y6=()=>{try{oa&&oa.connector&&oa.connector.pusher&&oa.connector.pusher.config&&(oa.connector.pusher.config.auth={headers:{Authorization:$1(),Accept:"application/json"}})}catch{}},it=oa,I1=u.createContext(),Ua=()=>u.useContext(I1),X6=({children:e})=>{const[s,n]=u.useState([]),[r,a]=u.useState(null),[i,o]=u.useState({}),[l,c]=u.useState(!1),[d,m]=u.useState(!1),[h,p]=u.useState(new Set),{user:v}=De(),{toast:w}=Ke(),g=u.useRef({}),y=u.useRef(0);u.useEffect(()=>{if(v){Y6(),S(),f();const O=setInterval(()=>{S()},48e4),$=setInterval(()=>{f()},48e4);return()=>{clearInterval(O),clearInterval($),j()}}return()=>{j()}},[v]),u.useEffect(()=>{if(v&&s.length>0){const O=s.map(W=>`conversation.${W.id}`).sort().join(","),$=Array.from(h).sort().join(",");(!d||O!==$)&&x()}},[v,s,d,h]);const f=async()=>{if(!v)return;const O=Date.now();if(!(O-y.current<6e4)){y.current=O;try{await ve.updateOnlineStatus()}catch{}}},x=()=>{if(!(!v||!it))try{it.connector&&it.connector.pusher&&(it.connector.pusher.disconnect(),setTimeout(()=>{it.connector.pusher.connect()},500)),s.forEach(O=>{const $=`conversation.${O.id}`;if(h.has($)){try{const G=`private-${$}`,R=it.connector.pusher.channels.channels[G];R&&(R.unbind("message.sent"),R.unbind(".message.sent"),R.bind("message.sent",V=>{V&&V.message?C(V.message):V&&C(V)}),R.bind(".message.sent",V=>{V&&V.message?C(V.message):V&&C(V)}))}catch{}return}const W=it.private($);W.listen("message.sent",G=>{G&&G.message?C(G.message):G&&C(G)}),W.listen(".message.sent",G=>{G&&G.message?C(G.message):G&&C(G)}),W.listenForWhisper("message.sent",G=>{G&&C(G)}),p(G=>new Set([...G,$]))}),m(!0)}catch{w({title:"اتصال خطأ",description:"فشل في الاتصال بخدمة الرسائل المباشرة",variant:"destructive"}),m(!1)}},j=()=>{it&&h.size>0&&h.forEach(O=>{try{it.leave(O)}catch{}}),p(new Set),m(!1)},N=O=>{if(!v||!it)return;const $=`conversation.${O}`;if(!h.has($))try{it.private($).listen("message.sent",G=>{console.log("Received message event:",G),G&&G.message?C(G.message):G&&C(G)}),p(G=>new Set([...G,$]))}catch{}},S=async()=>{try{c(!0);const O=await ve.getConversations();n(O)}catch{w({title:"خطأ",description:"فشل في تحميل المحادثات",variant:"destructive"})}finally{c(!1)}},A=async O=>{try{c(!0);const $=await ve.getMessages(O),G=(Array.isArray($)?$:[]).map(R=>({...R,attachments:R.attachments?R.attachments.map(V=>({id:V.id,file_url:V.file_url||V.url,file_type:V.file_type||V.type})):[]}));return o(R=>({...R,[O]:G})),G}catch{return w({title:"خطأ",description:"فشل في تحميل الرسائل",variant:"destructive"}),[]}finally{c(!1)}},C=O=>{const $=O.message||O,W=$.conversation_id||$.conversationId||(typeof $=="string"?r:null);if(!$||!W)return;const G=$.sender_id||$.senderId;if(G===(v==null?void 0:v.id))return;const R=i[W]||[],V=$.id||$._id;if(V&&R.some(le=>le.id===V))return;const T=$.id||$._id,U=$.message_text||$.text||$.content,se=$.message_time||$.timestamp||$.created_at||new Date().toISOString(),ie=$.sender,fe=$.attachments?$.attachments.map(le=>({id:le.id,file_url:le.file_url||le.url,file_type:le.file_type||le.type})):[],ue=$.read_status||$.readStatus;o(le=>({...le,[W]:[...le[W]||[],{id:T,text:U,timestamp:se,senderId:G,sender:ie,attachments:fe,readStatus:ue}]})),n(le=>le.map(L=>L.id===W?{...L,lastMessage:{id:T,text:U,timestamp:se,senderId:G},unreadCount:G!==(v==null?void 0:v.id)&&r!==W?L.unreadCount+1:L.unreadCount,lastMessageTime:se}:L).sort((L,Y)=>new Date(Y.lastMessageTime)-new Date(L.lastMessageTime))),G!==(v==null?void 0:v.id)&&r!==W&&w({title:"رسالة جديدة",description:`${(ie==null?void 0:ie.name)||"مستخدم"}: ${U}`}),r===W&&G!==(v==null?void 0:v.id)&&D(W)},k=async(O,$,W=null)=>{var G,R;if(!v||!($!=null&&$.trim())&&!W){w({title:"خطأ",description:"يجب إدخال نص الرسالة أو إرفاق ملف",variant:"destructive"});return}try{let V;if(W&&W.length>0){const q=new FormData;q.append("recipient_id",O),$!=null&&$.trim()&&q.append("message_text",$),W.forEach((T,U)=>{q.append(`attachments[${U}]`,T)}),V=await ve.sendMessageWithFiles(q)}else V=await ve.sendMessage({recipient_id:O,message_text:$});if(V.message){const q={id:V.message.id,text:V.message.text,timestamp:V.message.timestamp,senderId:V.message.senderId,sender:V.message.sender,attachments:V.message.attachments?V.message.attachments.map(U=>({id:U.id,file_url:U.file_url||U.url,file_type:U.file_type||U.type})):[],readStatus:V.message.readStatus};let T=r;if(!T){const U=s.find(se=>se.participant.id===O);T=U==null?void 0:U.id}T&&(o(U=>({...U,[T]:[...U[T]||[],q]})),n(U=>U.map(se=>se.id===T?{...se,lastMessage:{id:q.id,text:q.text,timestamp:q.timestamp,senderId:q.senderId},lastMessageTime:q.timestamp}:se)))}return V.message}catch(V){throw w({title:"خطأ",description:((R=(G=V.response)==null?void 0:G.data)==null?void 0:R.message)||"فشل في إرسال الرسالة",variant:"destructive"}),V}},M=async O=>{if(!O||!O.id){console.error("No recipient or recipient.id provided:",O);return}const $=O.id;try{const W=await ve.startConversation($);if(!W.conversationId||!W.participant)return;if(!s.find(R=>R.id===W.conversationId)){const R={id:W.conversationId,participant:W.participant,lastMessage:null,unreadCount:0,lastMessageTime:new Date().toISOString()};n(V=>[R,...V]),N(W.conversationId)}return a(W.conversationId),i[W.conversationId]||await A(W.conversationId),W.conversationId}catch(W){throw w({title:"خطأ",description:"فشل في بدء المحادثة",variant:"destructive"}),W}},P=async O=>{a(O),O&&!i[O]&&await A(O)},D=async O=>{if(!O)return;const $=s.find(R=>R.id===O);if($&&$.unreadCount===0)return;const W=Date.now(),G=g.current[O]||0;if(!(W-G<5e3)){g.current[O]=W;try{await ve.markAsRead(O),n(R=>R.map(V=>V.id===O?{...V,unreadCount:0}:V))}catch{}}},I=async O=>{try{await ve.deleteConversation(O),n(W=>W.filter(G=>G.id!==O)),o(W=>{const G={...W};return delete G[O],G});const $=`conversation.${O}`;if(it)try{it.leave($)}catch{}p(W=>{const G=new Set(W);return G.delete($),G}),r===O&&a(null),w({title:"تم الحذف",description:"تم حذف المحادثة بنجاح"})}catch{w({title:"خطأ",description:"فشل في حذف المحادثة",variant:"destructive"})}};u.useEffect(()=>{if(!it||!it.connector||!it.connector.pusher)return;const O=()=>{m(!0)},$=()=>{m(!1)},W=G=>{m(!1),w({title:"خطأ في الاتصال",description:"تم قطع الاتصال بخدمة الرسائل المباشرة",variant:"destructive"})};return it.connector.pusher.connection.bind("connected",O),it.connector.pusher.connection.bind("disconnected",$),it.connector.pusher.connection.bind("error",W),()=>{it.connector&&it.connector.pusher&&(it.connector.pusher.connection.unbind("connected",O),it.connector.pusher.connection.unbind("disconnected",$),it.connector.pusher.connection.unbind("error",W))}},[it,w]);const H={conversations:s,messages:i,activeConversation:r,loading:l,connected:d,setActiveConversation:P,sendMessage:k,startConversation:M,markConversationAsRead:D,deleteConversation:I,loadConversations:S,loadMessages:A};return t.jsx(I1.Provider,{value:H,children:e})},L1=u.createContext(),a0=()=>{const e=u.useContext(L1);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},J6=({children:e})=>{const[s,n]=u.useState([]),[r,a]=u.useState(!0),[i,o]=u.useState(null),{user:l}=De(),c=async()=>{try{a(!0),o(null),console.log("Fetching notifications for user:",l==null?void 0:l.id);const j=await ve.getNotifications();console.log("Notifications fetched:",j),n(j.notifications||[])}catch(j){console.error("Error fetching notifications:",j),o(j.message),n([])}finally{a(!1)}},d=async()=>{try{return(await ve.getUnreadNotificationCount()).count||0}catch(j){return console.error("Error fetching unread count:",j),s.filter(N=>!N.read).length}};u.useEffect(()=>{if(l&&(c(),it&&l.id))try{it.private(`App.Models.User.${l.id}`).listen("notification.created",j=>{console.log("Real-time notification received:",j),n(N=>[j,...N])})}catch(j){console.error("Error setting up real-time notifications:",j)}return()=>{if(it&&(l!=null&&l.id))try{it.leave(`App.Models.User.${l.id}`)}catch(j){console.error("Error cleaning up echo listeners:",j)}}},[l]);const m=s.filter(j=>!j.read).length,x={notifications:s,unreadCount:m,loading:r,error:i,addNotification:j=>{const N={id:Date.now(),createdAt:new Date,read:!1,...j};n(S=>[N,...S])},markAsRead:async j=>{try{await ve.markNotificationAsRead(j),n(N=>N.map(S=>S.id===j?{...S,read:!0}:S))}catch(N){console.error("Error marking notification as read:",N),n(S=>S.map(A=>A.id===j?{...A,read:!0}:A))}},markAllAsRead:async()=>{try{await ve.markAllNotificationsAsRead(),n(j=>j.map(N=>({...N,read:!0})))}catch(j){console.error("Error marking all notifications as read:",j),n(N=>N.map(S=>({...S,read:!0})))}},deleteNotification:async j=>{try{await ve.deleteNotification(j),n(N=>N.filter(S=>S.id!==j))}catch(N){console.error("Error deleting notification:",N),n(S=>S.filter(A=>A.id!==j))}},clearAllNotifications:()=>{n([])},refreshNotifications:()=>{c()},fetchUnreadCount:d,sendTestNotification:async(j="message",N="رسالة تجريبية",S="/chat")=>{try{await ve.testNotification(j,N,S),await c()}catch(A){console.error("Error sending test notification:",A)}}};return t.jsx(L1.Provider,{value:x,children:e})};function Q6(){const{pathname:e}=Jt();return u.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const js=({children:e,requireAuth:s=!0,redirectTo:n="/login",allowedRoles:r=null})=>{var l,c;const{user:a,loading:i}=De(),o=Jt();if(i)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-roman-500 mx-auto mb-4"}),t.jsx("p",{className:"text-neutral-900",children:"جاري التحميل..."})]})});if(s&&!a)return t.jsx(nr,{to:n,state:{from:o},replace:!0});if(!s&&a){const d=(c=(l=o.state)==null?void 0:l.from)==null?void 0:c.pathname;return d?t.jsx(nr,{to:d,replace:!0}):a.role==="admin"?t.jsx(nr,{to:"/admin/dashboard",replace:!0}):t.jsx(nr,{to:"/dashboard",replace:!0})}return r&&a&&!r.includes(a.role)?a.role==="admin"?t.jsx(nr,{to:"/admin/dashboard",replace:!0}):t.jsx(nr,{to:"/dashboard",replace:!0}):e},Cm=({children:e})=>{const s=localStorage.getItem("delivery_token"),n=localStorage.getItem("delivery_person");return!s||!n?t.jsx(nr,{to:"/delivery/login",replace:!0}):e},F1=u.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ah=u.createContext({}),ih=u.createContext(null),oh=typeof document<"u",i0=oh?u.useLayoutEffect:u.useEffect,z1=u.createContext({strict:!1}),o0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Z6="framerAppearId",V1="data-"+o0(Z6);function eR(e,s,n,r){const{visualElement:a}=u.useContext(ah),i=u.useContext(z1),o=u.useContext(ih),l=u.useContext(F1).reducedMotion,c=u.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:s,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;u.useInsertionEffect(()=>{d&&d.update(n,o)});const m=u.useRef(!!(n[V1]&&!window.HandoffComplete));return i0(()=>{d&&(d.render(),m.current&&d.animationState&&d.animationState.animateChanges())}),u.useEffect(()=>{d&&(d.updateFeatures(),!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),d}function Ji(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tR(e,s,n){return u.useCallback(r=>{r&&e.mount&&e.mount(r),s&&(r?s.mount(r):s.unmount()),n&&(typeof n=="function"?n(r):Ji(n)&&(n.current=r))},[s])}function rc(e){return typeof e=="string"||Array.isArray(e)}function lh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c0=["initial",...l0];function ch(e){return lh(e.animate)||c0.some(s=>rc(e[s]))}function U1(e){return!!(ch(e)||e.variants)}function sR(e,s){if(ch(e)){const{initial:n,animate:r}=e;return{initial:n===!1||rc(n)?n:void 0,animate:rc(r)?r:void 0}}return e.inherit!==!1?s:{}}function nR(e){const{initial:s,animate:n}=sR(e,u.useContext(ah));return u.useMemo(()=>({initial:s,animate:n}),[oy(s),oy(n)])}function oy(e){return Array.isArray(e)?e.join(" "):e}const ly={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ac={};for(const e in ly)ac[e]={isEnabled:s=>ly[e].some(n=>!!s[n])};function rR(e){for(const s in e)ac[s]={...ac[s],...e[s]}}const d0=u.createContext({}),B1=u.createContext({}),aR=Symbol.for("motionComponentSymbol");function iR({preloadedFeatures:e,createVisualElement:s,useRender:n,useVisualState:r,Component:a}){e&&rR(e);function i(l,c){let d;const m={...u.useContext(F1),...l,layoutId:oR(l)},{isStatic:h}=m,p=nR(l),v=r(l,h);if(!h&&oh){p.visualElement=eR(a,v,m,s);const w=u.useContext(B1),g=u.useContext(z1).strict;p.visualElement&&(d=p.visualElement.loadFeatures(m,g,e,w))}return u.createElement(ah.Provider,{value:p},d&&p.visualElement?u.createElement(d,{visualElement:p.visualElement,...m}):null,n(a,l,tR(v,p.visualElement,c),v,h,p.visualElement))}const o=u.forwardRef(i);return o[aR]=a,o}function oR({layoutId:e}){const s=u.useContext(d0).id;return s&&e!==void 0?s+"-"+e:e}function lR(e){function s(r,a={}){return iR(e(r,a))}if(typeof Proxy>"u")return s;const n=new Map;return new Proxy(s,{get:(r,a)=>(n.has(a)||n.set(a,s(a)),n.get(a))})}const cR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u0(e){return typeof e!="string"||e.includes("-")?!1:!!(cR.indexOf(e)>-1||/[A-Z]/.test(e))}const mu={};function dR(e){Object.assign(mu,e)}const Sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bi=new Set(Sc);function W1(e,{layout:s,layoutId:n}){return bi.has(e)||e.startsWith("origin")||(s||n!==void 0)&&(!!mu[e]||e==="opacity")}const tn=e=>!!(e&&e.getVelocity),uR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hR=Sc.length;function mR(e,{enableHardwareAcceleration:s=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<hR;o++){const l=Sc[o];if(e[l]!==void 0){const c=uR[l]||l;i+=`${c}(${e[l]}) `}}return s&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const H1=e=>s=>typeof s=="string"&&s.startsWith(e),q1=H1("--"),up=H1("var(--"),fR=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,pR=(e,s)=>s&&typeof e=="number"?s.transform(e):e,Ea=(e,s,n)=>Math.min(Math.max(n,e),s),wi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},El={...wi,transform:e=>Ea(0,1,e)},cd={...wi,default:1},Tl=e=>Math.round(e*1e5)/1e5,dh=/(-)?([\d]*\.?[\d])+/g,G1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xR=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Cc(e){return typeof e=="string"}const _c=e=>({test:s=>Cc(s)&&s.endsWith(e)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${e}`}),Jr=_c("deg"),dr=_c("%"),Ae=_c("px"),gR=_c("vh"),vR=_c("vw"),cy={...dr,parse:e=>dr.parse(e)/100,transform:e=>dr.transform(e*100)},dy={...wi,transform:Math.round},K1={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,size:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:cd,scaleX:cd,scaleY:cd,scaleZ:cd,skew:Jr,skewX:Jr,skewY:Jr,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:El,originX:cy,originY:cy,originZ:Ae,zIndex:dy,fillOpacity:El,strokeOpacity:El,numOctaves:dy};function h0(e,s,n,r){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,d=!1,m=!0;for(const h in s){const p=s[h];if(q1(h)){i[h]=p;continue}const v=K1[h],w=pR(p,v);if(bi.has(h)){if(c=!0,o[h]=w,!m)continue;p!==(v.default||0)&&(m=!1)}else h.startsWith("origin")?(d=!0,l[h]=w):a[h]=w}if(s.transform||(c||r?a.transform=mR(e.transform,n,m,r):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:v=0}=l;a.transformOrigin=`${h} ${p} ${v}`}}const m0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Y1(e,s,n){for(const r in s)!tn(s[r])&&!W1(r,n)&&(e[r]=s[r])}function yR({transformTemplate:e},s,n){return u.useMemo(()=>{const r=m0();return h0(r,s,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[s])}function jR(e,s,n){const r=e.style||{},a={};return Y1(a,r,e),Object.assign(a,yR(e,s,n)),e.transformValues?e.transformValues(a):a}function bR(e,s,n){const r={},a=jR(e,s,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const wR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wR.has(e)}let X1=e=>!fu(e);function NR(e){e&&(X1=s=>s.startsWith("on")?!fu(s):e(s))}try{NR(require("@emotion/is-prop-valid").default)}catch{}function SR(e,s,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(X1(a)||n===!0&&fu(a)||!s&&!fu(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function uy(e,s,n){return typeof e=="string"?e:Ae.transform(s+n*e)}function CR(e,s,n){const r=uy(s,e.x,e.width),a=uy(n,e.y,e.height);return`${r} ${a}`}const _R={offset:"stroke-dashoffset",array:"stroke-dasharray"},kR={offset:"strokeDashoffset",array:"strokeDasharray"};function PR(e,s,n=1,r=0,a=!0){e.pathLength=1;const i=a?_R:kR;e[i.offset]=Ae.transform(-r);const o=Ae.transform(s),l=Ae.transform(n);e[i.array]=`${o} ${l}`}function f0(e,{attrX:s,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},m,h,p){if(h0(e,d,m,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:w,dimensions:g}=e;v.transform&&(g&&(w.transform=v.transform),delete v.transform),g&&(a!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=CR(g,a!==void 0?a:.5,i!==void 0?i:.5)),s!==void 0&&(v.x=s),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),o!==void 0&&PR(v,o,l,c,!1)}const J1=()=>({...m0(),attrs:{}}),p0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ER(e,s,n,r){const a=u.useMemo(()=>{const i=J1();return f0(i,s,{enableHardwareAcceleration:!1},p0(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[s]);if(e.style){const i={};Y1(i,e.style,e),a.style={...i,...a.style}}return a}function TR(e=!1){return(n,r,a,{latestValues:i},o)=>{const c=(u0(n)?ER:bR)(r,i,o,n),m={...SR(r,typeof n=="string",e),...c,ref:a},{children:h}=r,p=u.useMemo(()=>tn(h)?h.get():h,[h]);return u.createElement(n,{...m,children:p})}}function Q1(e,{style:s,vars:n},r,a){Object.assign(e.style,s,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Z1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e2(e,s,n,r){Q1(e,s,void 0,r);for(const a in s.attrs)e.setAttribute(Z1.has(a)?a:o0(a),s.attrs[a])}function x0(e,s){const{style:n}=e,r={};for(const a in n)(tn(n[a])||s.style&&tn(s.style[a])||W1(a,e))&&(r[a]=n[a]);return r}function t2(e,s){const n=x0(e,s);for(const r in e)if(tn(e[r])||tn(s[r])){const a=Sc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function g0(e,s,n,r={},a={}){return typeof s=="function"&&(s=s(n!==void 0?n:e.custom,r,a)),typeof s=="string"&&(s=e.variants&&e.variants[s]),typeof s=="function"&&(s=s(n!==void 0?n:e.custom,r,a)),s}function s2(e){const s=u.useRef(null);return s.current===null&&(s.current=e()),s.current}const pu=e=>Array.isArray(e),AR=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),RR=e=>pu(e)?e[e.length-1]||0:e;function Od(e){const s=tn(e)?e.get():e;return AR(s)?s.toValue():s}function MR({scrapeMotionValuesFromProps:e,createRenderState:s,onMount:n},r,a,i){const o={latestValues:DR(r,a,i,e),renderState:s()};return n&&(o.mount=l=>n(r,l,o)),o}const n2=e=>(s,n)=>{const r=u.useContext(ah),a=u.useContext(ih),i=()=>MR(e,s,r,a);return n?i():s2(i)};function DR(e,s,n,r){const a={},i=r(e,{});for(const p in i)a[p]=Od(i[p]);let{initial:o,animate:l}=e;const c=ch(e),d=U1(e);s&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=s.initial),l===void 0&&(l=s.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const h=m?l:o;return h&&typeof h!="boolean"&&!lh(h)&&(Array.isArray(h)?h:[h]).forEach(v=>{const w=g0(e,v);if(!w)return;const{transitionEnd:g,transition:y,...f}=w;for(const x in f){let j=f[x];if(Array.isArray(j)){const N=m?j.length-1:0;j=j[N]}j!==null&&(a[x]=j)}for(const x in g)a[x]=g[x]}),a}const Mt=e=>e;class hy{constructor(){this.order=[],this.scheduled=new Set}add(s){if(!this.scheduled.has(s))return this.scheduled.add(s),this.order.push(s),!0}remove(s){const n=this.order.indexOf(s);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(s))}clear(){this.order.length=0,this.scheduled.clear()}}function OR(e){let s=new hy,n=new hy,r=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,d=!1,m=!1)=>{const h=m&&a,p=h?s:n;return d&&o.add(c),p.add(c)&&h&&a&&(r=s.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[s,n]=[n,s],n.clear(),r=s.order.length,r)for(let d=0;d<r;d++){const m=s.order[d];m(c),o.has(m)&&(l.schedule(m),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const dd=["prepare","read","update","preRender","render","postRender"],$R=40;function IR(e,s){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=dd.reduce((h,p)=>(h[p]=OR(()=>n=!0),h),{}),o=h=>i[h].process(a),l=()=>{const h=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(h-a.timestamp,$R),1),a.timestamp=h,a.isProcessing=!0,dd.forEach(o),a.isProcessing=!1,n&&s&&(r=!1,e(l))},c=()=>{n=!0,r=!0,a.isProcessing||e(l)};return{schedule:dd.reduce((h,p)=>{const v=i[p];return h[p]=(w,g=!1,y=!1)=>(n||c(),v.schedule(w,g,y)),h},{}),cancel:h=>dd.forEach(p=>i[p].cancel(h)),state:a,steps:i}}const{schedule:ft,cancel:Vr,state:bs,steps:_m}=IR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mt,!0),LR={useVisualState:n2({scrapeMotionValuesFromProps:t2,createRenderState:J1,onMount:(e,s,{renderState:n,latestValues:r})=>{ft.read(()=>{try{n.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ft.render(()=>{f0(n,r,{enableHardwareAcceleration:!1},p0(s.tagName),e.transformTemplate),e2(s,n)})}})},FR={useVisualState:n2({scrapeMotionValuesFromProps:x0,createRenderState:m0})};function zR(e,{forwardMotionProps:s=!1},n,r){return{...u0(e)?LR:FR,preloadedFeatures:n,useRender:TR(s),createVisualElement:r,Component:e}}function Rr(e,s,n,r={passive:!0}){return e.addEventListener(s,n,r),()=>e.removeEventListener(s,n)}const r2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function uh(e,s="page"){return{point:{x:e[s+"X"],y:e[s+"Y"]}}}const VR=e=>s=>r2(s)&&e(s,uh(s));function Dr(e,s,n,r){return Rr(e,s,VR(n),r)}const UR=(e,s)=>n=>s(e(n)),ba=(...e)=>e.reduce(UR);function a2(e){let s=null;return()=>{const n=()=>{s=null};return s===null?(s=e,n):!1}}const my=a2("dragHorizontal"),fy=a2("dragVertical");function i2(e){let s=!1;if(e==="y")s=fy();else if(e==="x")s=my();else{const n=my(),r=fy();n&&r?s=()=>{n(),r()}:(n&&n(),r&&r())}return s}function o2(){const e=i2(!0);return e?(e(),!1):!0}class Ba{constructor(s){this.isMounted=!1,this.node=s}update(){}}function py(e,s){const n="pointer"+(s?"enter":"leave"),r="onHover"+(s?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||o2())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",s),l[r]&&ft.update(()=>l[r](i,o))};return Dr(e.current,n,a,{passive:!e.getProps()[r]})}class BR extends Ba{mount(){this.unmount=ba(py(this.node,!0),py(this.node,!1))}unmount(){}}class WR extends Ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ba(Rr(this.node.current,"focus",()=>this.onFocus()),Rr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const l2=(e,s)=>s?e===s?!0:l2(e,s.parentElement):!1;function km(e,s){if(!s)return;const n=new PointerEvent("pointer"+e);s(n,uh(n))}class HR extends Ba{constructor(){super(...arguments),this.removeStartListeners=Mt,this.removeEndListeners=Mt,this.removeAccessibleListeners=Mt,this.startPointerPress=(s,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Dr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:m,globalTapTarget:h}=this.node.getProps();ft.update(()=>{!h&&!l2(this.node.current,l.target)?m&&m(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Dr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ba(i,o),this.startPress(s,n)},this.startAccessiblePress=()=>{const s=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||km("up",(c,d)=>{const{onTap:m}=this.node.getProps();m&&ft.update(()=>m(c,d))})};this.removeEndListeners(),this.removeEndListeners=Rr(this.node.current,"keyup",o),km("down",(l,c)=>{this.startPress(l,c)})},n=Rr(this.node.current,"keydown",s),r=()=>{this.isPressing&&km("cancel",(i,o)=>this.cancelPress(i,o))},a=Rr(this.node.current,"blur",r);this.removeAccessibleListeners=ba(n,a)}}startPress(s,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ft.update(()=>r(s,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!o2()}cancelPress(s,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ft.update(()=>r(s,n))}mount(){const s=this.node.getProps(),n=Dr(s.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(s.onTapStart||s.onPointerStart)}),r=Rr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ba(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hp=new WeakMap,Pm=new WeakMap,qR=e=>{const s=hp.get(e.target);s&&s(e)},GR=e=>{e.forEach(qR)};function KR({root:e,...s}){const n=e||document;Pm.has(n)||Pm.set(n,{});const r=Pm.get(n),a=JSON.stringify(s);return r[a]||(r[a]=new IntersectionObserver(GR,{root:e,...s})),r[a]}function YR(e,s,n){const r=KR(s);return hp.set(e,n),r.observe(e),()=>{hp.delete(e),r.unobserve(e)}}const XR={some:0,all:1};class JR extends Ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=s,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:XR[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:h}=this.node.getProps(),p=d?m:h;p&&p(c)};return YR(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:n}=this.node;["amount","margin","root"].some(QR(s,n))&&this.startObserver()}unmount(){}}function QR({viewport:e={}},{viewport:s={}}={}){return n=>e[n]!==s[n]}const ZR={inView:{Feature:JR},tap:{Feature:HR},focus:{Feature:WR},hover:{Feature:BR}};function c2(e,s){if(!Array.isArray(s))return!1;const n=s.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(s[r]!==e[r])return!1;return!0}function eM(e){const s={};return e.values.forEach((n,r)=>s[r]=n.get()),s}function tM(e){const s={};return e.values.forEach((n,r)=>s[r]=n.getVelocity()),s}function hh(e,s,n){const r=e.getProps();return g0(r,s,n!==void 0?n:r.custom,eM(e),tM(e))}let sM=Mt,v0=Mt;const wa=e=>e*1e3,Or=e=>e/1e3,nM={current:!1},d2=e=>Array.isArray(e)&&typeof e[0]=="number";function u2(e){return!!(!e||typeof e=="string"&&h2[e]||d2(e)||Array.isArray(e)&&e.every(u2))}const pl=([e,s,n,r])=>`cubic-bezier(${e}, ${s}, ${n}, ${r})`,h2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pl([0,.65,.55,1]),circOut:pl([.55,0,1,.45]),backIn:pl([.31,.01,.66,-.59]),backOut:pl([.33,1.53,.69,.99])};function m2(e){if(e)return d2(e)?pl(e):Array.isArray(e)?e.map(m2):h2[e]}function rM(e,s,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const d={[s]:n};c&&(d.offset=c);const m=m2(l);return Array.isArray(m)&&(d.easing=m),e.animate(d,{delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function aM(e,{repeat:s,repeatType:n="loop"}){const r=s&&n!=="loop"&&s%2===1?0:e.length-1;return e[r]}const f2=(e,s,n)=>(((1-3*n+3*s)*e+(3*n-6*s))*e+3*s)*e,iM=1e-7,oM=12;function lM(e,s,n,r,a){let i,o,l=0;do o=s+(n-s)/2,i=f2(o,r,a)-e,i>0?n=o:s=o;while(Math.abs(i)>iM&&++l<oM);return o}function kc(e,s,n,r){if(e===s&&n===r)return Mt;const a=i=>lM(i,0,1,e,n);return i=>i===0||i===1?i:f2(a(i),s,r)}const cM=kc(.42,0,1,1),dM=kc(0,0,.58,1),p2=kc(.42,0,.58,1),uM=e=>Array.isArray(e)&&typeof e[0]!="number",x2=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,g2=e=>s=>1-e(1-s),y0=e=>1-Math.sin(Math.acos(e)),v2=g2(y0),hM=x2(y0),y2=kc(.33,1.53,.69,.99),j0=g2(y2),mM=x2(j0),fM=e=>(e*=2)<1?.5*j0(e):.5*(2-Math.pow(2,-10*(e-1))),pM={linear:Mt,easeIn:cM,easeInOut:p2,easeOut:dM,circIn:y0,circInOut:hM,circOut:v2,backIn:j0,backInOut:mM,backOut:y2,anticipate:fM},xy=e=>{if(Array.isArray(e)){v0(e.length===4);const[s,n,r,a]=e;return kc(s,n,r,a)}else if(typeof e=="string")return pM[e];return e},b0=(e,s)=>n=>!!(Cc(n)&&xR.test(n)&&n.startsWith(e)||s&&Object.prototype.hasOwnProperty.call(n,s)),j2=(e,s,n)=>r=>{if(!Cc(r))return r;const[a,i,o,l]=r.match(dh);return{[e]:parseFloat(a),[s]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xM=e=>Ea(0,255,e),Em={...wi,transform:e=>Math.round(xM(e))},ni={test:b0("rgb","red"),parse:j2("red","green","blue"),transform:({red:e,green:s,blue:n,alpha:r=1})=>"rgba("+Em.transform(e)+", "+Em.transform(s)+", "+Em.transform(n)+", "+Tl(El.transform(r))+")"};function gM(e){let s="",n="",r="",a="";return e.length>5?(s=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(s=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),s+=s,n+=n,r+=r,a+=a),{red:parseInt(s,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const mp={test:b0("#"),parse:gM,transform:ni.transform},Qi={test:b0("hsl","hue"),parse:j2("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+dr.transform(Tl(s))+", "+dr.transform(Tl(n))+", "+Tl(El.transform(r))+")"},Ds={test:e=>ni.test(e)||mp.test(e)||Qi.test(e),parse:e=>ni.test(e)?ni.parse(e):Qi.test(e)?Qi.parse(e):mp.parse(e),transform:e=>Cc(e)?e:e.hasOwnProperty("red")?ni.transform(e):Qi.transform(e)},Pt=(e,s,n)=>-n*e+n*s+e;function Tm(e,s,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(s-e)*6*n:n<1/2?s:n<2/3?e+(s-e)*(2/3-n)*6:e}function vM({hue:e,saturation:s,lightness:n,alpha:r}){e/=360,s/=100,n/=100;let a=0,i=0,o=0;if(!s)a=i=o=n;else{const l=n<.5?n*(1+s):n+s-n*s,c=2*n-l;a=Tm(c,l,e+1/3),i=Tm(c,l,e),o=Tm(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Am=(e,s,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(s*s-r)+r))},yM=[mp,ni,Qi],jM=e=>yM.find(s=>s.test(e));function gy(e){const s=jM(e);let n=s.parse(e);return s===Qi&&(n=vM(n)),n}const b2=(e,s)=>{const n=gy(e),r=gy(s),a={...n};return i=>(a.red=Am(n.red,r.red,i),a.green=Am(n.green,r.green,i),a.blue=Am(n.blue,r.blue,i),a.alpha=Pt(n.alpha,r.alpha,i),ni.transform(a))};function bM(e){var s,n;return isNaN(e)&&Cc(e)&&(((s=e.match(dh))===null||s===void 0?void 0:s.length)||0)+(((n=e.match(G1))===null||n===void 0?void 0:n.length)||0)>0}const w2={regex:fR,countKey:"Vars",token:"${v}",parse:Mt},N2={regex:G1,countKey:"Colors",token:"${c}",parse:Ds.parse},S2={regex:dh,countKey:"Numbers",token:"${n}",parse:wi.parse};function Rm(e,{regex:s,countKey:n,token:r,parse:a}){const i=e.tokenised.match(s);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(s,r),e.values.push(...i.map(a)))}function xu(e){const s=e.toString(),n={value:s,tokenised:s,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Rm(n,w2),Rm(n,N2),Rm(n,S2),n}function C2(e){return xu(e).values}function _2(e){const{values:s,numColors:n,numVars:r,tokenised:a}=xu(e),i=s.length;return o=>{let l=a;for(let c=0;c<i;c++)c<r?l=l.replace(w2.token,o[c]):c<r+n?l=l.replace(N2.token,Ds.transform(o[c])):l=l.replace(S2.token,Tl(o[c]));return l}}const wM=e=>typeof e=="number"?0:e;function NM(e){const s=C2(e);return _2(e)(s.map(wM))}const Ta={test:bM,parse:C2,createTransformer:_2,getAnimatableNone:NM},k2=(e,s)=>n=>`${n>0?s:e}`;function P2(e,s){return typeof e=="number"?n=>Pt(e,s,n):Ds.test(e)?b2(e,s):e.startsWith("var(")?k2(e,s):T2(e,s)}const E2=(e,s)=>{const n=[...e],r=n.length,a=e.map((i,o)=>P2(i,s[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},SM=(e,s)=>{const n={...e,...s},r={};for(const a in n)e[a]!==void 0&&s[a]!==void 0&&(r[a]=P2(e[a],s[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},T2=(e,s)=>{const n=Ta.createTransformer(s),r=xu(e),a=xu(s);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?ba(E2(r.values,a.values),n):k2(e,s)},ic=(e,s,n)=>{const r=s-e;return r===0?1:(n-e)/r},vy=(e,s)=>n=>Pt(e,s,n);function CM(e){return typeof e=="number"?vy:typeof e=="string"?Ds.test(e)?b2:T2:Array.isArray(e)?E2:typeof e=="object"?SM:vy}function _M(e,s,n){const r=[],a=n||CM(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(s){const c=Array.isArray(s)?s[o]||Mt:s;l=ba(c,l)}r.push(l)}return r}function A2(e,s,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(v0(i===s.length),i===1)return()=>s[0];e[0]>e[i-1]&&(e=[...e].reverse(),s=[...s].reverse());const o=_M(s,r,a),l=o.length,c=d=>{let m=0;if(l>1)for(;m<e.length-2&&!(d<e[m+1]);m++);const h=ic(e[m],e[m+1],d);return o[m](h)};return n?d=>c(Ea(e[0],e[i-1],d)):c}function kM(e,s){const n=e[e.length-1];for(let r=1;r<=s;r++){const a=ic(0,s,r);e.push(Pt(n,1,a))}}function PM(e){const s=[0];return kM(s,e.length-1),s}function EM(e,s){return e.map(n=>n*s)}function TM(e,s){return e.map(()=>s||p2).splice(0,e.length-1)}function gu({duration:e=300,keyframes:s,times:n,ease:r="easeInOut"}){const a=uM(r)?r.map(xy):xy(r),i={done:!1,value:s[0]},o=EM(n&&n.length===s.length?n:PM(s),e),l=A2(o,s,{ease:Array.isArray(a)?a:TM(s,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function R2(e,s){return s?e*(1e3/s):0}const AM=5;function M2(e,s,n){const r=Math.max(s-AM,0);return R2(n-e(r),s-r)}const Mm=.001,RM=.01,yy=10,MM=.05,DM=1;function OM({duration:e=800,bounce:s=.25,velocity:n=0,mass:r=1}){let a,i;sM(e<=wa(yy));let o=1-s;o=Ea(MM,DM,o),e=Ea(RM,yy,Or(e)),o<1?(a=d=>{const m=d*o,h=m*e,p=m-n,v=fp(d,o),w=Math.exp(-h);return Mm-p/v*w},i=d=>{const h=d*o*e,p=h*n+n,v=Math.pow(o,2)*Math.pow(d,2)*e,w=Math.exp(-h),g=fp(Math.pow(d,2),o);return(-a(d)+Mm>0?-1:1)*((p-v)*w)/g}):(a=d=>{const m=Math.exp(-d*e),h=(d-n)*e+1;return-Mm+m*h},i=d=>{const m=Math.exp(-d*e),h=(n-d)*(e*e);return m*h});const l=5/e,c=IM(a,i,l);if(e=wa(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const $M=12;function IM(e,s,n){let r=n;for(let a=1;a<$M;a++)r=r-e(r)/s(r);return r}function fp(e,s){return e*Math.sqrt(1-s*s)}const LM=["duration","bounce"],FM=["stiffness","damping","mass"];function jy(e,s){return s.some(n=>e[n]!==void 0)}function zM(e){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!jy(e,FM)&&jy(e,LM)){const n=OM(e);s={...s,...n,mass:1},s.isResolvedFromDuration=!0}return s}function D2({keyframes:e,restDelta:s,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:m,velocity:h,isResolvedFromDuration:p}=zM({...r,velocity:-Or(r.velocity||0)}),v=h||0,w=c/(2*Math.sqrt(l*d)),g=i-a,y=Or(Math.sqrt(l/d)),f=Math.abs(g)<5;n||(n=f?.01:2),s||(s=f?.005:.5);let x;if(w<1){const j=fp(y,w);x=N=>{const S=Math.exp(-w*y*N);return i-S*((v+w*y*g)/j*Math.sin(j*N)+g*Math.cos(j*N))}}else if(w===1)x=j=>i-Math.exp(-y*j)*(g+(v+y*g)*j);else{const j=y*Math.sqrt(w*w-1);x=N=>{const S=Math.exp(-w*y*N),A=Math.min(j*N,300);return i-S*((v+w*y*g)*Math.sinh(A)+j*g*Math.cosh(A))/j}}return{calculatedDuration:p&&m||null,next:j=>{const N=x(j);if(p)o.done=j>=m;else{let S=v;j!==0&&(w<1?S=M2(x,j,N):S=0);const A=Math.abs(S)<=n,C=Math.abs(i-N)<=s;o.done=A&&C}return o.value=o.done?i:N,o}}}function by({keyframes:e,velocity:s=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:m}){const h=e[0],p={done:!1,value:h},v=k=>l!==void 0&&k<l||c!==void 0&&k>c,w=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=n*s;const y=h+g,f=o===void 0?y:o(y);f!==y&&(g=f-h);const x=k=>-g*Math.exp(-k/r),j=k=>f+x(k),N=k=>{const M=x(k),P=j(k);p.done=Math.abs(M)<=d,p.value=p.done?f:P};let S,A;const C=k=>{v(p.value)&&(S=k,A=D2({keyframes:[p.value,w(p.value)],velocity:M2(j,k,p.value),damping:a,stiffness:i,restDelta:d,restSpeed:m}))};return C(0),{calculatedDuration:null,next:k=>{let M=!1;return!A&&S===void 0&&(M=!0,N(k),C(k)),S!==void 0&&k>S?A.next(k-S):(!M&&N(k),p)}}}const VM=e=>{const s=({timestamp:n})=>e(n);return{start:()=>ft.update(s,!0),stop:()=>Vr(s),now:()=>bs.isProcessing?bs.timestamp:performance.now()}},wy=2e4;function Ny(e){let s=0;const n=50;let r=e.next(s);for(;!r.done&&s<wy;)s+=n,r=e.next(s);return s>=wy?1/0:s}const UM={decay:by,inertia:by,tween:gu,keyframes:gu,spring:D2};function vu({autoplay:e=!0,delay:s=0,driver:n=VM,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:m,onUpdate:h,...p}){let v=1,w=!1,g,y;const f=()=>{y=new Promise(T=>{g=T})};f();let x;const j=UM[a]||gu;let N;j!==gu&&typeof r[0]!="number"&&(N=A2([0,100],r,{clamp:!1}),r=[0,100]);const S=j({...p,keyframes:r});let A;l==="mirror"&&(A=j({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",k=null,M=null,P=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=Ny(S));const{calculatedDuration:D}=S;let I=1/0,H=1/0;D!==null&&(I=D+o,H=I*(i+1)-o);let O=0;const $=T=>{if(M===null)return;v>0&&(M=Math.min(M,T)),v<0&&(M=Math.min(T-H/v,M)),k!==null?O=k:O=Math.round(T-M)*v;const U=O-s*(v>=0?1:-1),se=v>=0?U<0:U>H;O=Math.max(U,0),C==="finished"&&k===null&&(O=H);let ie=O,fe=S;if(i){const L=Math.min(O,H)/I;let Y=Math.floor(L),X=L%1;!X&&L>=1&&(X=1),X===1&&Y--,Y=Math.min(Y,i+1),!!(Y%2)&&(l==="reverse"?(X=1-X,o&&(X-=o/I)):l==="mirror"&&(fe=A)),ie=Ea(0,1,X)*I}const ue=se?{done:!1,value:r[0]}:fe.next(ie);N&&(ue.value=N(ue.value));let{done:le}=ue;!se&&D!==null&&(le=v>=0?O>=H:O<=0);const Pe=k===null&&(C==="finished"||C==="running"&&le);return h&&h(ue.value),Pe&&R(),ue},W=()=>{x&&x.stop(),x=void 0},G=()=>{C="idle",W(),g(),f(),M=P=null},R=()=>{C="finished",m&&m(),W(),g()},V=()=>{if(w)return;x||(x=n($));const T=x.now();c&&c(),k!==null?M=T-k:(!M||C==="finished")&&(M=T),C==="finished"&&f(),P=M,k=null,C="running",x.start()};e&&V();const q={then(T,U){return y.then(T,U)},get time(){return Or(O)},set time(T){T=wa(T),O=T,k!==null||!x||v===0?k=T:M=x.now()-T/v},get duration(){const T=S.calculatedDuration===null?Ny(S):S.calculatedDuration;return Or(T)},get speed(){return v},set speed(T){T===v||!x||(v=T,q.time=Or(O))},get state(){return C},play:V,pause:()=>{C="paused",k=O},stop:()=>{w=!0,C!=="idle"&&(C="idle",d&&d(),G())},cancel:()=>{P!==null&&$(P),G()},complete:()=>{C="finished"},sample:T=>(M=0,$(T))};return q}function BM(e){let s;return()=>(s===void 0&&(s=e()),s)}const WM=BM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HM=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ud=10,qM=2e4,GM=(e,s)=>s.type==="spring"||e==="backgroundColor"||!u2(s.ease);function KM(e,s,{onUpdate:n,onComplete:r,...a}){if(!(WM()&&HM.has(s)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const m=()=>{c=new Promise(j=>{l=j})};m();let{keyframes:h,duration:p=300,ease:v,times:w}=a;if(GM(s,a)){const j=vu({...a,repeat:0,delay:0});let N={done:!1,value:h[0]};const S=[];let A=0;for(;!N.done&&A<qM;)N=j.sample(A),S.push(N.value),A+=ud;w=void 0,h=S,p=A-ud,v="linear"}const g=rM(e.owner.current,s,h,{...a,duration:p,ease:v,times:w}),y=()=>{d=!1,g.cancel()},f=()=>{d=!0,ft.update(y),l(),m()};return g.onfinish=()=>{d||(e.set(aM(h,a)),r&&r(),f())},{then(j,N){return c.then(j,N)},attachTimeline(j){return g.timeline=j,g.onfinish=null,Mt},get time(){return Or(g.currentTime||0)},set time(j){g.currentTime=wa(j)},get speed(){return g.playbackRate},set speed(j){g.playbackRate=j},get duration(){return Or(p)},play:()=>{o||(g.play(),Vr(y))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:j}=g;if(j){const N=vu({...a,autoplay:!1});e.setWithVelocity(N.sample(j-ud).value,N.sample(j).value,ud)}f()},complete:()=>{d||g.finish()},cancel:f}}function YM({keyframes:e,delay:s,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Mt,pause:Mt,stop:Mt,then:i=>(i(),Promise.resolve()),cancel:Mt,complete:Mt});return s?vu({keyframes:[0,1],duration:0,delay:s,onComplete:a}):a()}const XM={type:"spring",stiffness:500,damping:25,restSpeed:10},JM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QM={type:"keyframes",duration:.8},ZM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eD=(e,{keyframes:s})=>s.length>2?QM:bi.has(e)?e.startsWith("scale")?JM(s[1]):XM:ZM,pp=(e,s)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Ta.test(s)||s==="0")&&!s.startsWith("url(")),tD=new Set(["brightness","contrast","saturate","opacity"]);function sD(e){const[s,n]=e.slice(0,-1).split("(");if(s==="drop-shadow")return e;const[r]=n.match(dh)||[];if(!r)return e;const a=n.replace(r,"");let i=tD.has(s)?1:0;return r!==n&&(i*=100),s+"("+i+a+")"}const nD=/([a-z-]*)\(.*?\)/g,xp={...Ta,getAnimatableNone:e=>{const s=e.match(nD);return s?s.map(sD).join(" "):e}},rD={...K1,color:Ds,backgroundColor:Ds,outlineColor:Ds,fill:Ds,stroke:Ds,borderColor:Ds,borderTopColor:Ds,borderRightColor:Ds,borderBottomColor:Ds,borderLeftColor:Ds,filter:xp,WebkitFilter:xp},w0=e=>rD[e];function O2(e,s){let n=w0(e);return n!==xp&&(n=Ta),n.getAnimatableNone?n.getAnimatableNone(s):void 0}const $2=e=>/^0[^.\s]+$/.test(e);function aD(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||$2(e)}function iD(e,s,n,r){const a=pp(s,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),aD(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(a&&c.length&&l)for(let d=0;d<c.length;d++){const m=c[d];i[m]=O2(s,l)}return i}function oD({when:e,delay:s,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...m}){return!!Object.keys(m).length}function N0(e,s){return e[s]||e.default||e}const lD={skipAnimations:!1},S0=(e,s,n,r={})=>a=>{const i=N0(r,e)||{},o=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-wa(o);const c=iD(s,e,n,i),d=c[0],m=c[c.length-1],h=pp(e,d),p=pp(e,m);let v={keyframes:c,velocity:s.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:w=>{s.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(oD(i)||(v={...v,...eD(e,v)}),v.duration&&(v.duration=wa(v.duration)),v.repeatDelay&&(v.repeatDelay=wa(v.repeatDelay)),!h||!p||nM.current||i.type===!1||lD.skipAnimations)return YM(v);if(!r.isHandoff&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate){const w=KM(s,e,v);if(w)return w}return vu(v)};function yu(e){return!!(tn(e)&&e.add)}const I2=e=>/^\-?\d*\.?\d+$/.test(e);function C0(e,s){e.indexOf(s)===-1&&e.push(s)}function _0(e,s){const n=e.indexOf(s);n>-1&&e.splice(n,1)}class k0{constructor(){this.subscriptions=[]}add(s){return C0(this.subscriptions,s),()=>_0(this.subscriptions,s)}notify(s,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](s,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(s,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cD=e=>!isNaN(parseFloat(e));class dD{constructor(s,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=bs;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ft.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ft.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=s,this.canTrackVelocity=cD(this.current),this.owner=n.owner}onChange(s){return this.on("change",s)}on(s,n){this.events[s]||(this.events[s]=new k0);const r=this.events[s].add(n);return s==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,n){this.passiveEffect=s,this.stopPassiveEffect=n}set(s,n=!0){!n||!this.passiveEffect?this.updateAndNotify(s,n):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,n,r){this.set(n),this.prev=s,this.timeDelta=r}jump(s){this.updateAndNotify(s),this.prev=s,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?R2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(s){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=s(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function So(e,s){return new dD(e,s)}const L2=e=>s=>s.test(e),uD={test:e=>e==="auto",parse:e=>e},F2=[wi,Ae,dr,Jr,vR,gR,uD],ll=e=>F2.find(L2(e)),hD=[...F2,Ds,Ta],mD=e=>hD.find(L2(e));function fD(e,s,n){e.hasValue(s)?e.getValue(s).set(n):e.addValue(s,So(n))}function pD(e,s){const n=hh(e,s);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const l=RR(i[o]);fD(e,o,l)}}function xD(e,s,n){var r,a;const i=Object.keys(s).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],d=s[c];let m=null;Array.isArray(d)&&(m=d[0]),m===null&&(m=(a=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&a!==void 0?a:s[c]),m!=null&&(typeof m=="string"&&(I2(m)||$2(m))?m=parseFloat(m):!mD(m)&&Ta.test(d)&&(m=O2(c,d)),e.addValue(c,So(m,{owner:e})),n[c]===void 0&&(n[c]=m),m!==null&&e.setBaseTarget(c,m))}}function gD(e,s){return s?(s[e]||s.default||s).from:void 0}function vD(e,s,n){const r={};for(const a in e){const i=gD(a,s);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function yD({protectedKeys:e,needsAnimating:s},n){const r=e.hasOwnProperty(n)&&s[n]!==!0;return s[n]=!1,r}function jD(e,s){const n=e.get();if(Array.isArray(s)){for(let r=0;r<s.length;r++)if(s[r]!==n)return!0}else return n!==s}function z2(e,s,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(s);const c=e.getValue("willChange");r&&(i=r);const d=[],m=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const p=e.getValue(h),v=l[h];if(!p||v===void 0||m&&yD(m,h))continue;const w={delay:n,elapsed:0,...N0(i||{},h)};if(window.HandoffAppearAnimations){const f=e.getProps()[V1];if(f){const x=window.HandoffAppearAnimations(f,h,p,ft);x!==null&&(w.elapsed=x,w.isHandoff=!0)}}let g=!w.isHandoff&&!jD(p,v);if(w.type==="spring"&&(p.getVelocity()||w.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(S0(h,p,v,e.shouldReduceMotion&&bi.has(h)?{type:!1}:w));const y=p.animation;yu(c)&&(c.add(h),y.then(()=>c.remove(h))),d.push(y)}return o&&Promise.all(d).then(()=>{o&&pD(e,o)}),d}function gp(e,s,n={}){const r=hh(e,s,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(z2(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:h}=a;return bD(e,s,d+c,m,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function bD(e,s,n=0,r=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=a===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(wD).forEach((d,m)=>{d.notify("AnimationStart",s),o.push(gp(d,s,{...i,delay:n+c(m)}).then(()=>d.notify("AnimationComplete",s)))}),Promise.all(o)}function wD(e,s){return e.sortNodePosition(s)}function ND(e,s,n={}){e.notify("AnimationStart",s);let r;if(Array.isArray(s)){const a=s.map(i=>gp(e,i,n));r=Promise.all(a)}else if(typeof s=="string")r=gp(e,s,n);else{const a=typeof s=="function"?hh(e,s,n.custom):s;r=Promise.all(z2(e,a,n))}return r.then(()=>e.notify("AnimationComplete",s))}const SD=[...l0].reverse(),CD=l0.length;function _D(e){return s=>Promise.all(s.map(({animation:n,options:r})=>ND(e,n,r)))}function kD(e){let s=_D(e);const n=ED();let r=!0;const a=(c,d)=>{const m=hh(e,d);if(m){const{transition:h,transitionEnd:p,...v}=m;c={...c,...v,...p}}return c};function i(c){s=c(e)}function o(c,d){const m=e.getProps(),h=e.getVariantContext(!0)||{},p=[],v=new Set;let w={},g=1/0;for(let f=0;f<CD;f++){const x=SD[f],j=n[x],N=m[x]!==void 0?m[x]:h[x],S=rc(N),A=x===d?j.isActive:null;A===!1&&(g=f);let C=N===h[x]&&N!==m[x]&&S;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),j.protectedKeys={...w},!j.isActive&&A===null||!N&&!j.prevProp||lh(N)||typeof N=="boolean")continue;let M=PD(j.prevProp,N)||x===d&&j.isActive&&!C&&S||f>g&&S,P=!1;const D=Array.isArray(N)?N:[N];let I=D.reduce(a,{});A===!1&&(I={});const{prevResolvedValues:H={}}=j,O={...H,...I},$=W=>{M=!0,v.has(W)&&(P=!0,v.delete(W)),j.needsAnimating[W]=!0};for(const W in O){const G=I[W],R=H[W];if(w.hasOwnProperty(W))continue;let V=!1;pu(G)&&pu(R)?V=!c2(G,R):V=G!==R,V?G!==void 0?$(W):v.add(W):G!==void 0&&v.has(W)?$(W):j.protectedKeys[W]=!0}j.prevProp=N,j.prevResolvedValues=I,j.isActive&&(w={...w,...I}),r&&e.blockInitialAnimation&&(M=!1),M&&(!C||P)&&p.push(...D.map(W=>({animation:W,options:{type:x,...c}})))}if(v.size){const f={};v.forEach(x=>{const j=e.getBaseTarget(x);j!==void 0&&(f[x]=j)}),p.push({animation:f})}let y=!!p.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?s(p):Promise.resolve()}function l(c,d,m){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(v=>{var w;return(w=v.animationState)===null||w===void 0?void 0:w.setActive(c,d)}),n[c].isActive=d;const p=o(m,c);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function PD(e,s){return typeof s=="string"?s!==e:Array.isArray(s)?!c2(s,e):!1}function qa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ED(){return{animate:qa(!0),whileInView:qa(),whileHover:qa(),whileTap:qa(),whileDrag:qa(),whileFocus:qa(),exit:qa()}}class TD extends Ba{constructor(s){super(s),s.animationState||(s.animationState=kD(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();this.unmount(),lh(s)&&(this.unmount=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:n}=this.node.prevProps||{};s!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let AD=0;class RD extends Ba{constructor(){super(...arguments),this.id=AD++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const i=this.node.animationState.setActive("exit",!s,{custom:r??this.node.getProps().custom});n&&!s&&i.then(()=>n(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const MD={animation:{Feature:TD},exit:{Feature:RD}},Sy=(e,s)=>Math.abs(e-s);function DD(e,s){const n=Sy(e.x,s.x),r=Sy(e.y,s.y);return Math.sqrt(n**2+r**2)}class V2{constructor(s,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Om(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=DD(h.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:w}=h,{timestamp:g}=bs;this.history.push({...w,timestamp:g});const{onStart:y,onMove:f}=this.handlers;p||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),f&&f(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Dm(p,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Om(h.type==="pointercancel"?this.lastMoveEventInfo:Dm(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,y),w&&w(h,y)},!r2(s))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=uh(s),l=Dm(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=bs;this.history=[{...c,timestamp:d}];const{onSessionStart:m}=n;m&&m(s,Om(l,this.history)),this.removeListeners=ba(Dr(this.contextWindow,"pointermove",this.handlePointerMove),Dr(this.contextWindow,"pointerup",this.handlePointerUp),Dr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Vr(this.updatePoint)}}function Dm(e,s){return s?{point:s(e.point)}:e}function Cy(e,s){return{x:e.x-s.x,y:e.y-s.y}}function Om({point:e},s){return{point:e,delta:Cy(e,U2(s)),offset:Cy(e,OD(s)),velocity:$D(s,.1)}}function OD(e){return e[0]}function U2(e){return e[e.length-1]}function $D(e,s){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=U2(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>wa(s)));)n--;if(!r)return{x:0,y:0};const i=Or(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hn(e){return e.max-e.min}function vp(e,s=0,n=.01){return Math.abs(e-s)<=n}function _y(e,s,n,r=.5){e.origin=r,e.originPoint=Pt(s.min,s.max,e.origin),e.scale=hn(n)/hn(s),(vp(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Pt(n.min,n.max,e.origin)-e.originPoint,(vp(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Al(e,s,n,r){_y(e.x,s.x,n.x,r?r.originX:void 0),_y(e.y,s.y,n.y,r?r.originY:void 0)}function ky(e,s,n){e.min=n.min+s.min,e.max=e.min+hn(s)}function ID(e,s,n){ky(e.x,s.x,n.x),ky(e.y,s.y,n.y)}function Py(e,s,n){e.min=s.min-n.min,e.max=e.min+hn(s)}function Rl(e,s,n){Py(e.x,s.x,n.x),Py(e.y,s.y,n.y)}function LD(e,{min:s,max:n},r){return s!==void 0&&e<s?e=r?Pt(s,e,r.min):Math.max(e,s):n!==void 0&&e>n&&(e=r?Pt(n,e,r.max):Math.min(e,n)),e}function Ey(e,s,n){return{min:s!==void 0?e.min+s:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function FD(e,{top:s,left:n,bottom:r,right:a}){return{x:Ey(e.x,n,a),y:Ey(e.y,s,r)}}function Ty(e,s){let n=s.min-e.min,r=s.max-e.max;return s.max-s.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function zD(e,s){return{x:Ty(e.x,s.x),y:Ty(e.y,s.y)}}function VD(e,s){let n=.5;const r=hn(e),a=hn(s);return a>r?n=ic(s.min,s.max-r,e.min):r>a&&(n=ic(e.min,e.max-a,s.min)),Ea(0,1,n)}function UD(e,s){const n={};return s.min!==void 0&&(n.min=s.min-e.min),s.max!==void 0&&(n.max=s.max-e.min),n}const yp=.35;function BD(e=yp){return e===!1?e=0:e===!0&&(e=yp),{x:Ay(e,"left","right"),y:Ay(e,"top","bottom")}}function Ay(e,s,n){return{min:Ry(e,s),max:Ry(e,n)}}function Ry(e,s){return typeof e=="number"?e:e[s]||0}const My=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zi=()=>({x:My(),y:My()}),Dy=()=>({min:0,max:0}),Ut=()=>({x:Dy(),y:Dy()});function yn(e){return[e("x"),e("y")]}function B2({top:e,left:s,right:n,bottom:r}){return{x:{min:s,max:n},y:{min:e,max:r}}}function WD({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}function HD(e,s){if(!s)return e;const n=s({x:e.left,y:e.top}),r=s({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $m(e){return e===void 0||e===1}function jp({scale:e,scaleX:s,scaleY:n}){return!$m(e)||!$m(s)||!$m(n)}function Ya(e){return jp(e)||W2(e)||e.z||e.rotate||e.rotateX||e.rotateY}function W2(e){return Oy(e.x)||Oy(e.y)}function Oy(e){return e&&e!=="0%"}function ju(e,s,n){const r=e-n,a=s*r;return n+a}function $y(e,s,n,r,a){return a!==void 0&&(e=ju(e,a,r)),ju(e,n,r)+s}function bp(e,s=0,n=1,r,a){e.min=$y(e.min,s,n,r,a),e.max=$y(e.max,s,n,r,a)}function H2(e,{x:s,y:n}){bp(e.x,s.translate,s.scale,s.originPoint),bp(e.y,n.translate,n.scale,n.originPoint)}function qD(e,s,n,r=!1){const a=n.length;if(!a)return;s.x=s.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&eo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(s.x*=o.x.scale,s.y*=o.y.scale,H2(e,o)),r&&Ya(i.latestValues)&&eo(e,i.latestValues))}s.x=Iy(s.x),s.y=Iy(s.y)}function Iy(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function na(e,s){e.min=e.min+s,e.max=e.max+s}function Ly(e,s,[n,r,a]){const i=s[a]!==void 0?s[a]:.5,o=Pt(e.min,e.max,i);bp(e,s[n],s[r],o,s.scale)}const GD=["x","scaleX","originX"],KD=["y","scaleY","originY"];function eo(e,s){Ly(e.x,s,GD),Ly(e.y,s,KD)}function q2(e,s){return B2(HD(e.getBoundingClientRect(),s))}function YD(e,s,n){const r=q2(e,n),{scroll:a}=s;return a&&(na(r.x,a.offset.x),na(r.y,a.offset.y)),r}const G2=({current:e})=>e?e.ownerDocument.defaultView:null,XD=new WeakMap;class JD{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.visualElement=s}start(s,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uh(m,"page").point)},i=(m,h)=>{const{drag:p,dragPropagation:v,onDragStart:w}=this.getProps();if(p&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=i2(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(y=>{let f=this.getAxisMotionValue(y).get()||0;if(dr.test(f)){const{projection:x}=this.visualElement;if(x&&x.layout){const j=x.layout.layoutBox[y];j&&(f=hn(j)*(parseFloat(f)/100))}}this.originPoint[y]=f}),w&&ft.update(()=>w(m,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(m,h)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:w,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:y}=h;if(v&&this.currentDirection===null){this.currentDirection=QD(y),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(m,h)},l=(m,h)=>this.stop(m,h),c=()=>yn(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new V2(s,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:G2(this.visualElement)})}stop(s,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ft.update(()=>i(s,n))}cancel(){this.isDragging=!1;const{projection:s,animationState:n}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(s,n,r){const{drag:a}=this.getProps();if(!r||!hd(s,a,this.currentDirection))return;const i=this.getAxisMotionValue(s);let o=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(o=LD(o,this.constraints[s],this.elastic[s])),i.set(o)}resolveConstraints(){var s;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,i=this.constraints;n&&Ji(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=FD(a.layoutBox,n):this.constraints=!1,this.elastic=BD(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&yn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=UD(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:n}=this.getProps();if(!s||!Ji(s))return!1;const r=s.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=YD(r,a.root,this.visualElement.getTransformPagePoint());let o=zD(a.layout.layoutBox,i);if(n){const l=n(WD(o));this.hasMutatedConstraints=!!l,l&&(o=B2(l))}return o}startAnimation(s){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=yn(m=>{if(!hd(m,n,this.currentDirection))return;let h=c&&c[m]||{};o&&(h={min:0,max:0});const p=a?200:1e6,v=a?40:1e7,w={type:"inertia",velocity:r?s[m]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(m,w)});return Promise.all(d).then(l)}startAxisValueAnimation(s,n){const r=this.getAxisMotionValue(s);return r.start(S0(s,r,0,n))}stopAnimation(){yn(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){yn(s=>{var n;return(n=this.getAxisMotionValue(s).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(s){var n;return(n=this.getAxisMotionValue(s).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(s){const n="_drag"+s.toUpperCase(),r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){yn(n=>{const{drag:r}=this.getProps();if(!hd(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(s[n]-Pt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ji(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};yn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=VD({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yn(o=>{if(!hd(o,s,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Pt(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;XD.set(this.visualElement,this);const s=this.visualElement.current,n=Dr(s,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ji(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=Rr(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(yn(m=>{const h=this.getAxisMotionValue(m);h&&(this.originPoint[m]+=c[m].translate,h.set(h.get()+c[m].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const s=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=yp,dragMomentum:l=!0}=s;return{...s,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function hd(e,s,n){return(s===!0||s===e)&&(n===null||n===e)}function QD(e,s=10){let n=null;return Math.abs(e.y)>s?n="y":Math.abs(e.x)>s&&(n="x"),n}class ZD extends Ba{constructor(s){super(s),this.removeGroupControls=Mt,this.removeListeners=Mt,this.controls=new JD(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fy=e=>(s,n)=>{e&&ft.update(()=>e(s,n))};class eO extends Ba{constructor(){super(...arguments),this.removePointerDownListener=Mt}onPointerDown(s){this.session=new V2(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G2(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Fy(s),onStart:Fy(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&ft.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Dr(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tO(){const e=u.useContext(ih);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=e,a=u.useId();return u.useEffect(()=>r(a),[]),!s&&n?[!1,()=>n&&n(a)]:[!0]}const $d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zy(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const cl={correct:(e,s)=>{if(!s.target)return e;if(typeof e=="string")if(Ae.test(e))e=parseFloat(e);else return e;const n=zy(e,s.target.x),r=zy(e,s.target.y);return`${n}% ${r}%`}},sO={correct:(e,{treeScale:s,projectionDelta:n})=>{const r=e,a=Ta.parse(e);if(a.length>5)return r;const i=Ta.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*s.x,c=n.y.scale*s.y;a[0+o]/=l,a[1+o]/=c;const d=Pt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class nO extends ce.Component{componentDidMount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=s;dR(rO),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$d.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||s.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?o.promote():o.relegate()||ft.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),queueMicrotask(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=s;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function K2(e){const[s,n]=tO(),r=u.useContext(d0);return ce.createElement(nO,{...e,layoutGroup:r,switchLayoutGroup:u.useContext(B1),isPresent:s,safeToRemove:n})}const rO={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:sO},Y2=["TopLeft","TopRight","BottomLeft","BottomRight"],aO=Y2.length,Vy=e=>typeof e=="string"?parseFloat(e):e,Uy=e=>typeof e=="number"||Ae.test(e);function iO(e,s,n,r,a,i){a?(e.opacity=Pt(0,n.opacity!==void 0?n.opacity:1,oO(r)),e.opacityExit=Pt(s.opacity!==void 0?s.opacity:1,0,lO(r))):i&&(e.opacity=Pt(s.opacity!==void 0?s.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<aO;o++){const l=`border${Y2[o]}Radius`;let c=By(s,l),d=By(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Uy(c)===Uy(d)?(e[l]=Math.max(Pt(Vy(c),Vy(d),r),0),(dr.test(d)||dr.test(c))&&(e[l]+="%")):e[l]=d}(s.rotate||n.rotate)&&(e.rotate=Pt(s.rotate||0,n.rotate||0,r))}function By(e,s){return e[s]!==void 0?e[s]:e.borderRadius}const oO=X2(0,.5,v2),lO=X2(.5,.95,Mt);function X2(e,s,n){return r=>r<e?0:r>s?1:n(ic(e,s,r))}function Wy(e,s){e.min=s.min,e.max=s.max}function vn(e,s){Wy(e.x,s.x),Wy(e.y,s.y)}function Hy(e,s,n,r,a){return e-=s,e=ju(e,1/n,r),a!==void 0&&(e=ju(e,1/a,r)),e}function cO(e,s=0,n=1,r=.5,a,i=e,o=e){if(dr.test(s)&&(s=parseFloat(s),s=Pt(o.min,o.max,s/100)-o.min),typeof s!="number")return;let l=Pt(i.min,i.max,r);e===i&&(l-=s),e.min=Hy(e.min,s,n,l,a),e.max=Hy(e.max,s,n,l,a)}function qy(e,s,[n,r,a],i,o){cO(e,s[n],s[r],s[a],s.scale,i,o)}const dO=["x","scaleX","originX"],uO=["y","scaleY","originY"];function Gy(e,s,n,r){qy(e.x,s,dO,n?n.x:void 0,r?r.x:void 0),qy(e.y,s,uO,n?n.y:void 0,r?r.y:void 0)}function Ky(e){return e.translate===0&&e.scale===1}function J2(e){return Ky(e.x)&&Ky(e.y)}function hO(e,s){return e.x.min===s.x.min&&e.x.max===s.x.max&&e.y.min===s.y.min&&e.y.max===s.y.max}function Q2(e,s){return Math.round(e.x.min)===Math.round(s.x.min)&&Math.round(e.x.max)===Math.round(s.x.max)&&Math.round(e.y.min)===Math.round(s.y.min)&&Math.round(e.y.max)===Math.round(s.y.max)}function Yy(e){return hn(e.x)/hn(e.y)}class mO{constructor(){this.members=[]}add(s){C0(this.members,s),s.scheduleRender()}remove(s){if(_0(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(s){const n=this.members.findIndex(a=>s===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(s,n){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,n&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:a}=s.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:n,resumingFrom:r}=s;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xy(e,s,n){let r="";const a=e.x.translate/s.x,i=e.y.translate/s.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),n){const{rotate:c,rotateX:d,rotateY:m}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `)}const o=e.x.scale*s.x,l=e.y.scale*s.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const fO=(e,s)=>e.depth-s.depth;class pO{constructor(){this.children=[],this.isDirty=!1}add(s){C0(this.children,s),this.isDirty=!0}remove(s){_0(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(fO),this.isDirty=!1,this.children.forEach(s)}}function xO(e,s){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=s&&(Vr(r),e(i-s))};return ft.read(r,!0),()=>Vr(r)}function gO(e){window.MotionDebug&&window.MotionDebug.record(e)}function vO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function yO(e,s,n){const r=tn(e)?e:So(e);return r.start(S0("",r,s,n)),r.animation}const Jy=["","X","Y","Z"],jO={visibility:"hidden"},Qy=1e3;let bO=0;const Xa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Z2({attachResizeListener:e,defaultParent:s,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=s==null?void 0:s()){this.id=bO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xa.totalNodes=Xa.resolvedTargetDeltas=Xa.recalculatedProjection=0,this.nodes.forEach(SO),this.nodes.forEach(EO),this.nodes.forEach(TO),this.nodes.forEach(CO),gO(Xa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pO)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new k0),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vO(o),this.instance=o;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=xO(p,250),$d.hasAnimatedSinceResize&&($d.hasAnimatedSinceResize=!1,this.nodes.forEach(ej))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||m.getDefaultTransition()||OO,{onLayoutAnimationStart:y,onLayoutAnimationComplete:f}=m.getProps(),x=!this.targetLayout||!Q2(this.targetLayout,w)||v,j=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,j);const N={...N0(g,"layout"),onPlay:y,onComplete:f};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||ej(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const h=this.path[m];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zy);return}this.isUpdating||this.nodes.forEach(kO),this.isUpdating=!1,this.nodes.forEach(PO),this.nodes.forEach(wO),this.nodes.forEach(NO),this.clearAllSnapshots();const l=performance.now();bs.delta=Ea(0,1e3/60,l-bs.timestamp),bs.timestamp=l,bs.isProcessing=!0,_m.update.process(bs),_m.preRender.process(bs),_m.render.process(bs),bs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(_O),this.sharedNodes.forEach(RO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!J2(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&(l||Ya(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$O(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ut();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(na(l.x,c.offset.x),na(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ut();vn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:h}=d;if(d!==this.root&&m&&h.layoutScroll){if(m.isRoot){vn(l,o);const{scroll:p}=this.root;p&&(na(l.x,-p.offset.x),na(l.y,-p.offset.y))}na(l.x,m.offset.x),na(l.y,m.offset.y)}}return l}applyTransform(o,l=!1){const c=Ut();vn(c,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&eo(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ya(m.latestValues)&&eo(c,m.latestValues)}return Ya(this.latestValues)&&eo(c,this.latestValues),c}removeTransform(o){const l=Ut();vn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ya(d.latestValues))continue;jp(d.latestValues)&&d.updateSnapshot();const m=Ut(),h=d.measurePageBox();vn(m,h),Gy(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Ya(this.latestValues)&&Gy(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=bs.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Rl(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ID(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),H2(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Rl(this.relativeTargetOrigin,this.target,v.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jp(this.parent.latestValues)||W2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bs.timestamp&&(d=!1),d)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;vn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;qD(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=Zi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zi(),this.projectionDeltaWithTransform=Zi());const g=this.projectionTransform;Al(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Xy(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Xa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},h=Zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ut(),v=c?c.source:void 0,w=this.layout?this.layout.source:void 0,g=v!==w,y=this.getStack(),f=!y||y.members.length<=1,x=!!(g&&!f&&this.options.crossfade===!0&&!this.path.some(DO));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const S=N/1e3;tj(h.x,o.x,S),tj(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MO(this.relativeTarget,this.relativeTargetOrigin,p,S),j&&hO(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Ut()),vn(j,this.relativeTarget)),g&&(this.animationValues=m,iO(m,d,this.latestValues,S,x,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{$d.hasAnimatedSinceResize=!0,this.currentAnimation=yO(0,Qy,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:m}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&eS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ut();const h=hn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=hn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}vn(l,c),eo(l,m),Al(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mO),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let m=0;m<Jy.length;m++){const h="rotate"+Jy[m];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const m in d)o.setStaticValue(m,d[m]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return jO;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Od(o==null?void 0:o.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Od(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(g.transform=m?m({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Xy(this.projectionDeltaWithTransform,this.treeScale,p),m&&(d.transform=m(p,d.transform));const{x:v,y:w}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in mu){if(p[g]===void 0)continue;const{correct:y,applyTo:f}=mu[g],x=d.transform==="none"?p[g]:y(p[g],h);if(f){const j=f.length;for(let N=0;N<j;N++)d[f[N]]=x}else d[g]=x}return this.options.layoutId&&(d.pointerEvents=h===this?Od(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Zy),this.root.sharedNodes.clear()}}}function wO(e){e.updateLayout()}function NO(e){var s;const n=((s=e.resumeFrom)===null||s===void 0?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?yn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=hn(p);p.min=r[h].min,p.max=p.min+v}):eS(i,n.layoutBox,r)&&yn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=hn(r[h]);p.max=p.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+v)});const l=Zi();Al(l,r,n.layoutBox);const c=Zi();o?Al(c,e.applyTransform(a,!0),n.measuredBox):Al(c,r,n.layoutBox);const d=!J2(l);let m=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const w=Ut();Rl(w,n.layoutBox,p.layoutBox);const g=Ut();Rl(g,r,v.layoutBox),Q2(w,g)||(m=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function SO(e){Xa.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function CO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _O(e){e.clearSnapshot()}function Zy(e){e.clearMeasurements()}function kO(e){e.isLayoutDirty=!1}function PO(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function ej(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function EO(e){e.resolveTargetDelta()}function TO(e){e.calcProjection()}function AO(e){e.resetRotation()}function RO(e){e.removeLeadSnapshot()}function tj(e,s,n){e.translate=Pt(s.translate,0,n),e.scale=Pt(s.scale,1,n),e.origin=s.origin,e.originPoint=s.originPoint}function sj(e,s,n,r){e.min=Pt(s.min,n.min,r),e.max=Pt(s.max,n.max,r)}function MO(e,s,n,r){sj(e.x,s.x,n.x,r),sj(e.y,s.y,n.y,r)}function DO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OO={duration:.45,ease:[.4,0,.1,1]},nj=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),rj=nj("applewebkit/")&&!nj("chrome/")?Math.round:Mt;function aj(e){e.min=rj(e.min),e.max=rj(e.max)}function $O(e){aj(e.x),aj(e.y)}function eS(e,s,n){return e==="position"||e==="preserve-aspect"&&!vp(Yy(s),Yy(n),.2)}const IO=Z2({attachResizeListener:(e,s)=>Rr(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Im={current:void 0},tS=Z2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Im.current){const e=new IO({});e.mount(window),e.setOptions({layoutScroll:!0}),Im.current=e}return Im.current},resetTransform:(e,s)=>{e.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LO={pan:{Feature:eO},drag:{Feature:ZD,ProjectionNode:tS,MeasureLayout:K2}},FO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zO(e){const s=FO.exec(e);if(!s)return[,];const[,n,r]=s;return[n,r]}function wp(e,s,n=1){const[r,a]=zO(e);if(!r)return;const i=window.getComputedStyle(s).getPropertyValue(r);if(i){const o=i.trim();return I2(o)?parseFloat(o):o}else return up(a)?wp(a,s,n+1):a}function VO(e,{...s},n){const r=e.current;if(!(r instanceof Element))return{target:s,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!up(i))return;const o=wp(i,r);o&&a.set(o)});for(const a in s){const i=s[a];if(!up(i))continue;const o=wp(i,r);o&&(s[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:s,transitionEnd:n}}const UO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sS=e=>UO.has(e),BO=e=>Object.keys(e).some(sS),ij=e=>e===wi||e===Ae,oj=(e,s)=>parseFloat(e.split(", ")[s]),lj=(e,s)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return oj(a[1],s);{const i=r.match(/^matrix\((.+)\)$/);return i?oj(i[1],e):0}},WO=new Set(["x","y","z"]),HO=Sc.filter(e=>!WO.has(e));function qO(e){const s=[];return HO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(s.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),s.length&&e.render(),s}const Co={width:({x:e},{paddingLeft:s="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(s)-parseFloat(n),height:({y:e},{paddingTop:s="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(s)-parseFloat(n),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:lj(4,13),y:lj(5,14)};Co.translateX=Co.x;Co.translateY=Co.y;const GO=(e,s,n)=>{const r=s.measureViewportBox(),a=s.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&s.setStaticValue("display",e.display||"block"),n.forEach(d=>{l[d]=Co[d](r,i)}),s.render();const c=s.measureViewportBox();return n.forEach(d=>{const m=s.getValue(d);m&&m.jump(l[d]),e[d]=Co[d](c,i)}),e},KO=(e,s,n={},r={})=>{s={...s},r={...r};const a=Object.keys(s).filter(sS);let i=[],o=!1;const l=[];if(a.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let m=n[c],h=ll(m);const p=s[c];let v;if(pu(p)){const w=p.length,g=p[0]===null?1:0;m=p[g],h=ll(m);for(let y=g;y<w&&p[y]!==null;y++)v?v0(ll(p[y])===v):v=ll(p[y])}else v=ll(p);if(h!==v)if(ij(h)&&ij(v)){const w=d.get();typeof w=="string"&&d.set(parseFloat(w)),typeof p=="string"?s[c]=parseFloat(p):Array.isArray(p)&&v===Ae&&(s[c]=p.map(parseFloat))}else h!=null&&h.transform&&(v!=null&&v.transform)&&(m===0||p===0)?m===0?d.set(v.transform(m)):s[c]=h.transform(p):(o||(i=qO(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:s[c],d.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=GO(s,e,l);return i.length&&i.forEach(([m,h])=>{e.getValue(m).set(h)}),e.render(),oh&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:s,transitionEnd:r}};function YO(e,s,n,r){return BO(s)?KO(e,s,n,r):{target:s,transitionEnd:r}}const XO=(e,s,n,r)=>{const a=VO(e,s,r);return s=a.target,r=a.transitionEnd,YO(e,s,n,r)},Np={current:null},nS={current:!1};function JO(){if(nS.current=!0,!!oh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),s=()=>Np.current=e.matches;e.addListener(s),s()}else Np.current=!1}function QO(e,s,n){const{willChange:r}=s;for(const a in s){const i=s[a],o=n[a];if(tn(i))e.addValue(a,i),yu(r)&&r.add(a);else if(tn(o))e.addValue(a,So(i,{owner:e})),yu(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,So(l!==void 0?l:i,{owner:e}))}}for(const a in n)s[a]===void 0&&e.removeValue(a);return s}const cj=new WeakMap,rS=Object.keys(ac),ZO=rS.length,dj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],e8=c0.length;class t8{constructor({parent:s,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ft.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=s,this.props=n,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=ch(n),this.isVariantNode=U1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{});for(const h in m){const p=m[h];l[h]!==void 0&&tn(p)&&(p.set(l[h],!1),yu(d)&&d.add(h))}}scrapeMotionValuesFromProps(s,n){return{}}mount(s){this.current=s,cj.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),nS.current||JO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Np.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cj.delete(this.current),this.projection&&this.projection.unmount(),Vr(this.notifyUpdate),Vr(this.render),this.valueSubscriptions.forEach(s=>s()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features)this.features[s].unmount();this.current=null}bindToMotionValue(s,n){const r=bi.has(s),a=n.on("change",o=>{this.latestValues[s]=o,this.props.onUpdate&&ft.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(s,()=>{a(),i()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}loadFeatures({children:s,...n},r,a,i){let o,l;for(let c=0;c<ZO;c++){const d=rS[c],{isEnabled:m,Feature:h,ProjectionNode:p,MeasureLayout:v}=ac[d];p&&(o=p),m(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),v&&(l=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:m,dragConstraints:h,layoutScroll:p,layoutRoot:v}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!m||h&&Ji(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:v})}return l}updateFeatures(){for(const s in this.features){const n=this.features[s];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,n){this.latestValues[s]=n}makeTargetAnimatable(s,n=!0){return this.makeTargetAnimatableFromInstance(s,this.props,n)}update(s,n){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dj.length;r++){const a=dj[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=s["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=QO(this,this.scrapeMotionValuesFromProps(s,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(s=!1){if(s)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<e8;r++){const a=c0[r],i=this.props[a];(rc(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(s){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(s),()=>n.variantChildren.delete(s)}addValue(s,n){n!==this.values.get(s)&&(this.removeValue(s),this.bindToMotionValue(s,n)),this.values.set(s,n),this.latestValues[s]=n.get()}removeValue(s){this.values.delete(s);const n=this.valueSubscriptions.get(s);n&&(n(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,n){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&n!==void 0&&(r=So(n,{owner:this}),this.addValue(s,r)),r}readValue(s){var n;return this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(n=this.getBaseTargetFromProps(this.props,s))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,s,this.options)}setBaseTarget(s,n){this.baseTarget[s]=n}getBaseTarget(s){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=g0(this.props,r))===null||n===void 0?void 0:n[s]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,s);return i!==void 0&&!tn(i)?i:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,n){return this.events[s]||(this.events[s]=new k0),this.events[s].add(n)}notify(s,...n){this.events[s]&&this.events[s].notify(...n)}}class aS extends t8{sortInstanceNodePosition(s,n){return s.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(s,n){return s.style?s.style[n]:void 0}removeValueFromRenderState(s,{vars:n,style:r}){delete n[s],delete r[s]}makeTargetAnimatableFromInstance({transition:s,transitionEnd:n,...r},{transformValues:a},i){let o=vD(r,s||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){xD(this,r,o);const l=XO(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:s,transitionEnd:n,...r}}}function s8(e){return window.getComputedStyle(e)}class n8 extends aS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(s,n){if(bi.has(n)){const r=w0(n);return r&&r.default||0}else{const r=s8(s),a=(q1(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(s,{transformPagePoint:n}){return q2(s,n)}build(s,n,r,a){h0(s,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(s,n){return x0(s,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;tn(s)&&(this.childSubscription=s.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(s,n,r,a){Q1(s,n,r,a)}}class r8 extends aS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(s,n){return s[n]}readValueFromInstance(s,n){if(bi.has(n)){const r=w0(n);return r&&r.default||0}return n=Z1.has(n)?n:o0(n),s.getAttribute(n)}measureInstanceViewportBox(){return Ut()}scrapeMotionValuesFromProps(s,n){return t2(s,n)}build(s,n,r,a){f0(s,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(s,n,r,a){e2(s,n,r,a)}mount(s){this.isSVGTag=p0(s.tagName),super.mount(s)}}const a8=(e,s)=>u0(e)?new r8(s,{enableHardwareAcceleration:!1}):new n8(s,{enableHardwareAcceleration:!0}),i8={layout:{ProjectionNode:tS,MeasureLayout:K2}},o8={...MD,...ZR,...LO,...i8},K=lR((e,s)=>zR(e,s,o8,a8));function iS(){const e=u.useRef(!1);return i0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function l8(){const e=iS(),[s,n]=u.useState(0),r=u.useCallback(()=>{e.current&&n(s+1)},[s]);return[u.useCallback(()=>ft.postRender(r),[r]),s]}class c8 extends u.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d8({children:e,isPresent:s}){const n=u.useId(),r=u.useRef(null),a=u.useRef({width:0,height:0,top:0,left:0});return u.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(s||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[s]),u.createElement(c8,{isPresent:s,childRef:r,sizeRef:a},u.cloneElement(e,{ref:r}))}const Lm=({children:e,initial:s,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=s2(u8),c=u.useId(),d=u.useMemo(()=>({id:c,initial:s,isPresent:n,custom:a,onExitComplete:m=>{l.set(m,!0);for(const h of l.values())if(!h)return;r&&r()},register:m=>(l.set(m,!1),()=>l.delete(m))}),i?void 0:[n]);return u.useMemo(()=>{l.forEach((m,h)=>l.set(h,!1))},[n]),u.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=u.createElement(d8,{isPresent:n},e)),u.createElement(ih.Provider,{value:d},e)};function u8(){return new Map}function h8(e){return u.useEffect(()=>()=>e(),[])}const Ja=e=>e.key||"";function m8(e,s){e.forEach(n=>{const r=Ja(n);s.set(r,n)})}function f8(e){const s=[];return u.Children.forEach(e,n=>{u.isValidElement(n)&&s.push(n)}),s}const P0=({children:e,custom:s,initial:n=!0,onExitComplete:r,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=u.useContext(d0).forceRender||l8()[0],c=iS(),d=f8(e);let m=d;const h=u.useRef(new Map).current,p=u.useRef(m),v=u.useRef(new Map).current,w=u.useRef(!0);if(i0(()=>{w.current=!1,m8(d,v),p.current=m}),h8(()=>{w.current=!0,v.clear(),h.clear()}),w.current)return u.createElement(u.Fragment,null,m.map(x=>u.createElement(Lm,{key:Ja(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},x)));m=[...m];const g=p.current.map(Ja),y=d.map(Ja),f=g.length;for(let x=0;x<f;x++){const j=g[x];y.indexOf(j)===-1&&!h.has(j)&&h.set(j,void 0)}return o==="wait"&&h.size&&(m=[]),h.forEach((x,j)=>{if(y.indexOf(j)!==-1)return;const N=v.get(j);if(!N)return;const S=g.indexOf(j);let A=x;if(!A){const C=()=>{h.delete(j);const k=Array.from(v.keys()).filter(M=>!y.includes(M));if(k.forEach(M=>v.delete(M)),p.current=d.filter(M=>{const P=Ja(M);return P===j||k.includes(P)}),!h.size){if(c.current===!1)return;l(),r&&r()}};A=u.createElement(Lm,{key:Ja(N),isPresent:!1,onExitComplete:C,custom:s,presenceAffectsLayout:i,mode:o},N),h.set(j,A)}m.splice(S,0,A)}),m=m.map(x=>{const j=x.key;return h.has(j)?x:u.createElement(Lm,{key:Ja(x),isPresent:!0,presenceAffectsLayout:i,mode:o},x)}),u.createElement(u.Fragment,null,h.size?m:m.map(x=>u.cloneElement(x)))},E0=jc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-roman-500 text-white hover:bg-roman-500/90",destructive:"bg-warning-500 text-white hover:bg-warning-600",outline:"border border-roman-500/30 bg-background text-neutral-900 hover:bg-success-100/30 hover:text-roman-500 hover:border-roman-500",secondary:"bg-success-100 text-neutral-900 hover:bg-success-100/80",ghost:"hover:bg-success-100 hover:text-roman-500",link:"text-warning-500 underline-offset-4 hover:underline",accent:"bg-roman-500 text-white hover:bg-roman-500/90",neutral:"bg-neutral-500 text-white hover:bg-neutral-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=ce.forwardRef(({className:e,variant:s,size:n,asChild:r=!1,...a},i)=>{const o=r?eA:"button";return t.jsx(o,{className:je(E0({variant:s,size:n,className:e})),ref:i,...a})});z.displayName="Button";const oe=ce.forwardRef(({className:e,type:s,...n},r)=>t.jsx("input",{type:s,className:je("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));oe.displayName="Input";var oS={exports:{}},lS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=u;function p8(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var x8=typeof Object.is=="function"?Object.is:p8,g8=_o.useState,v8=_o.useEffect,y8=_o.useLayoutEffect,j8=_o.useDebugValue;function b8(e,s){var n=s(),r=g8({inst:{value:n,getSnapshot:s}}),a=r[0].inst,i=r[1];return y8(function(){a.value=n,a.getSnapshot=s,Fm(a)&&i({inst:a})},[e,n,s]),v8(function(){return Fm(a)&&i({inst:a}),e(function(){Fm(a)&&i({inst:a})})},[e]),j8(n),n}function Fm(e){var s=e.getSnapshot;e=e.value;try{var n=s();return!x8(e,n)}catch{return!0}}function w8(e,s){return s()}var N8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w8:b8;lS.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:N8;oS.exports=lS;var S8=oS.exports;function C8(){return S8.useSyncExternalStore(_8,()=>!0,()=>!1)}function _8(){return()=>{}}var T0="Avatar",[k8,mB]=pn(T0),[P8,cS]=k8(T0),dS=u.forwardRef((e,s)=>{const{__scopeAvatar:n,...r}=e,[a,i]=u.useState("idle");return t.jsx(P8,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:t.jsx($e.span,{...r,ref:s})})});dS.displayName=T0;var uS="AvatarImage",hS=u.forwardRef((e,s)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=cS(uS,n),l=E8(r,i),c=Qs(d=>{a(d),o.onImageLoadingStatusChange(d)});return Tn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?t.jsx($e.img,{...i,ref:s,src:r}):null});hS.displayName=uS;var mS="AvatarFallback",fS=u.forwardRef((e,s)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=cS(mS,n),[o,l]=u.useState(r===void 0);return u.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?t.jsx($e.span,{...a,ref:s}):null});fS.displayName=mS;function uj(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function E8(e,{referrerPolicy:s,crossOrigin:n}){const r=C8(),a=u.useRef(null),i=(()=>r?(a.current||(a.current=new window.Image),a.current):null)(),[o,l]=u.useState(()=>uj(i,e));return Tn(()=>{l(uj(i,e))},[i,e]),Tn(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),m=c("error");return i.addEventListener("load",d),i.addEventListener("error",m),s&&(i.referrerPolicy=s),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",m)}},[i,n,s]),o}var pS=dS,xS=hS,gS=fS;const ms=ce.forwardRef(({className:e,...s},n)=>t.jsx(pS,{ref:n,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));ms.displayName=pS.displayName;const Es=ce.forwardRef(({className:e,...s},n)=>t.jsx(xS,{ref:n,className:je("aspect-square h-full w-full",e),...s}));Es.displayName=xS.displayName;const fs=ce.forwardRef(({className:e,...s},n)=>t.jsx(gS,{ref:n,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));fs.displayName=gS.displayName;var T8=u.createContext(void 0);function mh(e){const s=u.useContext(T8);return e||s||"ltr"}var zm=0;function vS(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hj()),document.body.insertAdjacentElement("beforeend",e[1]??hj()),zm++,()=>{zm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),zm--}},[])}function hj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vm="focusScope.autoFocusOnMount",Um="focusScope.autoFocusOnUnmount",mj={bubbles:!1,cancelable:!0},A8="FocusScope",A0=u.forwardRef((e,s)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=u.useState(null),d=Qs(a),m=Qs(i),h=u.useRef(null),p=Ze(s,g=>c(g)),v=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(r){let g=function(j){if(v.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:Qr(h.current,{select:!0})},y=function(j){if(v.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||Qr(h.current,{select:!0}))},f=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&Qr(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(f);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[r,l,v.paused]),u.useEffect(()=>{if(l){pj.add(v);const g=document.activeElement;if(!l.contains(g)){const f=new CustomEvent(Vm,mj);l.addEventListener(Vm,d),l.dispatchEvent(f),f.defaultPrevented||(R8(I8(yS(l)),{select:!0}),document.activeElement===g&&Qr(l))}return()=>{l.removeEventListener(Vm,d),setTimeout(()=>{const f=new CustomEvent(Um,mj);l.addEventListener(Um,m),l.dispatchEvent(f),f.defaultPrevented||Qr(g??document.body,{select:!0}),l.removeEventListener(Um,m),pj.remove(v)},0)}}},[l,d,m,v]);const w=u.useCallback(g=>{if(!n&&!r||v.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,f=document.activeElement;if(y&&f){const x=g.currentTarget,[j,N]=M8(x);j&&N?!g.shiftKey&&f===N?(g.preventDefault(),n&&Qr(j,{select:!0})):g.shiftKey&&f===j&&(g.preventDefault(),n&&Qr(N,{select:!0})):f===x&&g.preventDefault()}},[n,r,v.paused]);return t.jsx($e.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});A0.displayName=A8;function R8(e,{select:s=!1}={}){const n=document.activeElement;for(const r of e)if(Qr(r,{select:s}),document.activeElement!==n)return}function M8(e){const s=yS(e),n=fj(s,e),r=fj(s.reverse(),e);return[n,r]}function yS(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function fj(e,s){for(const n of e)if(!D8(n,{upTo:s}))return n}function D8(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function O8(e){return e instanceof HTMLInputElement&&"select"in e}function Qr(e,{select:s=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&O8(e)&&s&&e.select()}}var pj=$8();function $8(){let e=[];return{add(s){const n=e[0];s!==n&&(n==null||n.pause()),e=xj(e,s),e.unshift(s)},remove(s){var n;e=xj(e,s),(n=e[0])==null||n.resume()}}}function xj(e,s){const n=[...e],r=n.indexOf(s);return r!==-1&&n.splice(r,1),n}function I8(e){return e.filter(s=>s.tagName!=="A")}var L8=Du[" useId ".trim().toString()]||(()=>{}),F8=0;function oi(e){const[s,n]=u.useState(L8());return Tn(()=>{e||n(r=>r??String(F8++))},[e]),e||(s?`radix-${s}`:"")}const z8=["top","right","bottom","left"],Aa=Math.min,rn=Math.max,bu=Math.round,md=Math.floor,ur=e=>({x:e,y:e}),V8={left:"right",right:"left",bottom:"top",top:"bottom"},U8={start:"end",end:"start"};function Sp(e,s,n){return rn(e,Aa(s,n))}function Ur(e,s){return typeof e=="function"?e(s):e}function Br(e){return e.split("-")[0]}function Oo(e){return e.split("-")[1]}function R0(e){return e==="x"?"y":"x"}function M0(e){return e==="y"?"height":"width"}function $r(e){return["top","bottom"].includes(Br(e))?"y":"x"}function D0(e){return R0($r(e))}function B8(e,s,n){n===void 0&&(n=!1);const r=Oo(e),a=D0(e),i=M0(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(o=wu(o)),[o,wu(o)]}function W8(e){const s=wu(e);return[Cp(e),s,Cp(s)]}function Cp(e){return e.replace(/start|end/g,s=>U8[s])}function H8(e,s,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?s?a:r:s?r:a;case"left":case"right":return s?i:o;default:return[]}}function q8(e,s,n,r){const a=Oo(e);let i=H8(Br(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),s&&(i=i.concat(i.map(Cp)))),i}function wu(e){return e.replace(/left|right|bottom|top/g,s=>V8[s])}function G8(e){return{top:0,right:0,bottom:0,left:0,...e}}function jS(e){return typeof e!="number"?G8(e):{top:e,right:e,bottom:e,left:e}}function Nu(e){const{x:s,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:s,right:s+r,bottom:n+a,x:s,y:n}}function gj(e,s,n){let{reference:r,floating:a}=e;const i=$r(s),o=D0(s),l=M0(o),c=Br(s),d=i==="y",m=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,p=r[l]/2-a[l]/2;let v;switch(c){case"top":v={x:m,y:r.y-a.height};break;case"bottom":v={x:m,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-a.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Oo(s)){case"start":v[o]-=p*(n&&d?-1:1);break;case"end":v[o]+=p*(n&&d?-1:1);break}return v}const K8=async(e,s,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(s));let d=await o.getElementRects({reference:e,floating:s,strategy:a}),{x:m,y:h}=gj(d,r,c),p=r,v={},w=0;for(let g=0;g<l.length;g++){const{name:y,fn:f}=l[g],{x,y:j,data:N,reset:S}=await f({x:m,y:h,initialPlacement:r,placement:p,strategy:a,middlewareData:v,rects:d,platform:o,elements:{reference:e,floating:s}});m=x??m,h=j??h,v={...v,[y]:{...v[y],...N}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:s,strategy:a}):S.rects),{x:m,y:h}=gj(d,p,c)),g=-1)}return{x:m,y:h,placement:p,strategy:a,middlewareData:v}};async function oc(e,s){var n;s===void 0&&(s={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=Ur(s,e),w=jS(v),y=l[p?h==="floating"?"reference":"floating":h],f=Nu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:c})),x=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=Nu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:j,strategy:c}):x);return{top:(f.top-S.top+w.top)/N.y,bottom:(S.bottom-f.bottom+w.bottom)/N.y,left:(f.left-S.left+w.left)/N.x,right:(S.right-f.right+w.right)/N.x}}const Y8=e=>({name:"arrow",options:e,async fn(s){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=s,{element:d,padding:m=0}=Ur(e,s)||{};if(d==null)return{};const h=jS(m),p={x:n,y:r},v=D0(a),w=M0(v),g=await o.getDimensions(d),y=v==="y",f=y?"top":"left",x=y?"bottom":"right",j=y?"clientHeight":"clientWidth",N=i.reference[w]+i.reference[v]-p[v]-i.floating[w],S=p[v]-i.reference[v],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=A?A[j]:0;(!C||!await(o.isElement==null?void 0:o.isElement(A)))&&(C=l.floating[j]||i.floating[w]);const k=N/2-S/2,M=C/2-g[w]/2-1,P=Aa(h[f],M),D=Aa(h[x],M),I=P,H=C-g[w]-D,O=C/2-g[w]/2+k,$=Sp(I,O,H),W=!c.arrow&&Oo(a)!=null&&O!==$&&i.reference[w]/2-(O<I?P:D)-g[w]/2<0,G=W?O<I?O-I:O-H:0;return{[v]:p[v]+G,data:{[v]:$,centerOffset:O-$-G,...W&&{alignmentOffset:G}},reset:W}}}),X8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=s,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...y}=Ur(e,s);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const f=Br(a),x=$r(l),j=Br(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=p||(j||!g?[wu(l)]:W8(l)),A=w!=="none";!p&&A&&S.push(...q8(l,g,w,N));const C=[l,...S],k=await oc(s,y),M=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&M.push(k[f]),h){const $=B8(a,o,N);M.push(k[$[0]],k[$[1]])}if(P=[...P,{placement:a,overflows:M}],!M.every($=>$<=0)){var D,I;const $=(((D=i.flip)==null?void 0:D.index)||0)+1,W=C[$];if(W){var H;const R=h==="alignment"?x!==$r(W):!1,V=((H=P[0])==null?void 0:H.overflows[0])>0;if(!R||V)return{data:{index:$,overflows:P},reset:{placement:W}}}let G=(I=P.filter(R=>R.overflows[0]<=0).sort((R,V)=>R.overflows[1]-V.overflows[1])[0])==null?void 0:I.placement;if(!G)switch(v){case"bestFit":{var O;const R=(O=P.filter(V=>{if(A){const q=$r(V.placement);return q===x||q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(q=>q>0).reduce((q,T)=>q+T,0)]).sort((V,q)=>V[1]-q[1])[0])==null?void 0:O[0];R&&(G=R);break}case"initialPlacement":G=l;break}if(a!==G)return{reset:{placement:G}}}return{}}}};function vj(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function yj(e){return z8.some(s=>e[s]>=0)}const J8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...a}=Ur(e,s);switch(r){case"referenceHidden":{const i=await oc(s,{...a,elementContext:"reference"}),o=vj(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yj(o)}}}case"escaped":{const i=await oc(s,{...a,altBoundary:!0}),o=vj(i,n.floating);return{data:{escapedOffsets:o,escaped:yj(o)}}}default:return{}}}}};async function Q8(e,s){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Br(n),l=Oo(n),c=$r(n)==="y",d=["left","top"].includes(o)?-1:1,m=i&&c?-1:1,h=Ur(s,e);let{mainAxis:p,crossAxis:v,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*m,y:p*d}:{x:p*d,y:v*m}}const Z8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=s,c=await Q8(s,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},e$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:n,y:r,placement:a}=s,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:f,y:x}=y;return{x:f,y:x}}},...c}=Ur(e,s),d={x:n,y:r},m=await oc(s,c),h=$r(Br(a)),p=R0(h);let v=d[p],w=d[h];if(i){const y=p==="y"?"top":"left",f=p==="y"?"bottom":"right",x=v+m[y],j=v-m[f];v=Sp(x,v,j)}if(o){const y=h==="y"?"top":"left",f=h==="y"?"bottom":"right",x=w+m[y],j=w-m[f];w=Sp(x,w,j)}const g=l.fn({...s,[p]:v,[h]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[h]:o}}}}}},t$=function(e){return e===void 0&&(e={}),{options:e,fn(s){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=s,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ur(e,s),m={x:n,y:r},h=$r(a),p=R0(h);let v=m[p],w=m[h];const g=Ur(l,s),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=p==="y"?"height":"width",N=i.reference[p]-i.floating[j]+y.mainAxis,S=i.reference[p]+i.reference[j]-y.mainAxis;v<N?v=N:v>S&&(v=S)}if(d){var f,x;const j=p==="y"?"width":"height",N=["top","left"].includes(Br(a)),S=i.reference[h]-i.floating[j]+(N&&((f=o.offset)==null?void 0:f[h])||0)+(N?0:y.crossAxis),A=i.reference[h]+i.reference[j]+(N?0:((x=o.offset)==null?void 0:x[h])||0)-(N?y.crossAxis:0);w<S?w=S:w>A&&(w=A)}return{[p]:v,[h]:w}}}},s$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var n,r;const{placement:a,rects:i,platform:o,elements:l}=s,{apply:c=()=>{},...d}=Ur(e,s),m=await oc(s,d),h=Br(a),p=Oo(a),v=$r(a)==="y",{width:w,height:g}=i.floating;let y,f;h==="top"||h==="bottom"?(y=h,f=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(f=h,y=p==="end"?"top":"bottom");const x=g-m.top-m.bottom,j=w-m.left-m.right,N=Aa(g-m[y],x),S=Aa(w-m[f],j),A=!s.middlewareData.shift;let C=N,k=S;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(k=j),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(C=x),A&&!p){const P=rn(m.left,0),D=rn(m.right,0),I=rn(m.top,0),H=rn(m.bottom,0);v?k=w-2*(P!==0||D!==0?P+D:rn(m.left,m.right)):C=g-2*(I!==0||H!==0?I+H:rn(m.top,m.bottom))}await c({...s,availableWidth:k,availableHeight:C});const M=await o.getDimensions(l.floating);return w!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function fh(){return typeof window<"u"}function $o(e){return bS(e)?(e.nodeName||"").toLowerCase():"#document"}function cn(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function vr(e){var s;return(s=(bS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function bS(e){return fh()?e instanceof Node||e instanceof cn(e).Node:!1}function Kn(e){return fh()?e instanceof Element||e instanceof cn(e).Element:!1}function mr(e){return fh()?e instanceof HTMLElement||e instanceof cn(e).HTMLElement:!1}function jj(e){return!fh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cn(e).ShadowRoot}function Pc(e){const{overflow:s,overflowX:n,overflowY:r,display:a}=Yn(e);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!["inline","contents"].includes(a)}function n$(e){return["table","td","th"].includes($o(e))}function ph(e){return[":popover-open",":modal"].some(s=>{try{return e.matches(s)}catch{return!1}})}function O0(e){const s=$0(),n=Kn(e)?Yn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function r$(e){let s=Ra(e);for(;mr(s)&&!ko(s);){if(O0(s))return s;if(ph(s))return null;s=Ra(s)}return null}function $0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ko(e){return["html","body","#document"].includes($o(e))}function Yn(e){return cn(e).getComputedStyle(e)}function xh(e){return Kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ra(e){if($o(e)==="html")return e;const s=e.assignedSlot||e.parentNode||jj(e)&&e.host||vr(e);return jj(s)?s.host:s}function wS(e){const s=Ra(e);return ko(s)?e.ownerDocument?e.ownerDocument.body:e.body:mr(s)&&Pc(s)?s:wS(s)}function lc(e,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const a=wS(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=cn(a);if(i){const l=_p(o);return s.concat(o,o.visualViewport||[],Pc(a)?a:[],l&&n?lc(l):[])}return s.concat(a,lc(a,[],n))}function _p(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NS(e){const s=Yn(e);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const a=mr(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=bu(n)!==i||bu(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function I0(e){return Kn(e)?e:e.contextElement}function lo(e){const s=I0(e);if(!mr(s))return ur(1);const n=s.getBoundingClientRect(),{width:r,height:a,$:i}=NS(s);let o=(i?bu(n.width):n.width)/r,l=(i?bu(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const a$=ur(0);function SS(e){const s=cn(e);return!$0()||!s.visualViewport?a$:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function i$(e,s,n){return s===void 0&&(s=!1),!n||s&&n!==cn(e)?!1:s}function pi(e,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=I0(e);let o=ur(1);s&&(r?Kn(r)&&(o=lo(r)):o=lo(e));const l=i$(i,n,r)?SS(i):ur(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,m=a.width/o.x,h=a.height/o.y;if(i){const p=cn(i),v=r&&Kn(r)?cn(r):r;let w=p,g=_p(w);for(;g&&r&&v!==w;){const y=lo(g),f=g.getBoundingClientRect(),x=Yn(g),j=f.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,N=f.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,d*=y.y,m*=y.x,h*=y.y,c+=j,d+=N,w=cn(g),g=_p(w)}}return Nu({width:m,height:h,x:c,y:d})}function L0(e,s){const n=xh(e).scrollLeft;return s?s.left+n:pi(vr(e)).left+n}function CS(e,s,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+s.scrollLeft-(n?0:L0(e,r)),i=r.top+s.scrollTop;return{x:a,y:i}}function o$(e){let{elements:s,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=vr(r),l=s?ph(s.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=ur(1);const m=ur(0),h=mr(r);if((h||!h&&!i)&&(($o(r)!=="body"||Pc(o))&&(c=xh(r)),mr(r))){const v=pi(r);d=lo(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}const p=o&&!h&&!i?CS(o,c,!0):ur(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+m.x+p.x,y:n.y*d.y-c.scrollTop*d.y+m.y+p.y}}function l$(e){return Array.from(e.getClientRects())}function c$(e){const s=vr(e),n=xh(e),r=e.ownerDocument.body,a=rn(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),i=rn(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+L0(e);const l=-n.scrollTop;return Yn(r).direction==="rtl"&&(o+=rn(s.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function d$(e,s){const n=cn(e),r=vr(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=$0();(!d||d&&s==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function u$(e,s){const n=pi(e,!0,s==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=mr(e)?lo(e):ur(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function bj(e,s,n){let r;if(s==="viewport")r=d$(e,n);else if(s==="document")r=c$(vr(e));else if(Kn(s))r=u$(s,n);else{const a=SS(e);r={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return Nu(r)}function _S(e,s){const n=Ra(e);return n===s||!Kn(n)||ko(n)?!1:Yn(n).position==="fixed"||_S(n,s)}function h$(e,s){const n=s.get(e);if(n)return n;let r=lc(e,[],!1).filter(l=>Kn(l)&&$o(l)!=="body"),a=null;const i=Yn(e).position==="fixed";let o=i?Ra(e):e;for(;Kn(o)&&!ko(o);){const l=Yn(o),c=O0(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Pc(o)&&!c&&_S(e,o))?r=r.filter(m=>m!==o):a=l,o=Ra(o)}return s.set(e,r),r}function m$(e){let{element:s,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?ph(s)?[]:h$(s,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,m)=>{const h=bj(s,m,a);return d.top=rn(h.top,d.top),d.right=Aa(h.right,d.right),d.bottom=Aa(h.bottom,d.bottom),d.left=rn(h.left,d.left),d},bj(s,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function f$(e){const{width:s,height:n}=NS(e);return{width:s,height:n}}function p$(e,s,n){const r=mr(s),a=vr(s),i=n==="fixed",o=pi(e,!0,i,s);let l={scrollLeft:0,scrollTop:0};const c=ur(0);function d(){c.x=L0(a)}if(r||!r&&!i)if(($o(s)!=="body"||Pc(a))&&(l=xh(s)),r){const v=pi(s,!0,i,s);c.x=v.x+s.clientLeft,c.y=v.y+s.clientTop}else a&&d();i&&!r&&a&&d();const m=a&&!r&&!i?CS(a,l):ur(0),h=o.left+l.scrollLeft-c.x-m.x,p=o.top+l.scrollTop-c.y-m.y;return{x:h,y:p,width:o.width,height:o.height}}function Bm(e){return Yn(e).position==="static"}function wj(e,s){if(!mr(e)||Yn(e).position==="fixed")return null;if(s)return s(e);let n=e.offsetParent;return vr(e)===n&&(n=n.ownerDocument.body),n}function kS(e,s){const n=cn(e);if(ph(e))return n;if(!mr(e)){let a=Ra(e);for(;a&&!ko(a);){if(Kn(a)&&!Bm(a))return a;a=Ra(a)}return n}let r=wj(e,s);for(;r&&n$(r)&&Bm(r);)r=wj(r,s);return r&&ko(r)&&Bm(r)&&!O0(r)?n:r||r$(e)||n}const x$=async function(e){const s=this.getOffsetParent||kS,n=this.getDimensions,r=await n(e.floating);return{reference:p$(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g$(e){return Yn(e).direction==="rtl"}const v$={convertOffsetParentRelativeRectToViewportRelativeRect:o$,getDocumentElement:vr,getClippingRect:m$,getOffsetParent:kS,getElementRects:x$,getClientRects:l$,getDimensions:f$,getScale:lo,isElement:Kn,isRTL:g$};function PS(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function y$(e,s){let n=null,r;const a=vr(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:m,top:h,width:p,height:v}=d;if(l||s(),!p||!v)return;const w=md(h),g=md(a.clientWidth-(m+p)),y=md(a.clientHeight-(h+v)),f=md(m),j={rootMargin:-w+"px "+-g+"px "+-y+"px "+-f+"px",threshold:rn(0,Aa(1,c))||1};let N=!0;function S(A){const C=A[0].intersectionRatio;if(C!==c){if(!N)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!PS(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,j)}n.observe(e)}return o(!0),i}function ES(e,s,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=I0(e),m=a||i?[...d?lc(d):[],...lc(s)]:[];m.forEach(f=>{a&&f.addEventListener("scroll",n,{passive:!0}),i&&f.addEventListener("resize",n)});const h=d&&l?y$(d,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(f=>{let[x]=f;x&&x.target===d&&v&&(v.unobserve(s),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=v)==null||j.observe(s)})),n()}),d&&!c&&v.observe(d),v.observe(s));let w,g=c?pi(e):null;c&&y();function y(){const f=pi(e);g&&!PS(g,f)&&n(),g=f,w=requestAnimationFrame(y)}return n(),()=>{var f;m.forEach(x=>{a&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(f=v)==null||f.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const j$=Z8,b$=e$,w$=X8,N$=s$,S$=J8,Nj=Y8,C$=t$,_$=(e,s,n)=>{const r=new Map,a={platform:v$,...n},i={...a.platform,_c:r};return K8(e,s,{...a,platform:i})};var Id=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Su(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let n,r,a;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!Su(e[r],s[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Su(e[i],s[i]))return!1}return!0}return e!==e&&s!==s}function TS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sj(e,s){const n=TS(e);return Math.round(s*n)/n}function Wm(e){const s=u.useRef(e);return Id(()=>{s.current=e}),s}function AS(e){e===void 0&&(e={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[m,h]=u.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[p,v]=u.useState(r);Su(p,r)||v(r);const[w,g]=u.useState(null),[y,f]=u.useState(null),x=u.useCallback(R=>{R!==A.current&&(A.current=R,g(R))},[]),j=u.useCallback(R=>{R!==C.current&&(C.current=R,f(R))},[]),N=i||w,S=o||y,A=u.useRef(null),C=u.useRef(null),k=u.useRef(m),M=c!=null,P=Wm(c),D=Wm(a),I=Wm(d),H=u.useCallback(()=>{if(!A.current||!C.current)return;const R={placement:s,strategy:n,middleware:p};D.current&&(R.platform=D.current),_$(A.current,C.current,R).then(V=>{const q={...V,isPositioned:I.current!==!1};O.current&&!Su(k.current,q)&&(k.current=q,Ia.flushSync(()=>{h(q)}))})},[p,s,n,D,I]);Id(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[d]);const O=u.useRef(!1);Id(()=>(O.current=!0,()=>{O.current=!1}),[]),Id(()=>{if(N&&(A.current=N),S&&(C.current=S),N&&S){if(P.current)return P.current(N,S,H);H()}},[N,S,H,P,M]);const $=u.useMemo(()=>({reference:A,floating:C,setReference:x,setFloating:j}),[x,j]),W=u.useMemo(()=>({reference:N,floating:S}),[N,S]),G=u.useMemo(()=>{const R={position:n,left:0,top:0};if(!W.floating)return R;const V=Sj(W.floating,m.x),q=Sj(W.floating,m.y);return l?{...R,transform:"translate("+V+"px, "+q+"px)",...TS(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:q}},[n,l,W.floating,m.x,m.y]);return u.useMemo(()=>({...m,update:H,refs:$,elements:W,floatingStyles:G}),[m,H,$,W,G])}const k$=e=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&s(r)?r.current!=null?Nj({element:r.current,padding:a}).fn(n):{}:r?Nj({element:r,padding:a}).fn(n):{}}}},RS=(e,s)=>({...j$(e),options:[e,s]}),MS=(e,s)=>({...b$(e),options:[e,s]}),DS=(e,s)=>({...C$(e),options:[e,s]}),OS=(e,s)=>({...w$(e),options:[e,s]}),$S=(e,s)=>({...N$(e),options:[e,s]}),IS=(e,s)=>({...S$(e),options:[e,s]}),LS=(e,s)=>({...k$(e),options:[e,s]});var P$="Arrow",FS=u.forwardRef((e,s)=>{const{children:n,width:r=10,height:a=5,...i}=e;return t.jsx($e.svg,{...i,ref:s,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});FS.displayName=P$;var E$=FS;function gh(e){const[s,n]=u.useState(void 0);return Tn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),s}var F0="Popper",[zS,VS]=pn(F0),[T$,US]=zS(F0),BS=e=>{const{__scopePopper:s,children:n}=e,[r,a]=u.useState(null);return t.jsx(T$,{scope:s,anchor:r,onAnchorChange:a,children:n})};BS.displayName=F0;var WS="PopperAnchor",HS=u.forwardRef((e,s)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=US(WS,n),o=u.useRef(null),l=Ze(s,o);return u.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:t.jsx($e.div,{...a,ref:l})});HS.displayName=WS;var z0="PopperContent",[A$,R$]=zS(z0),qS=u.forwardRef((e,s)=>{var le,Pe,L,Y,X,pe;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:w,...g}=e,y=US(z0,n),[f,x]=u.useState(null),j=Ze(s,Me=>x(Me)),[N,S]=u.useState(null),A=gh(N),C=(A==null?void 0:A.width)??0,k=(A==null?void 0:A.height)??0,M=r+(i!=="center"?"-"+i:""),P=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},D=Array.isArray(d)?d:[d],I=D.length>0,H={padding:P,boundary:D.filter(D$),altBoundary:I},{refs:O,floatingStyles:$,placement:W,isPositioned:G,middlewareData:R}=AS({strategy:"fixed",placement:M,whileElementsMounted:(...Me)=>ES(...Me,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[RS({mainAxis:a+k,alignmentAxis:o}),c&&MS({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?DS():void 0,...H}),c&&OS({...H}),$S({...H,apply:({elements:Me,rects:Ie,availableWidth:qe,availableHeight:At})=>{const{width:ss,height:sn}=Ie.reference,ye=Me.floating.style;ye.setProperty("--radix-popper-available-width",`${qe}px`),ye.setProperty("--radix-popper-available-height",`${At}px`),ye.setProperty("--radix-popper-anchor-width",`${ss}px`),ye.setProperty("--radix-popper-anchor-height",`${sn}px`)}}),N&&LS({element:N,padding:l}),O$({arrowWidth:C,arrowHeight:k}),p&&IS({strategy:"referenceHidden",...H})]}),[V,q]=YS(W),T=Qs(w);Tn(()=>{G&&(T==null||T())},[G,T]);const U=(le=R.arrow)==null?void 0:le.x,se=(Pe=R.arrow)==null?void 0:Pe.y,ie=((L=R.arrow)==null?void 0:L.centerOffset)!==0,[fe,ue]=u.useState();return Tn(()=>{f&&ue(window.getComputedStyle(f).zIndex)},[f]),t.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:G?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Y=R.transformOrigin)==null?void 0:Y.x,(X=R.transformOrigin)==null?void 0:X.y].join(" "),...((pe=R.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(A$,{scope:n,placedSide:V,onArrowChange:S,arrowX:U,arrowY:se,shouldHideArrow:ie,children:t.jsx($e.div,{"data-side":V,"data-align":q,...g,ref:j,style:{...g.style,animation:G?void 0:"none"}})})})});qS.displayName=z0;var GS="PopperArrow",M$={top:"bottom",right:"left",bottom:"top",left:"right"},KS=u.forwardRef(function(s,n){const{__scopePopper:r,...a}=s,i=R$(GS,r),o=M$[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(E$,{...a,ref:n,style:{...a.style,display:"block"}})})});KS.displayName=GS;function D$(e){return e!==null}var O$=e=>({name:"transformOrigin",options:e,fn(s){var y,f,x;const{placement:n,rects:r,middlewareData:a}=s,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,m]=YS(n),h={start:"0%",center:"50%",end:"100%"}[m],p=(((f=a.arrow)==null?void 0:f.x)??0)+l/2,v=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let w="",g="";return d==="bottom"?(w=o?h:`${p}px`,g=`${-c}px`):d==="top"?(w=o?h:`${p}px`,g=`${r.floating.height+c}px`):d==="right"?(w=`${-c}px`,g=o?h:`${v}px`):d==="left"&&(w=`${r.floating.width+c}px`,g=o?h:`${v}px`),{data:{x:w,y:g}}}});function YS(e){const[s,n="center"]=e.split("-");return[s,n]}var $$=BS,I$=HS,L$=qS,F$=KS,Hm="rovingFocusGroup.onEntryFocus",z$={bubbles:!1,cancelable:!0},Ec="RovingFocusGroup",[kp,XS,V$]=Qu(Ec),[U$,vh]=pn(Ec,[V$]),[B$,W$]=U$(Ec),JS=u.forwardRef((e,s)=>t.jsx(kp.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(kp.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(H$,{...e,ref:s})})}));JS.displayName=Ec;var H$=u.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...h}=e,p=u.useRef(null),v=Ze(s,p),w=mh(i),[g,y]=za({prop:o,defaultProp:l??null,onChange:c,caller:Ec}),[f,x]=u.useState(!1),j=Qs(d),N=XS(n),S=u.useRef(!1),[A,C]=u.useState(0);return u.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(Hm,j),()=>k.removeEventListener(Hm,j)},[j]),t.jsx(B$,{scope:n,orientation:r,dir:w,loop:a,currentTabStopId:g,onItemFocus:u.useCallback(k=>y(k),[y]),onItemShiftTab:u.useCallback(()=>x(!0),[]),onFocusableItemAdd:u.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:u.useCallback(()=>C(k=>k-1),[]),children:t.jsx($e.div,{tabIndex:f||A===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{S.current=!0}),onFocus:ke(e.onFocus,k=>{const M=!S.current;if(k.target===k.currentTarget&&M&&!f){const P=new CustomEvent(Hm,z$);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=N().filter(W=>W.focusable),I=D.find(W=>W.active),H=D.find(W=>W.id===g),$=[I,H,...D].filter(Boolean).map(W=>W.ref.current);eC($,m)}}S.current=!1}),onBlur:ke(e.onBlur,()=>x(!1))})})}),QS="RovingFocusGroupItem",ZS=u.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=oi(),d=i||c,m=W$(QS,n),h=m.currentTabStopId===d,p=XS(n),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:g}=m;return u.useEffect(()=>{if(r)return v(),()=>w()},[r,v,w]),t.jsx(kp.ItemSlot,{scope:n,id:d,focusable:r,active:a,children:t.jsx($e.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...l,ref:s,onMouseDown:ke(e.onMouseDown,y=>{r?m.onItemFocus(d):y.preventDefault()}),onFocus:ke(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:ke(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){m.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const f=K$(y,m.orientation,m.dir);if(f!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=p().filter(N=>N.focusable).map(N=>N.ref.current);if(f==="last")j.reverse();else if(f==="prev"||f==="next"){f==="prev"&&j.reverse();const N=j.indexOf(y.currentTarget);j=m.loop?Y$(j,N+1):j.slice(N+1)}setTimeout(()=>eC(j))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});ZS.displayName=QS;var q$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G$(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function K$(e,s,n){const r=G$(e.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return q$[r]}function eC(e,s=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:s}),document.activeElement!==n))return}function Y$(e,s){return e.map((n,r)=>e[(s+r)%e.length])}var tC=JS,sC=ZS,X$=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},Ei=new WeakMap,fd=new WeakMap,pd={},qm=0,nC=function(e){return e&&(e.host||nC(e.parentNode))},J$=function(e,s){return s.map(function(n){if(e.contains(n))return n;var r=nC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Q$=function(e,s,n,r){var a=J$(s,Array.isArray(e)?e:[e]);pd[n]||(pd[n]=new WeakMap);var i=pd[n],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var m=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))m(p);else try{var v=p.getAttribute(r),w=v!==null&&v!=="false",g=(Ei.get(p)||0)+1,y=(i.get(p)||0)+1;Ei.set(p,g),i.set(p,y),o.push(p),g===1&&w&&fd.set(p,!0),y===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(f){console.error("aria-hidden: cannot operate on ",p,f)}})};return m(s),l.clear(),qm++,function(){o.forEach(function(h){var p=Ei.get(h)-1,v=i.get(h)-1;Ei.set(h,p),i.set(h,v),p||(fd.has(h)||h.removeAttribute(r),fd.delete(h)),v||h.removeAttribute(n)}),qm--,qm||(Ei=new WeakMap,Ei=new WeakMap,fd=new WeakMap,pd={})}},V0=function(e,s,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=s||X$(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Q$(r,a,n,"aria-hidden")):function(){return null}},Cs=function(){return Cs=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Cs.apply(this,arguments)};function U0(e,s){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function rC(e,s,n){if(n||arguments.length===2)for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return e.concat(i||Array.prototype.slice.call(s))}var Ml="right-scroll-bar-position",Dl="width-before-scroll-bar",Z$="with-scroll-bars-hidden",eI="--removed-body-scroll-bar-size";function Gm(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function tI(e,s){var n=u.useState(function(){return{value:e,callback:s,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=s,n.facade}var sI=typeof window<"u"?u.useLayoutEffect:u.useEffect,Cj=new WeakMap;function aC(e,s){var n=tI(s||null,function(r){return e.forEach(function(a){return Gm(a,r)})});return sI(function(){var r=Cj.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||Gm(l,null)}),i.forEach(function(l){a.has(l)||Gm(l,o)})}Cj.set(n,e)},[e]),n}function nI(e){return e}function rI(e,s){s===void 0&&(s=nI);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=s(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var m=o;o=[],m.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),n}}}};return a}function iC(e){e===void 0&&(e={});var s=rI(null);return s.options=Cs({async:!0,ssr:!1},e),s}var oC=function(e){var s=e.sideCar,n=U0(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return u.createElement(r,Cs({},n))};oC.isSideCarExport=!0;function lC(e,s){return e.useMedium(s),oC}var cC=iC(),Km=function(){},yh=u.forwardRef(function(e,s){var n=u.useRef(null),r=u.useState({onScrollCapture:Km,onWheelCapture:Km,onTouchMoveCapture:Km}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,h=e.shards,p=e.sideCar,v=e.noIsolation,w=e.inert,g=e.allowPinchZoom,y=e.as,f=y===void 0?"div":y,x=e.gapMode,j=U0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,S=aC([n,s]),A=Cs(Cs({},j),a);return u.createElement(u.Fragment,null,m&&u.createElement(N,{sideCar:cC,removeScrollBar:d,shards:h,noIsolation:v,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:x}),o?u.cloneElement(u.Children.only(l),Cs(Cs({},A),{ref:S})):u.createElement(f,Cs({},A,{className:c,ref:S}),l))});yh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yh.classNames={fullWidth:Dl,zeroRight:Ml};var _j,aI=function(){if(_j)return _j;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=aI();return s&&e.setAttribute("nonce",s),e}function oI(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function lI(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var cI=function(){var e=0,s=null;return{add:function(n){e==0&&(s=iI())&&(oI(s,n),lI(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},dI=function(){var e=cI();return function(s,n){u.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&n])}},B0=function(){var e=dI(),s=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return s},uI={left:0,top:0,right:0,gap:0},Ym=function(e){return parseInt(e||"",10)||0},hI=function(e){var s=window.getComputedStyle(document.body),n=s[e==="padding"?"paddingLeft":"marginLeft"],r=s[e==="padding"?"paddingTop":"marginTop"],a=s[e==="padding"?"paddingRight":"marginRight"];return[Ym(n),Ym(r),Ym(a)]},mI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uI;var s=hI(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-n+s[2]-s[0])}},fI=B0(),co="data-scroll-locked",pI=function(e,s,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Z$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(co,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ml,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Dl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ml," .").concat(Ml,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dl," .").concat(Dl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(co,`] {
    `).concat(eI,": ").concat(l,`px;
  }
`)},kj=function(){var e=parseInt(document.body.getAttribute(co)||"0",10);return isFinite(e)?e:0},xI=function(){u.useEffect(function(){return document.body.setAttribute(co,(kj()+1).toString()),function(){var e=kj()-1;e<=0?document.body.removeAttribute(co):document.body.setAttribute(co,e.toString())}},[])},dC=function(e){var s=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;xI();var i=u.useMemo(function(){return mI(a)},[a]);return u.createElement(fI,{styles:pI(i,!s,a,n?"":"!important")})},Pp=!1;if(typeof window<"u")try{var xd=Object.defineProperty({},"passive",{get:function(){return Pp=!0,!0}});window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Pp=!1}var Ti=Pp?{passive:!1}:!1,gI=function(e){return e.tagName==="TEXTAREA"},uC=function(e,s){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!gI(e)&&n[s]==="visible")},vI=function(e){return uC(e,"overflowY")},yI=function(e){return uC(e,"overflowX")},Pj=function(e,s){var n=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=hC(e,r);if(a){var i=mC(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},jI=function(e){var s=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[s,n,r]},bI=function(e){var s=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[s,n,r]},hC=function(e,s){return e==="v"?vI(s):yI(s)},mC=function(e,s){return e==="v"?jI(s):bI(s)},wI=function(e,s){return e==="h"&&s==="rtl"?-1:1},NI=function(e,s,n,r,a){var i=wI(e,window.getComputedStyle(s).direction),o=i*r,l=n.target,c=s.contains(l),d=!1,m=o>0,h=0,p=0;do{var v=mC(e,l),w=v[0],g=v[1],y=v[2],f=g-y-i*w;(w||f)&&hC(e,l)&&(h+=f,p+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(s.contains(l)||s===l));return(m&&(a&&Math.abs(h)<1||!a&&o>h)||!m&&(a&&Math.abs(p)<1||!a&&-o>p))&&(d=!0),d},gd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ej=function(e){return[e.deltaX,e.deltaY]},Tj=function(e){return e&&"current"in e?e.current:e},SI=function(e,s){return e[0]===s[0]&&e[1]===s[1]},CI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_I=0,Ai=[];function kI(e){var s=u.useRef([]),n=u.useRef([0,0]),r=u.useRef(),a=u.useState(_I++)[0],i=u.useState(B0)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=rC([e.lockRef.current],(e.shards||[]).map(Tj),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var f=gd(g),x=n.current,j="deltaX"in g?g.deltaX:x[0]-f[0],N="deltaY"in g?g.deltaY:x[1]-f[1],S,A=g.target,C=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in g&&C==="h"&&A.type==="range")return!1;var k=Pj(C,A);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=Pj(C,A)),!k)return!1;if(!r.current&&"changedTouches"in g&&(j||N)&&(r.current=S),!S)return!0;var M=r.current||S;return NI(M,y,g,M==="h"?j:N,!0)},[]),c=u.useCallback(function(g){var y=g;if(!(!Ai.length||Ai[Ai.length-1]!==i)){var f="deltaY"in y?Ej(y):gd(y),x=s.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&SI(S.delta,f)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var j=(o.current.shards||[]).map(Tj).filter(Boolean).filter(function(S){return S.contains(y.target)}),N=j.length>0?l(y,j[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=u.useCallback(function(g,y,f,x){var j={name:g,delta:y,target:f,should:x,shadowParent:PI(f)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(N){return N!==j})},1)},[]),m=u.useCallback(function(g){n.current=gd(g),r.current=void 0},[]),h=u.useCallback(function(g){d(g.type,Ej(g),g.target,l(g,e.lockRef.current))},[]),p=u.useCallback(function(g){d(g.type,gd(g),g.target,l(g,e.lockRef.current))},[]);u.useEffect(function(){return Ai.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ti),document.addEventListener("touchmove",c,Ti),document.addEventListener("touchstart",m,Ti),function(){Ai=Ai.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ti),document.removeEventListener("touchmove",c,Ti),document.removeEventListener("touchstart",m,Ti)}},[]);var v=e.removeScrollBar,w=e.inert;return u.createElement(u.Fragment,null,w?u.createElement(i,{styles:CI(a)}):null,v?u.createElement(dC,{gapMode:e.gapMode}):null)}function PI(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const EI=lC(cC,kI);var fC=u.forwardRef(function(e,s){return u.createElement(yh,Cs({},e,{ref:s,sideCar:EI}))});fC.classNames=yh.classNames;const pC=fC;var Ep=["Enter"," "],TI=["ArrowDown","PageUp","Home"],xC=["ArrowUp","PageDown","End"],AI=[...TI,...xC],RI={ltr:[...Ep,"ArrowRight"],rtl:[...Ep,"ArrowLeft"]},MI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tc="Menu",[cc,DI,OI]=Qu(Tc),[Ni,gC]=pn(Tc,[OI,VS,vh]),jh=VS(),vC=vh(),[$I,Si]=Ni(Tc),[II,Ac]=Ni(Tc),yC=e=>{const{__scopeMenu:s,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=jh(s),[c,d]=u.useState(null),m=u.useRef(!1),h=Qs(i),p=mh(a);return u.useEffect(()=>{const v=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),t.jsx($$,{...l,children:t.jsx($I,{scope:s,open:n,onOpenChange:h,content:c,onContentChange:d,children:t.jsx(II,{scope:s,onClose:u.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:p,modal:o,children:r})})})};yC.displayName=Tc;var LI="MenuAnchor",W0=u.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e,a=jh(n);return t.jsx(I$,{...a,...r,ref:s})});W0.displayName=LI;var H0="MenuPortal",[FI,jC]=Ni(H0,{forceMount:void 0}),bC=e=>{const{__scopeMenu:s,forceMount:n,children:r,container:a}=e,i=Si(H0,s);return t.jsx(FI,{scope:s,forceMount:n,children:t.jsx(Xn,{present:n||i.open,children:t.jsx(eh,{asChild:!0,container:a,children:r})})})};bC.displayName=H0;var kn="MenuContent",[zI,q0]=Ni(kn),wC=u.forwardRef((e,s)=>{const n=jC(kn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Si(kn,e.__scopeMenu),o=Ac(kn,e.__scopeMenu);return t.jsx(cc.Provider,{scope:e.__scopeMenu,children:t.jsx(Xn,{present:r||i.open,children:t.jsx(cc.Slot,{scope:e.__scopeMenu,children:o.modal?t.jsx(VI,{...a,ref:s}):t.jsx(UI,{...a,ref:s})})})})}),VI=u.forwardRef((e,s)=>{const n=Si(kn,e.__scopeMenu),r=u.useRef(null),a=Ze(s,r);return u.useEffect(()=>{const i=r.current;if(i)return V0(i)},[]),t.jsx(G0,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),UI=u.forwardRef((e,s)=>{const n=Si(kn,e.__scopeMenu);return t.jsx(G0,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),BI=wo("MenuContent.ScrollLock"),G0=u.forwardRef((e,s)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:p,onDismiss:v,disableOutsideScroll:w,...g}=e,y=Si(kn,n),f=Ac(kn,n),x=jh(n),j=vC(n),N=DI(n),[S,A]=u.useState(null),C=u.useRef(null),k=Ze(s,C,y.onContentChange),M=u.useRef(0),P=u.useRef(""),D=u.useRef(0),I=u.useRef(null),H=u.useRef("right"),O=u.useRef(0),$=w?pC:u.Fragment,W=w?{as:BI,allowPinchZoom:!0}:void 0,G=V=>{var le,Pe;const q=P.current+V,T=N().filter(L=>!L.disabled),U=document.activeElement,se=(le=T.find(L=>L.ref.current===U))==null?void 0:le.textValue,ie=T.map(L=>L.textValue),fe=tL(ie,q,se),ue=(Pe=T.find(L=>L.textValue===fe))==null?void 0:Pe.ref.current;(function L(Y){P.current=Y,window.clearTimeout(M.current),Y!==""&&(M.current=window.setTimeout(()=>L(""),1e3))})(q),ue&&setTimeout(()=>ue.focus())};u.useEffect(()=>()=>window.clearTimeout(M.current),[]),vS();const R=u.useCallback(V=>{var T,U;return H.current===((T=I.current)==null?void 0:T.side)&&nL(V,(U=I.current)==null?void 0:U.area)},[]);return t.jsx(zI,{scope:n,searchRef:P,onItemEnter:u.useCallback(V=>{R(V)&&V.preventDefault()},[R]),onItemLeave:u.useCallback(V=>{var q;R(V)||((q=C.current)==null||q.focus(),A(null))},[R]),onTriggerLeave:u.useCallback(V=>{R(V)&&V.preventDefault()},[R]),pointerGraceTimerRef:D,onPointerGraceIntentChange:u.useCallback(V=>{I.current=V},[]),children:t.jsx($,{...W,children:t.jsx(A0,{asChild:!0,trapped:a,onMountAutoFocus:ke(i,V=>{var q;V.preventDefault(),(q=C.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:t.jsx(Zu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:p,onDismiss:v,children:t.jsx(tC,{asChild:!0,...j,dir:f.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:A,onEntryFocus:ke(c,V=>{f.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(L$,{role:"menu","aria-orientation":"vertical","data-state":LC(y.open),"data-radix-menu-content":"",dir:f.dir,...x,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:ke(g.onKeyDown,V=>{const T=V.target.closest("[data-radix-menu-content]")===V.currentTarget,U=V.ctrlKey||V.altKey||V.metaKey,se=V.key.length===1;T&&(V.key==="Tab"&&V.preventDefault(),!U&&se&&G(V.key));const ie=C.current;if(V.target!==ie||!AI.includes(V.key))return;V.preventDefault();const ue=N().filter(le=>!le.disabled).map(le=>le.ref.current);xC.includes(V.key)&&ue.reverse(),ZI(ue)}),onBlur:ke(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(M.current),P.current="")}),onPointerMove:ke(e.onPointerMove,dc(V=>{const q=V.target,T=O.current!==V.clientX;if(V.currentTarget.contains(q)&&T){const U=V.clientX>O.current?"right":"left";H.current=U,O.current=V.clientX}}))})})})})})})});wC.displayName=kn;var WI="MenuGroup",K0=u.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx($e.div,{role:"group",...r,ref:s})});K0.displayName=WI;var HI="MenuLabel",NC=u.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx($e.div,{...r,ref:s})});NC.displayName=HI;var Cu="MenuItem",Aj="menu.itemSelect",bh=u.forwardRef((e,s)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=u.useRef(null),o=Ac(Cu,e.__scopeMenu),l=q0(Cu,e.__scopeMenu),c=Ze(s,i),d=u.useRef(!1),m=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(Aj,{bubbles:!0,cancelable:!0});h.addEventListener(Aj,v=>r==null?void 0:r(v),{once:!0}),Ux(h,p),p.defaultPrevented?d.current=!1:o.onClose()}};return t.jsx(SC,{...a,ref:c,disabled:n,onClick:ke(e.onClick,m),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),d.current=!0},onPointerUp:ke(e.onPointerUp,h=>{var p;d.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:ke(e.onKeyDown,h=>{const p=l.searchRef.current!=="";n||p&&h.key===" "||Ep.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});bh.displayName=Cu;var SC=u.forwardRef((e,s)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=q0(Cu,n),l=vC(n),c=u.useRef(null),d=Ze(s,c),[m,h]=u.useState(!1),[p,v]=u.useState("");return u.useEffect(()=>{const w=c.current;w&&v((w.textContent??"").trim())},[i.children]),t.jsx(cc.ItemSlot,{scope:n,disabled:r,textValue:a??p,children:t.jsx(sC,{asChild:!0,...l,focusable:!r,children:t.jsx($e.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ke(e.onPointerMove,dc(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,dc(w=>o.onItemLeave(w))),onFocus:ke(e.onFocus,()=>h(!0)),onBlur:ke(e.onBlur,()=>h(!1))})})})}),qI="MenuCheckboxItem",CC=u.forwardRef((e,s)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return t.jsx(TC,{scope:e.__scopeMenu,checked:n,children:t.jsx(bh,{role:"menuitemcheckbox","aria-checked":_u(n)?"mixed":n,...a,ref:s,"data-state":X0(n),onSelect:ke(a.onSelect,()=>r==null?void 0:r(_u(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CC.displayName=qI;var _C="MenuRadioGroup",[GI,KI]=Ni(_C,{value:void 0,onValueChange:()=>{}}),kC=u.forwardRef((e,s)=>{const{value:n,onValueChange:r,...a}=e,i=Qs(r);return t.jsx(GI,{scope:e.__scopeMenu,value:n,onValueChange:i,children:t.jsx(K0,{...a,ref:s})})});kC.displayName=_C;var PC="MenuRadioItem",EC=u.forwardRef((e,s)=>{const{value:n,...r}=e,a=KI(PC,e.__scopeMenu),i=n===a.value;return t.jsx(TC,{scope:e.__scopeMenu,checked:i,children:t.jsx(bh,{role:"menuitemradio","aria-checked":i,...r,ref:s,"data-state":X0(i),onSelect:ke(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});EC.displayName=PC;var Y0="MenuItemIndicator",[TC,YI]=Ni(Y0,{checked:!1}),AC=u.forwardRef((e,s)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=YI(Y0,n);return t.jsx(Xn,{present:r||_u(i.checked)||i.checked===!0,children:t.jsx($e.span,{...a,ref:s,"data-state":X0(i.checked)})})});AC.displayName=Y0;var XI="MenuSeparator",RC=u.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});RC.displayName=XI;var JI="MenuArrow",MC=u.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e,a=jh(n);return t.jsx(F$,{...a,...r,ref:s})});MC.displayName=JI;var QI="MenuSub",[fB,DC]=Ni(QI),xl="MenuSubTrigger",OC=u.forwardRef((e,s)=>{const n=Si(xl,e.__scopeMenu),r=Ac(xl,e.__scopeMenu),a=DC(xl,e.__scopeMenu),i=q0(xl,e.__scopeMenu),o=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},m=u.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return u.useEffect(()=>m,[m]),u.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),t.jsx(W0,{asChild:!0,...d,children:t.jsx(SC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":LC(n.open),...e,ref:Ju(s,a.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,dc(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:ke(e.onPointerLeave,dc(h=>{var v,w;m();const p=(v=n.content)==null?void 0:v.getBoundingClientRect();if(p){const g=(w=n.content)==null?void 0:w.dataset.side,y=g==="right",f=y?-5:5,x=p[y?"left":"right"],j=p[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+f,y:h.clientY},{x,y:p.top},{x:j,y:p.top},{x:j,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,h=>{var v;const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||RI[r.dir].includes(h.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),h.preventDefault())})})})});OC.displayName=xl;var $C="MenuSubContent",IC=u.forwardRef((e,s)=>{const n=jC(kn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Si(kn,e.__scopeMenu),o=Ac(kn,e.__scopeMenu),l=DC($C,e.__scopeMenu),c=u.useRef(null),d=Ze(s,c);return t.jsx(cc.Provider,{scope:e.__scopeMenu,children:t.jsx(Xn,{present:r||i.open,children:t.jsx(cc.Slot,{scope:e.__scopeMenu,children:t.jsx(G0,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:ke(e.onFocusOutside,m=>{m.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:ke(e.onKeyDown,m=>{var v;const h=m.currentTarget.contains(m.target),p=MI[o.dir].includes(m.key);h&&p&&(i.onOpenChange(!1),(v=l.trigger)==null||v.focus(),m.preventDefault())})})})})})});IC.displayName=$C;function LC(e){return e?"open":"closed"}function _u(e){return e==="indeterminate"}function X0(e){return _u(e)?"indeterminate":e?"checked":"unchecked"}function ZI(e){const s=document.activeElement;for(const n of e)if(n===s||(n.focus(),document.activeElement!==s))return}function eL(e,s){return e.map((n,r)=>e[(s+r)%e.length])}function tL(e,s,n){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=n?e.indexOf(n):-1;let o=eL(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function sL(e,s){const{x:n,y:r}=e;let a=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const l=s[i],c=s[o],d=l.x,m=l.y,h=c.x,p=c.y;m>r!=p>r&&n<(h-d)*(r-m)/(p-m)+d&&(a=!a)}return a}function nL(e,s){if(!s)return!1;const n={x:e.clientX,y:e.clientY};return sL(n,s)}function dc(e){return s=>s.pointerType==="mouse"?e(s):void 0}var rL=yC,aL=W0,iL=bC,oL=wC,lL=K0,cL=NC,dL=bh,uL=CC,hL=kC,mL=EC,fL=AC,pL=RC,xL=MC,gL=OC,vL=IC,wh="DropdownMenu",[yL,pB]=pn(wh,[gC]),Bs=gC(),[jL,FC]=yL(wh),zC=e=>{const{__scopeDropdownMenu:s,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Bs(s),d=u.useRef(null),[m,h]=za({prop:a,defaultProp:i??!1,onChange:o,caller:wh});return t.jsx(jL,{scope:s,triggerId:oi(),triggerRef:d,contentId:oi(),open:m,onOpenChange:h,onOpenToggle:u.useCallback(()=>h(p=>!p),[h]),modal:l,children:t.jsx(rL,{...c,open:m,onOpenChange:h,dir:r,modal:l,children:n})})};zC.displayName=wh;var VC="DropdownMenuTrigger",UC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=FC(VC,n),o=Bs(n);return t.jsx(aL,{asChild:!0,...o,children:t.jsx($e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Ju(s,i.triggerRef),onPointerDown:ke(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ke(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});UC.displayName=VC;var bL="DropdownMenuPortal",BC=e=>{const{__scopeDropdownMenu:s,...n}=e,r=Bs(s);return t.jsx(iL,{...r,...n})};BC.displayName=bL;var WC="DropdownMenuContent",HC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=FC(WC,n),i=Bs(n),o=u.useRef(!1);return t.jsx(oL,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:s,onCloseAutoFocus:ke(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,m=c.button===2||d;(!a.modal||m)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HC.displayName=WC;var wL="DropdownMenuGroup",NL=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(lL,{...a,...r,ref:s})});NL.displayName=wL;var SL="DropdownMenuLabel",qC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(cL,{...a,...r,ref:s})});qC.displayName=SL;var CL="DropdownMenuItem",GC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(dL,{...a,...r,ref:s})});GC.displayName=CL;var _L="DropdownMenuCheckboxItem",KC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(uL,{...a,...r,ref:s})});KC.displayName=_L;var kL="DropdownMenuRadioGroup",PL=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(hL,{...a,...r,ref:s})});PL.displayName=kL;var EL="DropdownMenuRadioItem",YC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(mL,{...a,...r,ref:s})});YC.displayName=EL;var TL="DropdownMenuItemIndicator",XC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(fL,{...a,...r,ref:s})});XC.displayName=TL;var AL="DropdownMenuSeparator",JC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(pL,{...a,...r,ref:s})});JC.displayName=AL;var RL="DropdownMenuArrow",ML=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(xL,{...a,...r,ref:s})});ML.displayName=RL;var DL="DropdownMenuSubTrigger",QC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(gL,{...a,...r,ref:s})});QC.displayName=DL;var OL="DropdownMenuSubContent",ZC=u.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bs(n);return t.jsx(vL,{...a,...r,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZC.displayName=OL;var $L=zC,IL=UC,LL=BC,e5=HC,t5=qC,s5=GC,n5=KC,r5=YC,a5=XC,i5=JC,o5=QC,l5=ZC;const Tp=$L,Ap=IL,FL=ce.forwardRef(({className:e,inset:s,children:n,...r},a)=>t.jsxs(o5,{ref:a,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[n,t.jsx(sh,{className:"mr-auto h-4 w-4"})]}));FL.displayName=o5.displayName;const zL=ce.forwardRef(({className:e,...s},n)=>t.jsx(l5,{ref:n,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));zL.displayName=l5.displayName;const ku=ce.forwardRef(({className:e,sideOffset:s=4,...n},r)=>t.jsx(LL,{children:t.jsx(e5,{ref:r,sideOffset:s,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ku.displayName=e5.displayName;const rr=ce.forwardRef(({className:e,inset:s,...n},r)=>t.jsx(s5,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...n}));rr.displayName=s5.displayName;const VL=ce.forwardRef(({className:e,children:s,checked:n,...r},a)=>t.jsxs(n5,{ref:a,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(a5,{children:t.jsx(ws,{className:"h-4 w-4"})})}),s]}));VL.displayName=n5.displayName;const UL=ce.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(r5,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(a5,{children:t.jsx(e6,{className:"h-2 w-2 fill-current"})})}),s]}));UL.displayName=r5.displayName;const Pu=ce.forwardRef(({className:e,inset:s,...n},r)=>t.jsx(t5,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...n}));Pu.displayName=t5.displayName;const Ol=ce.forwardRef(({className:e,...s},n)=>t.jsx(i5,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",e),...s}));Ol.displayName=i5.displayName;const BL=()=>{const[e,s]=u.useState(!1),{user:n,logout:r}=De(),{cart:a}=Nc(),{notifications:i,unreadCount:o,markAsRead:l,markAllAsRead:c}=a0(),d=We(),m=Jt(),h=()=>s(!e),p=f=>f==="/"?m.pathname==="/":m.pathname.startsWith(f),v=async()=>{await c()},w=async f=>{f.read||await l(f.id),f.link&&d(f.link)},g=f=>{f.preventDefault();const x=f.target.search.value;x.trim()&&d(`/explore?search=${x}`)},y=u.useMemo(()=>t.jsxs(ms,{children:[t.jsx(Es,{src:n==null?void 0:n.avatar}),t.jsx(fs,{children:n!=null&&n.name?n.name.charAt(0):"U"})]}),[n==null?void 0:n.avatar,n==null?void 0:n.name]);return t.jsx("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-md border-b border-roman-500/20",children:t.jsxs("div",{className:"container mx-auto px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(we,{to:"/",className:"flex items-center space-x-2 space-x-reverse",children:[t.jsx("img",{src:"/Asset_12.svg",alt:"بازار Logo",className:"h-8 w-8 object-contain"}),t.jsx(K.div,{whileHover:{scale:1.05},className:"text-2xl font-bold text-roman-500",children:"بازار"})]}),t.jsxs("nav",{className:"hidden md:flex items-center space-x-1 space-x-reverse",children:[t.jsx(we,{to:"/",className:`px-3 py-2 text-sm font-medium hover:text-roman-500 transition-colors ${p("/")?"text-roman-500 border-b-2 border-roman-500 font-semibold":""}`,children:"الرئيسية"}),t.jsx(we,{to:"/explore",className:`px-3 py-2 text-sm font-medium hover:text-roman-500 transition-colors ${p("/explore")?"text-roman-500 border-b-2 border-roman-500 font-semibold":""}`,children:"استكشاف"}),t.jsx(we,{to:"/about-us",className:`px-3 py-2 text-sm font-medium hover:text-roman-500 transition-colors ${p("/about-us")?"text-roman-500 border-b-2 border-roman-500 font-semibold":""}`,children:"من نحن / تواصل معنا"}),t.jsx(we,{to:"/announcements",className:`px-3 py-2 text-sm font-medium hover:text-roman-500 transition-colors ${p("/announcements")?"text-roman-500 border-b-2 border-roman-500 font-semibold":""}`,children:"الإعلانات"}),n&&t.jsxs(t.Fragment,{children:[n.role!=="admin"&&t.jsx(we,{to:"/dashboard",className:`px-3 py-2 text-sm font-medium hover:text-roman-500 transition-colors ${p("/dashboard")?"text-roman-500 border-b-2 border-roman-500 font-semibold":""}`,children:"لوحة التحكم"}),n.role==="admin"&&t.jsxs(we,{to:"/admin/dashboard",className:`px-3 py-2 text-sm font-medium hover:text-roman-500 flex items-center transition-colors ${p("/admin")?"text-roman-500 border-b-2 border-roman-500 font-semibold":""}`,children:[t.jsx(Js,{className:`ml-1 h-4 w-4 ${p("/admin")?"text-roman-500":"text-warning-500"}`}),"لوحة المدير"]})]})]}),"          ",t.jsxs("form",{onSubmit:g,className:"hidden md:flex relative mx-4 flex-1 max-w-md",children:[t.jsx(oe,{type:"search",name:"search",placeholder:"ابحث عن منتجات يدوية...",className:"w-full pr-10 border-roman-500/30 focus:border-warning-500"}),t.jsx(z,{type:"submit",variant:"ghost",size:"icon",className:"absolute left-0 top-0 text-roman-500 hover:text-warning-500",children:t.jsx(As,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"hidden md:flex items-center space-x-2 space-x-reverse",children:n?t.jsxs(t.Fragment,{children:[t.jsxs(z,{variant:"ghost",size:"icon",onClick:()=>d("/cart"),className:"relative text-roman-500 hover:text-warning-500 hover:bg-success-100",children:[t.jsx(e0,{className:"h-5 w-5"}),a.length>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-warning-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a.length})]}),t.jsx(z,{variant:"ghost",size:"icon",onClick:()=>d("/wishlist"),className:"text-roman-500 hover:text-warning-500 hover:bg-success-100",children:t.jsx(_n,{className:"h-5 w-5"})}),t.jsxs(Tp,{onOpenChange:f=>{f&&v()},children:[t.jsx(Ap,{asChild:!0,children:t.jsxs(z,{variant:"ghost",size:"icon",className:"relative text-roman-500 hover:text-warning-500 hover:bg-success-100",children:[t.jsx(Er,{className:"h-5 w-5"}),o>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o})]})}),t.jsxs(ku,{align:"end",className:"w-80 max-h-96 overflow-y-auto",children:[t.jsx(Pu,{className:"text-neutral-900",children:"الإشعارات"}),t.jsx(Ol,{}),i.length===0?t.jsx("div",{className:"p-4 text-center text-gray-500",children:"لا توجد إشعارات"}):i.slice(0,10).map((f,x)=>t.jsx(rr,{onClick:()=>w(f),className:f.read?"":"bg-gray-100 font-bold",children:t.jsxs("div",{className:"flex flex-col w-full",children:[t.jsx("span",{className:"text-sm font-medium",children:f.title||"إشعار"}),t.jsx("span",{className:"text-xs text-gray-600",children:f.message}),t.jsx("span",{className:"text-xs text-gray-400 mt-1",children:f.time||(f.createdAt?new Date(f.createdAt).toLocaleString("ar-EG"):"")})]})},f.id||x))]})]}),t.jsxs(Tp,{children:[t.jsx(Ap,{asChild:!0,children:t.jsx(z,{variant:"ghost",className:"p-0 rounded-full",children:y})}),t.jsxs(ku,{align:"end",className:"w-48",children:[t.jsxs(Pu,{className:"text-neutral-900",children:["مرحباً, ",n.name]}),t.jsx(Ol,{}),t.jsx(rr,{onClick:()=>d("/profile/me"),children:"الملف الشخصي"}),n.role==="admin"?t.jsx(t.Fragment,{children:t.jsx(rr,{onClick:()=>d("/admin/dashboard"),className:"text-neutral-900 hover:text-warning-500",children:"لوحة تحكم المدير"})}):t.jsx(rr,{onClick:()=>d("/dashboard"),className:"text-neutral-900 hover:text-warning-500",children:"لوحة التحكم"}),t.jsx(rr,{onClick:()=>d("/chat"),className:"text-neutral-900 hover:text-warning-500",children:"الرسائل"}),t.jsx(Ol,{}),t.jsx(rr,{onClick:r,className:"text-warning-500 focus:text-white focus:bg-warning-500",children:"تسجيل الخروج"})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(z,{variant:"ghost",onClick:()=>d("/login"),className:"text-roman-500 hover:text-warning-500 hover:bg-success-100",children:"تسجيل الدخول"}),t.jsx(z,{onClick:()=>d("/register"),className:"bg-roman-500 hover:bg-roman-500/90 text-white",children:"إنشاء حساب"})]})}),t.jsx(z,{variant:"ghost",size:"icon",className:"md:hidden text-roman-500 hover:text-warning-500 hover:bg-success-100",onClick:h,children:e?t.jsx(st,{className:"h-6 w-6"}):t.jsx(Qx,{className:"h-6 w-6"})})]}),e&&t.jsxs(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden mt-3 py-3 border-t border-roman-500/20",children:[t.jsxs("form",{onSubmit:g,className:"relative mb-4",children:[t.jsx(oe,{type:"search",name:"search",placeholder:"ابحث عن منتجات يدوية...",className:"w-full pr-10 border-roman-500/30"}),t.jsx(z,{type:"submit",variant:"ghost",size:"icon",className:"absolute left-0 top-0",children:t.jsx(As,{className:"h-4 w-4"})})]}),t.jsxs("nav",{className:"flex flex-col space-y-2",children:[t.jsx(we,{to:"/",className:`px-3 py-2 text-sm font-medium hover:text-primary transition-colors ${p("/")?"text-roman-500 bg-roman-500/10 rounded-md font-semibold":""}`,onClick:h,children:"الرئيسية"}),t.jsx(we,{to:"/explore",className:`px-3 py-2 text-sm font-medium hover:text-primary transition-colors ${p("/explore")?"text-roman-500 bg-roman-500/10 rounded-md font-semibold":""}`,onClick:h,children:"استكشاف"}),t.jsx(we,{to:"/about-us",className:`px-3 py-2 text-sm font-medium hover:text-primary transition-colors ${p("/about-us")?"text-roman-500 bg-roman-500/10 rounded-md font-semibold":""}`,onClick:h,children:"من نحن / تواصل معنا"}),t.jsx(we,{to:"/announcements",className:`px-3 py-2 text-sm font-medium hover:text-primary transition-colors ${p("/announcements")?"text-roman-500 bg-roman-500/10 rounded-md font-semibold":""}`,onClick:h,children:"الإعلانات"}),t.jsx(we,{to:"/policy",className:`px-3 py-2 text-sm font-medium hover:text-primary transition-colors ${p("/policy")?"text-roman-500 bg-roman-500/10 rounded-md font-semibold":""}`,onClick:h,children:"السياسات"}),n&&t.jsxs(t.Fragment,{children:[n.role!=="admin"&&t.jsx(we,{to:"/dashboard",className:`px-3 py-2 text-sm font-medium hover:text-primary transition-colors ${p("/dashboard")?"text-roman-500 bg-roman-500/10 rounded-md font-semibold":""}`,onClick:h,children:"لوحة التحكم"}),n.role==="admin"&&t.jsxs(we,{to:"/admin/dashboard",className:`px-3 py-2 text-sm font-medium hover:text-primary flex items-center transition-colors ${p("/admin")?"text-roman-500 bg-roman-500/10 rounded-md font-semibold":""}`,onClick:h,children:[t.jsx(Js,{className:`ml-1 h-4 w-4 ${p("/admin")?"text-roman-500":"text-blue-600"}`}),"لوحة المدير"]})]}),n?t.jsxs(t.Fragment,{children:[t.jsxs(we,{to:"/cart",className:`px-3 py-2 text-sm font-medium hover:text-primary transition-colors ${p("/cart")?"text-roman-500 bg-roman-500/10 rounded-md font-semibold":""}`,onClick:h,children:["السلة (",a.length,")"]}),t.jsx("button",{onClick:()=>{r(),h()},className:"px-3 py-2 text-sm font-medium text-destructive text-right w-full",children:"تسجيل الخروج"})]}):t.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t",children:[t.jsx(z,{variant:"outline",onClick:()=>{d("/login"),h()},children:"تسجيل الدخول"}),t.jsx(z,{onClick:()=>{d("/register"),h()},children:"إنشاء حساب"})]})]})]})]})})},WL=ce.memo(BL),HL=()=>{const[e,s]=u.useState([]);return u.useEffect(()=>{Z("listcategories").then(n=>s(n.data||n)).catch(()=>s([]))},[]),t.jsx("footer",{className:"bg-roman-500 text-white md:block hidden",children:t.jsxs("div",{className:"container mx-auto px-4 py-12",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("img",{src:"/Asset_12.svg",alt:"بازار Logo",className:"h-8 w-8 object-contain ml-2"}),t.jsx("h3",{className:"text-xl font-bold text-white",children:"بازار"})]}),t.jsx("p",{className:"text-neutral-100 mb-4",children:"منصة تجمع الحرفيين والمبدعين في مكان واحد، لعرض منتجاتهم اليدوية الفريدة والتواصل مع العملاء مباشرة."}),t.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[t.jsx("a",{href:"#",className:"text-neutral-200 hover:text-roman-500 transition-colors",children:t.jsx(r6,{size:20})}),t.jsx("a",{href:"#",className:"text-neutral-200 hover:text-roman-500 transition-colors",children:t.jsx(d6,{size:20})}),t.jsx("a",{href:"#",className:"text-neutral-200 hover:text-roman-500 transition-colors",children:t.jsx(S6,{size:20})}),t.jsx("a",{href:"#",className:"text-neutral-200 hover:text-roman-500 transition-colors",children:t.jsx(_6,{size:20})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"روابط سريعة"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(we,{to:"/",className:"text-neutral-200 hover:text-neutral-900 transition-colors",children:"الرئيسية"})}),t.jsx("li",{children:t.jsx(we,{to:"/explore",className:"text-neutral-200 hover:text-neutral-900 transition-colors",children:"استكشاف"})}),t.jsx("li",{children:t.jsx(we,{to:"/about-us",className:"text-neutral-200 hover:text-neutral-900 transition-colors",children:"من نحن"})}),t.jsx("li",{children:t.jsx(we,{to:"/policy",className:"text-neutral-200 hover:text-neutral-900 transition-colors",children:"السياسات"})}),t.jsx("li",{children:t.jsx(we,{to:"/announcements",className:"text-neutral-200 hover:text-neutral-900 transition-colors",children:"الإعلانات"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"التصنيفات"}),t.jsx("ul",{className:"space-y-2",children:e.slice(0,Math.ceil(e.length/2)).map(n=>t.jsx("li",{children:t.jsx(we,{to:`/explore?category=${n.id}`,className:"text-neutral-200 hover:text-neutral-900 transition-colors",children:n.name})},n.id))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"المزيد من التصنيفات"}),t.jsx("ul",{className:"space-y-2",children:e.slice(Math.ceil(e.length/2)).map(n=>t.jsx("li",{children:t.jsx(we,{to:`/explore?category=${n.id}`,className:"text-neutral-200 hover:text-neutral-900 transition-colors",children:n.name})},n.id))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"اتصل بنا"}),t.jsxs("ul",{className:"space-y-3",children:[t.jsxs("li",{className:"flex items-center space-x-3 space-x-reverse",children:[t.jsx(zt,{size:18,className:"text-roman-500"}),t.jsx("span",{className:"text-neutral-200",children:"شارع الحرفيين، القاهرة، مصر"})]}),t.jsxs("li",{className:"flex items-center space-x-3 space-x-reverse",children:[t.jsx(Dt,{size:18,className:"text-roman-500"}),t.jsx("span",{className:"text-neutral-200",children:"+20 123 456 7890"})]}),t.jsxs("li",{className:"flex items-center space-x-3 space-x-reverse",children:[t.jsx(Gn,{size:18,className:"text-roman-500"}),t.jsx("span",{className:"text-neutral-200",children:"info@herafty.com"})]})]})]})]}),t.jsx("div",{className:"border-t border-neutral-300 mt-10 pt-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-neutral-200",children:[t.jsxs("p",{children:["© ",new Date().getFullYear()," بازار. جميع الحقوق محفوظة."]}),t.jsxs("div",{className:"flex space-x-6 space-x-reverse mt-4 md:mt-0",children:[t.jsx(we,{to:"/policy",className:"hover:text-neutral-900 transition-colors",children:"شروط الاستخدام"}),t.jsx(we,{to:"/about-us",className:"hover:text-neutral-900 transition-colors",children:"من نحن"}),t.jsx(we,{to:"/about-us",className:"hover:text-neutral-900 transition-colors",children:"تواصل معنا"})]})]})})]})})},qL=[{label:"حسابي",icon:tt,to:"/profile/me",show:()=>!!localStorage.getItem("token"),type:"regular"},{label:"الإشعارات",icon:Er,to:"/notifications",show:()=>!!localStorage.getItem("token"),type:"notification"},{label:"استكشاف",icon:As,to:"/explore",show:()=>!0,type:"search"},{label:"المفضلة",icon:_n,to:"/wishlist",show:()=>!!localStorage.getItem("token"),type:"regular"},{label:"الرسائل",icon:un,to:"/chat",show:()=>!!localStorage.getItem("token"),type:"regular"},{label:"تسجيل الدخول",icon:h1,to:"/login",show:()=>!localStorage.getItem("token"),type:"regular"}],GL=()=>{const e=Jt(),{unreadCount:s}=a0(),n=r=>{const{label:a,icon:i,to:o,type:l}=r,c=e.pathname===o||o!=="/"&&e.pathname.startsWith(o);return l==="search"?t.jsxs(we,{to:o,className:"relative flex flex-col items-center justify-center","aria-label":a,children:[t.jsxs("div",{className:"relative transform -translate-y-3",children:[t.jsxs("div",{className:`relative flex items-center justify-center w-16 h-16 rounded-full shadow-2xl transition-all duration-300 ${c?"bg-white scale-110 shadow-roman-500/30":"bg-white hover:scale-105"} border-4 border-white`,children:[t.jsx("div",{className:`absolute inset-2 rounded-full bg-gradient-to-br transition-all duration-300 ${c?"from-roman-500 via-orange-500 to-red-500":"from-roman-500/90 via-orange-400 to-orange-500"}`}),t.jsx("div",{className:"relative z-10 flex items-center justify-center",children:t.jsx(i,{size:24,className:"text-white drop-shadow-sm"})}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 to-transparent"})]}),t.jsx("div",{className:"absolute top-1 left-1/2 transform -translate-x-1/2 w-12 h-12 bg-roman-500/20 rounded-full blur-xl"})]}),t.jsx("span",{className:`text-xs font-medium mt-0 transition-colors duration-200 ${c?"text-roman-500 font-semibold":"text-neutral-900/70"}`,children:a})]},o):l==="notification"?t.jsxs(we,{to:o,className:`relative flex flex-col items-center justify-center text-xs font-medium transition-colors duration-200 ${c?"text-roman-500":"text-neutral-900/70"} hover:text-roman-500`,"aria-label":a,children:[t.jsxs("div",{className:"relative",children:[t.jsx(i,{size:24,className:"mb-1"}),s>0&&t.jsx("div",{className:"absolute -top-2 -right-2 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-gradient-to-r from-red-500 to-pink-500 rounded-full border-2 border-white shadow-lg animate-pulse",children:s>9?"9+":s})]}),t.jsx("span",{className:"text-xs",children:a})]},o):t.jsxs(we,{to:o,className:`flex flex-col items-center justify-center text-xs font-medium transition-colors duration-200 ${c?"text-roman-500":"text-neutral-900/70"} hover:text-roman-500`,"aria-label":a,children:[t.jsx(i,{size:24,className:"mb-1"}),a]},o)};return t.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md border-t border-roman-500/10 shadow-xl flex justify-around items-end h-20 md:hidden pt-2 pb-4 rounded-t-3xl",children:qL.filter(r=>r.show()).map(n)})},KL=()=>t.jsxs("div",{className:"flex flex-col min-h-screen",dir:"rtl",children:[t.jsx(WL,{}),t.jsx(K.main,{className:"flex-grow pb-16 md:pb-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:t.jsx(zx,{})}),t.jsx(HL,{}),t.jsx(GL,{})]}),YL=jc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-success-100 text-neutral-900 hover:bg-success-100/80",destructive:"border-transparent bg-warning-500 text-white hover:bg-warning-600",outline:"text-foreground border-roman-500",accent:"border-transparent bg-roman-500 text-white hover:bg-roman-500/80",muted:"border-transparent bg-neutral-500 text-white hover:bg-neutral-600",success:"border-transparent bg-success-200 text-neutral-900 hover:bg-success-200/80"}},defaultVariants:{variant:"default"}});function me({className:e,variant:s,...n}){return t.jsx("div",{className:je(YL({variant:s}),e),...n})}var XL="Separator",Rj="horizontal",JL=["horizontal","vertical"],c5=u.forwardRef((e,s)=>{const{decorative:n,orientation:r=Rj,...a}=e,i=QL(r)?r:Rj,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx($e.div,{"data-orientation":i,...l,...a,ref:s})});c5.displayName=XL;function QL(e){return JL.includes(e)}var d5=c5;const dt=ce.forwardRef(({className:e,orientation:s="horizontal",decorative:n=!0,...r},a)=>t.jsx(d5,{ref:a,decorative:n,orientation:s,className:je("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));dt.displayName=d5.displayName;const u5=u.createContext();function h5({children:e}){const[s,n]=u.useState(!0),[r,a]=u.useState(!1),[i,o]=u.useState(!1),[l,c]=u.useState(()=>{const h=localStorage.getItem("desktopSidebarState");return h!==null?JSON.parse(h):!0});u.useEffect(()=>{const h=()=>{const p=window.innerWidth<768;r!==p&&(a(p),p?(c(s),o(!1),n(!1)):(n(l),o(!1)))};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[r,s,i,l]),u.useEffect(()=>{localStorage.setItem("desktopSidebarState",JSON.stringify(l))},[l]);const d=()=>{if(r)o(h=>!h),console.log("Mobile menu toggled to:",!i);else{const h=!s;n(h),c(h)}},m=()=>{r&&i&&o(!1)};return t.jsx(u5.Provider,{value:{isSidebarOpen:s,toggleSidebar:d,isMobile:r,isMobileMenuOpen:i,closeMobileSidebar:m},children:e})}const Io=()=>u.useContext(u5);function m5(){const e=Jt(),{isMobile:s,closeMobileSidebar:n}=Io();return u.useEffect(()=>{s&&n()},[e.pathname,s,n]),e}function f5({scrollToTopOnNavigation:e=!0}={}){const s=u.useRef(null),n=Jt();return u.useEffect(()=>{e&&s.current&&s.current.scrollTo(0,0)},[n.pathname,e]),s}const p5=()=>{const[e,s]=u.useState({pending_orders:0,total_orders:0,total_users:0,total_sellers:0,total_products:0,active_users:0,pending_sellers:0}),[n,r]=u.useState(!0),[a,i]=u.useState(null),{user:o}=De(),l=async()=>{if(!o||o.role!=="admin"){r(!1);return}try{r(!0),i(null);const c=await Ce.getDashboardStats();s(c||{pending_orders:0,total_orders:0,total_users:0,total_sellers:0,total_products:0,active_users:0,pending_sellers:0})}catch(c){console.error("Error fetching admin stats:",c),i(c)}finally{r(!1)}};return u.useEffect(()=>{l();const c=setInterval(l,3e4);return()=>clearInterval(c)},[o]),{stats:e,isLoading:n,error:a,refetch:l}};const ZL=()=>{const e=We(),{logout:s}=De(),{isSidebarOpen:n,toggleSidebar:r,isMobile:a,isMobileMenuOpen:i}=Io(),o=m5(),{stats:l}=p5(),c=[{path:"/admin/dashboard",label:"لوحة التحكم",icon:ii},{path:"/admin/orders",label:"الطلبات",icon:Lt,badge:(l==null?void 0:l.pending_orders)>0?l.pending_orders:null},{path:"/admin/categories",label:"التصنيفات",icon:Pa},{path:"/admin/products",label:"المنتجات",icon:nc},{path:"/admin/sellers",label:"البائعين",icon:Hn},{path:"/admin/users",label:"المستخدمين",icon:Sn},{path:"/admin/cities",label:"المدن",icon:zt},{path:"/admin/platform-profits",label:"أرباح المنصة",icon:bt},{path:"/admin/delivery",label:"موظفي التوصيل",icon:Wt},{path:"/admin/delivery-orders",label:"توزيع الطلبات",icon:nc},{path:"/admin/withdrawals",label:"طلبات السحب",icon:bt},{path:"/admin/messages",label:"المحادثات",icon:un},{path:"/admin/contact-us",label:"رسائل التواصل",icon:Xx},{path:"/admin/announcements",label:"الإعلانات",icon:m1},{path:"/admin/settings",label:"إعدادات النظام",icon:ka}];return t.jsxs(P0,{children:["      ",(a&&i||!a)&&t.jsxs(K.aside,{initial:{width:a?0:n?"16rem":"5rem",x:a?-250:0},animate:{width:a||n?"16rem":"5rem",x:0},exit:{width:0,x:-250},transition:{type:"spring",stiffness:400,damping:40},className:`bg-background/95 backdrop-blur-md border-l border-border flex flex-col z-30 ${a?"fixed top-0 right-0 h-screen shadow-lg":"relative h-full"} ${n?"sidebar-expanded":"sidebar-collapsed"}`,children:[a&&t.jsx("button",{onClick:r,className:"absolute top-4 left-4 p-1 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",children:t.jsx(st,{size:20})}),t.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[t.jsxs(we,{to:"/",className:"flex items-center",children:["                ",t.jsx(K.div,{whileHover:{scale:1.05},className:`text-xl font-bold text-roman-500 ${!n&&!a?"scale-0 w-0 opacity-0":"scale-100 opacity-100"} transition-all duration-300`,children:"بازار"})]}),!a&&t.jsx("button",{onClick:r,className:"p-1 rounded-full bg-gray-100 text-blue-600 hover:bg-gray-200 transition-colors duration-200",children:t.jsx(bc,{size:20,className:`sidebar-icon ${n?"":"sidebar-icon-rotated"}`})})]}),t.jsx("div",{className:`py-2 ${!n&&!a?"hidden":"block"}`,children:t.jsxs("h2",{className:"text-lg font-semibold text-blue-600 px-3 pb-2 flex items-center",children:[t.jsx(Js,{className:"ml-1 h-4 w-4 text-blue-600"}),"لوحة المدير"]})}),t.jsx("nav",{className:"space-y-1",children:c.map(d=>t.jsxs(z,{variant:o.pathname===d.path?"subtle":"ghost",className:`w-full justify-${n||a?"start":"center"} text-right px-3 py-2 ${o.pathname===d.path?"bg-blue-600/10 text-blue-600 font-medium":"hover:bg-gray-100 hover:text-blue-600 text-sm font-medium"} transition-all duration-200 relative`,onClick:()=>{e(d.path),a&&r()},children:["                  ",t.jsx(d.icon,{className:`${n||a?"ml-2":""} h-4 w-4`}),(n||a)&&t.jsx("span",{className:"text-neutral-900 flex-1",children:d.label}),d.badge&&(n||a)&&t.jsx(me,{variant:"destructive",className:"ml-2 min-w-[20px] h-5 text-xs px-1.5 animate-pulse",children:d.badge}),d.badge&&!n&&!a&&t.jsx(me,{variant:"destructive",className:"absolute -top-1 -left-1 min-w-[18px] h-[18px] text-[10px] px-1 animate-pulse",children:d.badge})]},d.path))}),t.jsx(dt,{className:"my-4"}),"            ",t.jsxs(z,{variant:"ghost",className:`w-full justify-${n||a?"start":"center"} text-right px-3 py-2 text-sm font-medium text-destructive hover:bg-red-50 hover:text-destructive transition-all duration-200`,onClick:()=>{s(),e("/")},children:["              ",t.jsx(wc,{className:`${n||a?"ml-2":""} h-4 w-4`}),(n||a)&&t.jsx("span",{className:"text-destructive",children:"تسجيل الخروج"})]})]})]})]})},e7=()=>{De();const e=We(),s=Jt(),{logout:n}=De(),{isSidebarOpen:r,toggleSidebar:a,isMobile:i,isMobileMenuOpen:o,closeMobileSidebar:l}=Io(),c=f5(),{stats:d}=p5(),m=[{path:"/admin/dashboard",label:"لوحة التحكم",icon:ii},{path:"/admin/orders",label:"الطلبات",icon:Lt,badge:(d==null?void 0:d.pending_orders)>0?d.pending_orders:null},{path:"/admin/categories",label:"التصنيفات",icon:Pa},{path:"/admin/products",label:"المنتجات",icon:nc},{path:"/admin/sellers",label:"البائعين",icon:Hn},{path:"/admin/users",label:"المستخدمين",icon:Sn},{path:"/admin/cities",label:"المدن",icon:zt},{path:"/admin/platform-profits",label:"أرباح المنصة",icon:bt},{path:"/admin/delivery",label:"موظفي التوصيل",icon:Wt},{path:"/admin/delivery-orders",label:"توزيع الطلبات",icon:nc},{path:"/admin/withdrawals",label:"طلبات السحب",icon:bt},{path:"/admin/messages",label:"المحادثات",icon:un},{path:"/admin/contact-us",label:"رسائل التواصل",icon:Xx},{path:"/admin/settings",label:"إعدادات النظام",icon:ka}];return t.jsxs("div",{className:"flex min-h-[calc(100vh-var(--navbar-height,100px))]",children:[!i&&t.jsx(ZL,{}),"      ",t.jsxs("main",{ref:c,className:`flex-1 bg-background overflow-y-auto ${i?"dashboard-content":r?"dashboard-content-expanded":"dashboard-content-collapsed"}`,children:[i&&t.jsxs("div",{className:"mobile-header p-4 flex justify-between items-center bg-background/95 backdrop-blur-md border-b border-border",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Js,{className:"ml-1 h-4 w-4 text-blue-600"}),t.jsx("h1",{className:"text-lg font-semibold text-blue-600",children:"لوحة المدير"})]}),t.jsx(z,{variant:"ghost",size:"sm",onClick:a,className:"text-blue-600 hover:bg-gray-100",children:o?t.jsx(st,{className:"h-5 w-5"}):t.jsx(Qx,{className:"h-5 w-5"})})]}),i&&o&&t.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"w-full bg-background/95 backdrop-blur-md border-b border-border",children:t.jsx("div",{className:"p-4",children:t.jsxs("nav",{className:"flex flex-col space-y-2",children:[m.map(h=>t.jsxs(we,{to:h.path,className:`px-3 py-2 text-sm font-medium flex items-center justify-between ${s.pathname===h.path?"text-blue-600":"hover:text-blue-600"}`,onClick:()=>a(),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(h.icon,{className:"ml-2 h-4 w-4"}),h.label]}),h.badge&&t.jsx(me,{variant:"destructive",className:"min-w-[20px] h-5 text-xs px-1.5 animate-pulse",children:h.badge})]},h.path)),t.jsx(dt,{className:"my-2"}),t.jsxs("button",{onClick:()=>{n(),e("/")},className:"px-3 py-2 text-sm font-medium text-destructive hover:text-destructive-darker flex items-center text-right w-full",children:[t.jsx(wc,{className:"ml-2 h-4 w-4"}),"تسجيل الخروج"]})]})})}),t.jsx(zx,{})]})]})},t7=()=>t.jsx(h5,{children:t.jsx(e7,{})}),J=ce.forwardRef(({className:e,...s},n)=>t.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));J.displayName="Card";const de=ce.forwardRef(({className:e,...s},n)=>t.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",e),...s}));de.displayName="CardHeader";const he=ce.forwardRef(({className:e,...s},n)=>t.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",e),...s}));he.displayName="CardTitle";const nt=ce.forwardRef(({className:e,...s},n)=>t.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",e),...s}));nt.displayName="CardDescription";const Q=ce.forwardRef(({className:e,...s},n)=>t.jsx("div",{ref:n,className:je("p-6 pt-0",e),...s}));Q.displayName="CardContent";const St=ce.forwardRef(({className:e,...s},n)=>t.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",e),...s}));St.displayName="CardFooter";const uc=({productId:e,inWishlist:s=!1,onWishlistChange:n,className:r="",size:a="md"})=>{const{user:i}=De(),{toast:o}=Ke(),[l,c]=u.useState(s),[d,m]=u.useState(!1);u.useEffect(()=>{c(s)},[s]),u.useEffect(()=>{i&&e&&s===void 0&&h()},[e,i,s]);const h=async()=>{try{const g=await ve.checkWishlistStatus(e);c(g.in_wishlist)}catch(g){console.error("Error checking wishlist status:",g)}},p=async g=>{var y;if(g.preventDefault(),g.stopPropagation(),!i){o({title:"تسجيل الدخول مطلوب",description:"يجب تسجيل الدخول أولاً لإضافة المنتجات إلى المفضلة",variant:"destructive"});return}if(!d)try{m(!0);const f=await ve.toggleWishlist(e);if(f.success){const x=f.action==="added";c(x),n&&n(e,x),o({title:f.action==="added"?"تم إضافة المنتج":"تم إزالة المنتج",description:f.action==="added"?"تم إضافة المنتج إلى المفضلة بنجاح":"تم إزالة المنتج من المفضلة بنجاح"})}else o({title:"خطأ",description:f.message||"حدث خطأ ما",variant:"destructive"})}catch(f){console.error("Error toggling wishlist:",f),((y=f.response)==null?void 0:y.status)===401?o({title:"تسجيل الدخول مطلوب",description:"يجب تسجيل الدخول أولاً",variant:"destructive"}):o({title:"خطأ",description:"حدث خطأ أثناء تحديث المفضلة",variant:"destructive"})}finally{m(!1)}},v={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"},w={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return t.jsx("button",{onClick:p,disabled:d,className:`
        ${v[a]}
        ${r}
        ${l?"bg-red-500 text-white hover:bg-red-600":"bg-white/90 text-gray-600 hover:bg-white hover:text-red-500"}
        rounded-full
        flex items-center justify-center
        transition-all duration-200
        shadow-lg hover:shadow-xl
        border border-white/20
        backdrop-blur-sm
        ${d?"opacity-70":"hover:scale-110"}
      `,title:l?"إزالة من المفضلة":"إضافة إلى المفضلة",children:t.jsx(_n,{className:`${w[a]} transition-all duration-200 ${l?"fill-current":""} ${d?"animate-pulse":""}`})})},s7=()=>{const[e,s]=u.useState(null),[n,r]=u.useState(!1),[a,i]=u.useState(!1);return u.useEffect(()=>{(()=>{if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){i(!0);return}if(window.navigator.standalone===!0){i(!0);return}if(document.referrer.includes("android-app://")){i(!0);return}})();const d=h=>{h.preventDefault(),s(h),r(!0)},m=()=>{i(!0),r(!1),s(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",m)}},[]),{isInstallable:n,isInstalled:a,installApp:async()=>{if(!e)return!1;try{e.prompt();const{outcome:c}=await e.userChoice;return c==="accepted"&&(i(!0),r(!1)),s(null),c==="accepted"}catch(c){return console.error("Error installing PWA:",c),!1}},getInstallInstructions:()=>{const c=navigator.userAgent.toLowerCase();return c.includes("chrome")&&!c.includes("edg")?{browser:"Chrome",steps:["اضغط على أيقونة القائمة (ثلاث نقاط) في أعلى اليمين",'اختر "تثبيت التطبيق" أو "Add to Home screen"','اضغط على "تثبيت" في النافذة المنبثقة']}:c.includes("firefox")?{browser:"Firefox",steps:["اضغط على أيقونة القائمة (ثلاث خطوط) في أعلى اليمين",'اختر "تثبيت" أو "Install"','اضغط على "تثبيت" في النافذة المنبثقة']}:c.includes("safari")?{browser:"Safari",steps:["اضغط على أيقونة المشاركة في أسفل الشاشة",'مرر لأسفل واختر "Add to Home Screen"','اضغط على "إضافة" لتثبيت التطبيق']}:c.includes("edg")?{browser:"Edge",steps:["اضغط على أيقونة القائمة (ثلاث نقاط) في أعلى اليمين",'اختر "Apps" ثم "Install this site as an app"','اضغط على "تثبيت" في النافذة المنبثقة']}:{browser:"المتصفح",steps:['ابحث عن خيار "تثبيت التطبيق" أو "Add to Home Screen" في قائمة المتصفح',"اتبع الخطوات المعروضة لتثبيت التطبيق"]}},canInstall:n&&!a}};const n7=()=>{const{isInstallable:e,isInstalled:s,installApp:n,getInstallInstructions:r,canInstall:a}=s7(),[i,o]=u.useState(!1),[l,c]=u.useState(!1),d=async()=>{c(!0);try{await n()}finally{c(!1)}},m=[{image:"/mockup/بازار-منصة-للمنتجات-اليدوية-10-19-2025_02_36_AM-portrait.png",title:"تصفح المنتجات"},{image:"/mockup/بازار-منصة-للمنتجات-اليدوية-10-19-2025_02_37_AM-portrait.png",title:"تجربة الشراء"},{image:"/mockup/بازار-منصة-للمنتجات-اليدوية-10-19-2025_02_36_AM-left.png",title:"واجهة سهلة"}];return t.jsx("section",{className:"py-12 bg-gradient-to-br from-roman-50 to-roman-100 pwa-install-section",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx("div",{className:"text-center mb-8",children:t.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[t.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:["حمّل تطبيق ",t.jsx("span",{className:"text-roman-500",children:"بازار"})," على جهازك"]}),t.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"احصل على تجربة تسوق استثنائية مع تطبيق بازار. سرعة فائقة، تصميم مُحسّن"})]})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center max-w-6xl mx-auto",children:[t.jsxs(K.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"relative",children:[t.jsxs("div",{className:"flex justify-center items-end space-x-4 space-x-reverse mb-8",children:[t.jsx(K.div,{initial:{opacity:0,y:30,rotate:-5},animate:{opacity:1,y:0,rotate:-8},transition:{duration:.8,delay:.3},className:"relative z-10 transform",children:t.jsx(K.img,{src:m[0].image,alt:m[0].title,className:"w-40 h-auto drop-shadow-xl",animate:{y:[0,-6,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:0}})}),t.jsxs(K.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"relative z-20",children:[t.jsx(K.img,{src:m[1].image,alt:m[1].title,className:"w-52 h-auto drop-shadow-2xl",animate:{y:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx(K.div,{animate:{scale:[1,1.1,1],opacity:[.2,.4,.2]},transition:{duration:5,repeat:1/0},className:"absolute inset-0 bg-gradient-to-r from-roman-400 to-roman-600 rounded-full blur-3xl -z-10 scale-75"})]}),t.jsx(K.div,{initial:{opacity:0,y:30,rotate:5},animate:{opacity:1,y:0,rotate:8},transition:{duration:.8,delay:.5},className:"relative z-10 transform",children:t.jsx(K.img,{src:m[2].image,alt:m[2].title,className:"w-40 h-auto drop-shadow-xl",animate:{y:[0,-6,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:2}})})]}),t.jsx(K.div,{animate:{y:[0,-15,0],rotate:360,opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-8 right-4 w-3 h-3 bg-gradient-to-r from-roman-400 to-roman-500 rounded-full shadow-lg z-0"}),t.jsx(K.div,{animate:{y:[0,12,0],rotate:-360,opacity:[.2,.5,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:3},className:"absolute bottom-12 left-8 w-2 h-2 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full shadow-lg z-0"})]}),t.jsx(K.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:t.jsxs(J,{className:"bg-white shadow-xl border-0 h-full flex flex-col justify-between",children:[t.jsxs(de,{className:"text-center pb-4",children:[t.jsx(K.div,{className:"w-20 h-20 bg-gradient-to-br from-roman-500 to-roman-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",animate:{rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:t.jsx(tc,{className:"w-10 h-10 text-white"})}),t.jsx(he,{className:"text-xl font-bold mb-2",children:"تثبيت التطبيق"})]}),t.jsxs(Q,{className:"space-y-6 flex-1",children:[t.jsx("div",{className:"bg-gradient-to-br from-roman-50 to-roman-100 rounded-xl p-4 border border-roman-200",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-roman-700",children:[t.jsx(m6,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"متوافق مع جميع الأجهزة"})]}),t.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-roman-700",children:[t.jsx(k6,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"تحديثات تلقائية"})]}),t.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-roman-700",children:[t.jsx(b6,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"واجهة مُحسّنة للمحمول"})]})]})}),t.jsx("div",{className:"space-y-4",children:a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"اضغط على الزر أدناه لتثبيت التطبيق على جهازك"})}),t.jsx(z,{onClick:d,disabled:l,className:"w-full bg-gradient-to-r from-roman-500 to-roman-600 hover:from-roman-600 hover:to-roman-700 text-white py-3 text-lg font-semibold shadow-lg",size:"lg",children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"install-spinner rounded-full h-4 w-4 border-2 border-white border-t-transparent ml-2"}),"جاري التثبيت..."]}):t.jsxs(t.Fragment,{children:[t.jsx(tc,{className:"ml-2 h-5 w-5"}),"تثبيت التطبيق الآن"]})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"يمكنك تثبيت التطبيق من خلال متصفحك بسهولة"}),t.jsx("p",{className:"text-gray-500 text-xs",children:"اتبع التعليمات البسيطة لإضافة التطبيق إلى شاشتك الرئيسية"})]}),t.jsxs(z,{onClick:()=>o(!0),variant:"outline",className:"w-full border-2 border-roman-500 text-roman-600 hover:bg-roman-50 hover:border-roman-600 transition-colors py-3 text-lg font-semibold",size:"lg",children:[t.jsx(mi,{className:"ml-2 h-5 w-5"}),"شرح طريقة التثبيت"]})]})}),t.jsx("div",{className:"text-center pt-2 border-t border-gray-100",children:t.jsxs("p",{className:"text-xs text-gray-500 flex items-center justify-center space-x-1 space-x-reverse",children:[t.jsx(Be,{className:"w-3 h-3 text-roman-500"}),t.jsx("span",{children:"آمن ومعتمد"})]})})]})]})})]}),i&&t.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>o(!1),children:t.jsxs(K.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl border-0",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[t.jsx("div",{className:"w-8 h-8 bg-roman-100 rounded-lg flex items-center justify-center",children:t.jsx(mi,{className:"w-4 h-4 text-roman-500"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"كيفية تثبيت التطبيق"})]}),t.jsx(z,{variant:"ghost",size:"sm",onClick:()=>o(!1),className:"p-1 h-8 w-8 hover:bg-gray-100 rounded-full",children:t.jsx(st,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-roman-50 to-roman-100 rounded-xl p-4 border border-roman-200",children:[t.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mb-3",children:[t.jsx("div",{className:"w-5 h-5 bg-roman-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xs",children:"1"})}),t.jsxs("p",{className:"font-semibold text-sm text-roman-800",children:["في متصفح ",r().browser,":"]})]}),t.jsx("ol",{className:"list-none space-y-2 text-sm text-gray-700",children:r().steps.map((h,p)=>t.jsxs("li",{className:"flex items-start space-x-2 space-x-reverse",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-roman-400 rounded-full mt-2 flex-shrink-0"}),t.jsx("span",{children:h})]},p))})]}),t.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 space-x-reverse text-roman-500 mb-1",children:[t.jsx(Be,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"نصيحة"})]}),t.jsx("p",{className:"text-xs text-gray-600",children:"بعد التثبيت، ستجد أيقونة التطبيق على الشاشة الرئيسية وستتمكن من فتحه مثل أي تطبيق آخر"})]})]})]})})]})})},r7=()=>{const e=We(),[s,n]=u.useState([]),[r,a]=u.useState(!0),[i,o]=u.useState(null),[l,c]=u.useState([]),[d,m]=u.useState(!0),[h,p]=u.useState(null),[v,w]=u.useState([]),[g,y]=u.useState(!0),[f,x]=u.useState(null),[j,N]=u.useState(!1),[S,A]=u.useState(window.innerWidth<640?4:window.innerWidth<1024?6:8),C=(R,V)=>{n(q=>q.map(T=>T.id===R?{...T,in_wishlist:V}:T))},k=R=>R?`https://handy3.abanoubsamir.com/backend/public/storage/${R}`:null,[M,P]=u.useState([]),[D,I]=u.useState(!0),[H,O]=u.useState(null);u.useEffect(()=>{const R=()=>A(window.innerWidth<640?4:window.innerWidth<1024?6:8);return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),u.useEffect(()=>{let R=!0;return y(!0),x(null),ve.getCategories().then(V=>{if(R){const q=Array.isArray(V.data)?V.data.map(T=>({id:T.id||T._id||T.category_id||T.slug||T.name,name:T.name||T.title||T.label,icon:T.icon||T.iconName||"star",image:T.image})):[];w(q),y(!1)}}).catch(()=>{R&&(x("تعذر تحميل التصنيفات"),y(!1))}),()=>{R=!1}},[]),u.useEffect(()=>{let R=!0;return a(!0),o(null),ve.getFeaturedProducts().then(V=>{if(R){const q=Array.isArray(V.data)?V.data.slice(0,8).map(T=>{var U,se;return{id:T.id,title:T.title,description:T.description,price:T.price,images:Array.isArray(T.images)&&T.images.length>0?T.images.map(ie=>ie.image_url||ie.url||ie):[],category:T.category_id||((U=T.category)==null?void 0:U.id)||T.category,rating:T.rating||0,reviewCount:T.reviewCount||T.review_count||0,sellerId:T.sellerId||T.seller_id||((se=T.seller)==null?void 0:se.id),in_wishlist:T.in_wishlist||!1}}):[];n(q),a(!1)}}).catch(()=>{R&&(o("تعذر تحميل المنتجات المميزة"),a(!1))}),()=>{R=!1}},[]),u.useEffect(()=>{let R=!0;return m(!0),p(null),ve.getTopSellers().then(V=>{if(R){const q=Array.isArray(V.data)?V.data.slice(0,3).map(T=>({id:T.id,name:T.name,avatar:T.avatar||T.profile_image||"",skills:T.skills||T.categories||[],rating:T.rating||0,reviewCount:T.reviewCount||T.review_count||0})):[];c(q),m(!1)}}).catch(()=>{R&&(p("تعذر تحميل أفضل الحرفيين"),m(!1))}),()=>{R=!1}},[]),u.useEffect(()=>{let R=!0;return I(!0),O(null),ve.get("/announcements/latest?limit=3").then(V=>{R&&(V.data.success?P(V.data.data):P([]),I(!1))}).catch(()=>{R&&(O("تعذر تحميل الإعلانات"),I(!1))}),()=>{R=!1}},[]);const $=R=>{const V=window.innerWidth<640?20:window.innerWidth<1024?24:28;switch(R){case"gem":return t.jsx(sc,{size:V});case"coffee":return t.jsx(du,{size:V});case"scissors":return t.jsx(ua,{size:V});case"shirt":return t.jsx(nh,{size:V});case"image":return t.jsx(Va,{size:V});case"utensils":return t.jsx(rh,{size:V});default:return t.jsx(ze,{size:V})}},W=R=>{switch(R){case"info":return t.jsx(mi,{size:24,className:"text-neutral-900"});case"warning":return t.jsx(hs,{size:24,className:"text-neutral-900"});case"success":return t.jsx(Be,{size:24,className:"text-roman-500"});case"error":return t.jsx(Ps,{size:24,className:"text-roman-600"});default:return t.jsx(mi,{size:24,className:"text-neutral-900"})}},G=R=>{switch(R){case"info":return"bg-success-100 text-neutral-900";case"warning":return"bg-neutral-100 text-neutral-900";case"success":return"bg-success-100 text-roman-500";case"error":return"bg-roman-100 text-roman-600";default:return"bg-success-100 text-neutral-900"}};return t.jsxs("div",{className:"flex flex-col min-h-screen bg-neutral-100",children:[t.jsxs("section",{className:"relative bg-roman-500 text-white py-20 md:py-32 overflow-hidden flex items-center justify-center min-h-[90vh]",children:[t.jsx("video",{className:"absolute inset-0 w-screen h-screen object-cover z-0",style:{objectPosition:window.innerWidth<640?"-900px":void 0},autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"https://images.unsplash.com/photo-1686825374490-663137bad061",onError:R=>{R.target.style.display="none";const V=document.createElement("img");V.src="https://images.unsplash.com/photo-1686825374490-663137bad061",V.alt="خلفية",V.className="absolute inset-0 w-screen h-screen object-cover z-0",R.target.parentNode.appendChild(V)},children:t.jsx("source",{src:"/hero-bg2.webm",type:"video/webm"})}),t.jsx("div",{className:"absolute inset-0 bg-black/30 z-10"}),t.jsx("div",{className:"container mx-auto px-4 relative z-20 flex flex-col items-center justify-center",children:t.jsx("div",{className:"flex flex-col items-center justify-center w-full",children:t.jsxs(K.div,{className:"text-center flex flex-col items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsxs("h1",{className:"text-4xl md:text-6xl font-bold leading-tight",children:["اكتشف ",t.jsx("span",{className:"text-neutral-100",children:"إبداعات"})," الحرفيين"]})}),t.jsx("p",{className:"text-lg md:text-xl mb-8 text-neutral-100",children:"منصتك الأولى للعثور على منتجات يدوية فريدة ومصنوعة بحب وشغف."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[t.jsxs(z,{size:"lg",className:"bg-roman-500 hover:bg-roman-500/90 text-white px-8 py-3 text-lg",onClick:()=>{const R=!!localStorage.getItem("token");e(R?"/dashboard":"/register")},children:["ابدا معنا",t.jsx(qs,{className:"mr-2 h-5 w-5"})]}),t.jsxs(z,{size:"lg",variant:"outline",className:"border-2 border-white text-neutral-500 hover:bg-white hover:text-roman-500 px-8 py-3 text-lg transition-all duration-300",onClick:()=>e("/explore"),children:["اكتشف إبداعات الحرفيين",t.jsx(An,{className:"mr-2 h-5 w-5"})]})]})]})})})]}),t.jsx("section",{className:"py-12 md:py-16 bg-white",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs(K.h2,{className:"text-2xl md:text-3xl font-bold text-center mb-8 md:mb-12 text-neutral-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["تصفح ",t.jsx("span",{className:"text-roman-500",children:"أبرز التصنيفات"})]}),t.jsx("div",{className:"relative",children:g?t.jsx("div",{className:"w-full text-center text-neutral-900/60 py-8",children:t.jsx("div",{className:"animate-pulse",children:"جاري التحميل..."})}):f?t.jsx("div",{className:"w-full text-center text-red-600 py-8 bg-red-50 rounded-lg border border-red-200",children:f}):v.length===0?t.jsx("div",{className:"w-full text-center text-neutral-900/60 py-8",children:"لا توجد تصنيفات متاحة"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-4 md:gap-6 lg:gap-8 px-2 py-4",children:(j?v:v.slice(0,S)).map((R,V)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:V*.1},children:t.jsx(we,{to:`/explore?category=${R.id}`,tabIndex:0,className:"block group",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"relative mb-3 md:mb-4",children:[t.jsxs("div",{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-gradient-to-br from-roman-100 to-roman-200 flex items-center justify-center border-2 border-roman-500/30 group-hover:border-roman-500/60 transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg backdrop-blur-sm overflow-hidden",children:[R.image?t.jsx("img",{src:k(R.image),alt:R.name,className:"w-full h-full object-cover rounded-full"}):t.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 flex items-center justify-center text-roman-500 group-hover:text-roman-500/80 transition-colors duration-300",children:$(R.icon)}),t.jsx("div",{className:"absolute inset-0 rounded-full border border-roman-500/20 animate-pulse"})]}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-roman-500/10 blur-xl opacity-0 group-hover:opacity-30 transition-opacity duration-300"})]}),t.jsx("h3",{className:"font-semibold text-center text-sm md:text-base text-neutral-900 group-hover:text-roman-500 transition-colors duration-300 leading-tight px-2",children:R.name}),t.jsx("div",{className:"w-0 group-hover:w-8 h-0.5 bg-roman-500 mt-2 transition-all duration-300 rounded-full"})]})})},R.id))}),v.length>S*2&&t.jsx("div",{className:"text-center mt-8",children:t.jsxs(z,{variant:"outline",onClick:()=>N(!j),className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white px-6 py-2",children:[j?"عرض أقل":"عرض المزيد",t.jsx(qs,{className:`mr-2 h-4 w-4 transition-transform duration-300 ${j?"rotate-90":""}`})]})})]})})]})}),t.jsx("section",{className:"py-16 bg-roman-400/10",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs(K.h2,{className:"text-3xl font-bold text-center mb-12 text-neutral-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["منتجات ",t.jsx("span",{className:"text-roman-500",children:"مميزة"})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-4 gap-2",children:r?t.jsx("div",{className:"col-span-8 text-center text-neutral-900/60 py-8",children:"جاري التحميل..."}):i?t.jsx("div",{className:"col-span-8 text-center text-red-600 py-8",children:i}):s.length===0?t.jsx("div",{className:"col-span-8 text-center text-neutral-900/60 py-8",children:"لا توجد منتجات مميزة متاحة"}):s.map((R,V)=>{var T;let q=R.category&&R.category.name?R.category.name:null;if(!q){const U=v.find(se=>{var ie;return se.id===(R.category_id||((ie=R.category)==null?void 0:ie.id)||R.category)});q=U?U.name:R.category_id||((T=R.category)==null?void 0:T.id)||R.category}return t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:V*.1},children:t.jsxs(J,{className:"overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col h-62 card-hover border-roman-500/20",dir:"rtl",children:[t.jsxs("div",{className:"relative h-56",children:[t.jsx("img",{src:R.images&&R.images.length>0?R.images[0]:"https://images.unsplash.com/photo-1680188700662-5b03bdcf3017",alt:R.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:t.jsx(me,{variant:"secondary",className:"bg-roman-500 text-white",children:q})}),t.jsx("div",{className:"absolute top-2 left-2",children:t.jsx(uc,{productId:R.id,inWishlist:R.in_wishlist,onWishlistChange:C,size:"md"})}),t.jsx("div",{className:"absolute bottom-2 right-2 flex flex-col gap-1",children:t.jsx(me,{variant:"outline",className:`text-xs ${R.type==="gig"?"bg-warning-500/50 text-white border-warning-500":"bg-blue-100 text-blue-600 border-blue-300"}`,children:R.type==="gig"?"خدمة مخصصة":"منتج جاهز"})})]}),t.jsx(de,{className:"pb-2 text-right p-2",children:t.jsx(he,{className:"text-sm font-semibold text-neutral-900 overflow-hidden relative group cursor-pointer",children:t.jsx("div",{className:`whitespace-nowrap transition-all duration-300 hover:scale-105 hover:text-roman-500 ${R.title.length>25?"animate-scroll":""}`,style:{animationDuration:`${Math.max(3,R.title.length*.2)}s`},children:R.title})})}),t.jsx(Q,{className:"flex-grow text-right p-2",children:t.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[t.jsxs("div",{className:"flex items-center text-neutral-900/70",children:[t.jsx(ze,{className:"h-3 w-3 text-warning-500 ml-1"}),t.jsxs("span",{className:"whitespace-nowrap",children:[R.rating," (",R.reviewCount,")"]})]}),t.jsxs("p",{className:"text-sm font-bold text-roman-500 whitespace-nowrap",children:[R.price," ج"]})]})}),t.jsx(St,{className:"flex justify-start p-2",children:t.jsx(z,{asChild:!0,className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white text-xs",children:t.jsxs(we,{to:`/gigs/${R.id}`,className:"whitespace-nowrap",children:["عرض التفاصيل",t.jsx(An,{className:"ml-2 h-3 w-3"})]})})})]})},R.id)})}),t.jsx("div",{className:"text-center mt-12",children:t.jsx(z,{asChild:!0,variant:"outline",size:"lg",className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:t.jsxs(we,{to:"/explore",children:["استكشف المزيد",t.jsx(qs,{className:"mr-2 h-4 w-4"})]})})})]})}),!D&&!H&&M.length>0&&t.jsx("section",{className:"py-16 bg-gradient-to-r from-neutral-100 to-success-100",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs(K.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("h2",{className:"text-3xl font-bold mb-4 text-neutral-900",children:[t.jsx(m1,{className:"inline-block mr-2 text-roman-500",size:32}),"آخر ",t.jsx("span",{className:"text-roman-500",children:"الإعلانات"})]}),t.jsx("p",{className:"text-neutral-900/70",children:"اطلع على أحدث الأخبار والتحديثات المهمة"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:M.map((R,V)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:V*.1},children:t.jsxs(J,{className:"h-full hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-roman-500 bg-white/90 backdrop-blur-sm",children:[t.jsxs(de,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[W(R.type),t.jsx(me,{className:G(R.type),children:R.type==="info"?"معلومات":R.type==="warning"?"تحذير":R.type==="success"?"نجاح":"تنبيه"})]}),t.jsxs("div",{className:"text-xs text-neutral-400 flex items-center",children:[t.jsx(hr,{className:"h-3 w-3 mr-1 text-roman-500"}),new Date(R.created_at).toLocaleDateString("ar-EG")]})]}),t.jsx(he,{className:"text-lg font-semibold text-neutral-900 leading-tight",children:R.title})]}),t.jsxs(Q,{className:"pt-0",children:[t.jsx("p",{className:"text-neutral-900/80 leading-relaxed line-clamp-3",children:R.content}),R.image&&t.jsx("div",{className:"mt-3",children:t.jsx("img",{src:`/storage/${R.image}`,alt:R.title,className:"w-full h-32 object-cover rounded-md"})})]}),t.jsx(St,{className:"pt-2",children:t.jsx(z,{asChild:!0,variant:"outline",size:"sm",className:"w-full text-roman-500 border-roman-500 hover:bg-roman-500 hover:text-white",children:t.jsxs(we,{to:`/announcements#${R.id}`,children:["اقرأ المزيد",t.jsx(qs,{className:"mr-2 h-3 w-3"})]})})})]})},R.id))}),t.jsx("div",{className:"text-center mt-8",children:t.jsx(z,{asChild:!0,variant:"outline",size:"lg",className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:t.jsxs(we,{to:"/announcements",children:["عرض جميع الإعلانات",t.jsx(qs,{className:"mr-2 h-4 w-4"})]})})})]})}),t.jsx("section",{className:"py-16 bg-white",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs(K.h2,{className:"text-3xl font-bold text-center mb-12 text-neutral-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["كيف تعمل ",t.jsx("span",{className:"text-roman-500",children:"منصتنا؟"})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[{icon:t.jsx(As,{size:48,className:"text-roman-500 mx-auto mb-4"}),title:"اكتشف",description:"تصفح آلاف المنتجات اليدوية الفريدة من مختلف الحرفيين."},{icon:t.jsx(du,{size:48,className:"text-roman-500 mx-auto mb-4"}),title:"اطلب",description:"اختر المنتج الذي يعجبك وقم بطلبه بسهولة وأمان."},{icon:t.jsx(sc,{size:48,className:"text-roman-500 mx-auto mb-4"}),title:"استلم",description:"استلم تحفتك الفنية المصنوعة يدويًا واستمتع بها."}].map((R,V)=>t.jsxs(K.div,{className:"p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:V*.2},children:[R.icon,t.jsx("h3",{className:"text-xl font-semibold mb-2 text-neutral-900",children:R.title}),t.jsx("p",{className:"text-neutral-900/70",children:R.description})]},V))})]})}),t.jsx("section",{className:"py-16 bg-roman-400/10",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs(K.h2,{className:"text-3xl font-bold text-center mb-12 text-neutral-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["تعرف على ",t.jsx("span",{className:"text-roman-500",children:"أفضل الحرفيين"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d?t.jsx("div",{className:"col-span-3 text-center text-neutral-900/60 py-8",children:"جاري التحميل..."}):h?t.jsx("div",{className:"col-span-3 text-center text-red-600 py-8",children:h}):l.length===0?t.jsx("div",{className:"col-span-3 text-center text-neutral-900/60 py-8",children:"لا يوجد حرفيون مميزون حالياً"}):l.map((R,V)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:V*.15},children:t.jsxs(J,{className:"text-center p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 card-hover border-roman-500/20",children:[t.jsxs(ms,{className:"w-24 h-24 mx-auto mb-4 border-4 border-roman-500",children:[t.jsx(Es,{src:R.avatar,alt:R.name}),t.jsx(fs,{children:R.name.charAt(0)})]}),t.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-1",children:R.name}),t.jsx("p",{className:"text-sm text-neutral-900/60 mb-2",children:Array.isArray(R.skills)?R.skills.slice(0,2).join("، "):""}),t.jsxs("div",{className:"flex justify-center items-center text-warning-500 mb-3",children:[t.jsx(ze,{size:16,className:"mr-1"})," ",R.rating," (",R.reviewCount," تقييمات)"]}),t.jsx(z,{asChild:!0,variant:"outline",className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:t.jsx(we,{to:`/profile/${R.id}`,children:"عرض الملف الشخصي"})})]})},R.id))})]})}),t.jsx(n7,{}),t.jsxs("section",{className:"py-20 bg-neutral-100 text-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 w-full h-full z-0",style:{backgroundImage:"url('https://images.unsplash.com/photo-1686825374490-663137bad061')",backgroundSize:"cover",backgroundPosition:"center",filter:"blur(10px) brightness(0.7)",opacity:.7,pointerEvents:"none"},"aria-hidden":"true"}),t.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[t.jsx(K.h2,{className:"text-3xl md:text-4xl font-bold mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},children:"هل أنت حرفي موهوب؟"}),t.jsx(K.p,{className:"text-lg md:text-xl mb-8 text-neutral-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:"انضم إلى منصتنا اليوم وابدأ في عرض وبيع إبداعاتك اليدوية لجمهور واسع."}),t.jsx(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,delay:.4},children:t.jsxs(z,{size:"lg",className:"bg-roman-500 hover:bg-roman-500/90 text-white px-8 py-3 text-lg",onClick:()=>e("/register?role=seller"),children:["ابدأ البيع الآن",t.jsx(qs,{className:"mr-2 h-5 w-5"})]})})]})]})]})};var a7="Label",x5=u.forwardRef((e,s)=>t.jsx($e.label,{...e,ref:s,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));x5.displayName=a7;var g5=x5;const i7=jc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=ce.forwardRef(({className:e,...s},n)=>t.jsx(g5,{ref:n,className:je(i7(),e),...s}));ee.displayName=g5.displayName;function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(null,arguments)}function Mj(e,[s,n]){return Math.min(n,Math.max(s,e))}function es(e,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function J0(e,s=[]){let n=[];function r(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:p,children:v,...w}=h,g=(p==null?void 0:p[e][c])||l,y=u.useMemo(()=>w,Object.values(w));return u.createElement(g.Provider,{value:y},v)}function m(h,p){const v=(p==null?void 0:p[e][c])||l,w=u.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const a=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,o7(a,...s)]}function o7(...e){const s=e[0];if(e.length===1)return s;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return n.scopeName=s.scopeName,n}function l7(e,s){typeof e=="function"?e(s):e!=null&&(e.current=s)}function v5(...e){return s=>e.forEach(n=>l7(n,s))}function Rs(...e){return u.useCallback(v5(...e),e)}const hc=u.forwardRef((e,s)=>{const{children:n,...r}=e,a=u.Children.toArray(n),i=a.find(d7);if(i){const o=i.props.children,l=a.map(c=>c===i?u.Children.count(o)>1?u.Children.only(null):u.isValidElement(o)?o.props.children:null:c);return u.createElement(Rp,rt({},r,{ref:s}),u.isValidElement(o)?u.cloneElement(o,void 0,l):null)}return u.createElement(Rp,rt({},r,{ref:s}),n)});hc.displayName="Slot";const Rp=u.forwardRef((e,s)=>{const{children:n,...r}=e;return u.isValidElement(n)?u.cloneElement(n,{...u7(r,n.props),ref:s?v5(s,n.ref):n.ref}):u.Children.count(n)>1?u.Children.only(null):null});Rp.displayName="SlotClone";const c7=({children:e})=>u.createElement(u.Fragment,null,e);function d7(e){return u.isValidElement(e)&&e.type===c7}function u7(e,s){const n={...s};for(const r in s){const a=e[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function h7(e){const s=e+"CollectionProvider",[n,r]=J0(s),[a,i]=n(s,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:g}=v,y=ce.useRef(null),f=ce.useRef(new Map).current;return ce.createElement(a,{scope:w,itemMap:f,collectionRef:y},g)},l=e+"CollectionSlot",c=ce.forwardRef((v,w)=>{const{scope:g,children:y}=v,f=i(l,g),x=Rs(w,f.collectionRef);return ce.createElement(hc,{ref:x},y)}),d=e+"CollectionItemSlot",m="data-radix-collection-item",h=ce.forwardRef((v,w)=>{const{scope:g,children:y,...f}=v,x=ce.useRef(null),j=Rs(w,x),N=i(d,g);return ce.useEffect(()=>(N.itemMap.set(x,{ref:x,...f}),()=>void N.itemMap.delete(x))),ce.createElement(hc,{[m]:"",ref:j},y)});function p(v){const w=i(e+"CollectionConsumer",v);return ce.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const f=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((N,S)=>f.indexOf(N.ref.current)-f.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,r]}const m7=u.createContext(void 0);function f7(e){const s=u.useContext(m7);return e||s||"ltr"}const p7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gs=p7.reduce((e,s)=>{const n=u.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?hc:s;return u.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),u.createElement(l,rt({},o,{ref:a}))});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{});function x7(e,s){e&&Ia.flushSync(()=>e.dispatchEvent(s))}function Wr(e){const s=u.useRef(e);return u.useEffect(()=>{s.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=s.current)===null||r===void 0?void 0:r.call(s,...n)},[])}function g7(e,s=globalThis==null?void 0:globalThis.document){const n=Wr(e);u.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return s.addEventListener("keydown",r),()=>s.removeEventListener("keydown",r)},[n,s])}const Mp="dismissableLayer.update",v7="dismissableLayer.pointerDownOutside",y7="dismissableLayer.focusOutside";let Dj;const j7=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),b7=u.forwardRef((e,s)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,m=u.useContext(j7),[h,p]=u.useState(null),v=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=u.useState({}),g=Rs(s,k=>p(k)),y=Array.from(m.layers),[f]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(f),j=h?y.indexOf(h):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,S=j>=x,A=w7(k=>{const M=k.target,P=[...m.branches].some(D=>D.contains(M));!S||P||(i==null||i(k),l==null||l(k),k.defaultPrevented||c==null||c())},v),C=N7(k=>{const M=k.target;[...m.branches].some(D=>D.contains(M))||(o==null||o(k),l==null||l(k),k.defaultPrevented||c==null||c())},v);return g7(k=>{j===m.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},v),u.useEffect(()=>{if(h)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Dj=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),Oj(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Dj)}},[h,v,r,m]),u.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),Oj())},[h,m]),u.useEffect(()=>{const k=()=>w({});return document.addEventListener(Mp,k),()=>document.removeEventListener(Mp,k)},[]),u.createElement(gs.div,rt({},d,{ref:g,style:{pointerEvents:N?S?"auto":"none":void 0,...e.style},onFocusCapture:es(e.onFocusCapture,C.onFocusCapture),onBlurCapture:es(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:es(e.onPointerDownCapture,A.onPointerDownCapture)}))});function w7(e,s=globalThis==null?void 0:globalThis.document){const n=Wr(e),r=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let m=function(){y5(v7,n,d,{discrete:!0})};var c=m;const d={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=m,s.addEventListener("click",a.current,{once:!0})):m()}r.current=!1},o=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,n]),{onPointerDownCapture:()=>r.current=!0}}function N7(e,s=globalThis==null?void 0:globalThis.document){const n=Wr(e),r=u.useRef(!1);return u.useEffect(()=>{const a=i=>{i.target&&!r.current&&y5(y7,n,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Oj(){const e=new CustomEvent(Mp);document.dispatchEvent(e)}function y5(e,s,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});s&&a.addEventListener(e,s,{once:!0}),r?x7(a,i):a.dispatchEvent(i)}let Xm=0;function S7(){u.useEffect(()=>{var e,s;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:$j()),document.body.insertAdjacentElement("beforeend",(s=n[1])!==null&&s!==void 0?s:$j()),Xm++,()=>{Xm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Xm--}},[])}function $j(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Jm="focusScope.autoFocusOnMount",Qm="focusScope.autoFocusOnUnmount",Ij={bubbles:!1,cancelable:!0},C7=u.forwardRef((e,s)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=u.useState(null),d=Wr(a),m=Wr(i),h=u.useRef(null),p=Rs(s,g=>c(g)),v=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(r){let x=function(A){if(v.paused||!l)return;const C=A.target;l.contains(C)?h.current=C:Zr(h.current,{select:!0})},j=function(A){if(v.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||Zr(h.current,{select:!0}))},N=function(A){const C=document.activeElement;for(const k of A)k.removedNodes.length>0&&(l!=null&&l.contains(C)||Zr(l))};var g=x,y=j,f=N;document.addEventListener("focusin",x),document.addEventListener("focusout",j);const S=new MutationObserver(N);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),S.disconnect()}}},[r,l,v.paused]),u.useEffect(()=>{if(l){Fj.add(v);const g=document.activeElement;if(!l.contains(g)){const f=new CustomEvent(Jm,Ij);l.addEventListener(Jm,d),l.dispatchEvent(f),f.defaultPrevented||(_7(A7(j5(l)),{select:!0}),document.activeElement===g&&Zr(l))}return()=>{l.removeEventListener(Jm,d),setTimeout(()=>{const f=new CustomEvent(Qm,Ij);l.addEventListener(Qm,m),l.dispatchEvent(f),f.defaultPrevented||Zr(g??document.body,{select:!0}),l.removeEventListener(Qm,m),Fj.remove(v)},0)}}},[l,d,m,v]);const w=u.useCallback(g=>{if(!n&&!r||v.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,f=document.activeElement;if(y&&f){const x=g.currentTarget,[j,N]=k7(x);j&&N?!g.shiftKey&&f===N?(g.preventDefault(),n&&Zr(j,{select:!0})):g.shiftKey&&f===j&&(g.preventDefault(),n&&Zr(N,{select:!0})):f===x&&g.preventDefault()}},[n,r,v.paused]);return u.createElement(gs.div,rt({tabIndex:-1},o,{ref:p,onKeyDown:w}))});function _7(e,{select:s=!1}={}){const n=document.activeElement;for(const r of e)if(Zr(r,{select:s}),document.activeElement!==n)return}function k7(e){const s=j5(e),n=Lj(s,e),r=Lj(s.reverse(),e);return[n,r]}function j5(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function Lj(e,s){for(const n of e)if(!P7(n,{upTo:s}))return n}function P7(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function E7(e){return e instanceof HTMLInputElement&&"select"in e}function Zr(e,{select:s=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&E7(e)&&s&&e.select()}}const Fj=T7();function T7(){let e=[];return{add(s){const n=e[0];s!==n&&(n==null||n.pause()),e=zj(e,s),e.unshift(s)},remove(s){var n;e=zj(e,s),(n=e[0])===null||n===void 0||n.resume()}}}function zj(e,s){const n=[...e],r=n.indexOf(s);return r!==-1&&n.splice(r,1),n}function A7(e){return e.filter(s=>s.tagName!=="A")}const Rn=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},R7=Du["useId".toString()]||(()=>{});let M7=0;function b5(e){const[s,n]=u.useState(R7());return Rn(()=>{e||n(r=>r??String(M7++))},[e]),e||(s?`radix-${s}`:"")}function D7(e){const[s,n]=u.useState(void 0);return Rn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),s}const w5="Popper",[N5,S5]=J0(w5),[O7,C5]=N5(w5),$7=e=>{const{__scopePopper:s,children:n}=e,[r,a]=u.useState(null);return u.createElement(O7,{scope:s,anchor:r,onAnchorChange:a},n)},I7="PopperAnchor",L7=u.forwardRef((e,s)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=C5(I7,n),o=u.useRef(null),l=Rs(s,o);return u.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.createElement(gs.div,rt({},a,{ref:l}))}),_5="PopperContent",[F7,xB]=N5(_5),z7=u.forwardRef((e,s)=>{var n,r,a,i,o,l,c,d;const{__scopePopper:m,side:h="bottom",sideOffset:p=0,align:v="center",alignOffset:w=0,arrowPadding:g=0,collisionBoundary:y=[],collisionPadding:f=0,sticky:x="partial",hideWhenDetached:j=!1,avoidCollisions:N=!0,onPlaced:S,...A}=e,C=C5(_5,m),[k,M]=u.useState(null),P=Rs(s,Ie=>M(Ie)),[D,I]=u.useState(null),H=D7(D),O=(n=H==null?void 0:H.width)!==null&&n!==void 0?n:0,$=(r=H==null?void 0:H.height)!==null&&r!==void 0?r:0,W=h+(v!=="center"?"-"+v:""),G=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(y)?y:[y],V=R.length>0,q={padding:G,boundary:R.filter(V7),altBoundary:V},{refs:T,floatingStyles:U,placement:se,isPositioned:ie,middlewareData:fe}=AS({strategy:"fixed",placement:W,whileElementsMounted:ES,elements:{reference:C.anchor},middleware:[RS({mainAxis:p+$,alignmentAxis:w}),N&&MS({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?DS():void 0,...q}),N&&OS({...q}),$S({...q,apply:({elements:Ie,rects:qe,availableWidth:At,availableHeight:ss})=>{const{width:sn,height:ye}=qe.reference,ne=Ie.floating.style;ne.setProperty("--radix-popper-available-width",`${At}px`),ne.setProperty("--radix-popper-available-height",`${ss}px`),ne.setProperty("--radix-popper-anchor-width",`${sn}px`),ne.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),D&&LS({element:D,padding:g}),U7({arrowWidth:O,arrowHeight:$}),j&&IS({strategy:"referenceHidden"})]}),[ue,le]=k5(se),Pe=Wr(S);Rn(()=>{ie&&(Pe==null||Pe())},[ie,Pe]);const L=(a=fe.arrow)===null||a===void 0?void 0:a.x,Y=(i=fe.arrow)===null||i===void 0?void 0:i.y,X=((o=fe.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[pe,Me]=u.useState();return Rn(()=>{k&&Me(window.getComputedStyle(k).zIndex)},[k]),u.createElement("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:ie?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(l=fe.transformOrigin)===null||l===void 0?void 0:l.x,(c=fe.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},u.createElement(F7,{scope:m,placedSide:ue,onArrowChange:I,arrowX:L,arrowY:Y,shouldHideArrow:X},u.createElement(gs.div,rt({"data-side":ue,"data-align":le},A,{ref:P,style:{...A.style,animation:ie?void 0:"none",opacity:(d=fe.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function V7(e){return e!==null}const U7=e=>({name:"transformOrigin",options:e,fn(s){var n,r,a,i,o;const{placement:l,rects:c,middlewareData:d}=s,h=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=h?0:e.arrowWidth,v=h?0:e.arrowHeight,[w,g]=k5(l),y={start:"0%",center:"50%",end:"100%"}[g],f=((r=(a=d.arrow)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0)+p/2,x=((i=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+v/2;let j="",N="";return w==="bottom"?(j=h?y:`${f}px`,N=`${-v}px`):w==="top"?(j=h?y:`${f}px`,N=`${c.floating.height+v}px`):w==="right"?(j=`${-v}px`,N=h?y:`${x}px`):w==="left"&&(j=`${c.floating.width+v}px`,N=h?y:`${x}px`),{data:{x:j,y:N}}}});function k5(e){const[s,n="center"]=e.split("-");return[s,n]}const B7=$7,W7=L7,H7=z7,q7=u.forwardRef((e,s)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?NN.createPortal(u.createElement(gs.div,rt({},a,{ref:s})),r):null});function Vj({prop:e,defaultProp:s,onChange:n=()=>{}}){const[r,a]=G7({defaultProp:s,onChange:n}),i=e!==void 0,o=i?e:r,l=Wr(n),c=u.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else a(d)},[i,e,a,l]);return[o,c]}function G7({defaultProp:e,onChange:s}){const n=u.useState(e),[r]=n,a=u.useRef(r),i=Wr(s);return u.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}function K7(e){const s=u.useRef({value:e,previous:e});return u.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}const Y7=u.forwardRef((e,s)=>u.createElement(gs.span,rt({},e,{ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var P5=iC(),Zm=function(){},Nh=u.forwardRef(function(e,s){var n=u.useRef(null),r=u.useState({onScrollCapture:Zm,onWheelCapture:Zm,onTouchMoveCapture:Zm}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,h=e.shards,p=e.sideCar,v=e.noIsolation,w=e.inert,g=e.allowPinchZoom,y=e.as,f=y===void 0?"div":y,x=U0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),j=p,N=aC([n,s]),S=Cs(Cs({},x),a);return u.createElement(u.Fragment,null,m&&u.createElement(j,{sideCar:P5,removeScrollBar:d,shards:h,noIsolation:v,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:n}),o?u.cloneElement(u.Children.only(l),Cs(Cs({},S),{ref:N})):u.createElement(f,Cs({},S,{className:c,ref:N}),l))});Nh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nh.classNames={fullWidth:Dl,zeroRight:Ml};var Dp=!1;if(typeof window<"u")try{var vd=Object.defineProperty({},"passive",{get:function(){return Dp=!0,!0}});window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{Dp=!1}var Ri=Dp?{passive:!1}:!1,X7=function(e){return e.tagName==="TEXTAREA"},E5=function(e,s){var n=window.getComputedStyle(e);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!X7(e)&&n[s]==="visible")},J7=function(e){return E5(e,"overflowY")},Q7=function(e){return E5(e,"overflowX")},Uj=function(e,s){var n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=T5(e,n);if(r){var a=A5(e,n),i=a[1],o=a[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Z7=function(e){var s=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[s,n,r]},eF=function(e){var s=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[s,n,r]},T5=function(e,s){return e==="v"?J7(s):Q7(s)},A5=function(e,s){return e==="v"?Z7(s):eF(s)},tF=function(e,s){return e==="h"&&s==="rtl"?-1:1},sF=function(e,s,n,r,a){var i=tF(e,window.getComputedStyle(s).direction),o=i*r,l=n.target,c=s.contains(l),d=!1,m=o>0,h=0,p=0;do{var v=A5(e,l),w=v[0],g=v[1],y=v[2],f=g-y-i*w;(w||f)&&T5(e,l)&&(h+=f,p+=w),l=l.parentNode}while(!c&&l!==document.body||c&&(s.contains(l)||s===l));return(m&&(a&&h===0||!a&&o>h)||!m&&(a&&p===0||!a&&-o>p))&&(d=!0),d},yd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bj=function(e){return[e.deltaX,e.deltaY]},Wj=function(e){return e&&"current"in e?e.current:e},nF=function(e,s){return e[0]===s[0]&&e[1]===s[1]},rF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aF=0,Mi=[];function iF(e){var s=u.useRef([]),n=u.useRef([0,0]),r=u.useRef(),a=u.useState(aF++)[0],i=u.useState(function(){return B0()})[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=rC([e.lockRef.current],(e.shards||[]).map(Wj),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(g,y){if("touches"in g&&g.touches.length===2)return!o.current.allowPinchZoom;var f=yd(g),x=n.current,j="deltaX"in g?g.deltaX:x[0]-f[0],N="deltaY"in g?g.deltaY:x[1]-f[1],S,A=g.target,C=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in g&&C==="h"&&A.type==="range")return!1;var k=Uj(C,A);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=Uj(C,A)),!k)return!1;if(!r.current&&"changedTouches"in g&&(j||N)&&(r.current=S),!S)return!0;var M=r.current||S;return sF(M,y,g,M==="h"?j:N,!0)},[]),c=u.useCallback(function(g){var y=g;if(!(!Mi.length||Mi[Mi.length-1]!==i)){var f="deltaY"in y?Bj(y):yd(y),x=s.current.filter(function(S){return S.name===y.type&&S.target===y.target&&nF(S.delta,f)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var j=(o.current.shards||[]).map(Wj).filter(Boolean).filter(function(S){return S.contains(y.target)}),N=j.length>0?l(y,j[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=u.useCallback(function(g,y,f,x){var j={name:g,delta:y,target:f,should:x};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(N){return N!==j})},1)},[]),m=u.useCallback(function(g){n.current=yd(g),r.current=void 0},[]),h=u.useCallback(function(g){d(g.type,Bj(g),g.target,l(g,e.lockRef.current))},[]),p=u.useCallback(function(g){d(g.type,yd(g),g.target,l(g,e.lockRef.current))},[]);u.useEffect(function(){return Mi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ri),document.addEventListener("touchmove",c,Ri),document.addEventListener("touchstart",m,Ri),function(){Mi=Mi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ri),document.removeEventListener("touchmove",c,Ri),document.removeEventListener("touchstart",m,Ri)}},[]);var v=e.removeScrollBar,w=e.inert;return u.createElement(u.Fragment,null,w?u.createElement(i,{styles:rF(a)}):null,v?u.createElement(dC,{gapMode:"margin"}):null)}const oF=lC(P5,iF);var R5=u.forwardRef(function(e,s){return u.createElement(Nh,Cs({},e,{ref:s,sideCar:oF}))});R5.classNames=Nh.classNames;const lF=R5,cF=[" ","Enter","ArrowUp","ArrowDown"],dF=[" ","Enter"],Sh="Select",[Ch,_h,uF]=h7(Sh),[Lo,gB]=J0(Sh,[uF,S5]),Q0=S5(),[hF,Ci]=Lo(Sh),[mF,fF]=Lo(Sh),pF=e=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:m,autoComplete:h,disabled:p,required:v}=e,w=Q0(s),[g,y]=u.useState(null),[f,x]=u.useState(null),[j,N]=u.useState(!1),S=f7(d),[A=!1,C]=Vj({prop:r,defaultProp:a,onChange:i}),[k,M]=Vj({prop:o,defaultProp:l,onChange:c}),P=u.useRef(null),D=g?!!g.closest("form"):!0,[I,H]=u.useState(new Set),O=Array.from(I).map($=>$.props.value).join(";");return u.createElement(B7,w,u.createElement(hF,{required:v,scope:s,trigger:g,onTriggerChange:y,valueNode:f,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:b5(),value:k,onValueChange:M,open:A,onOpenChange:C,dir:S,triggerPointerDownPosRef:P,disabled:p},u.createElement(Ch.Provider,{scope:s},u.createElement(mF,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback($=>{H(W=>new Set(W).add($))},[]),onNativeOptionRemove:u.useCallback($=>{H(W=>{const G=new Set(W);return G.delete($),G})},[])},n)),D?u.createElement($5,{key:O,"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:h,value:k,onChange:$=>M($.target.value),disabled:p},k===void 0?u.createElement("option",{value:""}):null,Array.from(I)):null))},xF="SelectTrigger",gF=u.forwardRef((e,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Q0(n),o=Ci(xF,n),l=o.disabled||r,c=Rs(s,o.onTriggerChange),d=_h(n),[m,h,p]=I5(w=>{const g=d().filter(x=>!x.disabled),y=g.find(x=>x.value===o.value),f=L5(g,w,y);f!==void 0&&o.onValueChange(f.value)}),v=()=>{l||(o.onOpenChange(!0),p())};return u.createElement(W7,rt({asChild:!0},i),u.createElement(gs.button,rt({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o.value===void 0?"":void 0},a,{ref:c,onClick:es(a.onClick,w=>{w.currentTarget.focus()}),onPointerDown:es(a.onPointerDown,w=>{const g=w.target;g.hasPointerCapture(w.pointerId)&&g.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(v(),o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:es(a.onKeyDown,w=>{const g=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&h(w.key),!(g&&w.key===" ")&&cF.includes(w.key)&&(v(),w.preventDefault())})})))}),vF="SelectValue",yF=u.forwardRef((e,s)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o,...l}=e,c=Ci(vF,n),{onValueNodeHasChildrenChange:d}=c,m=i!==void 0,h=Rs(s,c.onValueNodeChange);return Rn(()=>{d(m)},[d,m]),u.createElement(gs.span,rt({},l,{ref:h,style:{pointerEvents:"none"}}),c.value===void 0&&o!==void 0?o:i)}),jF=u.forwardRef((e,s)=>{const{__scopeSelect:n,children:r,...a}=e;return u.createElement(gs.span,rt({"aria-hidden":!0},a,{ref:s}),r||"▼")}),bF=e=>u.createElement(q7,rt({asChild:!0},e)),Po="SelectContent",wF=u.forwardRef((e,s)=>{const n=Ci(Po,e.__scopeSelect),[r,a]=u.useState();if(Rn(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Ia.createPortal(u.createElement(M5,{scope:e.__scopeSelect},u.createElement(Ch.Slot,{scope:e.__scopeSelect},u.createElement("div",null,e.children))),i):null}return u.createElement(NF,rt({},e,{ref:s}))}),Cr=10,[M5,_i]=Lo(Po),NF=u.forwardRef((e,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:g,avoidCollisions:y,...f}=e,x=Ci(Po,n),[j,N]=u.useState(null),[S,A]=u.useState(null),C=Rs(s,le=>N(le)),[k,M]=u.useState(null),[P,D]=u.useState(null),I=_h(n),[H,O]=u.useState(!1),$=u.useRef(!1);u.useEffect(()=>{if(j)return V0(j)},[j]),S7();const W=u.useCallback(le=>{const[Pe,...L]=I().map(pe=>pe.ref.current),[Y]=L.slice(-1),X=document.activeElement;for(const pe of le)if(pe===X||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===Pe&&S&&(S.scrollTop=0),pe===Y&&S&&(S.scrollTop=S.scrollHeight),pe==null||pe.focus(),document.activeElement!==X))return},[I,S]),G=u.useCallback(()=>W([k,j]),[W,k,j]);u.useEffect(()=>{H&&G()},[H,G]);const{onOpenChange:R,triggerPointerDownPosRef:V}=x;u.useEffect(()=>{if(j){let le={x:0,y:0};const Pe=Y=>{var X,pe,Me,Ie;le={x:Math.abs(Math.round(Y.pageX)-((X=(pe=V.current)===null||pe===void 0?void 0:pe.x)!==null&&X!==void 0?X:0)),y:Math.abs(Math.round(Y.pageY)-((Me=(Ie=V.current)===null||Ie===void 0?void 0:Ie.y)!==null&&Me!==void 0?Me:0))}},L=Y=>{le.x<=10&&le.y<=10?Y.preventDefault():j.contains(Y.target)||R(!1),document.removeEventListener("pointermove",Pe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",L,{capture:!0})}}},[j,R,V]),u.useEffect(()=>{const le=()=>R(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[R]);const[q,T]=I5(le=>{const Pe=I().filter(X=>!X.disabled),L=Pe.find(X=>X.ref.current===document.activeElement),Y=L5(Pe,le,L);Y&&setTimeout(()=>Y.ref.current.focus())}),U=u.useCallback((le,Pe,L)=>{const Y=!$.current&&!L;(x.value!==void 0&&x.value===Pe||Y)&&(M(le),Y&&($.current=!0))},[x.value]),se=u.useCallback(()=>j==null?void 0:j.focus(),[j]),ie=u.useCallback((le,Pe,L)=>{const Y=!$.current&&!L;(x.value!==void 0&&x.value===Pe||Y)&&D(le)},[x.value]),fe=r==="popper"?Hj:SF,ue=fe===Hj?{side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:g,avoidCollisions:y}:{};return u.createElement(M5,{scope:n,content:j,viewport:S,onViewportChange:A,itemRefCallback:U,selectedItem:k,onItemLeave:se,itemTextRefCallback:ie,focusSelectedItem:G,selectedItemText:P,position:r,isPositioned:H,searchRef:q},u.createElement(lF,{as:hc,allowPinchZoom:!0},u.createElement(C7,{asChild:!0,trapped:x.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:es(a,le=>{var Pe;(Pe=x.trigger)===null||Pe===void 0||Pe.focus({preventScroll:!0}),le.preventDefault()})},u.createElement(b7,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},u.createElement(fe,rt({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:le=>le.preventDefault()},f,ue,{onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...f.style},onKeyDown:es(f.onKeyDown,le=>{const Pe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Pe&&le.key.length===1&&T(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Y=I().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const X=le.target,pe=Y.indexOf(X);Y=Y.slice(pe+1)}setTimeout(()=>W(Y)),le.preventDefault()}})}))))))}),SF=u.forwardRef((e,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Ci(Po,n),o=_i(Po,n),[l,c]=u.useState(null),[d,m]=u.useState(null),h=Rs(s,C=>m(C)),p=_h(n),v=u.useRef(!1),w=u.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:f,focusSelectedItem:x}=o,j=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&y&&f){const C=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),P=f.getBoundingClientRect();if(i.dir!=="rtl"){const X=P.left-k.left,pe=M.left-X,Me=C.left-pe,Ie=C.width+Me,qe=Math.max(Ie,k.width),At=window.innerWidth-Cr,ss=Mj(pe,[Cr,At-qe]);l.style.minWidth=Ie+"px",l.style.left=ss+"px"}else{const X=k.right-P.right,pe=window.innerWidth-M.right-X,Me=window.innerWidth-C.right-pe,Ie=C.width+Me,qe=Math.max(Ie,k.width),At=window.innerWidth-Cr,ss=Mj(pe,[Cr,At-qe]);l.style.minWidth=Ie+"px",l.style.right=ss+"px"}const D=p(),I=window.innerHeight-Cr*2,H=g.scrollHeight,O=window.getComputedStyle(d),$=parseInt(O.borderTopWidth,10),W=parseInt(O.paddingTop,10),G=parseInt(O.borderBottomWidth,10),R=parseInt(O.paddingBottom,10),V=$+W+H+R+G,q=Math.min(y.offsetHeight*5,V),T=window.getComputedStyle(g),U=parseInt(T.paddingTop,10),se=parseInt(T.paddingBottom,10),ie=C.top+C.height/2-Cr,fe=I-ie,ue=y.offsetHeight/2,le=y.offsetTop+ue,Pe=$+W+le,L=V-Pe;if(Pe<=ie){const X=y===D[D.length-1].ref.current;l.style.bottom="0px";const pe=d.clientHeight-g.offsetTop-g.offsetHeight,Me=Math.max(fe,ue+(X?se:0)+pe+G),Ie=Pe+Me;l.style.height=Ie+"px"}else{const X=y===D[0].ref.current;l.style.top="0px";const Me=Math.max(ie,$+g.offsetTop+(X?U:0)+ue)+L;l.style.height=Me+"px",g.scrollTop=Pe-ie+g.offsetTop}l.style.margin=`${Cr}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,l,d,g,y,f,i.dir,r]);Rn(()=>j(),[j]);const[N,S]=u.useState();Rn(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const A=u.useCallback(C=>{C&&w.current===!0&&(j(),x==null||x(),w.current=!1)},[j,x]);return u.createElement(CF,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:A},u.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N}},u.createElement(gs.div,rt({},a,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),Hj=u.forwardRef((e,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Cr,...i}=e,o=Q0(n);return u.createElement(H7,rt({},o,i,{ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[CF,Z0]=Lo(Po,{}),qj="SelectViewport",_F=u.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e,a=_i(qj,n),i=Z0(qj,n),o=Rs(s,a.onViewportChange),l=u.useRef(0);return u.createElement(u.Fragment,null,u.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),u.createElement(Ch.Slot,{scope:n},u.createElement(gs.div,rt({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:es(r.onScroll,c=>{const d=c.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&m){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-Cr*2,w=parseFloat(m.style.minHeight),g=parseFloat(m.style.height),y=Math.max(w,g);if(y<v){const f=y+p,x=Math.min(v,f),j=f-x;m.style.height=x+"px",m.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}l.current=d.scrollTop})}))))}),kF="SelectGroup",[vB,PF]=Lo(kF),EF="SelectLabel",TF=u.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e,a=PF(EF,n);return u.createElement(gs.div,rt({id:a.id},r,{ref:s}))}),Op="SelectItem",[AF,D5]=Lo(Op),RF=u.forwardRef((e,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Ci(Op,n),c=_i(Op,n),d=l.value===r,[m,h]=u.useState(i??""),[p,v]=u.useState(!1),w=Rs(s,f=>{var x;return(x=c.itemRefCallback)===null||x===void 0?void 0:x.call(c,f,r,a)}),g=b5(),y=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};return u.createElement(AF,{scope:n,value:r,disabled:a,textId:g,isSelected:d,onItemTextChange:u.useCallback(f=>{h(x=>{var j;return x||((j=f==null?void 0:f.textContent)!==null&&j!==void 0?j:"").trim()})},[])},u.createElement(Ch.ItemSlot,{scope:n,value:r,disabled:a,textValue:m},u.createElement(gs.div,rt({role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o,{ref:w,onFocus:es(o.onFocus,()=>v(!0)),onBlur:es(o.onBlur,()=>v(!1)),onPointerUp:es(o.onPointerUp,y),onPointerMove:es(o.onPointerMove,f=>{if(a){var x;(x=c.onItemLeave)===null||x===void 0||x.call(c)}else f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:es(o.onPointerLeave,f=>{if(f.currentTarget===document.activeElement){var x;(x=c.onItemLeave)===null||x===void 0||x.call(c)}}),onKeyDown:es(o.onKeyDown,f=>{var x;((x=c.searchRef)===null||x===void 0?void 0:x.current)!==""&&f.key===" "||(dF.includes(f.key)&&y(),f.key===" "&&f.preventDefault())})}))))}),jd="SelectItemText",MF=u.forwardRef((e,s)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=Ci(jd,n),l=_i(jd,n),c=D5(jd,n),d=fF(jd,n),[m,h]=u.useState(null),p=Rs(s,f=>h(f),c.onItemTextChange,f=>{var x;return(x=l.itemTextRefCallback)===null||x===void 0?void 0:x.call(l,f,c.value,c.disabled)}),v=m==null?void 0:m.textContent,w=u.useMemo(()=>u.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},v),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return Rn(()=>(g(w),()=>y(w)),[g,y,w]),u.createElement(u.Fragment,null,u.createElement(gs.span,rt({id:c.textId},i,{ref:p})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ia.createPortal(i.children,o.valueNode):null)}),DF="SelectItemIndicator",OF=u.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e;return D5(DF,n).isSelected?u.createElement(gs.span,rt({"aria-hidden":!0},r,{ref:s})):null}),Gj="SelectScrollUpButton",$F=u.forwardRef((e,s)=>{const n=_i(Gj,e.__scopeSelect),r=Z0(Gj,e.__scopeSelect),[a,i]=u.useState(!1),o=Rs(s,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=c.scrollTop>0;i(m)};var l=d;const c=n.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?u.createElement(O5,rt({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null}),Kj="SelectScrollDownButton",IF=u.forwardRef((e,s)=>{const n=_i(Kj,e.__scopeSelect),r=Z0(Kj,e.__scopeSelect),[a,i]=u.useState(!1),o=Rs(s,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<m;i(h)};var l=d;const c=n.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?u.createElement(O5,rt({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null}),O5=u.forwardRef((e,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=_i("SelectScrollButton",n),o=u.useRef(null),l=_h(n),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Rn(()=>{var d;const m=l().find(h=>h.ref.current===document.activeElement);m==null||(d=m.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[l]),u.createElement(gs.div,rt({"aria-hidden":!0},a,{ref:s,style:{flexShrink:0,...a.style},onPointerDown:es(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:es(a.onPointerMove,()=>{var d;(d=i.onItemLeave)===null||d===void 0||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:es(a.onPointerLeave,()=>{c()})}))}),LF=u.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e;return u.createElement(gs.div,rt({"aria-hidden":!0},r,{ref:s}))}),$5=u.forwardRef((e,s)=>{const{value:n,...r}=e,a=u.useRef(null),i=Rs(s,a),o=K7(n);return u.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&m){const h=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(h)}},[o,n]),u.createElement(Y7,{asChild:!0},u.createElement("select",rt({},r,{ref:i,defaultValue:n})))});$5.displayName="BubbleSelect";function I5(e){const s=Wr(e),n=u.useRef(""),r=u.useRef(0),a=u.useCallback(o=>{const l=n.current+o;s(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[s]),i=u.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function L5(e,s,n){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=n?e.indexOf(n):-1;let o=FF(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function FF(e,s){return e.map((n,r)=>e[(s+r)%e.length])}const zF=pF,F5=gF,VF=yF,UF=jF,BF=bF,z5=wF,WF=_F,V5=TF,U5=RF,HF=MF,qF=OF,B5=$F,W5=IF,H5=LF,yt=zF,ut=VF,ht=ce.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(F5,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[s,t.jsx(UF,{asChild:!0,children:t.jsx(Kx,{className:"h-4 w-4 opacity-50"})})]}));ht.displayName=F5.displayName;const q5=ce.forwardRef(({className:e,...s},n)=>t.jsx(B5,{ref:n,className:je("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(d1,{className:"h-4 w-4"})}));q5.displayName=B5.displayName;const G5=ce.forwardRef(({className:e,...s},n)=>t.jsx(W5,{ref:n,className:je("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Kx,{className:"h-4 w-4"})}));G5.displayName=W5.displayName;const mt=ce.forwardRef(({className:e,children:s,position:n="popper",...r},a)=>t.jsx(BF,{children:t.jsxs(z5,{ref:a,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[t.jsx(q5,{}),t.jsx(WF,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(G5,{})]})}));mt.displayName=z5.displayName;const GF=ce.forwardRef(({className:e,...s},n)=>t.jsx(V5,{ref:n,className:je("py-1.5 pr-2 text-sm font-semibold",e),...s}));GF.displayName=V5.displayName;const Ne=ce.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(U5,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(qF,{children:t.jsx(ws,{className:"h-4 w-4"})})}),t.jsx(HF,{children:s})]}));Ne.displayName=U5.displayName;const KF=ce.forwardRef(({className:e,...s},n)=>t.jsx(H5,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",e),...s}));KF.displayName=H5.displayName;function K5(e,[s,n]){return Math.min(n,Math.max(s,e))}function eg(e){const s=u.useRef({value:e,previous:e});return u.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var Y5=["PageUp","PageDown"],X5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J5={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Fo="Slider",[$p,YF,XF]=Qu(Fo),[Q5,yB]=pn(Fo,[XF]),[JF,kh]=Q5(Fo),Z5=u.forwardRef((e,s)=>{const{name:n,min:r=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:m,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:v=!1,form:w,...g}=e,y=u.useRef(new Set),f=u.useRef(0),j=o==="horizontal"?QF:ZF,[N=[],S]=za({prop:m,defaultProp:d,onChange:D=>{var H;(H=[...y.current][f.current])==null||H.focus(),h(D)}}),A=u.useRef(N);function C(D){const I=r9(N,D);P(D,I)}function k(D){P(D,f.current)}function M(){const D=A.current[f.current];N[f.current]!==D&&p(N)}function P(D,I,{commit:H}={commit:!1}){const O=l9(i),$=c9(Math.round((D-r)/i)*i+r,O),W=K5($,[r,a]);S((G=[])=>{const R=s9(G,W,I);if(o9(R,c*i)){f.current=R.indexOf(W);const V=String(R)!==String(G);return V&&H&&p(R),V?R:G}else return G})}return t.jsx(JF,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:a,valueIndexToChangeRef:f,thumbs:y.current,values:N,orientation:o,form:w,children:t.jsx($p.Provider,{scope:e.__scopeSlider,children:t.jsx($p.Slot,{scope:e.__scopeSlider,children:t.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:s,onPointerDown:ke(g.onPointerDown,()=>{l||(A.current=N)}),min:r,max:a,inverted:v,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&P(r,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,N.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:I})=>{if(!l){const $=Y5.includes(D.key)||D.shiftKey&&X5.includes(D.key)?10:1,W=f.current,G=N[W],R=i*$*I;P(G+R,W,{commit:!0})}}})})})})});Z5.displayName=Fo;var[e_,t_]=Q5(Fo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),QF=u.forwardRef((e,s)=>{const{min:n,max:r,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...m}=e,[h,p]=u.useState(null),v=Ze(s,j=>p(j)),w=u.useRef(void 0),g=mh(a),y=g==="ltr",f=y&&!i||!y&&i;function x(j){const N=w.current||h.getBoundingClientRect(),S=[0,N.width],C=tg(S,f?[n,r]:[r,n]);return w.current=N,C(j-N.left)}return t.jsx(e_,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:t.jsx(s_,{dir:g,"data-orientation":"horizontal",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const N=x(j.clientX);o==null||o(N)},onSlideMove:j=>{const N=x(j.clientX);l==null||l(N)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:j=>{const S=J5[f?"from-left":"from-right"].includes(j.key);d==null||d({event:j,direction:S?-1:1})}})})}),ZF=u.forwardRef((e,s)=>{const{min:n,max:r,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,m=u.useRef(null),h=Ze(s,m),p=u.useRef(void 0),v=!a;function w(g){const y=p.current||m.current.getBoundingClientRect(),f=[0,y.height],j=tg(f,v?[r,n]:[n,r]);return p.current=y,j(g-y.top)}return t.jsx(e_,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:t.jsx(s_,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=w(g.clientY);i==null||i(y)},onSlideMove:g=>{const y=w(g.clientY);o==null||o(y)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:g=>{const f=J5[v?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:f?-1:1})}})})}),s_=u.forwardRef((e,s)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,m=kh(Fo,n);return t.jsx($e.span,{...d,ref:s,onKeyDown:ke(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):Y5.concat(X5).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:ke(e.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),m.thumbs.has(p)?p.focus():r(h)}),onPointerMove:ke(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:ke(e.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),i(h))})})}),n_="SliderTrack",r_=u.forwardRef((e,s)=>{const{__scopeSlider:n,...r}=e,a=kh(n_,n);return t.jsx($e.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:s})});r_.displayName=n_;var Ip="SliderRange",a_=u.forwardRef((e,s)=>{const{__scopeSlider:n,...r}=e,a=kh(Ip,n),i=t_(Ip,n),o=u.useRef(null),l=Ze(s,o),c=a.values.length,d=a.values.map(p=>l_(p,a.min,a.max)),m=c>1?Math.min(...d):0,h=100-Math.max(...d);return t.jsx($e.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:m+"%",[i.endEdge]:h+"%"}})});a_.displayName=Ip;var Lp="SliderThumb",i_=u.forwardRef((e,s)=>{const n=YF(e.__scopeSlider),[r,a]=u.useState(null),i=Ze(s,l=>a(l)),o=u.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return t.jsx(e9,{...e,ref:i,index:o})}),e9=u.forwardRef((e,s)=>{const{__scopeSlider:n,index:r,name:a,...i}=e,o=kh(Lp,n),l=t_(Lp,n),[c,d]=u.useState(null),m=Ze(s,x=>d(x)),h=c?o.form||!!c.closest("form"):!0,p=gh(c),v=o.values[r],w=v===void 0?0:l_(v,o.min,o.max),g=n9(r,o.values.length),y=p==null?void 0:p[l.size],f=y?a9(y,w,l.direction):0;return u.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${f}px)`},children:[t.jsx($p.ItemSlot,{scope:e.__scopeSlider,children:t.jsx($e.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:m,style:v===void 0?{display:"none"}:e.style,onFocus:ke(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&t.jsx(o_,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},r)]})});i_.displayName=Lp;var t9="RadioBubbleInput",o_=u.forwardRef(({__scopeSlider:e,value:s,...n},r)=>{const a=u.useRef(null),i=Ze(a,r),o=eg(s);return u.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&m){const h=new Event("input",{bubbles:!0});m.call(l,s),l.dispatchEvent(h)}},[o,s]),t.jsx($e.input,{style:{display:"none"},...n,ref:i,defaultValue:s})});o_.displayName=t9;function s9(e=[],s,n){const r=[...e];return r[n]=s,r.sort((a,i)=>a-i)}function l_(e,s,n){const i=100/(n-s)*(e-s);return K5(i,[0,100])}function n9(e,s){return s>2?`Value ${e+1} of ${s}`:s===2?["Minimum","Maximum"][e]:void 0}function r9(e,s){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-s)),r=Math.min(...n);return n.indexOf(r)}function a9(e,s,n){const r=e/2,i=tg([0,50],[0,r]);return(r-i(s)*n)*n}function i9(e){return e.slice(0,-1).map((s,n)=>e[n+1]-s)}function o9(e,s){if(s>0){const n=i9(e);return Math.min(...n)>=s}return!0}function tg(e,s){return n=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(e[1]-e[0]);return s[0]+r*(n-e[0])}}function l9(e){return(String(e).split(".")[1]||"").length}function c9(e,s){const n=Math.pow(10,s);return Math.round(e*n)/n}var c_=Z5,d9=r_,u9=a_,Yj=i_;const d_=ce.forwardRef(({className:e,...s},n)=>t.jsxs(c_,{ref:n,className:je("relative flex w-full touch-none select-none items-center",e),...s,children:[t.jsx(d9,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:t.jsx(u9,{className:"absolute h-full bg-primary"})}),t.jsx(Yj,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),s.defaultValue&&s.defaultValue.length>1&&t.jsx(Yj,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));d_.displayName=c_.displayName;var Ph="Tabs",[h9,jB]=pn(Ph,[vh]),u_=vh(),[m9,sg]=h9(Ph),h_=u.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,m=mh(l),[h,p]=za({prop:r,onChange:a,defaultProp:i??"",caller:Ph});return t.jsx(m9,{scope:n,baseId:oi(),value:h,onValueChange:p,orientation:o,dir:m,activationMode:c,children:t.jsx($e.div,{dir:m,"data-orientation":o,...d,ref:s})})});h_.displayName=Ph;var m_="TabsList",f_=u.forwardRef((e,s)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=sg(m_,n),o=u_(n);return t.jsx(tC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:t.jsx($e.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});f_.displayName=m_;var p_="TabsTrigger",x_=u.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=sg(p_,n),l=u_(n),c=y_(o.baseId,r),d=j_(o.baseId,r),m=r===o.value;return t.jsx(sC,{asChild:!0,...l,focusable:!a,active:m,children:t.jsx($e.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:ke(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ke(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ke(e.onFocus,()=>{const h=o.activationMode!=="manual";!m&&!a&&h&&o.onValueChange(r)})})})});x_.displayName=p_;var g_="TabsContent",v_=u.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=sg(g_,n),c=y_(l.baseId,r),d=j_(l.baseId,r),m=r===l.value,h=u.useRef(m);return u.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(Xn,{present:a||m,children:({present:p})=>t.jsx($e.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});v_.displayName=g_;function y_(e,s){return`${e}-trigger-${s}`}function j_(e,s){return`${e}-content-${s}`}var f9=h_,b_=f_,w_=x_,N_=v_;const zo=f9,ki=u.forwardRef(({className:e,...s},n)=>t.jsx(b_,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));ki.displayName=b_.displayName;const Kt=u.forwardRef(({className:e,...s},n)=>t.jsx(w_,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));Kt.displayName=w_.displayName;const _s=u.forwardRef(({className:e,...s},n)=>t.jsx(N_,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));_s.displayName=N_.displayName;const p9=e=>{switch(e==null?void 0:e.toLowerCase()){case"gem":case"gift":return sc;case"coffee":case"handmetal":return du;case"scissors":case"palette":return ua;case"shirt":case"clothes":return nh;case"image":case"camera":return Va;case"utensils":case"food":return rh;case"sparkles":case"jewelry":return g1;case"home":case"house":return Jx;case"wrench":case"tools":return j1;default:return ze}},x9=e=>{const s=(e==null?void 0:e.toLowerCase())||"";return s.includes("ملابس")||s.includes("خياطة")||s.includes("clothes")||s.includes("fashion")?nh:s.includes("مجوهرات")||s.includes("اكسسوارات")||s.includes("jewelry")||s.includes("accessories")?g1:s.includes("طعام")||s.includes("طبخ")||s.includes("food")||s.includes("cooking")?rh:s.includes("فن")||s.includes("رسم")||s.includes("تصميم")||s.includes("art")||s.includes("design")?ua:s.includes("حرف")||s.includes("يدوي")||s.includes("craft")||s.includes("handmade")?du:s.includes("هدايا")||s.includes("gift")||s.includes("تذكار")?sc:s.includes("تصوير")||s.includes("صور")||s.includes("photo")||s.includes("image")?Va:s.includes("ديكور")||s.includes("منزل")||s.includes("home")||s.includes("decor")?Jx:s.includes("خياطة")||s.includes("تفصيل")||s.includes("sewing")||s.includes("tailoring")?p1:s.includes("صيانة")||s.includes("إصلاح")||s.includes("repair")||s.includes("maintenance")?j1:ze},g9=e=>e?`https://handy3.abanoubsamir.com/backend/public/storage/${e}`:null,v9=({category:e,isSelected:s,onClick:n})=>{const[r,a]=u.useState(!1);let i;e.icon?i=p9(e.icon):i=x9(e.name);const o=()=>{a(!0)};return t.jsxs(K.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:`flex-shrink-0 cursor-pointer transition-all duration-300 ${s?"transform scale-105":"hover:scale-105"}`,children:[t.jsx("div",{className:`w-24 h-24 md:w-28 md:h-28 rounded-xl flex items-center justify-center mb-3 transition-all duration-300 overflow-hidden ${s?"bg-roman-500 text-white shadow-lg":"bg-neutral-100 hover:bg-roman-500/10 border border-roman-500/20"}`,children:e.image&&!r?t.jsx("img",{src:g9(e.image),alt:e.name,className:"w-full h-full object-cover rounded-xl",onError:o}):t.jsx(i,{className:"w-8 h-8 md:w-10 md:h-10"})}),t.jsx("p",{className:`text-sm md:text-base font-medium text-center transition-colors duration-300 max-w-24 md:max-w-28 truncate ${s?"text-roman-500":"text-neutral-900"}`,children:e.name})]})},y9=()=>{const[e,s]=MN(),[n,r]=u.useState(e.get("tab")||"products"),[a,i]=u.useState([]),[o,l]=u.useState([]),[c,d]=u.useState(e.get("search")||""),[m,h]=u.useState(e.get("search")||""),[p,v]=u.useState(e.get("category")||"all"),[w,g]=u.useState(e.get("type")||"all"),[y,f]=u.useState([0,1e3]),[x,j]=u.useState(0),[N,S]=u.useState("relevance"),[A,C]=u.useState("grid"),[k,M]=u.useState(!1),[P,D]=u.useState(!1),[I,H]=u.useState(null),[O,$]=u.useState([]),[W,G]=u.useState(null);We(),Jt(),De(),Ke();const R=(L,Y)=>{i(X=>X.map(pe=>pe.id===L?{...pe,in_wishlist:Y}:pe))};u.useEffect(()=>(document.documentElement.setAttribute("dir","rtl"),()=>{document.documentElement.removeAttribute("dir"),W&&clearTimeout(W)}),[W]),u.useEffect(()=>{Z("listcategories").then(L=>{const Y=Array.isArray(L.data)?L.data.map(X=>({id:X.id,name:X.name||X.title||X.label,icon:X.icon||X.iconName||"star",image:X.image})):Array.isArray(L)?L.map(X=>({id:X.id,name:X.name||X.title||X.label,icon:X.icon||X.iconName||"star",image:X.image})):[];$(Y)}).catch(()=>$([]))},[]),u.useEffect(()=>{if(O.length===0)return;const L=e.get("tab")||"products",Y=e.get("search")||"",X=e.get("category")||"all",pe=e.get("type")||"all",Me=parseInt(e.get("minPrice"))||0,Ie=parseInt(e.get("maxPrice"))||1e3,qe=parseInt(e.get("rating"))||0,At=e.get("sort")||"relevance";r(L),d(Y),h(Y);let ss=X;if(X!=="all"&&O.length>0){const ne=O.find(Ve=>String(Ve.id)===String(X)||Ve.name===X);ne?ss=String(ne.id):ss="all"}v(ss),g(pe),f([Me,Ie]),j(qe),S(At),D(!0),H(null);const sn=ne=>{var Re,Je;let Ve=ne.category_id||((Re=ne.category)==null?void 0:Re.id)||ne.category,Ue=O.find(Fe=>Fe.id===Ve);return ne.category&&typeof ne.category=="object"&&ne.category.name&&(Ue=ne.category),{id:ne.id,title:ne.title,description:ne.description,price:ne.price,images:Array.isArray(ne.images)&&ne.images.length>0?ne.images.map(Fe=>Fe.url||Fe.image_url):[],category:Ue?{id:Ue.id,name:Ue.name}:{id:Ve,name:Ve},rating:ne.rating||0,reviewCount:ne.reviewCount||ne.review_count||0,ordersCount:ne.ordersCount||ne.orders_count||ne.order_count||0,sellerId:ne.sellerId||ne.seller_id||((Je=ne.seller)==null?void 0:Je.id),type:ne.type||"product",in_wishlist:ne.in_wishlist||!1}},ye=ne=>({id:ne.id,name:ne.name||"",avatar:ne.avatar||"",coverImage:ne.coverImage||ne.cover_image||null,skills:ne.skills||[],rating:ne.rating||0,reviewCount:ne.reviewCount||ne.review_count||0,ordersCount:ne.ordersCount||ne.orders_count||0,bio:ne.bio||"",location:ne.location||"",memberSince:ne.memberSince||"",completedOrders:ne.completedOrders||0});if(L==="products"){let ne=[];if(Y&&ne.push(`search=${encodeURIComponent(Y)}`),X!=="all"){let Ue=X;const Re=O.find(Je=>Je.id===X||Je.name===X);Re&&(Ue=Re.id),ne.push(`category=${encodeURIComponent(Ue)}`)}pe!=="all"&&ne.push(`type=${encodeURIComponent(pe)}`),Me>0&&ne.push(`min_price=${Me}`),Ie<1e3&&ne.push(`max_price=${Ie}`),qe>0&&ne.push(`min_rating=${qe}`),At&&At!=="relevance"&&ne.push(`sort=${At}`);const Ve=`explore/products?${ne.join("&")}`;Z(Ve).then(Ue=>{i(Array.isArray(Ue.data)?Ue.data.map(sn):[]),D(!1)}).catch(()=>{i([]),H("تعذر تحميل المنتجات"),D(!1)})}else if(L==="sellers"){let ne=[];if(Y&&ne.push(`search=${encodeURIComponent(Y)}`),X!=="all"){let Ue=X;const Re=O.find(Je=>Je.id===X||Je.name===X);Re&&(Ue=Re.id),ne.push(`category=${encodeURIComponent(Ue)}`)}qe>0&&ne.push(`min_rating=${qe}`),At&&At!=="relevance"&&ne.push(`sort=${At}`);const Ve=`explore/sellers?${ne.join("&")}`;Z(Ve).then(Ue=>{l(Array.isArray(Ue.data)?Ue.data.map(ye):[]),D(!1)}).catch(()=>{l([]),H("تعذر تحميل الحرفيين"),D(!1)})}},[e,O]);const V=()=>{const L=new URLSearchParams;if(L.set("tab",n),c&&L.set("search",c),p!=="all"){const Y=typeof p=="object"?p.id:p;L.set("category",Y)}w!=="all"&&L.set("type",w),n==="products"&&(L.set("minPrice",y[0]),L.set("maxPrice",y[1])),x>0&&L.set("rating",x),N!=="relevance"&&L.set("sort",N),s(L),M(!1)},q=L=>{S(L);const Y=new URLSearchParams(e);if(Y.set("tab",n),c&&Y.set("search",c),p!=="all"){const X=typeof p=="object"?p.id:p;Y.set("category",X)}w!=="all"&&Y.set("type",w),n==="products"&&(Y.set("minPrice",y[0]),Y.set("maxPrice",y[1])),x>0&&Y.set("rating",x),L!=="relevance"?Y.set("sort",L):Y.delete("sort"),s(Y)},T=()=>{d(""),h(""),v("all"),g("all"),f([0,1e3]),j(0),S("relevance"),s({tab:n}),M(!1)},U=L=>{h(L),W&&clearTimeout(W);const Y=setTimeout(()=>{d(L);const X=new URLSearchParams(e);X.set("tab",n),L?X.set("search",L):X.delete("search"),s(X)},500);G(Y)},se=L=>{r(L);const Y=new URLSearchParams(e);Y.set("tab",L),s(Y)},ie=L=>{v(L);const Y=new URLSearchParams(e);Y.set("tab",n),L==="all"?Y.delete("category"):Y.set("category",L),c&&Y.set("search",c),w!=="all"&&Y.set("type",w),y[0]!==0&&Y.set("minPrice",y[0]),y[1]!==1e3&&Y.set("maxPrice",y[1]),x>0&&Y.set("rating",x),N!=="relevance"&&Y.set("sort",N),s(Y)},fe=({gig:L})=>{var X;let Y=L.category&&L.category.name?L.category.name:null;if(!Y){const pe=O.find(Me=>{var Ie;return Me.id===(L.category_id||((Ie=L.category)==null?void 0:Ie.id)||L.category)});Y=pe?pe.name:L.category_id||((X=L.category)==null?void 0:X.id)||L.category}return t.jsx(we,{to:`/gigs/${L.id}`,className:"block",children:t.jsxs(J,{className:"overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col h-62 card-hover border-roman-500/20 cursor-pointer",dir:"rtl",children:[t.jsxs("div",{className:"relative h-56",children:[t.jsx("img",{src:L.images&&L.images.length>0?L.images[0]:"https://images.unsplash.com/photo-1680188700662-5b03bdcf3017",alt:L.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:t.jsx(me,{variant:"secondary",className:"bg-roman-500 text-white",children:Y})}),t.jsx("div",{className:"absolute top-2 left-2",onClick:pe=>pe.stopPropagation(),children:t.jsx("div",{onClick:pe=>pe.preventDefault(),children:t.jsx(uc,{productId:L.id,inWishlist:L.in_wishlist,onWishlistChange:R,size:"md"})})}),t.jsx("div",{className:"absolute bottom-2 right-2 flex flex-col gap-1",children:t.jsx(me,{variant:"outline",className:`text-xs ${L.type==="gig"?"bg-warning-500/50 text-white border-warning-500":"bg-blue-100 text-blue-600 border-blue-300"}`,children:L.type==="gig"?"خدمة مخصصة":"منتج جاهز"})})]}),t.jsx(de,{className:"pb-2 text-right p-2",children:t.jsx(he,{className:"text-sm font-semibold text-neutral-900 overflow-hidden relative group",children:t.jsx("div",{className:`whitespace-nowrap transition-all duration-300 hover:scale-105 hover:text-roman-500 ${L.title.length>25?"animate-scroll":""}`,style:{animationDuration:`${Math.max(3,L.title.length*.2)}s`},children:L.title})})}),t.jsx(Q,{className:"flex-grow text-right p-2",children:t.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[t.jsxs("div",{className:"flex items-center text-neutral-900/70",children:[t.jsx(ze,{className:"h-3 w-3 text-warning-500 ml-1"}),t.jsxs("span",{className:"whitespace-nowrap",children:[L.rating," (",L.ordersCount||0," طلب)"]}),t.jsx("span",{className:"whitespace-nowrap"})]}),t.jsxs("p",{className:"text-sm font-bold text-roman-500 whitespace-nowrap",children:[L.price," ج"]})]})})]})})},ue=({gig:L})=>{var X;let Y=L.category&&L.category.name?L.category.name:null;if(!Y){const pe=O.find(Me=>{var Ie;return Me.id===(L.category_id||((Ie=L.category)==null?void 0:Ie.id)||L.category)});Y=pe?pe.name:L.category_id||((X=L.category)==null?void 0:X.id)||L.category}return t.jsx(we,{to:`/gigs/${L.id}`,className:"block",children:t.jsxs(J,{className:"overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col md:flex-row card-hover border-roman-500/20 w-full cursor-pointer",dir:"rtl",children:[t.jsxs("div",{className:"relative md:w-1/3 h-56 md:h-auto",children:[t.jsx("img",{src:L.images&&L.images.length>0?L.images[0]:"https://images.unsplash.com/photo-1680188700662-5b03bdcf3017",alt:L.title,className:"w-full h-full max-h-56 object-cover"}),t.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:t.jsx(me,{variant:"secondary",className:"bg-roman-500 text-white",children:Y})}),t.jsx("div",{className:"absolute top-2 left-2",onClick:pe=>pe.stopPropagation(),children:t.jsx("div",{onClick:pe=>pe.preventDefault(),children:t.jsx(uc,{productId:L.id,inWishlist:L.in_wishlist,onWishlistChange:R,size:"md"})})}),t.jsx("div",{className:"absolute bottom-2 right-2 flex flex-col gap-1",children:t.jsx(me,{variant:"outline",className:`text-xs ${L.type==="gig"?"bg-warning-500/50 text-warning-500 border-warning-500":"bg-blue-10 text-blue-600 border-blue-300"}`,children:L.type==="gig"?"خدمة مخصصة":"منتج جاهز"})})]}),t.jsxs("div",{className:"md:w-2/3 flex flex-col",children:[t.jsx(de,{className:"pb-2 text-right",children:t.jsx(he,{className:"text-lg font-semibold text-neutral-900 transition-all duration-300 hover:scale-105 hover:text-roman-500",children:L.title})}),t.jsxs(Q,{className:"flex-grow text-right",children:[t.jsx("p",{className:"text-sm text-neutral-900/70 mb-2 line-clamp-2",children:L.description}),t.jsxs("div",{className:"flex items-center text-sm text-neutral-900/70 mb-2",children:[t.jsx(ze,{className:"h-4 w-4 text-warning-500 ml-1"}),L.rating," (",L.reviewCount," تقييمات) (",L.ordersCount||0," طلبات)"]}),t.jsxs("p",{className:"text-xl font-bold text-roman-500 mb-2",children:[L.price," جنيه"]})]})]})]})})},le=({seller:L})=>t.jsx(we,{to:`/sellers/${L.id}`,className:"block",children:t.jsxs(J,{className:"overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col h-62 card-hover border-roman-500/20 cursor-pointer",dir:"rtl",children:[t.jsxs("div",{className:`relative h-32 flex items-center justify-center ${L.coverImage?"":"bg-roman-500"}`,children:[L.coverImage?t.jsx("img",{src:L.coverImage,alt:"Cover",className:"absolute inset-0 w-full h-full object-cover"}):null,t.jsx("div",{className:"relative z-10",children:L.avatar?t.jsx("img",{src:L.avatar,alt:L.name,className:"h-16 w-16 rounded-full object-cover border-2 border-white shadow-md"}):t.jsx("div",{className:"h-16 w-16 rounded-full bg-white flex items-center justify-center text-xl font-bold text-roman-500 shadow-md",children:L.name.charAt(0)})})]}),t.jsx(de,{className:"pb-2 text-right p-2",children:t.jsx(he,{className:"text-sm font-semibold text-neutral-900 overflow-hidden relative group",children:t.jsx("div",{className:`whitespace-nowrap transition-all duration-300 hover:scale-105 hover:text-roman-500 ${L.name.length>25?"animate-scroll":""}`,style:{animationDuration:`${Math.max(3,L.name.length*.2)}s`},children:L.name})})}),t.jsxs(Q,{className:"flex-grow text-right p-2",children:[t.jsxs("div",{className:"flex flex-col gap-1 text-xs mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center text-neutral-900/70",children:[t.jsx(ze,{className:"h-3 w-3 text-warning-500 ml-1"}),t.jsxs("span",{className:"whitespace-nowrap",children:[L.rating," (",L.reviewCount||0,")"]})]}),t.jsxs("div",{className:"flex items-center text-neutral-900/70",children:[t.jsx(zt,{className:"h-3 w-3 text-roman-500/60 ml-1"}),t.jsx("span",{className:"text-xs truncate max-w-20",children:L.location})]})]}),t.jsx("div",{className:"flex items-center text-neutral-900/70",children:t.jsxs("span",{className:"text-xs",children:[L.ordersCount||0," طلبات"]})})]}),t.jsx("div",{className:"mt-2 text-right",children:L.skills.slice(0,2).map((Y,X)=>t.jsx(me,{variant:"outline",className:"ml-1 mb-1 border-roman-500/30 bg-success-100/10 text-xs px-1 py-0",children:Y},X))})]})]})}),Pe=({seller:L})=>t.jsx(we,{to:`/sellers/${L.id}`,className:"block",children:t.jsxs(J,{className:"overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col md:flex-row card-hover border-roman-500/20 w-full cursor-pointer",dir:"rtl",children:[t.jsxs("div",{className:`relative md:w-1/4 h-48 md:h-auto flex items-center justify-center ${L.coverImage?"":"bg-roman-500"}`,children:[L.coverImage?t.jsx("img",{src:L.coverImage,alt:"Cover",className:"absolute inset-0 w-full h-full object-cover"}):null,t.jsx("div",{className:"relative z-10",children:L.avatar?t.jsx("img",{src:L.avatar,alt:L.name,className:"h-24 w-24 rounded-full object-cover border-4 border-white shadow-md"}):t.jsx("div",{className:"h-24 w-24 rounded-full bg-white flex items-center justify-center text-3xl font-bold text-roman-500 shadow-md",children:L.name.charAt(0)})})]}),t.jsxs("div",{className:"md:w-3/4 flex flex-col",children:[t.jsx(de,{className:"pb-2 text-right",children:t.jsx(he,{className:"text-lg font-semibold text-neutral-900 transition-all duration-300 hover:scale-105 hover:text-roman-500",children:L.name})}),t.jsxs(Q,{className:"flex-grow text-right",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-2 gap-2",children:[t.jsxs("div",{className:"flex items-center text-sm text-neutral-900/70",children:[t.jsx(zt,{className:"h-4 w-4 text-roman-500/60 ml-1"}),t.jsx("span",{children:L.location})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center text-sm text-neutral-900/70",children:[t.jsx(ze,{className:"h-4 w-4 text-warning-500 ml-1"}),L.rating," (",L.reviewCount,")"]}),t.jsx("div",{className:"flex items-center text-sm text-neutral-900/70",children:t.jsxs("span",{children:[L.ordersCount||0," طلبات"]})})]})]}),t.jsx("p",{className:"text-sm text-neutral-900/70 mb-2",children:L.bio}),t.jsx("div",{className:"mt-2",children:L.skills.map((Y,X)=>t.jsx(me,{variant:"outline",className:"ml-1 mb-1 border-roman-500/30 text-neutral-900",children:Y},X))}),t.jsxs("div",{className:"text-sm text-neutral-900/70 mt-2 text-right",children:[t.jsx("span",{className:"font-semibold",children:"عضو منذ:"})," ",new Date(L.memberSince).toLocaleDateString("ar-EG")," ",t.jsx("span",{className:"mx-2",children:"|"}),t.jsx("span",{className:"font-semibold",children:"طلبات مكتملة:"})," ",L.completedOrders]})]})]})]})});return t.jsxs("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:[t.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:n==="products"?"استكشف التصنيفات":"تصنيفات الحرفيين"}),t.jsx("p",{className:"text-roman-500",children:n==="products"?"اختر التصنيف المناسب لإيجاد ما تبحث عنه":"استكشف مختلف تخصصات الحرفيين"})]}),t.jsx("div",{className:"relative",children:t.jsxs("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[t.jsxs(K.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie("all"),className:`flex-shrink-0 cursor-pointer transition-all duration-300 ${p==="all"?"transform scale-105":"hover:scale-105"}`,children:[t.jsx("div",{className:`w-24 h-24 md:w-28 md:h-28 rounded-xl flex items-center justify-center mb-3 transition-all duration-300 ${p==="all"?"bg-roman-500 text-white shadow-lg":"bg-neutral-100 hover:bg-roman-500/10 border border-roman-500/20"}`,children:t.jsx(Nm,{className:"w-8 h-8 md:w-10 md:h-10"})}),t.jsx("p",{className:`text-sm md:text-base font-medium text-center transition-colors duration-300 ${p==="all"?"text-roman-500":"text-neutral-900"}`,children:"جميع التصنيفات"})]}),O.map(L=>t.jsx(v9,{category:L,isSelected:p===String(L.id),onClick:()=>ie(String(L.id))},L.id))]})})]}),t.jsxs(zo,{defaultValue:n,onValueChange:se,className:"w-full mb-6",children:[t.jsxs(ki,{className:"w-full grid grid-cols-2 mb-6 bg-neutral-100",children:[t.jsx(Kt,{value:"products",className:"text-lg data-[state=active]:bg-roman-500 data-[state=active]:text-white",children:"المنتجات"}),t.jsx(Kt,{value:"sellers",className:"text-lg data-[state=active]:bg-roman-500 data-[state=active]:text-white",children:"الحرفيين"})]}),t.jsx("div",{className:"mb-4 md:hidden",children:t.jsxs("div",{className:"relative",children:[t.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{type:"text",value:m,onChange:L=>U(L.target.value),placeholder:n==="products"?"بحث سريع في المنتجات...":"بحث سريع في الحرفيين...",className:"pl-10 pr-12 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20 text-right text-base h-12 bg-white shadow-sm",dir:"rtl"}),m&&t.jsx(z,{variant:"ghost",size:"icon",onClick:()=>U(""),className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-8 w-8 text-roman-500/60 hover:text-roman-500 hover:bg-roman-500/10",children:t.jsx(st,{className:"h-4 w-4"})})]})}),t.jsxs(_s,{value:"products",className:"mt-0",children:["          ",t.jsxs("div",{className:"flex flex-col md:flex-row-reverse gap-8",children:[t.jsx(K.aside,{className:`md:w-1/4 ${k?"block":"hidden"} md:block fixed inset-0 z-40 bg-white p-6 md:relative md:bg-transparent md:p-0 md:z-auto transition-transform duration-300 ease-in-out transform ${k?"translate-x-0":"translate-x-full md:translate-x-0"}`,initial:{x:-200,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:t.jsxs(J,{className:"shadow-lg border-roman-500/20",children:[t.jsxs(de,{className:"flex flex-row-reverse items-center justify-between",children:[t.jsx(he,{className:"text-xl text-roman-500 text-right",children:"تصفية النتائج"}),t.jsx(z,{variant:"ghost",size:"icon",className:"md:hidden hover:bg-success-100/50 text-roman-500",onClick:()=>M(!1),children:t.jsx(st,{className:"h-5 w-5"})})]}),t.jsxs(Q,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"search-filter",className:"text-neutral-900 block text-right",children:"بحث بالاسم"}),"                    ",t.jsx(oe,{id:"search-filter",type:"text",value:c,onChange:L=>d(L.target.value),placeholder:"اسم المنتج، وصف...",className:"mt-1 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20 text-right",dir:"rtl"})]}),"                  ",t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"category-filter",className:"text-neutral-900 block text-right",children:"التصنيف"}),t.jsxs(yt,{value:p,onValueChange:L=>ie(String(L)),dir:"rtl",children:[t.jsx(ht,{id:"category-filter",className:"mt-1 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20 text-right",children:t.jsx(ut,{placeholder:"اختر تصنيف"})}),t.jsxs(mt,{className:"border-roman-500/30 text-right",dir:"rtl",children:[t.jsx(Ne,{value:"all",children:"كل التصنيفات"}),O.map(L=>t.jsx(Ne,{value:String(L.id),children:L.name},L.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"type-filter",className:"text-neutral-900 block text-right",children:"نوع المنتج"}),t.jsxs(yt,{value:w,onValueChange:L=>g(String(L)),dir:"rtl",children:[t.jsx(ht,{id:"type-filter",className:"mt-1 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20 text-right",children:t.jsx(ut,{placeholder:"اختر نوع المنتج"})}),t.jsxs(mt,{className:"border-roman-500/30 text-right",dir:"rtl",children:[t.jsx(Ne,{value:"all",children:"كل الأنواع"}),t.jsx(Ne,{value:"product",children:"منتجات جاهزة"}),t.jsx(Ne,{value:"gig",children:"خدمات مخصصة"})]})]})]}),t.jsxs("div",{children:[t.jsxs(ee,{className:"text-neutral-900 block text-right",children:["نطاق السعر: ",y[0]," - ",y[1]," جنيه"]}),t.jsx(d_,{defaultValue:y,min:0,max:1e3,step:50,onValueChange:f,className:"mt-2 [&>span:first-child]:h-1 [&>span:first-child]:bg-roman-500/20 [&_[role=slider]]:bg-roman-500 [&_[role=slider]]:w-4 [&_[role=slider]]:h-4 [&_[role=slider]]:border-2 [&_[role=slider]]:border-neutral-200"})]}),t.jsxs("div",{children:[t.jsxs(ee,{className:"text-neutral-900 block text-right",children:["التقييم الأدنى: ",x," نجوم"]}),t.jsx("div",{className:"flex space-x-1 space-x-reverse mt-1",children:[1,2,3,4,5].map(L=>t.jsx(z,{variant:x>=L?"default":"outline",size:"icon",onClick:()=>j(L===x?0:L),className:`p-2 ${x>=L?"bg-roman-500 border-roman-500 hover:bg-roman-500/90":"border-roman-500/30"}`,children:t.jsx(ze,{className:`h-5 w-5 ${x>=L?"text-white":"text-warning-500"}`})},L))})]}),t.jsx(dt,{}),"                  ",t.jsxs(z,{onClick:V,className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white",children:[t.jsx(Tr,{className:"ml-2 h-4 w-4"})," تطبيق الفلاتر"]}),t.jsx(z,{onClick:T,variant:"outline",className:"w-full border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:"إعادة تعيين الفلاتر"})]})]})}),t.jsxs("main",{className:"w-full md:w-3/4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("p",{className:"text-neutral-900/70",children:["تم العثور على ",a.length," منتج"]}),"                ",t.jsxs("div",{className:"flex items-center gap-2",children:["                  ",t.jsx(z,{variant:"outline",size:"icon",className:"md:hidden ml-2 border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",onClick:()=>M(!0),children:t.jsx(Tr,{className:"h-5 w-5"})}),"                  ",t.jsxs(yt,{value:N,onValueChange:q,dir:"rtl",children:[t.jsx(ht,{className:"w-[180px] border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20 text-right",children:t.jsx(ut,{placeholder:"الترتيب حسب"})}),t.jsxs(mt,{className:"border-roman-500/30 text-right",dir:"rtl",children:[t.jsx(Ne,{value:"relevance",children:"الأكثر صلة"}),t.jsx(Ne,{value:"price_low",children:"السعر: من الأقل للأعلى"}),t.jsx(Ne,{value:"price_high",children:"السعر: من الأعلى للأقل"}),t.jsx(Ne,{value:"rating",children:"الأعلى تقييماً"}),t.jsx(Ne,{value:"newest",children:"الأحدث"})]})]}),t.jsx(z,{variant:"outline",size:"icon",className:"border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",onClick:()=>C(A==="grid"?"list":"grid"),children:A==="grid"?t.jsx(ny,{className:"h-5 w-5"}):t.jsx(Nm,{className:"h-5 w-5"})})]})]}),P?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-lg text-neutral-900",children:"جاري تحميل المنتجات..."})}):I?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-lg text-red-500",children:I})}):a.length>0?t.jsx(K.div,{className:A==="grid"?"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-4 gap-2 rtl":"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},dir:"rtl",children:a.map((L,Y)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Y*.05},children:A==="grid"?t.jsx(fe,{gig:L}):t.jsx(ue,{gig:L})},L.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("img",{src:"https://images.unsplash.com/photo-1675023112817-52b789fd2ef0",alt:"لا توجد نتائج",className:"mx-auto mb-4 w-48 h-48 text-gray-400"}),t.jsx("h3",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:"لا توجد منتجات تطابق بحثك"}),t.jsx("p",{className:"text-neutral-900/70",children:"حاول تعديل الفلاتر أو البحث بكلمات أخرى."})]})]})]})]}),t.jsx(_s,{value:"sellers",className:"mt-0",children:t.jsxs("div",{className:"flex flex-col md:flex-row-reverse gap-8",children:[t.jsx(K.aside,{className:`md:w-1/4 ${k?"block":"hidden"} md:block fixed inset-0 z-40 bg-white p-6 pt-15 md:relative md:bg-transparent md:p-0 md:z-auto transition-transform duration-300 ease-in-out transform ${k?"translate-x-0":"translate-x-full md:translate-x-0"}`,initial:{x:-200,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:t.jsxs(J,{className:"shadow-lg border-roman-500/20",children:[t.jsxs(de,{className:"flex flex-row-reverse items-center justify-between",children:[t.jsx(he,{className:"text-xl text-roman-500 text-right",children:"تصفية النتائج"}),t.jsx(z,{variant:"ghost",size:"icon",className:"md:hidden hover:bg-success-100/50 text-roman-500",onClick:()=>M(!1),children:t.jsx(st,{className:"h-5 w-5"})})]}),t.jsxs(Q,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"search-filter-sellers",className:"text-neutral-900 block text-right",children:"بحث بالاسم أو المهارات"}),"                    ",t.jsx(oe,{id:"search-filter-sellers",type:"text",value:c,onChange:L=>d(L.target.value),placeholder:"اسم الحرفي، المهارات...",className:"mt-1 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20 text-right",dir:"rtl"})]}),"                  ",t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"category-filter-sellers",className:"text-neutral-900 block text-right",children:"التخصص"}),t.jsxs(yt,{value:p,onValueChange:L=>ie(String(L)),dir:"rtl",children:[t.jsx(ht,{id:"category-filter-sellers",className:"mt-1 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20 text-right",children:t.jsx(ut,{placeholder:"اختر تخصص"})}),t.jsxs(mt,{className:"border-roman-500/30 text-right",dir:"rtl",children:[t.jsx(Ne,{value:"all",children:"كل التخصصات"}),O.map(L=>t.jsx(Ne,{value:String(L.id),children:L.name},L.id))]})]})]}),t.jsxs("div",{children:[t.jsxs(ee,{className:"text-gray-700 block text-right",children:["التقييم الأدنى: ",x," نجوم"]}),t.jsx("div",{className:"flex space-x-1 space-x-reverse mt-1",children:[1,2,3,4,5].map(L=>t.jsx(z,{variant:x>=L?"default":"outline",size:"icon",onClick:()=>j(L===x?0:L),className:`p-2 ${x>=L?"bg-yellow-400 border-yellow-400 hover:bg-yellow-500":"border-gray-300"}`,children:t.jsx(ze,{className:`h-5 w-5 ${x>=L?"text-white":"text-yellow-400"}`})},L))})]}),t.jsx(dt,{}),"                  ",t.jsxs(z,{onClick:V,className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white",children:[t.jsx(Tr,{className:"ml-2 h-4 w-4"})," تطبيق الفلاتر"]}),t.jsx(z,{onClick:T,variant:"outline",className:"w-full text-neutral-900 border-roman-500/30 hover:bg-success-100/30",children:"إعادة تعيين الفلاتر"})]})]})}),t.jsxs("main",{className:"w-full md:w-3/4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("p",{className:"text-gray-600",children:["تم العثور على ",o.length," حرفي"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(z,{variant:"outline",size:"icon",className:"md:hidden ml-2",onClick:()=>M(!0),children:t.jsx(Tr,{className:"h-5 w-5"})}),"                  ",t.jsxs(yt,{value:N,onValueChange:q,dir:"rtl",children:[t.jsx(ht,{className:"w-[180px] text-right",children:t.jsx(ut,{placeholder:"الترتيب حسب"})}),t.jsxs(mt,{className:"text-right",dir:"rtl",children:[t.jsx(Ne,{value:"relevance",children:"الأكثر صلة"}),t.jsx(Ne,{value:"rating",children:"الأعلى تقييماً"}),t.jsx(Ne,{value:"experience",children:"الأكثر خبرة"}),t.jsx(Ne,{value:"newest",children:"الأحدث"})]})]}),t.jsx(z,{variant:"outline",size:"icon",onClick:()=>C(A==="grid"?"list":"grid"),children:A==="grid"?t.jsx(ny,{className:"h-5 w-5"}):t.jsx(Nm,{className:"h-5 w-5"})})]})]}),P?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-lg text-neutral-900",children:"جاري تحميل الحرفيين..."})}):I?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-lg text-red-500",children:I})}):o.length>0?t.jsx(K.div,{className:A==="grid"?"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-4 gap-2 rtl":"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},dir:"rtl",children:o.map((L,Y)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Y*.05},children:A==="grid"?t.jsx(le,{seller:L}):t.jsx(Pe,{seller:L})},L.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("img",{src:"https://images.unsplash.com/photo-1675023112817-52b789fd2ef0",alt:"لا توجد نتائج",className:"mx-auto mb-4 w-48 h-48 text-gray-400"}),t.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا يوجد حرفيين يطابقون بحثك"}),t.jsx("p",{className:"text-gray-500",children:"حاول تعديل الفلاتر أو البحث بكلمات أخرى."})]})]})]})})]}),k&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>M(!1)})]})},et=ce.forwardRef(({className:e,...s},n)=>t.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));et.displayName="Textarea";const j9=()=>{const{id:e}=Fa(),s=We(),{toast:n}=Ke(),{addToCart:r}=Nc(),{user:a}=De(),{startConversation:i,setActiveConversation:o}=Ua(),[l,c]=u.useState(null),[d,m]=u.useState(null),[h,p]=u.useState([]),[v,w]=u.useState([]),[g,y]=u.useState(1),[f,x]=u.useState(0);u.useState(""),u.useState(0);const[j,N]=u.useState(!0),[S,A]=u.useState(null),[C,k]=u.useState(!1),[M,P]=u.useState(!1),[D,I]=u.useState(!1),H=async()=>{const T=window.location.href;try{navigator.share?await navigator.share({title:l==null?void 0:l.title,text:l==null?void 0:l.description,url:T}):(await navigator.clipboard.writeText(T),I(!0),setTimeout(()=>I(!1),3e3),n({title:"تم نسخ الرابط",description:"تم نسخ رابط المنتج إلى الحافظة"}))}catch(U){console.error("Error sharing:",U)}},O=(T,U)=>{w(se=>se.map(ie=>ie.id===T?{...ie,in_wishlist:U}:ie))};u.useEffect(()=>{N(!0),A(null),Z(`Listpoducts/${e}`).then(async T=>{var fe,ue,le,Pe,L;if(!T||!T.data){A("لم يتم العثور على المنتج"),N(!1);return}const U=T.data;let se=[];Array.isArray(U.images)&&U.images.length>0&&(se=U.images.map(Y=>typeof Y=="object"&&Y.image_url?Y.image_url.startsWith("http")?Y.image_url:`https://handy3.abanoubsamir.com/backend/public/storage/${Y.image_url}`:Y.url||Y));const ie={id:U.id,title:U.title,description:U.description,price:U.price,type:U.type||"gig",images:se,category:U.category,rating:U.rating||0,reviewCount:U.reviewCount||U.review_count||0,sellerId:U.sellerId||U.seller_id||((fe=U.seller)==null?void 0:fe.id),deliveryTime:U.delivery_time||U.deliveryTime||"غير محدد",tags:Array.isArray(U.tags)?U.tags:U.tags?[U.tags]:[]};if(c(ie),ie.sellerId){const X=(await ve.getSeller(ie.sellerId)).data;m({id:X.id,name:((ue=X.user)==null?void 0:ue.name)||"",avatar:((le=X.user)==null?void 0:le.avatar)||"",skills:X.skills||X.categories||[],rating:X.rating||0,reviewCount:X.reviewCount||X.review_count||0,bio:X.bio||((Pe=X.user)==null?void 0:Pe.bio)||"",location:X.location||((L=X.user)==null?void 0:L.location)||"",memberSince:X.member_since||X.memberSince||"",completedOrders:X.completed_orders||X.completedOrders||0,user:X.user})}Z(`Listpoducts/${e}/related`).then(Y=>{Y&&Array.isArray(Y.data)?w(Y.data.map(X=>({id:X.id,title:X.title,price:X.price,images:Array.isArray(X.images)&&X.images.length>0?X.images.map(pe=>pe.image_url||pe.url||pe):[],category:X.category,rating:X.rating||0,reviewCount:X.reviewCount||X.review_count||0,in_wishlist:X.in_wishlist||!1}))):w([])}).catch(()=>w([])),ve.getProductReviews(e).then(Y=>{if(Y&&Array.isArray(Y.data)){const X=Y.data.map(pe=>{var Me,Ie;return{id:pe.id,gigId:ie.id,userId:(Me=pe.user)==null?void 0:Me.id,userName:((Ie=pe.user)==null?void 0:Ie.name)||"مستخدم",rating:pe.rating,comment:pe.comment,date:pe.created_at,order_id:pe.order_id}});p(X)}}).catch(()=>p([])),N(!1)}).catch(()=>{A("تعذر تحميل تفاصيل المنتج"),N(!1)})},[e,s]),u.useEffect(()=>{l&&a&&$()},[l,a]);const $=async()=>{try{const T=await ve.checkWishlistStatus(l.id);k(T.in_wishlist)}catch(T){console.error("Error checking wishlist status:",T)}},W=async()=>{if(!a){n({title:"تسجيل الدخول مطلوب",description:"يجب تسجيل الدخول لإضافة المنتجات لقائمة الأمنيات",variant:"destructive"}),s("/login");return}try{P(!0);const T=await ve.toggleWishlist(l.id);T.success?(k(T.action==="added"),n({title:T.action==="added"?"تمت الإضافة":"تمت الإزالة",description:T.message})):n({title:"خطأ",description:T.message,variant:"destructive"})}catch(T){console.error("Error toggling wishlist:",T),n({title:"خطأ",description:"حدث خطأ في تحديث قائمة الأمنيات",variant:"destructive"})}finally{P(!1)}};if(j)return t.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"جاري تحميل تفاصيل المنتج..."});if(S||!l||!d)return t.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:S||"تعذر تحميل تفاصيل المنتج"});const G=()=>{r({...l,quantity:g}),n({title:"تمت الإضافة إلى السلة",description:`${l.title} (الكمية: ${g}) تمت إضافتها إلى سلة التسوق.`})},R=async()=>{var T;if(console.log("seller",d),!a){n({variant:"destructive",title:"يرجى تسجيل الدخول",description:"يجب عليك تسجيل الدخول أولاً للتواصل مع البائع."}),s("/login");return}if(a.id===((T=d.user)==null?void 0:T.id)){n({variant:"destructive",title:"لا يمكن مراسلة نفسك",description:"لا يمكنك بدء محادثة مع نفسك."});return}try{const U=await i(d.user);o(U),s("/chat")}catch(U){console.error("Error starting conversation:",U)}},V=T=>{const U=T==="next"?(f+1)%(l.images.length||1):(f-1+(l.images.length||1))%(l.images.length||1);x(U)},q=l.images&&l.images.length>0?l.images:["https://images.unsplash.com/photo-1667974241877-3f3c2f324bb7?q=80&w=1000","https://images.unsplash.com/photo-1632065509860-4fbcfc89ed7c?q=80&w=1000","https://images.unsplash.com/photo-1580265862291-4251b8c7e836?q=80&w=1000"];return t.jsx("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[t.jsxs("div",{className:"relative",children:[t.jsx(K.div,{className:"aspect-square rounded-lg overflow-hidden shadow-xl border border-roman-500/20",initial:{opacity:.8,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.3},children:t.jsx("img",{src:q[f],alt:`${l.title} - صورة ${f+1}`,className:"w-full h-full object-cover"})},f),q.length>1&&t.jsxs(t.Fragment,{children:["                ",t.jsx(z,{variant:"outline",size:"icon",className:"absolute top-1/2 right-2 transform -translate-y-1/2 bg-white/70 hover:bg-white border-roman-500/30",onClick:()=>V("prev"),children:t.jsx(sh,{className:"h-6 w-6 text-roman-500"})}),t.jsx(z,{variant:"outline",size:"icon",className:"absolute top-1/2 left-2 transform -translate-y-1/2 bg-white/70 hover:bg-white border-roman-500/30",onClick:()=>V("next"),children:t.jsx(bc,{className:"h-6 w-6 text-roman-500"})})]}),t.jsx("div",{className:"flex justify-center mt-4 space-x-2 space-x-reverse",children:q.map((T,U)=>t.jsx("button",{className:`w-16 h-16 rounded-md overflow-hidden border-2 ${U===f?"border-roman-500":"border-transparent"} transition-all`,onClick:()=>x(U),children:t.jsx("img",{src:T,alt:`صورة مصغرة ${U+1}`,className:"w-full h-full object-cover"})},U))})]}),t.jsxs("div",{className:"space-y-6",children:["            ",t.jsx(K.h1,{className:"text-3xl lg:text-4xl font-bold text-neutral-900 text-right",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:l.title}),t.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[t.jsxs("div",{className:"flex items-center text-warning-500",children:[[...Array(5)].map((T,U)=>t.jsx(ze,{className:`h-5 w-5 ${U<Math.round(Number(l.rating)||0)?"fill-current":""}`},U)),t.jsxs("span",{className:"mr-2 text-neutral-900/70",children:["(",typeof l.rating=="number"?l.rating.toFixed(1):Number(l.rating||0).toFixed(1)," / ",h.length," تقييمات)"]})]}),t.jsx(me,{variant:"secondary",className:"bg-success-100/50 text-roman-500",children:l.category.name})]}),t.jsx("p",{className:"text-neutral-900/80 leading-relaxed text-right",children:l.description}),t.jsxs("div",{className:"text-3xl font-bold text-roman-500",children:[l.price," جنيه"]}),l.type!=="gig"&&t.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[t.jsx(ee,{htmlFor:"quantity",className:"text-neutral-900",children:"الكمية:"}),t.jsx(oe,{type:"number",id:"quantity",value:g,onChange:T=>y(Math.max(1,parseInt(T.target.value))),min:"1",className:"w-20 text-center border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx("div",{className:"flex gap-2 flex-1",children:l.type==="gig"?t.jsxs(z,{size:"lg",onClick:R,className:"bg-roman-500 hover:bg-roman-500/90 text-white flex-1",children:[t.jsx(Xt,{className:"ml-2 h-5 w-5"})," تواصل مع البائع"]}):t.jsxs(z,{size:"lg",onClick:G,className:"bg-roman-500 hover:bg-roman-500/90 text-white flex-1",children:[t.jsx(e0,{className:"ml-2 h-5 w-5"})," أضف إلى السلة"]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{size:"lg",variant:"outline",onClick:W,disabled:M,className:`border-roman-500/50 hover:bg-roman-500 hover:text-white ${C?"bg-roman-500 text-white border-roman-500 hover:bg-roman-500/90":"text-roman-500"}`,children:[t.jsx(_n,{className:`ml-2 h-5 w-5 ${C?"fill-current":""}`}),M?"جاري التحديث...":C?"إزالة من المفضلة":"أضف إلى المفضلة"]}),t.jsx(z,{size:"lg",variant:"outline",onClick:H,className:"px-4 border-roman-500/50 hover:bg-roman-500 hover:text-white",children:t.jsx(x1,{className:"h-5 w-5"})})]})]}),"            ",t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-neutral-900/80",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(j6,{className:"h-5 w-5 text-roman-500 ml-2"})," دفع آمن ومضمون"]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wt,{className:"h-5 w-5 text-roman-500 ml-2"})," شحن لجميع المحافظات"]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Be,{className:"h-5 w-5 text-warning-500 ml-2"})," منتج يدوي أصلي"]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Xt,{className:"h-5 w-5 text-warning-500 ml-2"})," دعم فني مباشر"]})]}),t.jsx(dt,{}),t.jsxs(J,{className:"bg-success-100/30 border-roman-500/20",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl text-neutral-900",children:"معلومات البائع"})}),t.jsxs(Q,{className:"flex items-center space-x-4 space-x-reverse",children:[t.jsxs(ms,{className:"h-16 w-16 border-2 border-roman-500",children:[t.jsx(Es,{src:d.avatar,alt:d.name}),t.jsx(fs,{className:"bg-roman-500 text-white",children:d.name.charAt(0)})]}),t.jsxs("div",{children:[t.jsx(we,{to:`/sellers/${d.id}`,className:"text-lg font-semibold text-roman-500 hover:underline",children:d.name}),t.jsx("p",{className:"text-sm text-neutral-900/70",children:d.location}),t.jsxs("div",{className:"flex items-center text-sm text-warning-500",children:[t.jsx(ze,{className:"h-4 w-4 mr-1"})," ",d.rating," (",d.reviewCount," تقييمات)"]})]}),"                ",t.jsxs(z,{variant:"outline",onClick:R,className:"mr-auto border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:[t.jsx(Xt,{className:"ml-2 h-4 w-4"})," تواصل مع البائع"]})]})]})]})]}),t.jsxs("div",{className:"mt-12",children:[t.jsxs("section",{className:"mb-10",children:[t.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-4 text-right",children:"تفاصيل إضافية"}),"            ",t.jsxs("div",{className:"prose max-w-none text-neutral-900/80 text-right",children:[t.jsxs("p",{children:["وقت التسليم المتوقع: ",l.deliveryTime||"غير محدد"]}),t.jsxs("p",{children:["الوسوم: ",Array.isArray(l.tags)&&l.tags.length>0?l.tags.map(T=>T.tag_name).join(", "):"لا توجد وسوم"]})]})]}),t.jsx(dt,{className:"my-8"}),t.jsxs("section",{className:"mb-10",children:[t.jsxs("h2",{className:"text-2xl font-bold text-neutral-900 mb-6 text-right",children:["تقييمات العملاء (",h.length,")"]}),h.length>0?t.jsx("div",{className:"space-y-6",children:h.map(T=>t.jsx(J,{className:"shadow-sm border-roman-500/20",children:t.jsx(Q,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[t.jsx(ms,{className:"h-10 w-10",children:t.jsx(fs,{className:"bg-roman-500 text-white",children:T.userName.charAt(0)})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mb-1",children:[t.jsx("p",{className:"font-semibold text-neutral-900",children:T.userName}),"                    ",t.jsx("div",{className:"flex text-warning-500",children:[...Array(5)].map((U,se)=>t.jsx(ze,{className:`h-4 w-4 ${se<T.rating?"fill-current":""}`},se))})]}),t.jsx("p",{className:"text-sm text-neutral-900/60 mb-2",children:new Date(T.date).toLocaleDateString("ar-EG")}),t.jsx("p",{className:"text-neutral-900/80",children:T.comment})]})]})})},T.id))}):t.jsx("p",{className:"text-neutral-900/70",children:"لا توجد تقييمات لهذا المنتج حتى الآن."})]}),t.jsx(dt,{className:"my-8"}),v.length>0&&t.jsxs("section",{children:[t.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-6 text-right",children:"منتجات مشابهة من نفس البائع"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(T=>{var U;return t.jsxs(J,{className:"overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 card-hover border-roman-500/20",children:[t.jsxs("div",{className:"relative h-48",children:[t.jsx("img",{src:T.images&&T.images.length>0?T.images[0]:"https://images.unsplash.com/photo-1635865165118-917ed9e20936",alt:T.title,className:"w-full h-full object-cover"}),t.jsx(me,{variant:"secondary",className:"absolute top-2 right-2 bg-roman-500 text-white",children:(U=T.category)==null?void 0:U.name}),t.jsx("div",{className:"absolute top-2 left-2",children:t.jsx(uc,{productId:T.id,inWishlist:T.in_wishlist,onWishlistChange:O,size:"md"})})]}),t.jsx(de,{className:"pb-1",children:t.jsx(he,{className:"text-md font-semibold text-neutral-900 h-12 overflow-hidden text-right",children:T.title})}),t.jsx(Q,{className:"pb-3",children:t.jsxs("p",{className:"text-lg font-bold text-roman-500 text-right",children:[T.price," جنيه"]})}),t.jsx(St,{children:t.jsx(z,{asChild:!0,variant:"outline",className:"w-full border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:t.jsx(we,{to:`/gigs/${T.id}`,children:"عرض التفاصيل"})})})]},T.id)})})]})]})]})})};var b9=Object.defineProperty,w9=(e,s,n)=>s in e?b9(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,wt=(e,s,n)=>w9(e,typeof s!="symbol"?s+"":s,n);const Eu={x:0,y:0,width:0,height:0,unit:"px"},Di=(e,s,n)=>Math.min(Math.max(e,s),n),N9=(...e)=>e.filter(s=>s&&typeof s=="string").join(" "),Xj=(e,s)=>e===s||e.width===s.width&&e.height===s.height&&e.x===s.x&&e.y===s.y&&e.unit===s.unit;function S9(e,s,n,r){const a=sr(e,n,r);return e.width&&(a.height=a.width/s),e.height&&(a.width=a.height*s),a.y+a.height>r&&(a.height=r-a.y,a.width=a.height*s),a.x+a.width>n&&(a.width=n-a.x,a.height=a.width/s),e.unit==="%"?ra(a,n,r):a}function C9(e,s,n){const r=sr(e,s,n);return r.x=(s-r.width)/2,r.y=(n-r.height)/2,e.unit==="%"?ra(r,s,n):r}function ra(e,s,n){return e.unit==="%"?{...Eu,...e,unit:"%"}:{unit:"%",x:e.x?e.x/s*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/s*100:0,height:e.height?e.height/n*100:0}}function sr(e,s,n){return e.unit?e.unit==="px"?{...Eu,...e,unit:"px"}:{unit:"px",x:e.x?e.x*s/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*s/100:0,height:e.height?e.height*n/100:0}:{...Eu,...e,unit:"px"}}function Jj(e,s,n,r,a,i=0,o=0,l=r,c=a){const d={...e};let m=Math.min(i,r),h=Math.min(o,a),p=Math.min(l,r),v=Math.min(c,a);s&&(s>1?(m=o?o*s:m,h=m/s,p=l*s):(h=i?i/s:h,m=h*s,v=c/s)),d.y<0&&(d.height=Math.max(d.height+d.y,h),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,m),d.x=0);const w=r-(d.x+d.width);w<0&&(d.x=Math.min(d.x,r-m),d.width+=w);const g=a-(d.y+d.height);if(g<0&&(d.y=Math.min(d.y,a-h),d.height+=g),d.width<m&&((n==="sw"||n=="nw")&&(d.x-=m-d.width),d.width=m),d.height<h&&((n==="nw"||n=="ne")&&(d.y-=h-d.height),d.height=h),d.width>p&&((n==="sw"||n=="nw")&&(d.x-=p-d.width),d.width=p),d.height>v&&((n==="nw"||n=="ne")&&(d.y-=v-d.height),d.height=v),s){const y=d.width/d.height;if(y<s){const f=Math.max(d.width/s,h);(n==="nw"||n=="ne")&&(d.y-=f-d.height),d.height=f}else if(y>s){const f=Math.max(d.height*s,m);(n==="sw"||n=="nw")&&(d.x-=f-d.width),d.width=f}}return d}function _9(e,s,n,r){const a={...e};return s==="ArrowLeft"?r==="nw"?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):r==="w"?(a.x-=n,a.width+=n):r==="sw"?(a.x-=n,a.width+=n,a.height+=n):r==="ne"?(a.y+=n,a.width-=n,a.height-=n):r==="e"?a.width-=n:r==="se"&&(a.width-=n,a.height-=n):s==="ArrowRight"&&(r==="nw"?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):r==="w"?(a.x+=n,a.width-=n):r==="sw"?(a.x+=n,a.width-=n,a.height-=n):r==="ne"?(a.y-=n,a.width+=n,a.height+=n):r==="e"?a.width+=n:r==="se"&&(a.width+=n,a.height+=n)),s==="ArrowUp"?r==="nw"?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):r==="n"?(a.y-=n,a.height+=n):r==="ne"?(a.y-=n,a.width+=n,a.height+=n):r==="sw"?(a.x+=n,a.width-=n,a.height-=n):r==="s"?a.height-=n:r==="se"&&(a.width-=n,a.height-=n):s==="ArrowDown"&&(r==="nw"?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):r==="n"?(a.y+=n,a.height-=n):r==="ne"?(a.y+=n,a.width-=n,a.height-=n):r==="sw"?(a.x-=n,a.width+=n,a.height+=n):r==="s"?a.height+=n:r==="se"&&(a.width+=n,a.height+=n)),a}const Oi={capture:!0,passive:!1};let k9=0;const ea=class Ln extends u.PureComponent{constructor(){super(...arguments),wt(this,"docMoveBound",!1),wt(this,"mouseDownOnCrop",!1),wt(this,"dragStarted",!1),wt(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),wt(this,"componentRef",u.createRef()),wt(this,"mediaRef",u.createRef()),wt(this,"resizeObserver"),wt(this,"initChangeCalled",!1),wt(this,"instanceId",`rc-${k9++}`),wt(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),wt(this,"onCropPointerDown",s=>{const{crop:n,disabled:r}=this.props,a=this.getBox();if(!n)return;const i=sr(n,a.width,a.height);if(r)return;s.cancelable&&s.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=s.target.dataset.ord,l=!!o;let c=s.clientX,d=s.clientY,m=i.x,h=i.y;if(o){const p=s.clientX-a.x,v=s.clientY-a.y;let w=0,g=0;o==="ne"||o=="e"?(w=p-(i.x+i.width),g=v-i.y,m=i.x,h=i.y+i.height):o==="se"||o==="s"?(w=p-(i.x+i.width),g=v-(i.y+i.height),m=i.x,h=i.y):o==="sw"||o=="w"?(w=p-i.x,g=v-(i.y+i.height),m=i.x+i.width,h=i.y):(o==="nw"||o=="n")&&(w=p-i.x,g=v-i.y,m=i.x+i.width,h=i.y+i.height),c=m+a.x+w,d=h+a.y+g}this.evData={startClientX:c,startClientY:d,startCropX:m,startCropY:h,clientX:s.clientX,clientY:s.clientY,isResize:l,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),wt(this,"onComponentPointerDown",s=>{const{crop:n,disabled:r,locked:a,keepSelection:i,onChange:o}=this.props,l=this.getBox();if(r||a||i&&n)return;s.cancelable&&s.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=s.clientX-l.x,d=s.clientY-l.y,m={unit:"px",x:c,y:d,width:0,height:0};this.evData={startClientX:s.clientX,startClientY:s.clientY,startCropX:c,startCropY:d,clientX:s.clientX,clientY:s.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(sr(m,l.width,l.height),ra(m,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),wt(this,"onDocPointerMove",s=>{const{crop:n,disabled:r,onChange:a,onDragStart:i}=this.props,o=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;s.cancelable&&s.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(s));const{evData:l}=this;l.clientX=s.clientX,l.clientY=s.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),Xj(n,c)||a(sr(c,o.width,o.height),ra(c,o.width,o.height))}),wt(this,"onComponentKeyDown",s=>{const{crop:n,disabled:r,onChange:a,onComplete:i}=this.props;if(r)return;const o=s.key;let l=!1;if(!n)return;const c=this.getBox(),d=this.makePixelCrop(c),m=(navigator.platform.match("Mac")?s.metaKey:s.ctrlKey)?Ln.nudgeStepLarge:s.shiftKey?Ln.nudgeStepMedium:Ln.nudgeStep;if(o==="ArrowLeft"?(d.x-=m,l=!0):o==="ArrowRight"?(d.x+=m,l=!0):o==="ArrowUp"?(d.y-=m,l=!0):o==="ArrowDown"&&(d.y+=m,l=!0),l){s.cancelable&&s.preventDefault(),d.x=Di(d.x,0,c.width-d.width),d.y=Di(d.y,0,c.height-d.height);const h=sr(d,c.width,c.height),p=ra(d,c.width,c.height);a(h,p),i&&i(h,p)}}),wt(this,"onHandlerKeyDown",(s,n)=>{const{aspect:r=0,crop:a,disabled:i,minWidth:o=0,minHeight:l=0,maxWidth:c,maxHeight:d,onChange:m,onComplete:h}=this.props,p=this.getBox();if(i||!a)return;if(s.key==="ArrowUp"||s.key==="ArrowDown"||s.key==="ArrowLeft"||s.key==="ArrowRight")s.stopPropagation(),s.preventDefault();else return;const v=(navigator.platform.match("Mac")?s.metaKey:s.ctrlKey)?Ln.nudgeStepLarge:s.shiftKey?Ln.nudgeStepMedium:Ln.nudgeStep,w=sr(a,p.width,p.height),g=_9(w,s.key,v,n),y=Jj(g,r,n,p.width,p.height,o,l,c,d);if(!Xj(a,y)){const f=ra(y,p.width,p.height);m(y,f),h&&h(y,f)}}),wt(this,"onDocPointerDone",s=>{const{crop:n,disabled:r,onComplete:a,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(s),a&&a(sr(n,o.width,o.height),ra(n,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),wt(this,"onDragFocus",()=>{var s;(s=this.componentRef.current)==null||s.scrollTo(0,0)})}get document(){return document}getBox(){const s=this.mediaRef.current;if(!s)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:a,height:i}=s.getBoundingClientRect();return{x:n,y:r,width:a,height:i}}componentDidUpdate(s){const{crop:n,onComplete:r}=this.props;if(r&&!s.crop&&n){const{width:a,height:i}=this.getBox();a&&i&&r(sr(n,a,i),ra(n,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Oi),this.document.addEventListener("pointerup",this.onDocPointerDone,Oi),this.document.addEventListener("pointercancel",this.onDocPointerDone,Oi),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Oi),this.document.removeEventListener("pointerup",this.onDocPointerDone,Oi),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Oi),this.docMoveBound=!1)}getCropStyle(){const{crop:s}=this.props;if(s)return{top:`${s.y}${s.unit}`,left:`${s.x}${s.unit}`,width:`${s.width}${s.unit}`,height:`${s.height}${s.unit}`}}dragCrop(){const{evData:s}=this,n=this.getBox(),r=this.makePixelCrop(n),a=s.clientX-s.startClientX,i=s.clientY-s.startClientY;return r.x=Di(s.startCropX+a,0,n.width-r.width),r.y=Di(s.startCropY+i,0,n.height-r.height),r}getPointRegion(s,n,r,a){const{evData:i}=this,o=i.clientX-s.x,l=i.clientY-s.y;let c;a&&n?c=n==="nw"||n==="n"||n==="ne":c=l<i.startCropY;let d;return r&&n?d=n==="nw"||n==="w"||n==="sw":d=o<i.startCropX,d?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(s,n,r=0,a=0){const i=Math.min(r,s.width),o=Math.min(a,s.height);return!n||!i&&!o?[i,o]:n>1?i?[i,i/n]:[o*n,o]:o?[o*n,o]:[i,i/n]}resizeCrop(){const{evData:s}=this,{aspect:n=0,maxWidth:r,maxHeight:a}=this.props,i=this.getBox(),[o,l]=this.resolveMinDimensions(i,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const d=this.getPointRegion(i,s.ord,o,l),m=s.ord||d;let h=s.clientX-s.startClientX,p=s.clientY-s.startClientY;(o&&m==="nw"||m==="w"||m==="sw")&&(h=Math.min(h,-o)),(l&&m==="nw"||m==="n"||m==="ne")&&(p=Math.min(p,-l));const v={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(v.x=s.startCropX,v.width=h,n?(v.height=v.width/n,v.y=s.startCropY-v.height):(v.height=Math.abs(p),v.y=s.startCropY-v.height)):d==="se"?(v.x=s.startCropX,v.y=s.startCropY,v.width=h,n?v.height=v.width/n:v.height=p):d==="sw"?(v.x=s.startCropX+h,v.y=s.startCropY,v.width=Math.abs(h),n?v.height=v.width/n:v.height=p):d==="nw"&&(v.x=s.startCropX+h,v.width=Math.abs(h),n?(v.height=v.width/n,v.y=s.startCropY-v.height):(v.height=Math.abs(p),v.y=s.startCropY+p));const w=Jj(v,n,d,i.width,i.height,o,l,r,a);return n||Ln.xyOrds.indexOf(m)>-1?c=w:Ln.xOrds.indexOf(m)>-1?(c.x=w.x,c.width=w.width):Ln.yOrds.indexOf(m)>-1&&(c.y=w.y,c.height=w.height),c.x=Di(c.x,0,i.width-c.width),c.y=Di(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:s=Ln.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:a,ruleOfThirds:i,crop:o}=this.props,l=this.getCropStyle();if(o)return ce.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":s.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&ce.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},ce.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),ce.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),ce.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),ce.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),ce.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":s.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),ce.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":s.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),ce.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":s.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),ce.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":s.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),ce.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":s.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),ce.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":s.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),ce.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":s.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),ce.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":s.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),a&&ce.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},a(this.state)),i&&ce.createElement(ce.Fragment,null,ce.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),ce.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(s){const n={...Eu,...this.props.crop||{}};return sr(n,s.width,s.height)}render(){const{aspect:s,children:n,circularCrop:r,className:a,crop:i,disabled:o,locked:l,style:c,ruleOfThirds:d}=this.props,{cropIsActive:m,newCropIsBeingDrawn:h}=this.state,p=i?this.renderCropSelection():null,v=N9("ReactCrop",a,m&&"ReactCrop--active",o&&"ReactCrop--disabled",l&&"ReactCrop--locked",h&&"ReactCrop--new-crop",i&&s&&"ReactCrop--fixed-aspect",i&&r&&"ReactCrop--circular-crop",i&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return ce.createElement("div",{ref:this.componentRef,className:v,style:c},ce.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?ce.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},ce.createElement("defs",null,ce.createElement("mask",{id:`hole-${this.instanceId}`},ce.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?ce.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):ce.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),ce.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};wt(ea,"xOrds",["e","w"]),wt(ea,"yOrds",["n","s"]),wt(ea,"xyOrds",["nw","ne","se","sw"]),wt(ea,"nudgeStep",1),wt(ea,"nudgeStepMedium",10),wt(ea,"nudgeStepLarge",100),wt(ea,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let P9=ea;const Qj=()=>{var sn;const{id:e}=Fa(),s=We(),{user:n,updateProfile:r,uploadProfileImage:a,uploadCoverImage:i}=De(),{startConversation:o,setActiveConversation:l}=Ua(),[c,d]=u.useState(null),[m,h]=u.useState([]),[p,v]=u.useState(!1),[w,g]=u.useState({name:"",bio:"",location:"",skills:"",avatar:"",phone:""}),[y,f]=u.useState(!0),[x,j]=u.useState(null),[N,S]=u.useState(null),[A,C]=u.useState(!1),[k,M]=u.useState(null),[P,D]=u.useState(null),[I,H]=u.useState(!1),[O,$]=u.useState(),[W,G]=u.useState(),[R,V]=u.useState(!1),[q,T]=u.useState(!1),U=u.useRef(null),se=u.useRef(null),ie=!e||e==="me"||n&&n.id===e,fe=async()=>{const ne=`${window.location.origin}/sellers/${(c==null?void 0:c.id)||(n==null?void 0:n.id)}`;try{navigator.share?await navigator.share({title:c==null?void 0:c.name,text:(c==null?void 0:c.bio)||"تفقد ملفي الشخصي على بازار",url:ne}):(await navigator.clipboard.writeText(ne),T(!0),setTimeout(()=>T(!1),3e3),toast({title:"تم نسخ الرابط",description:"تم نسخ رابط الملف الشخصي إلى الحافظة"}))}catch(Ve){console.error("Error sharing:",Ve)}},[ue,le]=u.useState(0);u.useEffect(()=>ue>0?void 0:((async()=>{f(!0),le(ne=>ne+1);try{const ne=$s(ie?"me":`users/${e}`);console.log("Fetching profile from:",ne);const Ve=localStorage.getItem("token"),Ue=await fetch(ne,{headers:Ve?{Authorization:`Bearer ${Ve}`}:{},cache:"force-cache"});if(!Ue.ok)throw new Error("Not found");const Re=(await Ue.json()).data;console.log("Raw backend data received:",Re);const Je={id:Re.id,name:Re.name||"",bio:Re.bio||"",location:Re.location||"",active_role:Re.active_role||"buyer",skills:Array.isArray(Re.skills)?Re.skills:[],avatar:Re.avatar||"",cover_image:Re.cover_image||"",phone:Re.phone||"",rating:typeof Re.rating=="number"?Re.rating:0,completedOrders:typeof Re.completedOrders=="number"?Re.completedOrders:0,reviewCount:typeof Re.reviewCount=="number"?Re.reviewCount:0,memberSince:Re.memberSince||Re.createdAt||new Date().toISOString()};if(console.log("Validated profile data being set:",Je),d(Je),ie){const Fe={name:Je.name,bio:Je.bio,location:Je.location,skills:Je.skills.join(", "),avatar:Je.avatar||"",phone:Je.phone||""};if(console.log("Setting edit form data:",Fe),g(Fe),n){const Mn={...n,...Je};localStorage.setItem("user",JSON.stringify(Mn)),console.log("Updated localStorage with validated data:",Mn)}}if(Je.active_role==="seller"){const Fe=Je.id;console.log("Fetching gigs for seller:",Fe);const Mn=await fetch($s(`/listsellers/${Fe}`),{cache:"force-cache"});if(Mn.ok){const yr=await Mn.json();console.log("Raw gigs data received:",yr);const pt=yr.gigs||[],Dn=Array.isArray(pt)?pt.map(Ht=>({id:Ht.id,title:Ht.title||"عنوان غير محدد",price:typeof Ht.price=="number"?Ht.price:0,category:Ht.category||"غير محدد",rating:typeof Ht.rating=="number"?Ht.rating:0,reviewCount:typeof Ht.reviewCount=="number"?Ht.reviewCount:0,images:Array.isArray(Ht.images)?Ht.images:[],description:Ht.description||""})):[];console.log("Validated gigs data being set:",Dn),h(Dn)}else console.warn("Failed to fetch gigs, setting empty array"),h([])}else console.log("User is not a seller, setting empty gigs array"),h([])}catch(ne){console.error("Error fetching profile:",ne),d(null),h([]),s("/404")}finally{f(!1)}})(),()=>{console.log("Profile page unmounted")}),[e,ie,s]);const Pe=ye=>{g({...w,[ye.target.name]:ye.target.value})},L=ye=>{const ne=ye.target.files[0];if(ne){if(!ne.type.startsWith("image/")){alert("يرجى اختيار ملف صورة صالح.");return}if(ne.size>5*1024*1024){alert("حجم الصورة يجب أن يكون أقل من 5 ميجابايت.");return}j(ne);const Ve=new FileReader;Ve.onload=Ue=>{S(Ue.target.result)},Ve.readAsDataURL(ne)}},Y=async()=>{if(x){C(!0);try{const ye=await a(x);if(ye.success){j(null),S(null);const ne={...c,avatar:ye.data.avatar};d(ne),g(Ve=>({...Ve,avatar:ye.data.avatar}))}}catch(ye){console.error("Avatar upload failed:",ye)}finally{C(!1)}}},X=ye=>{const ne=ye.target.files[0];if(ne){if(!ne.type.startsWith("image/")){alert("يرجى اختيار ملف صورة صالح.");return}if(ne.size>10*1024*1024){alert("حجم الصورة يجب أن يكون أقل من 10 ميجابايت.");return}M(ne);const Ve=new FileReader;Ve.onload=Ue=>{D(Ue.target.result),V(!0),$(void 0),G(void 0)},Ve.readAsDataURL(ne)}};function pe(ye){const{width:ne,height:Ve}=ye.currentTarget,Ue=C9(S9({unit:"%",width:90},3/1,ne,Ve),ne,Ve);$(Ue)}async function Me(){if(!W||!U.current||!se.current)return null;const ye=U.current,ne=se.current,Ve=ne.getContext("2d");if(!Ve)return null;const Ue=ye.naturalWidth/ye.width,Re=ye.naturalHeight/ye.height;return ne.width=W.width*Ue,ne.height=W.height*Re,Ve.imageSmoothingQuality="high",Ve.drawImage(ye,W.x*Ue,W.y*Re,W.width*Ue,W.height*Re,0,0,ne.width,ne.height),new Promise(Je=>{ne.toBlob(Je,"image/jpeg",1)})}const Ie=async()=>{try{const ye=await Me();if(ye){const ne=new File([ye],k.name,{type:ye.type});H(!0);const Ve=await i(ne);if(Ve.success){const Ue={...c,cover_image:Ve.data.cover_image};d(Ue),M(null),D(null),V(!1),$(void 0),G(void 0)}}}catch(ye){console.error("Cover image upload failed:",ye)}finally{H(!1)}},qe=()=>{M(null),D(null),V(!1),$(void 0),G(void 0)},At=async()=>{const ye=(c==null?void 0:c.active_role)==="seller"&&w.skills?w.skills.split(",").map(ne=>ne.trim()).filter(ne=>ne):[];try{const ne={name:w.name.trim(),bio:w.bio.trim(),location:w.location.trim(),avatar:w.avatar,phone:w.phone};if((c==null?void 0:c.active_role)==="seller"&&(ne.skills=ye),console.log("Sending profile update:",ne),await r(ne)){console.log("Profile update successful, updating local state"),d(Re=>{const Je={...Re,name:ne.name||Re.name,bio:ne.bio||Re.bio,location:ne.location||Re.location,skills:Array.isArray(ne.skills)?ne.skills:Re.skills};return console.log("Updated profile data state:",Je),Je}),v(!1);const Ue=localStorage.getItem("user");if(Ue)try{const Je={...JSON.parse(Ue),...ne};localStorage.setItem("user",JSON.stringify(Je)),console.log("Updated user data in localStorage:",Je);const Fe=localStorage.getItem("token"),Mn=$s("me"),yr=await fetch(Mn,{headers:Fe?{Authorization:`Bearer ${Fe}`}:{}});if(yr.ok){const pt=(await yr.json()).data;console.log("Fresh data received from API:",pt);const Dn={id:pt.id,name:pt.name||"",bio:pt.bio||"",location:pt.location||"",active_role:pt.active_role||"buyer",skills:Array.isArray(pt.skills)?pt.skills:[],avatar:pt.avatar||"",cover_image:pt.cover_image||"",rating:typeof pt.rating=="number"?pt.rating:0,completedOrders:typeof pt.completedOrders=="number"?pt.completedOrders:0,reviewCount:typeof pt.reviewCount=="number"?pt.reviewCount:0,memberSince:pt.memberSince||pt.createdAt||new Date().toISOString()};console.log("Setting validated fresh profile data:",Dn),d(Dn)}}catch(Re){console.error("Error updating localStorage:",Re)}}else console.warn("Profile update was not successful")}catch(ne){console.error("Failed to update profile:",ne)}},ss=async()=>{if(!n){s("/login");return}if(n.id!==c.id)try{const ye=await o(c);l(ye),s("/chat")}catch(ye){console.error("Error starting conversation:",ye)}};return y?t.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"جاري تحميل الملف الشخصي..."}):c?t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["        ",t.jsxs(J,{className:"mb-8 shadow-xl overflow-hidden border-neutral-200 bg-neutral-100",children:[t.jsxs("div",{className:"relative h-48 bg-roman-500",children:[c.cover_image?t.jsx("img",{src:c.cover_image,alt:"غلاف الملف الشخصي",className:"w-full h-full object-cover"}):t.jsx("img",{src:"https://images.unsplash.com/photo-1692975716697-4abaff365786",alt:"غلاف الملف الشخصي",className:"w-full h-full object-cover opacity-30"}),ie&&t.jsxs("div",{className:"absolute top-4 right-4",children:[t.jsxs(z,{variant:"outline",size:"sm",className:"bg-white/80 hover:bg-white text-gray-700",onClick:()=>{var ye;(ye=document.getElementById("cover-image-upload"))==null||ye.click()},children:[t.jsx(ay,{className:"ml-2 h-4 w-4"})," تغيير صورة الغلاف"]}),t.jsx("input",{id:"cover-image-upload",type:"file",accept:"image/*",onChange:X,className:"hidden"})]})]}),t.jsx(Q,{className:"pt-0 -mt-16",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end",children:[t.jsxs(ms,{className:"h-32 w-32 border-4 border-white shadow-lg",children:[t.jsx(Es,{src:c.avatar,alt:c.name}),t.jsx(fs,{className:"text-4xl",children:c.name?c.name.charAt(0):"U"})]}),t.jsxs("div",{className:"md:mr-6 mt-4 md:mt-0 text-center md:text-right",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(c==null?void 0:c.name)||"اسم غير محدد"}),"                ",(c==null?void 0:c.active_role)==="seller"&&t.jsx("p",{className:"text-md text-primary",children:c!=null&&c.skills&&c.skills.length>0?c.skills.slice(0,2).join(" | "):"حرفي"})]}),t.jsx("div",{className:"mt-4 md:mt-0 md:mr-auto flex space-x-2 space-x-reverse",children:t.jsxs("div",{className:"flex gap-2",children:[ie?t.jsxs(z,{onClick:()=>v(!p),variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-white",children:[t.jsx(ay,{className:"ml-2 h-4 w-4"})," ",p?"إلغاء التعديل":"تعديل الملف الشخصي"]}):t.jsxs(z,{onClick:ss,className:"bg-roman-500 hover:bg-roman-500/90 text-white",children:[t.jsx(Xt,{className:"ml-2 h-4 w-4"})," تواصل"]}),t.jsx(z,{onClick:fe,variant:"outline",className:"px-3",children:t.jsx(x1,{className:"h-4 w-4"})})]})})]})})]}),R&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"اختر منطقة صورة الغلاف"}),t.jsx(z,{variant:"ghost",size:"sm",onClick:qe,className:"p-2",children:t.jsx(st,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-auto",children:[t.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(s6,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"font-medium text-blue-900",children:"كيفية الاستخدام:"})]}),t.jsx("p",{children:"اسحب الحدود لتحديد المنطقة التي تريد عرضها في صورة الغلاف. نسبة العرض إلى الارتفاع ستكون 3:1 لتناسب منطقة الغلاف."})]}),t.jsx("div",{className:"relative crop-container rounded-lg bg-gray-100 max-h-[60vh] flex items-center justify-center",children:P&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-auto max-w-full max-h-full p-4",children:t.jsx(P9,{crop:O,onChange:(ye,ne)=>$(ne),onComplete:ye=>G(ye),aspect:3/1,className:"max-w-none",children:t.jsx("img",{ref:U,alt:"اختر منطقة الغلاف",src:P,onLoad:pe,className:"block max-w-none",style:{maxHeight:"70vh",width:"auto"}})})}),t.jsx("canvas",{ref:se,className:"hidden"})]})}),t.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded flex-shrink-0",children:"💡 نصيحة: إذا كانت الصورة طويلة، يمكنك التمرير داخل منطقة الصورة للوصول لجميع أجزائها وتحديد المنطقة المناسبة."})]}),t.jsx("div",{className:"p-4 border-t border-gray-200 flex-shrink-0",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(z,{onClick:Ie,disabled:!W||I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:I?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جارٍ الرفع..."]}):"رفع صورة الغلاف"}),t.jsx(z,{onClick:qe,variant:"outline",className:"flex-1 sm:flex-none",disabled:I,children:"إلغاء"})]})})]})}),p&&ie&&t.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8",children:t.jsxs(J,{className:"shadow-lg border-orange-200",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl text-primary",children:"تعديل معلوماتك الشخصية"})}),t.jsxs(Q,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"الاسم"}),t.jsx(oe,{type:"text",name:"name",id:"name",value:w.name,onChange:Pe,className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"نبذة تعريفية"}),t.jsx(et,{name:"bio",id:"bio",value:w.bio,onChange:Pe,rows:3,className:"mt-1"})]}),"                ",t.jsxs("div",{children:[t.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"الموقع"}),t.jsx(oe,{type:"text",name:"location",id:"location",value:w.location,onChange:Pe,className:"mt-1"})]}),(c==null?void 0:c.active_role)==="seller"&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"skills",className:"block text-sm font-medium text-gray-700",children:"المهارات (مفصولة بفاصلة)"}),t.jsx(oe,{type:"text",name:"skills",id:"skills",value:w.skills,onChange:Pe,className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"صورة الملف الشخصي"}),t.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:N||(c==null?void 0:c.avatar)||"https://avatar.iran.liara.run/public/65",alt:"معاينة الصورة الشخصية",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-300"}),x&&t.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"✓"})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(oe,{id:"avatar-upload",type:"file",accept:"image/*",onChange:L,className:"hidden"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("label",{htmlFor:"avatar-upload",className:"cursor-pointer bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"اختيار صورة"}),x&&t.jsx("button",{type:"button",onClick:Y,disabled:A,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm disabled:opacity-50",children:A?"جاري الرفع...":"رفع الصورة"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"يرجى اختيار صورة بصيغة JPG، PNG أو GIF. الحد الأقصى: 5 ميجابايت"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"رقم الهاتف"}),t.jsx(oe,{type:"text",name:"phone",id:"phone",value:w.phone,onChange:Pe,className:"mt-1",placeholder:"مثال: +201234567890"})]})]}),t.jsxs(St,{children:[t.jsx(z,{onClick:At,className:"bg-green-500 hover:bg-green-600",children:"حفظ التغييرات"}),t.jsx(z,{onClick:()=>v(!1),variant:"ghost",className:"mr-2",children:"إلغاء"})]})]})}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[t.jsxs(K.div,{className:"md:col-span-1 space-y-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[t.jsxs(J,{className:"shadow-lg border-orange-100",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl text-gray-700",children:"نبذة عني"})}),t.jsxs(Q,{children:[t.jsx("p",{className:"text-gray-600 leading-relaxed",children:(c==null?void 0:c.bio)||"لا توجد نبذة تعريفية متاحة."}),t.jsx(dt,{className:"my-4"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[(c==null?void 0:c.location)&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(zt,{className:"h-4 w-4 ml-2 text-primary"})," ",c.location]}),(c==null?void 0:c.phone)&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 ml-2 text-primary"})," ",c.phone]}),(c==null?void 0:c.memberSince)&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(QA,{className:"h-4 w-4 ml-2 text-primary"}),"عضو منذ ",new Date(c.memberSince).toLocaleDateString("ar-EG")]})]}),(c==null?void 0:c.active_role)==="seller"&&(c==null?void 0:c.skills)&&c.skills.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(dt,{className:"my-4"}),t.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"المهارات:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:c.skills.map((ye,ne)=>t.jsx(me,{variant:"secondary",className:"bg-success-100/20 text-neutral-900",children:ye},`${ye}-${ne}`))})]})]})]}),(c==null?void 0:c.active_role)==="seller"&&t.jsxs(J,{className:"shadow-lg border-orange-100",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl text-gray-700",children:"إحصائيات البائع"})}),t.jsxs(Q,{className:"space-y-3 text-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(ze,{className:"h-5 w-5 ml-2 text-yellow-400"})," متوسط التقييم"]}),t.jsx("span",{className:"font-semibold",children:((sn=c==null?void 0:c.rating)==null?void 0:sn.toFixed(1))||"غير متاح"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(_l,{className:"h-5 w-5 ml-2 text-green-500"})," الطلبات المكتملة"]}),t.jsx("span",{className:"font-semibold",children:(c==null?void 0:c.completedOrders)||0})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Sn,{className:"h-5 w-5 ml-2 text-blue-500"})," عدد التقييمات"]}),t.jsx("span",{className:"font-semibold",children:(c==null?void 0:c.reviewCount)||0})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(cp,{className:"h-5 w-5 ml-2 text-purple-500"})," عدد الخدمات"]}),t.jsx("span",{className:"font-semibold",children:(m==null?void 0:m.length)||0})]})]})]})]}),t.jsxs(K.div,{className:"md:col-span-2 space-y-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[(c==null?void 0:c.active_role)==="seller"?"خدماتي":"طلباتي"," (",(m==null?void 0:m.length)||0,")"]}),ie&&(c==null?void 0:c.active_role)==="seller"&&t.jsxs(z,{onClick:()=>s("/dashboard/gigs/new"),className:"bg-green-500 hover:bg-green-600",children:[t.jsx(Ar,{className:"ml-2 h-4 w-4"})," أضف خدمة جديدة"]})]}),m&&m.length>0?t.jsx("div",{className:"grid sm:grid-cols-2 gap-6",children:m.map(ye=>t.jsxs(J,{className:"overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 card-hover border-neutral-200/50",children:[t.jsxs("div",{className:"relative h-48",children:[t.jsx("img",{src:ye.images&&ye.images.length>0?ye.images[0]:"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea",alt:ye.title,className:"w-full h-full object-cover"}),t.jsx(me,{variant:"secondary",className:"absolute top-2 right-2 bg-roman-500 text-white",children:ye.category||"غير محدد"})]}),t.jsx(de,{className:"pb-1",children:t.jsx(he,{className:"text-md font-semibold text-gray-700 h-12 overflow-hidden",children:ye.title||"عنوان غير محدد"})}),t.jsxs(Q,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-1",children:[t.jsx(ze,{className:"h-4 w-4 text-yellow-500 mr-1"}),ye.rating||0," (",ye.reviewCount||0," تقييمات)"]}),t.jsxs("p",{className:"text-lg font-bold text-primary",children:[ye.price||0," جنيه"]})]}),t.jsxs(St,{className:"flex gap-2",children:[t.jsx(z,{asChild:!0,variant:"outline",className:"flex-1 border-roman-500/30 text-neutral-900 hover:bg-success-100/30 hover:text-roman-500 hover:border-roman-500",children:t.jsx(we,{to:`/gigs/${ye.id}`,children:"عرض"})}),ie&&t.jsx(z,{asChild:!0,variant:"outline",className:"flex-1",children:t.jsx(we,{to:`/dashboard/gigs/edit/${ye.id}`,children:"تعديل"})})]})]},ye.id))}):t.jsx(J,{className:"text-center py-12 border-dashed border-gray-300",children:t.jsxs(Q,{children:[t.jsx(cp,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:(c==null?void 0:c.active_role)==="seller"?"لا توجد خدمات معروضة حالياً":"لا توجد طلبات حالياً"}),t.jsx("p",{className:"text-gray-500",children:(c==null?void 0:c.active_role)==="seller"?"ابدأ بإضافة خدماتك ليراها العملاء!":"تصفح المنتجات وقم بطلبك الأول!"}),(c==null?void 0:c.active_role)==="buyer"&&t.jsx(z,{asChild:!0,className:"mt-4 bg-roman-500 hover:bg-roman-500/90 text-white",children:t.jsx(we,{to:"/explore",children:"استكشف المنتجات"})})]})})]})]})]})}):t.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"تعذر تحميل الملف الشخصي."})},E9=()=>{const{id:e}=Fa(),[s,n]=u.useState(null),[r,a]=u.useState([]),[i,o]=u.useState([]),[l,c]=u.useState(!0),[d,m]=u.useState(null),[h,p]=u.useState(!1),v=We(),{user:w}=De(),{startConversation:g,setActiveConversation:y}=Ua(),{toast:f}=Ke(),x=(S,A)=>{a(C=>C.map(k=>k.id===S?{...k,in_wishlist:A}:k))};u.useEffect(()=>{(async()=>{var A,C,k,M,P;try{c(!0);const D=(await ve.getSeller(e)).data;if(!D){m("لم يتم العثور على الحرفي"),c(!1);return}const I={id:D.id,user_id:(A=D.user)==null?void 0:A.id,name:((C=D.user)==null?void 0:C.name)||"بدون اسم",email:((k=D.user)==null?void 0:k.email)||"",bio:D.bio||"لا يوجد وصف",location:D.location||"غير محدد",rating:D.rating||0,reviewCount:D.review_count||0,memberSince:D.member_since||new Date().toISOString(),skills:Array.isArray(D.skills)?D.skills:[],completedOrders:D.completed_orders||0,responseTime:D.response_time||"غير محدد",avatar:((M=D.user)==null?void 0:M.avatar)||"",cover_image:((P=D.user)==null?void 0:P.cover_image)||"",products:D.products||[],user:D.user};n(I);const H=I.products;if(H&&Array.isArray(H)){const O=H.map($=>{var W;return{id:$.id,title:$.title||"عنوان غير محدد",price:$.price||0,category:((W=$.category)==null?void 0:W.name)||"غير مصنف",rating:$.rating||0,reviewCount:$.review_count||0,images:Array.isArray($.images)?$.images.map(G=>G.url||G.image_url||G):[],description:$.description||"",in_wishlist:$.in_wishlist||!1}});a(O)}else a([]);c(!1)}catch(D){console.error("Error fetching seller data:",D),D.message&&D.message.includes("404")?m("لم يتم العثور على الحرفي"):m("حدث خطأ أثناء تحميل البيانات، الرجاء المحاولة مرة أخرى"),c(!1)}})()},[e,v]);const j=async()=>{if(!(!(s!=null&&s.id)||i.length>0)){p(!0);try{const S=await ve.getSellerReviews(s.id);S&&Array.isArray(S.data)&&o(S.data)}catch(S){console.error("Error loading seller reviews:",S)}finally{p(!1)}}};if(l)return t.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[t.jsx(Se,{className:"h-16 w-16 animate-spin text-primary mx-auto"}),t.jsx("p",{className:"mt-4 text-lg",children:"جاري تحميل بيانات الحرفي..."})]});if(d)return t.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[t.jsx("div",{className:"text-4xl mb-4",children:"😕"}),t.jsx("h1",{className:"text-2xl font-bold mb-4",children:d}),t.jsx("p",{className:"mb-8",children:"لم نتمكن من العثور على الحرفي المطلوب"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(z,{asChild:!0,children:t.jsx(we,{to:"/explore?tab=sellers",children:"العودة إلى قائمة الحرفيين"})}),t.jsx(z,{variant:"outline",onClick:()=>v(-1),children:"العودة إلى الصفحة السابقة"})]})]});if(!s)return null;const N=async()=>{if(!w){f({variant:"destructive",title:"يرجى تسجيل الدخول",description:"يجب عليك تسجيل الدخول أولاً للتواصل مع الحرفي."}),v("/login",{state:{from:`/sellers/${e}`}});return}if(w.id===s.user_id){f({variant:"destructive",title:"لا يمكن مراسلة نفسك",description:"لا يمكنك بدء محادثة مع نفسك."});return}try{const S=await g(s.user);y(S),v("/chat")}catch(S){console.error("Error starting conversation:",S)}};return t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["        ","        ",t.jsxs(J,{className:"mb-8 overflow-hidden border-neutral-200/50",children:[t.jsxs("div",{className:"h-48 bg-roman-500 relative",children:[s.cover_image?t.jsx("img",{src:s.cover_image,alt:"غلاف الحرفي",className:"w-full h-full object-cover"}):t.jsxs(t.Fragment,{children:[t.jsx("img",{src:"https://images.unsplash.com/photo-1692975716697-4abaff365786",alt:"غلاف افتراضي للحرفي",className:"w-full h-full object-cover opacity-30"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-roman-500/40 to-transparent"})]}),t.jsx("div",{className:"absolute -bottom-16 right-8 h-32 w-32 rounded-full bg-white shadow-lg border-4 border-white overflow-hidden",children:s.avatar?t.jsx("img",{src:s.avatar,alt:s.name,className:"w-full h-full object-cover opacity-30"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-5xl font-bold text-roman-500",children:s.name.charAt(0)})})]}),t.jsx(Q,{className:"pt-20 pb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:s.name}),t.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[t.jsx(zt,{className:"h-4 w-4 text-gray-400 ml-1"}),t.jsx("span",{children:s.location}),t.jsx("span",{className:"mx-2",children:"•"}),t.jsx(hr,{className:"h-4 w-4 text-gray-400 ml-1"}),t.jsxs("span",{children:["عضو منذ ",new Date(s.memberSince).toLocaleDateString("ar-EG")]})]}),t.jsx("p",{className:"text-gray-700 mb-4 max-w-3xl",children:s.bio}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((S,A)=>t.jsx(me,{variant:"outline",className:"border-roman-500/30 bg-success-100/10",children:s.skills[A]},A))})]}),"              ",t.jsx("div",{className:"mt-6 md:mt-0 flex md:flex-col gap-3",children:t.jsxs(z,{onClick:N,className:"bg-warning-500 hover:bg-warning-600 text-white",children:[t.jsx(Xt,{className:"ml-2 h-4 w-4"}),"تواصل مع الحرفي"]})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsx(J,{className:"border-neutral-200/50 bg-neutral-100/10",children:t.jsxs(Q,{className:"p-6 flex items-center",children:[t.jsx(ze,{className:"h-10 w-10 text-yellow-500 ml-4"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"التقييم"}),t.jsxs("p",{className:"text-2xl font-bold",children:[s.rating," ",t.jsxs("span",{className:"text-sm text-gray-500",children:["(",s.reviewCount,")"]})]})]})]})}),t.jsx(J,{className:"border-neutral-200/50 bg-neutral-100/10",children:t.jsxs(Q,{className:"p-6 flex items-center",children:[t.jsx(It,{className:"h-10 w-10 text-roman-500 ml-4"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"الطلبات المكتملة"}),t.jsx("p",{className:"text-2xl font-bold",children:s.completedOrders})]})]})}),t.jsx(J,{className:"border-neutral-200/50 bg-neutral-100/10",children:t.jsxs(Q,{className:"p-6 flex items-center",children:[t.jsx(Zs,{className:"h-10 w-10 text-success-500 ml-4"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"وقت الاستجابة"}),t.jsx("p",{className:"text-2xl font-bold",children:s.responseTime})]})]})}),t.jsx(J,{className:"border-neutral-200/50 bg-neutral-100/10",children:t.jsxs(Q,{className:"p-6 flex items-center",children:[t.jsx(_l,{className:"h-10 w-10 text-warning-500 ml-4"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"الخبرة"}),t.jsx("p",{className:"text-2xl font-bold",children:(()=>{const S=new Date,A=new Date(s.memberSince);let C=S.getFullYear()-A.getFullYear(),k=S.getMonth()-A.getMonth();return k<0&&(C-=1,k+=12),t.jsxs(t.Fragment,{children:[C>0&&t.jsxs("span",{children:[C," سنة",(C>1,"")]}),C>0&&k>0&&" و ",k>0&&t.jsxs("span",{children:[k," شهر",(k>1,"")]}),C===0&&k===0&&t.jsx("span",{children:"أقل من شهر"})]})})()})]})]})})]}),t.jsxs(zo,{defaultValue:"products",className:"w-full",onValueChange:S=>{S==="reviews"&&j()},children:[t.jsxs(ki,{className:"w-full max-w-md mx-auto grid grid-cols-2 mb-8",children:[t.jsx(Kt,{value:"products",className:"text-lg",children:"المنتجات"}),t.jsxs(Kt,{value:"reviews",className:"text-lg",children:["التقييمات (",(s==null?void 0:s.reviewCount)||0,")"]})]}),t.jsxs(_s,{value:"products",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",children:"منتجات الحرفي"}),r.length>0?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(S=>t.jsxs(J,{className:"overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col h-full card-hover border-neutral-200/50",children:[t.jsxs("div",{className:"relative h-56",children:[t.jsx("img",{src:S.images&&S.images.length>0?S.images[0]:"https://images.unsplash.com/photo-1680188700662-5b03bdcf3017",alt:S.title,className:"w-full h-full object-cover"}),t.jsx(me,{variant:"secondary",className:"absolute top-2 right-2 bg-roman-500 text-white",children:S.category}),t.jsx("div",{className:"absolute top-2 left-2",children:t.jsx(uc,{productId:S.id,inWishlist:S.in_wishlist,onWishlistChange:x,size:"md"})})]}),t.jsx(de,{className:"pb-2",children:t.jsx(he,{className:"text-lg font-semibold text-gray-800 h-14 overflow-hidden",children:S.title})}),t.jsxs(Q,{className:"flex-grow",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[t.jsx(ze,{className:"h-4 w-4 text-yellow-500 mr-1"}),S.rating," (",S.reviewCount," تقييمات)"]}),t.jsxs("p",{className:"text-xl font-bold text-primary mb-2",children:[S.price," جنيه"]})]}),t.jsx(St,{children:t.jsx(z,{asChild:!0,className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white",children:t.jsxs(we,{to:`/gigs/${S.id}`,children:["عرض التفاصيل",t.jsx(qs,{className:"mr-2 h-4 w-4"})]})})})]},S.id))}):t.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:t.jsx("p",{className:"text-xl text-gray-600",children:"لا توجد منتجات لعرضها حالياً"})})]}),t.jsxs(_s,{value:"reviews",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",children:"تقييمات العملاء"}),h?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"جاري تحميل التقييمات..."})]}):i.length>0?t.jsx("div",{className:"space-y-6",dir:"rtl",children:i.map(S=>{var A,C,k,M;return t.jsx(J,{className:"border-neutral-200/50",children:t.jsx(Q,{className:"p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:(A=S.user)!=null&&A.avatar?t.jsx("img",{src:S.user.avatar,alt:S.user.name||"مستخدم",className:"w-12 h-12 rounded-full object-cover border-2 border-neutral-200"}):t.jsx("div",{className:"w-12 h-12 bg-roman-500 rounded-full flex items-center justify-center text-white font-bold",children:((k=(C=S.user)==null?void 0:C.name)==null?void 0:k.charAt(0))||"م"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 text-right",children:((M=S.user)==null?void 0:M.name)||"مستخدم"}),t.jsx("p",{className:"text-sm text-gray-500 text-right",children:new Date(S.created_at).toLocaleDateString("ar-EG")})]})}),S.product&&t.jsxs("div",{className:"flex items-center gap-3 mb-3 p-3 bg-gray-50 rounded-lg",children:[S.product.image?t.jsx("img",{src:S.product.image,alt:S.product.title,className:"w-12 h-12 rounded-lg object-cover border border-neutral-200"}):t.jsx("div",{className:"w-12 h-12 bg-neutral-100 rounded-lg flex items-center justify-center",children:t.jsx(It,{className:"h-6 w-6 text-roman-500"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700 block text-right",children:S.product.title}),t.jsx("span",{className:"text-xs text-gray-500 block text-right",children:S.product.category_name})]})]}),t.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(P=>t.jsx(ze,{className:`h-4 w-4 ${P<=S.rating?"text-yellow-400 fill-current":"text-gray-300"}`},P))}),S.comment&&t.jsx("p",{className:"text-gray-700 leading-relaxed text-right",children:S.comment})]})]})})},S.id)})}):t.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[t.jsx(ze,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"لا توجد تقييمات حتى الآن"}),t.jsx("p",{className:"text-gray-500",children:"سيظهر هنا تقييمات العملاء عند شراء منتجات هذا الحرفي"})]})]})]})]})})},T9=[{id:"s1",name:"ليلى حسن",email:"laila@example.com",avatar:"",bio:"حرفية متخصصة في صناعة المجوهرات اليدوية من الفضة والأحجار الكريمة",rating:4.8,reviewCount:124,location:"القاهرة، مصر",memberSince:"2020-05-15",skills:["المجوهرات","الفضة","الأحجار الكريمة"],completedOrders:215,responseTime:"2 ساعة"},{id:"s2",name:"كريم محمود",email:"karim@example.com",avatar:"",bio:"حرفي متخصص في النحت على الخشب وصناعة الأثاث اليدوي التقليدي",rating:4.9,reviewCount:89,location:"الإسكندرية، مصر",memberSince:"2019-11-20",skills:["النحت على الخشب","الأثاث اليدوي","الديكور"],completedOrders:178,responseTime:"1 ساعة"},{id:"s3",name:"فاطمة علي",email:"fatima@example.com",avatar:"",bio:"متخصصة في صناعة المنسوجات اليدوية والتطريز التقليدي",rating:4.7,reviewCount:156,location:"أسيوط، مصر",memberSince:"2021-02-10",skills:["المنسوجات","التطريز","الكروشيه"],completedOrders:230,responseTime:"3 ساعة"},{id:"s4",name:"أحمد سمير",email:"ahmed@example.com",avatar:"",bio:"حرفي متخصص في صناعة الفخار والخزف التقليدي",rating:4.6,reviewCount:78,location:"الفيوم، مصر",memberSince:"2020-08-05",skills:["الفخار","الخزف","الرسم على الفخار"],completedOrders:145,responseTime:"4 ساعة"},{id:"s5",name:"نور المصري",email:"nour@example.com",avatar:"",bio:"متخصصة في صناعة العطور الطبيعية والزيوت العطرية المستخلصة من نباتات محلية",rating:4.9,reviewCount:112,location:"الأقصر، مصر",memberSince:"2020-01-15",skills:["العطور","الزيوت الطبيعية","الاستخلاص"],completedOrders:198,responseTime:"2 ساعة"},{id:"s6",name:"سارة محمد",email:"sara@example.com",avatar:"",bio:"مصممة أزياء تخصصت في تصميم وخياطة الملابس التقليدية بلمسة عصرية",rating:4.8,reviewCount:95,location:"المنصورة، مصر",memberSince:"2019-09-22",skills:["تصميم أزياء","خياطة","تطريز"],completedOrders:167,responseTime:"3 ساعة"},{id:"s7",name:"ياسر عادل",email:"yasser@example.com",avatar:"",bio:"فنان تشكيلي متخصص في صناعة اللوحات والطابلوهات الفنية باستخدام تقنيات مختلفة",rating:4.7,reviewCount:88,location:"أسوان، مصر",memberSince:"2020-06-18",skills:["رسم","نحت","ديكور"],completedOrders:142,responseTime:"4 ساعة"},{id:"s8",name:"هبة سليم",email:"heba@example.com",avatar:"",bio:"حرفية متخصصة في أعمال الكروشيه والحياكة اليدوية بتصاميم مبتكرة",rating:4.9,reviewCount:147,location:"طنطا، مصر",memberSince:"2019-12-10",skills:["كروشيه","حياكة","تصميم"],completedOrders:215,responseTime:"1 ساعة"},{id:"s9",name:"عمر خالد",email:"omar@example.com",avatar:"",bio:"مهندس معماري متخصص في تصميم وتنفيذ قطع ديكور من الخرسانة (الكونكريت) بأشكال عصرية",rating:4.8,reviewCount:76,location:"بورسعيد، مصر",memberSince:"2021-03-05",skills:["تصميم معماري","كونكريت","ديكور منزلي"],completedOrders:119,responseTime:"2 ساعة"},{id:"s10",name:"منى حسين",email:"mona@example.com",avatar:"",bio:"مصممة اكسسوارات يدوية من مواد مختلفة بتصاميم فريدة ومميزة",rating:4.7,reviewCount:108,location:"الجيزة، مصر",memberSince:"2020-04-22",skills:["مجوهرات","اكسسوارات","تصميم"],completedOrders:187,responseTime:"2 ساعة"},{id:"s11",name:"محمد علي",email:"mohamed@example.com",avatar:"",bio:"حرفي متخصص في أعمال الريزن وصناعة القطع الفنية والديكورية باستخدام تقنيات مختلفة",rating:4.9,reviewCount:92,location:"الإسماعيلية، مصر",memberSince:"2021-01-15",skills:["ريزن","ديكور","فنون"],completedOrders:158,responseTime:"3 ساعة"},{id:"s12",name:"رنا أحمد",email:"rana@example.com",avatar:"",bio:"طاهية متخصصة في المأكولات المصرية التقليدية والحلويات المنزلية المصنوعة بوصفات عائلية",rating:4.8,reviewCount:134,location:"الزقازيق، مصر",memberSince:"2020-07-10",skills:["طبخ","حلويات","وصفات تقليدية"],completedOrders:226,responseTime:"1 ساعة"}],A9=e=>T9.find(s=>s.id===e)||null,R9=()=>{const{id:e}=Fa(),s=We(),[n,r]=u.useState(null),[a,i]=u.useState(!0),[o,l]=u.useState(null),{user:c}=De(),{startNewChat:d,sendMessage:m,messages:h,activeConversation:p}=Ua(),v=u.useRef(null),[w,g]=u.useState(""),y=j=>{if(!j)return!1;const N=new Date(j);return(new Date-N)/(1e3*60)<5},f=j=>{if(!j)return"غير متصل";const N=new Date(j),S=new Date;if(y(j))return"متصل الآن";if(N.toDateString()===S.toDateString())return`آخر ظهور اليوم ${N.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}`;const A=new Date(S);if(A.setDate(A.getDate()-1),N.toDateString()===A.toDateString())return`آخر ظهور أمس ${N.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}`;const C={year:"numeric",month:"2-digit",day:"2-digit",calendar:"gregory",numberingSystem:"arabext"};return`آخر ظهور ${N.toLocaleDateString("ar-SA",C)}`};u.useEffect(()=>{if(!c){s("/login",{state:{from:`/message/${e}`}});return}try{const j=A9(e);if(!j){l("لم يتم العثور على الحرفي"),i(!1);return}r(j);const N=d(e);i(!1)}catch(j){console.error("Error in MessagePage:",j),l("حدث خطأ أثناء تحميل البيانات"),i(!1)}},[e,s,c,d]);const x=j=>{j.preventDefault(),!(!w.trim()||!p)&&(m(p,w),g(""))};return u.useEffect(()=>{var j;(j=v.current)==null||j.scrollIntoView({behavior:"smooth"})},[p,h]),a?t.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),t.jsx("p",{className:"mt-4 text-lg",children:"جاري التحميل..."})]}):o?t.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[t.jsx("div",{className:"text-4xl mb-4",children:"😕"}),t.jsx("h1",{className:"text-2xl font-bold mb-4",children:o}),t.jsx("p",{className:"mb-8",children:"لم نتمكن من العثور على الحرفي المطلوب"}),t.jsx(z,{asChild:!0,children:t.jsx("a",{href:"/explore?tab=sellers",children:"العودة إلى قائمة الحرفيين"})})]}):n?t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx(z,{variant:"ghost",className:"ml-2",onClick:()=>s(-1),children:t.jsx(qs,{className:"h-5 w-5"})}),t.jsxs("h1",{className:"text-2xl font-bold",children:["محادثة مع ",n.name]})]}),"        ",t.jsxs(J,{className:"border-neutral-200/50 mb-6",children:[t.jsx(de,{className:"bg-neutral-100/20 pb-3",children:t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"h-10 w-10 rounded-full bg-roman-500 flex items-center justify-center text-white font-bold ml-3 relative",children:[n.name.charAt(0),y(n.last_seen)&&t.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),t.jsxs("div",{children:[t.jsx(he,{children:n.name}),t.jsx("p",{className:"text-sm text-gray-500",children:f(n.last_seen)})]})]})}),"          ",t.jsx(Q,{className:"p-0",children:t.jsx("div",{className:"h-[400px] overflow-y-auto p-4",children:!p||!h[p]||h[p].length===0?t.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:["                  ",t.jsx("div",{className:"w-16 h-16 rounded-full bg-neutral-100/50 flex items-center justify-center mb-4",children:t.jsx(uu,{className:"h-8 w-8 text-roman-500"})}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"ابدأ محادثة جديدة"}),t.jsxs("p",{className:"text-gray-500 max-w-md",children:["قم بإرسال رسالة إلى ",n.name," للاستفسار عن المنتجات أو طلب منتج مخصص."]})]}):t.jsxs("div",{className:"space-y-4",children:[h[p].map(j=>t.jsx("div",{className:`flex ${j.senderId===c.id?"justify-start":"justify-end"}`,children:t.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${j.senderId===c.id?"bg-roman-500 text-white":"bg-gray-100 text-gray-800"}`,children:[t.jsx("p",{dir:"rtl",children:j.text}),t.jsx("p",{className:`text-xs mt-1 ${j.senderId===c.id?"text-neutral-100":"text-gray-500"}`,children:new Date(j.timestamp).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]})},j.id)),t.jsx("div",{ref:v})]})})}),"          ",t.jsx(St,{className:"p-3 border-t",children:t.jsxs("form",{onSubmit:x,className:"w-full flex",children:[t.jsx(oe,{value:w,onChange:j=>g(j.target.value),placeholder:"اكتب رسالتك هنا...",className:"ml-2"}),t.jsx(z,{type:"submit",className:"bg-roman-500 hover:bg-roman-500/90 text-white",children:t.jsx(uu,{className:"h-4 w-4"})})]})})]}),t.jsxs(J,{className:"border-neutral-200/50",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl",children:"معلومات الحرفي"})}),t.jsxs(Q,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-1",children:"نبذة"}),t.jsx("p",{className:"text-gray-700",children:n.bio})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-1",children:"المهارات"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((j,N)=>t.jsx("span",{className:"bg-success-100/20 text-neutral-900 px-2 py-1 rounded-full text-sm",children:j},N))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-1",children:"وقت الاستجابة"}),t.jsx("p",{className:"text-gray-700",children:n.responseTime})]})]})]})]})}):null};var Eh="Switch",[M9,bB]=pn(Eh),[D9,O9]=M9(Eh),S_=u.forwardRef((e,s)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:m,...h}=e,[p,v]=u.useState(null),w=Ze(s,j=>v(j)),g=u.useRef(!1),y=p?m||!!p.closest("form"):!0,[f,x]=za({prop:a,defaultProp:i??!1,onChange:d,caller:Eh});return t.jsxs(D9,{scope:n,checked:f,disabled:l,children:[t.jsx($e.button,{type:"button",role:"switch","aria-checked":f,"aria-required":o,"data-state":P_(f),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:ke(e.onClick,j=>{x(N=>!N),y&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),y&&t.jsx(k_,{control:p,bubbles:!g.current,name:r,value:c,checked:f,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});S_.displayName=Eh;var C_="SwitchThumb",__=u.forwardRef((e,s)=>{const{__scopeSwitch:n,...r}=e,a=O9(C_,n);return t.jsx($e.span,{"data-state":P_(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:s})});__.displayName=C_;var $9="SwitchBubbleInput",k_=u.forwardRef(({__scopeSwitch:e,control:s,checked:n,bubbles:r=!0,...a},i)=>{const o=u.useRef(null),l=Ze(o,i),c=eg(n),d=gh(s);return u.useEffect(()=>{const m=o.current;if(!m)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&v){const w=new Event("click",{bubbles:r});v.call(m,n),m.dispatchEvent(w)}},[c,n,r]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});k_.displayName=$9;function P_(e){return e?"checked":"unchecked"}var E_=S_,I9=__;const Ot=u.forwardRef(({className:e,...s},n)=>t.jsx(E_,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:n,children:t.jsx(I9,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ot.displayName=E_.displayName;const L9=()=>{const{user:e,switchRole:s,enableSellerMode:n}=De(),[r,a]=u.useState(!1);if(Ke(),!e)return null;const i=async l=>{l!==e.active_role&&(a(!0),l==="seller"&&!e.is_seller?await n()&&await s(l):await s(l),a(!1))},o=async()=>{a(!0),await n()&&await s("seller"),a(!1)};return t.jsxs(J,{className:"mb-6 border-roman-500/20 bg-gradient-to-r from-roman-500/5 to-roman-500/10",children:[t.jsx(de,{className:"pb-4",children:t.jsxs(he,{className:"flex items-center justify-between text-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qA,{className:"h-5 w-5 text-roman-500"}),t.jsx("span",{children:"تبديل الأدوار"})]}),t.jsx(me,{variant:e.active_role==="seller"?"default":"secondary",className:e.active_role==="seller"?"bg-roman-500 text-white":"",children:e.active_role==="seller"?"البائع":"المشتري"})]})}),t.jsxs(Q,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs(K.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${e.active_role==="buyer"?"border-roman-500 bg-roman-500/10":"border-gray-200 hover:border-roman-500/50"}`,onClick:()=>e.is_buyer&&i("buyer"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Lt,{className:"h-5 w-5 text-roman-500"}),t.jsx("span",{className:"font-medium",children:"المشتري"})]}),e.active_role==="buyer"&&t.jsx(me,{className:"bg-roman-500 text-white",children:"نشط"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"تصفح المنتجات، إضافة للسلة، وإجراء المشتريات"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-shrink-0 w-11 h-6",children:t.jsx(Ot,{checked:e.active_role==="buyer",disabled:!e.is_buyer||r,onCheckedChange:()=>e.is_buyer&&i("buyer"),className:"data-[state=checked]:bg-roman-500 w-11 h-6"})}),t.jsx("span",{className:"text-xs text-gray-500",children:e.is_buyer?"متاح":"غير متاح"})]})]}),t.jsxs(K.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${e.active_role==="seller"?"border-roman-500 bg-roman-500/10":"border-gray-200 hover:border-roman-500/50"}`,onClick:()=>e.is_seller&&i("seller"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(v1,{className:"h-5 w-5 text-roman-500"}),t.jsx("span",{className:"font-medium",children:"البائع"})]}),e.active_role==="seller"&&t.jsx(me,{className:"bg-roman-500 text-white",children:"نشط"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"إدارة المنتجات، معالجة الطلبات، وتتبع الأرباح"}),t.jsx("div",{className:"flex items-center gap-2",children:e.is_seller?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex-shrink-0 w-11 h-6",children:t.jsx(Ot,{checked:e.active_role==="seller",disabled:r,onCheckedChange:()=>i("seller"),className:"data-[state=checked]:bg-roman-500 w-11 h-6"})}),t.jsx("span",{className:"text-xs text-gray-500",children:"متاح"})]}):t.jsx(t.Fragment,{children:t.jsxs(z,{size:"sm",variant:"outline",onClick:o,disabled:r,className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:[t.jsx(Zx,{className:"h-4 w-4 mr-2"}),"تفعيل وضع البائع"]})})})]})]}),t.jsx(P0,{children:r&&t.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-3 bg-roman-500/10 rounded-lg border border-roman-500/20",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-roman-500",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-roman-500"}),t.jsx("span",{children:"جاري تحديث الدور..."})]})})})]})]})},F9=({user:e})=>{const s=We(),{logout:n}=De(),{isSidebarOpen:r,toggleSidebar:a,isMobile:i,isMobileMenuOpen:o}=Io(),l=m5(),c=l.pathname==="/dashboard"||l.pathname==="/dashboard/",d=[{path:"/dashboard/orders",label:"طلباتي",icon:Lt},{path:"/wishlist",label:"قائمة الأمنيات",icon:_n},{path:"/dashboard/wallet",label:"محفظتي",icon:bt},{path:"/dashboard/messages",label:"الرسائل",icon:un},{path:"/dashboard/settings",label:"إعدادات الحساب",icon:ka}],m=[{path:"/dashboard/overview",label:"نظرة عامة",icon:ii},{path:"/dashboard/gigs",label:"خدماتي",icon:Lt},{path:"/dashboard/orders",label:"الطلبات الواردة",icon:bt},{path:"/dashboard/earnings",label:"الأرباح",icon:Gx},{path:"/dashboard/messages",label:"الرسائل",icon:un},{path:"/dashboard/settings",label:"إعدادات الحساب",icon:ka}],h=(e==null?void 0:e.active_role)==="seller"?m:d;return t.jsx(P0,{mode:"wait",children:(i&&o||!i)&&t.jsxs(K.aside,{initial:{width:i?0:r?"16rem":"5rem",x:i?-250:0},animate:{width:i||r?"16rem":"5rem",x:0},exit:{width:0,x:-250},transition:{type:"spring",stiffness:300,damping:30},className:`bg-background/95 backdrop-blur-md border-l border-roman-500/20 flex flex-col z-40 ${i?"fixed top-0 right-0 h-screen shadow-lg":"h-screen sticky top-0"} ${r?"sidebar-expanded":"sidebar-collapsed"}`,children:[i&&t.jsx("button",{onClick:a,className:"absolute top-4 left-4 p-1 rounded-full bg-success-100/60 text-neutral-900 hover:bg-success-100/80",children:t.jsx(st,{size:20})}),t.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[t.jsxs(we,{to:"/",className:"flex items-center space-x-2 space-x-reverse",children:[t.jsx("img",{src:"/Asset_12.svg",alt:"بازار Logo",className:`h-6 w-6 object-contain ${!r&&!i?"scale-010 opacity-0":"scale-100 opacity-100"} transition-all duration-300`}),t.jsx(K.div,{whileHover:{scale:1.05},className:`text-xl font-bold text-roman-500 ${!r&&!i?"scale-0 w-0 opacity-0":"scale-100 opacity-100"} transition-all duration-300`,children:"بازار"})]}),!i&&t.jsx("button",{onClick:a,className:"p-1 rounded-full bg-success-100/60 text-roman-500 hover:bg-success-100/80 transition-colors duration-200",children:t.jsx(bc,{size:20,className:`sidebar-icon ${r?"":"sidebar-icon-rotated"}`})})]}),"            ",t.jsx("div",{className:`py-2 ${!r&&!i?"hidden":"block"}`,children:t.jsxs(z,{variant:"ghost",className:`w-full justify-start text-right px-3 py-2 transition-all duration-200 ${c?"bg-roman-500/10 text-roman-500 font-medium":"hover:bg-success-100/50 hover:text-roman-500"}`,onClick:()=>{s("/dashboard"),i&&a()},children:[t.jsx(ii,{className:"ml-2 h-5 w-5"}),t.jsx("span",{className:"text-lg font-semibold text-roman-500",children:"لوحة التحكم"})]})}),!r&&!i&&t.jsx("div",{className:"py-2 flex justify-center",children:t.jsx(z,{variant:"ghost",size:"sm",className:`p-2 transition-all duration-200 ${c?"bg-roman-500/10 text-roman-500":"hover:bg-success-100/50 hover:text-roman-500"}`,onClick:()=>s("/dashboard"),title:"لوحة التحكم",children:t.jsx(ii,{className:"h-5 w-5 text-roman-500"})})}),t.jsx("nav",{className:"space-y-1",children:h.map(p=>t.jsxs(z,{variant:l.pathname.startsWith(p.path)?"subtle":"ghost",className:`w-full justify-${r||i?"start":"center"} text-right px-3 py-2 ${l.pathname.startsWith(p.path)?"bg-roman-500/10 text-roman-500 font-medium":"hover:bg-success-100/50 hover:text-roman-500 text-sm font-medium"} transition-all duration-200`,onClick:()=>{s(p.path),i&&a()},children:[t.jsx(p.icon,{className:`${r||i?"ml-2":""} h-4 w-4`}),(r||i)&&t.jsx("span",{className:"text-neutral-900",children:p.label})]},p.path))}),t.jsx(dt,{className:"my-4"}),t.jsxs(z,{variant:"ghost",className:`w-full justify-${r||i?"start":"center"} text-right px-3 py-2 text-sm font-medium text-destructive hover:bg-red-50 hover:text-destructive transition-all duration-200`,onClick:()=>{n(),s("/")},children:[t.jsx(wc,{className:`${r||i?"ml-2":""} h-4 w-4`}),(r||i)&&t.jsx("span",{className:"text-destructive",children:"تسجيل الخروج"})]})]})]},"sidebar")})},$i=({title:e,description:s,link:n,icon:r})=>t.jsx(K.div,{whileHover:{y:-5},className:"h-full",children:t.jsxs(J,{className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300 border-roman-500/20 flex flex-col",children:[t.jsxs(de,{className:"flex-row items-center space-x-4 pb-2",children:[t.jsx("div",{className:"p-3 rounded-full bg-roman-500/10 text-roman-500",children:t.jsx(r,{className:"h-6 w-6"})}),t.jsx(he,{className:"text-xl text-neutral-900",children:e})]}),t.jsx(Q,{className:"flex-grow",children:t.jsx("p",{className:"text-sm text-neutral-900/70",children:s})}),t.jsx(St,{children:t.jsx(z,{asChild:!0,variant:"outline",className:"w-full border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:t.jsx(we,{to:n,children:"الانتقال"})})})]})}),z9=({user:e})=>t.jsxs("div",{className:"p-8",children:[t.jsx(L9,{}),t.jsxs("h1",{className:"text-3xl font-bold text-neutral-900 mb-6",children:["مرحباً بك في لوحة التحكم، ",e.name,"!"]}),t.jsxs("p",{className:"text-neutral-900/70 mb-8",children:["هنا يمكنك إدارة ",e.active_role==="seller"?"خدماتك وطلباتك وأرباحك":"طلباتك ورسائلك وإعدادات حسابك",". استخدم القائمة الجانبية للتنقل."]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.active_role==="seller"?t.jsxs(t.Fragment,{children:[t.jsx($i,{title:"إدارة خدماتك",description:"أضف خدمات جديدة أو قم بتعديل الخدمات الحالية.",link:"/dashboard/gigs",icon:Lt}),t.jsx($i,{title:"الطلبات الواردة",description:"تابع طلبات العملاء وقم بإدارتها.",link:"/dashboard/orders",icon:bt}),t.jsx($i,{title:"الأرباح",description:"اطلع على تقارير الأرباح الخاصة بك.",link:"/dashboard/earnings",icon:Gx})]}):t.jsxs(t.Fragment,{children:[t.jsx($i,{title:"طلباتي",description:"تتبع حالة طلباتك الحالية والسابقة.",link:"/dashboard/orders",icon:Lt}),t.jsx($i,{title:"الرسائل",description:"تواصل مع البائعين بخصوص طلباتك.",link:"/dashboard/messages",icon:un}),t.jsx($i,{title:"إعدادات الحساب",description:"قم بتحديث معلوماتك الشخصية وتفضيلاتك.",link:"/dashboard/settings",icon:ka})]})})]}),V9=({user:e})=>{const s=Jt(),n=We(),{logout:r}=De(),a=s.pathname==="/dashboard"||s.pathname==="/dashboard/",{isMobile:i,toggleSidebar:o,isMobileMenuOpen:l,isSidebarOpen:c}=Io(),d=f5(),m=[{path:"/dashboard/orders",label:"طلباتي",icon:Lt},{path:"/wishlist",label:"قائمة الأمنيات",icon:_n},{path:"/dashboard/wallet",label:"محفظتي",icon:bt},{path:"/dashboard/messages",label:"الرسائل",icon:un},{path:"/dashboard/settings",label:"إعدادات الحساب",icon:ka}],h=[{path:"/dashboard/overview",label:"نظرة عامة",icon:ii},{path:"/dashboard/gigs",label:"خدماتي",icon:Lt},{path:"/dashboard/orders",label:"الطلبات الواردة",icon:bt},{path:"/dashboard/earnings",label:"الأرباح",icon:Gx},{path:"/dashboard/messages",label:"الرسائل",icon:un},{path:"/dashboard/settings",label:"إعدادات الحساب",icon:ka}],p=(e==null?void 0:e.active_role)==="seller"?h:m;return t.jsxs("main",{ref:d,className:`flex-1 bg-background overflow-y-auto ${i?"dashboard-content":c?"dashboard-content-expanded":"dashboard-content-collapsed"}`,children:["      ",i&&t.jsxs("div",{className:"mobile-header p-4 flex justify-between items-center bg-background/95 backdrop-blur-md border-b border-roman-500/20",children:[t.jsx("div",{className:"flex items-center",children:t.jsxs(z,{variant:"ghost",className:`px-2 py-1 transition-all duration-200 ${a?"bg-roman-500/10 text-roman-500 font-medium":"hover:bg-success-100/50 hover:text-roman-500"}`,onClick:()=>{n("/dashboard"),l&&o()},children:[t.jsx(ii,{className:"ml-2 h-5 w-5"}),t.jsx("span",{className:"text-lg font-semibold text-roman-500",children:"لوحة التحكم"})]})}),t.jsx(z,{variant:"ghost",size:"sm",onClick:()=>o(),className:"text-roman-500 hover:bg-success-100/50",children:l?t.jsx(st,{className:"h-5 w-5"}):t.jsx(Qx,{className:"h-5 w-5"})})]}),i&&l&&t.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"w-full bg-background/95 backdrop-blur-md border-b border-roman-500/20",children:t.jsx("div",{className:"p-4",children:t.jsxs("nav",{className:"flex flex-col space-y-2",children:[p.map(v=>t.jsxs(we,{to:v.path,className:`px-3 py-2 text-sm font-medium flex items-center ${s.pathname.startsWith(v.path)?"text-roman-500":"hover:text-roman-500"}`,onClick:()=>o(),children:[t.jsx(v.icon,{className:"ml-2 h-4 w-4"}),v.label]},v.path)),t.jsx(dt,{className:"my-2"}),t.jsxs("button",{onClick:()=>{r(),n("/")},className:"px-3 py-2 text-sm font-medium text-warning-500 hover:text-warning-500/90 flex items-center text-right w-full",children:[t.jsx(wc,{className:"ml-2 h-4 w-4"}),"تسجيل الخروج"]})]})})}),a?t.jsx(z9,{user:e}):t.jsx(zx,{})]})},U9=()=>{const{user:e}=De();We();const{isMobileMenuOpen:s,closeMobileSidebar:n,isMobile:r}=Io();return(e==null?void 0:e.role)==="admin"?t.jsx(nr,{to:"/admin/dashboard",replace:!0}):t.jsxs("div",{className:"flex min-h-[calc(100vh-var(--navbar-height,100px))]",children:[!r&&t.jsx(F9,{user:e}),t.jsx(V9,{user:e})]})},B9=()=>t.jsx(h5,{children:t.jsx(U9,{})}),W9=({isOpen:e,onClose:s,sellerId:n,sellerUserId:r,sellerName:a,sellerAvatar:i,preloadedServices:o=[]})=>{const{toast:l}=Ke(),[c,d]=u.useState(o),[m,h]=u.useState(null),[p,v]=u.useState(!1),[w,g]=u.useState(!1),y=r||n,[f,x]=u.useState({customer_name:"",customer_phone:"",delivery_address:"",service_requirements:"",deposit_amount:"",payment_method:"bank_transfer",city_id:""}),[j,N]=u.useState(null),[S,A]=u.useState(null),[C,k]=u.useState(!1),[M,P]=u.useState(""),[D,I]=u.useState([]),[H,O]=u.useState(!1);u.useEffect(()=>{e&&y&&(o&&o.length>0?d(o):$(),W())},[e,y,o]);const $=async()=>{try{v(!0);const q=await ve.getSellerServices(y);d(q)}catch(q){console.error("Error loading services:",q),l({variant:"destructive",title:"خطأ",description:"خطأ في تحميل الخدمات"})}finally{v(!1)}},W=async()=>{try{O(!0);const q=await ve.getCities(),T=(q==null?void 0:q.data)||q||[];I(Array.isArray(T)?T:[])}catch(q){console.error("Failed to load cities",q)}finally{O(!1)}},G=(q,T)=>{x(U=>({...U,[q]:T}))},R=q=>{const T=q.target.files[0];if(T){N(T);const U=new FileReader;U.onload=()=>{A(U.result)},U.readAsDataURL(T)}},V=async q=>{if(q.preventDefault(),!m){l({variant:"destructive",title:"خطأ",description:"يرجى اختيار خدمة"});return}if(!f.deposit_amount||parseFloat(f.deposit_amount)<=0){l({variant:"destructive",title:"خطأ",description:"يرجى إدخال قيمة العربون"});return}const T=m.price*.8;if(parseFloat(f.deposit_amount)>T){l({variant:"destructive",title:"خطأ في قيمة العربون",description:`قيمة العربون لا يمكن أن تتجاوز 80% من قيمة الخدمة (${T.toFixed(2)} جنيه)`});return}if(!j){l({variant:"destructive",title:"خطأ",description:"يرجى رفع صورة إيصال العربون"});return}try{if(g(!0),m.price===0||C){const ie=parseFloat(M);if(!M||ie<=0){l({variant:"destructive",title:"خطأ",description:"يرجى إدخال سعر مقترح صحيح"}),g(!1);return}}const U=new FormData;U.append("service_id",m.id),U.append("seller_id",y),U.append("customer_name",f.customer_name),U.append("customer_phone",f.customer_phone),U.append("delivery_address",f.delivery_address),U.append("service_requirements",f.service_requirements),U.append("deposit_amount",f.deposit_amount),U.append("payment_method",f.payment_method),U.append("deposit_image",j),U.append("requires_deposit","true"),U.append("is_service_order","true"),U.append("total_price",m.price),(m.price===0||C)&&M&&U.append("buyer_proposed_price",M),f.city_id&&U.append("city_id",f.city_id);const se=await ve.createServiceOrder(U);l({title:"نجح",description:C&&M?"تم إرسال طلب الخدمة بنجاح. في انتظار موافقة البائع على السعر المقترح.":"تم إرسال طلب الخدمة بنجاح"}),s(),x({customer_name:"",customer_phone:"",delivery_address:"",service_requirements:"",deposit_amount:"",payment_method:"bank_transfer",city_id:""}),h(null),N(null),A(null),k(!1),P("")}catch(U){console.error("Error creating service order:",U),l({variant:"destructive",title:"خطأ",description:"خطأ في إرسال طلب الخدمة"})}finally{g(!1)}};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 pb-20 md:pb-4",children:t.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[t.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[t.jsxs(ms,{className:"w-10 h-10",children:[t.jsx(Es,{src:i}),t.jsx(fs,{children:a==null?void 0:a.charAt(0)})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold",children:["طلب خدمة من ",a]}),t.jsx("p",{className:"text-sm text-gray-500",children:"اختر خدمة وأدخل بيانات الطلب"})]})]}),t.jsx(z,{variant:"ghost",size:"sm",onClick:s,className:"rounded-full w-8 h-8 p-0",children:t.jsx(st,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"p-6",children:[!m&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"اختر الخدمة المطلوبة"}),p?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-500",children:"جاري تحميل الخدمات..."})]}):c.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-500",children:"لا توجد خدمات متاحة"})}):t.jsx("div",{className:"grid gap-4",children:c.map(q=>{var T;return t.jsx(J,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>h(q),children:t.jsx(Q,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-lg",children:q.title}),t.jsx("p",{className:"text-gray-600 text-sm mt-1",children:q.description}),t.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mt-2",children:[t.jsx(me,{variant:"secondary",children:(T=q.category)==null?void 0:T.name}),t.jsx("span",{className:"text-sm text-gray-500",children:q.delivery_time})]})]}),t.jsx("div",{className:"text-left rtl:text-right",children:t.jsxs("span",{className:"text-xl font-bold text-primary",children:[q.price," ج.م"]})})]})})},q.id)})})]}),m&&t.jsxs("form",{onSubmit:V,className:"space-y-6",children:[t.jsx(J,{className:"bg-blue-50",children:t.jsxs(Q,{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-lg",children:m.title}),t.jsx("p",{className:"text-gray-600 text-sm mt-1",children:m.description})]}),t.jsx("div",{className:"text-left rtl:text-right",children:t.jsx("span",{className:"text-xl font-bold text-primary",children:m.price>0?`${m.price} ج.م`:"قابل للتفاوض"})})]}),m.price>=0&&t.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:C,onChange:q=>k(q.target.checked),className:"form-checkbox h-4 w-4 text-blue-600 ml-2"}),t.jsx("span",{className:"text-sm font-medium",children:"تغيير السعر (بعد الاتفاق مع البائع)"})]}),C&&t.jsxs("div",{className:"mt-2",children:[t.jsx("label",{className:"block text-sm mb-1",children:"السعر المقترح (ج.م)"}),t.jsx(oe,{type:"number",step:"0.01",min:"1",value:M,onChange:q=>P(q.target.value),placeholder:`السعر الأصلي: ${m.price} ج.م`,className:"w-full"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"سيتم إرسال السعر المقترح للبائع للموافقة عليه قبل معالجة الطلب"})]})]}),m.price===0&&t.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:[t.jsx(bt,{className:"w-4 h-4 inline ml-1"}),"السعر المقترح (ج.م)"]}),t.jsx(oe,{type:"number",min:"1",value:M,onChange:q=>P(q.target.value),placeholder:"أدخل السعر المتفق عليه مع البائع",required:!0,className:"w-full"}),t.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center",children:[t.jsx("svg",{className:"h-4 w-4 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"هذه الخدمة قابلة للتفاوض. يرجى إدخال السعر المتفق عليه مع البائع في الشات."]})]}),t.jsx(z,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(null),className:"mt-2",children:"تغيير الخدمة"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:[t.jsx(tt,{className:"w-4 h-4 inline mr-1"}),"اسم العميل"]}),t.jsx(oe,{value:f.customer_name,onChange:q=>G("customer_name",q.target.value),placeholder:"أدخل اسم العميل",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:[t.jsx(Dt,{className:"w-4 h-4 inline mr-1"}),"رقم الهاتف"]}),t.jsx(oe,{value:f.customer_phone,onChange:q=>G("customer_phone",q.target.value),placeholder:"أدخل رقم الهاتف",required:!0})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:[t.jsx(zt,{className:"w-4 h-4 inline mr-1"}),"عنوان التسليم"]}),t.jsx(et,{value:f.delivery_address,onChange:q=>G("delivery_address",q.target.value),placeholder:"أدخل عنوان التسليم بالتفصيل",rows:3,required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:[t.jsx(Yx,{className:"w-4 h-4 inline mr-1"}),"متطلبات الخدمة"]}),t.jsx(et,{value:f.service_requirements,onChange:q=>G("service_requirements",q.target.value),placeholder:"أدخل تفاصيل ومتطلبات الخدمة...",rows:4})]}),t.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[t.jsxs("h4",{className:"font-semibold mb-4 flex items-center",children:[t.jsx(bt,{className:"w-4 h-4 mr-1"}),"بيانات العربون"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"قيمة العربون (ج.م)"}),t.jsx(oe,{type:"number",step:"0.01",min:"1",max:m?C&&M?parseFloat(M)*.8:m.price>0?m.price*.8:M?parseFloat(M)*.8:0:0,value:f.deposit_amount,onChange:q=>G("deposit_amount",q.target.value),placeholder:"أدخل قيمة العربون",required:!0}),m&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["الحد الأقصى للعربون: ",((C&&M?parseFloat(M):m.price>0?m.price:M?parseFloat(M):0)*.8).toFixed(2)," جنيه (80% من قيمة الخدمة)"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"طريقة الدفع"}),t.jsxs("select",{value:f.payment_method,onChange:q=>G("payment_method",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"bank_transfer",children:"حوالة بنكية"}),t.jsx("option",{value:"vodafone_cash",children:"فودافون كاش"}),t.jsx("option",{value:"instapay",children:"إنستا باي"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:[t.jsx(Va,{className:"w-4 h-4 inline mr-1"}),"صورة إيصال العربون"]}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"hidden",id:"deposit-image"}),t.jsx("label",{htmlFor:"deposit-image",className:"cursor-pointer",children:S?t.jsxs("div",{className:"text-center",children:[t.jsx("img",{src:S,alt:"Preview",className:"max-w-full h-32 object-cover mx-auto rounded"}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"انقر لتغيير الصورة"})]}):t.jsxs("div",{className:"text-center",children:[t.jsx(fi,{className:"w-8 h-8 mx-auto text-gray-400"}),t.jsx("p",{className:"text-sm text-gray-500",children:"انقر لرفع صورة إيصال العربون"})]})})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:[t.jsx(zt,{className:"w-4 h-4 inline mr-1"}),"المدينة"]}),t.jsxs("select",{value:f.city_id,onChange:q=>G("city_id",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:H,required:!0,children:[t.jsx("option",{value:"",children:H?"جاري التحميل...":"اختر المدينة"}),D.map(q=>t.jsxs("option",{value:q.id,children:[q.name," — رسوم التوصيل: ",Number(q.delivery_fee||0)," ج.م"]},q.id))]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 rtl:space-x-reverse",children:[t.jsx(z,{type:"button",variant:"outline",onClick:s,disabled:w,children:"إلغاء"}),t.jsx(z,{type:"submit",disabled:w,className:"min-w-32",children:w?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mx-auto"}):"إرسال الطلب"})]})]})]})]})}):null},H9=({src:e,alt:s="Image",className:n,width:r,height:a,objectFit:i="cover",onClick:o,fallbackSrc:l="/placeholder-image.jpg",...c})=>{const d=e||l,m=h=>{h.target.src!==l&&(h.target.src=l)};return t.jsx("img",{src:d,alt:s,className:je("rounded-md",n),style:{width:r,height:a,objectFit:i},onClick:o,onError:m,...c})},q9=({attachment:e,isOwn:s})=>{var m,h;const[n,r]=u.useState(!1);if(!e)return t.jsx("div",{className:je("border rounded-lg overflow-hidden mt-2 p-3",s?"border-primary/20":"border-gray-200"),children:t.jsxs("div",{className:"flex items-center text-orange-500",children:[t.jsx(Ps,{className:"h-4 w-4 mr-2"}),t.jsx("span",{children:"المرفق غير متوفر"})]})});const a=((m=e.file_type)==null?void 0:m.startsWith("image/"))||((h=e.type)==null?void 0:h.startsWith("image/")),i="https://handy3.abanoubsamir.com/backend/public",o=p=>p?p.startsWith("http://")||p.startsWith("https://")||p.startsWith(i)?p:`${i}${p.startsWith("/")?"":"/"}${p}`:(console.warn("Attachment URL is undefined or null"),""),l=e.file_url||e.url||"",c=l?o(l):"",d=p=>{p.preventDefault(),c&&r(!0)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:je("border rounded-lg overflow-hidden mt-2",s?"border-primary/20":"border-gray-200"),children:a?t.jsx("div",{className:"relative",children:t.jsx(H9,{src:c,alt:"مرفق",className:"max-w-full h-auto cursor-pointer",onClick:d,fallbackSrc:"/placeholder-image.jpg"})}):t.jsxs("div",{className:"p-3 flex items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[t.jsx(a6,{className:"h-4 w-4"}),t.jsx("span",{className:"truncate max-w-[150px]",children:"ملف مرفق"})]}),c&&t.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline mr-auto",children:"عرض"})]})}),n&&c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4 pb-20 md:pb-4",onClick:()=>r(!1),children:t.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[t.jsx("button",{className:"absolute -top-10 right-0 bg-white rounded-full p-2",onClick:()=>r(!1),children:t.jsx(st,{className:"h-6 w-6"})}),t.jsx("img",{src:c,alt:"مرفق",className:"max-w-full max-h-[85vh] object-contain"})]})})]})};var Th="Dialog",[T_,A_]=pn(Th),[G9,Jn]=T_(Th),R_=e=>{const{__scopeDialog:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,m]=za({prop:r,defaultProp:a??!1,onChange:i,caller:Th});return t.jsx(G9,{scope:s,triggerRef:l,contentRef:c,contentId:oi(),titleId:oi(),descriptionId:oi(),open:d,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(h=>!h),[m]),modal:o,children:n})};R_.displayName=Th;var M_="DialogTrigger",D_=u.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Jn(M_,n),i=Ze(s,a.triggerRef);return t.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ag(a.open),...r,ref:i,onClick:ke(e.onClick,a.onOpenToggle)})});D_.displayName=M_;var ng="DialogPortal",[K9,O_]=T_(ng,{forceMount:void 0}),$_=e=>{const{__scopeDialog:s,forceMount:n,children:r,container:a}=e,i=Jn(ng,s);return t.jsx(K9,{scope:s,forceMount:n,children:u.Children.map(r,o=>t.jsx(Xn,{present:n||i.open,children:t.jsx(eh,{asChild:!0,container:a,children:o})}))})};$_.displayName=ng;var Tu="DialogOverlay",I_=u.forwardRef((e,s)=>{const n=O_(Tu,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Jn(Tu,e.__scopeDialog);return i.modal?t.jsx(Xn,{present:r||i.open,children:t.jsx(X9,{...a,ref:s})}):null});I_.displayName=Tu;var Y9=wo("DialogOverlay.RemoveScroll"),X9=u.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Jn(Tu,n);return t.jsx(pC,{as:Y9,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx($e.div,{"data-state":ag(a.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),xi="DialogContent",L_=u.forwardRef((e,s)=>{const n=O_(xi,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Jn(xi,e.__scopeDialog);return t.jsx(Xn,{present:r||i.open,children:i.modal?t.jsx(J9,{...a,ref:s}):t.jsx(Q9,{...a,ref:s})})});L_.displayName=xi;var J9=u.forwardRef((e,s)=>{const n=Jn(xi,e.__scopeDialog),r=u.useRef(null),a=Ze(s,n.contentRef,r);return u.useEffect(()=>{const i=r.current;if(i)return V0(i)},[]),t.jsx(F_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,i=>i.preventDefault())})}),Q9=u.forwardRef((e,s)=>{const n=Jn(xi,e.__scopeDialog),r=u.useRef(!1),a=u.useRef(!1);return t.jsx(F_,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),F_=u.forwardRef((e,s)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Jn(xi,n),c=u.useRef(null),d=Ze(s,c);return vS(),t.jsxs(t.Fragment,{children:[t.jsx(A0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(Zu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ag(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(ez,{titleId:l.titleId}),t.jsx(sz,{contentRef:c,descriptionId:l.descriptionId})]})]})}),rg="DialogTitle",z_=u.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Jn(rg,n);return t.jsx($e.h2,{id:a.titleId,...r,ref:s})});z_.displayName=rg;var V_="DialogDescription",U_=u.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Jn(V_,n);return t.jsx($e.p,{id:a.descriptionId,...r,ref:s})});U_.displayName=V_;var B_="DialogClose",W_=u.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Jn(B_,n);return t.jsx($e.button,{type:"button",...r,ref:s,onClick:ke(e.onClick,()=>a.onOpenChange(!1))})});W_.displayName=B_;function ag(e){return e?"open":"closed"}var H_="DialogTitleWarning",[Z9,q_]=QT(H_,{contentName:xi,titleName:rg,docsSlug:"dialog"}),ez=({titleId:e})=>{const s=q_(H_),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tz="DialogDescriptionWarning",sz=({contentRef:e,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${q_(tz).contentName}}.`;return u.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(r))},[r,e,s]),null},G_=R_,K_=D_,Y_=$_,ig=I_,og=L_,lg=z_,cg=U_,dg=W_,X_="AlertDialog",[nz,wB]=pn(X_,[A_]),Gr=A_(),J_=e=>{const{__scopeAlertDialog:s,...n}=e,r=Gr(s);return t.jsx(G_,{...r,...n,modal:!0})};J_.displayName=X_;var rz="AlertDialogTrigger",Q_=u.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Gr(n);return t.jsx(K_,{...a,...r,ref:s})});Q_.displayName=rz;var az="AlertDialogPortal",Z_=e=>{const{__scopeAlertDialog:s,...n}=e,r=Gr(s);return t.jsx(Y_,{...r,...n})};Z_.displayName=az;var iz="AlertDialogOverlay",e4=u.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Gr(n);return t.jsx(ig,{...a,...r,ref:s})});e4.displayName=iz;var uo="AlertDialogContent",[oz,lz]=nz(uo),cz=sA("AlertDialogContent"),t4=u.forwardRef((e,s)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Gr(n),o=u.useRef(null),l=Ze(s,o),c=u.useRef(null);return t.jsx(Z9,{contentName:uo,titleName:s4,docsSlug:"alert-dialog",children:t.jsx(oz,{scope:n,cancelRef:c,children:t.jsxs(og,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ke(a.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=c.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[t.jsx(cz,{children:r}),t.jsx(uz,{contentRef:o})]})})})});t4.displayName=uo;var s4="AlertDialogTitle",n4=u.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Gr(n);return t.jsx(lg,{...a,...r,ref:s})});n4.displayName=s4;var r4="AlertDialogDescription",a4=u.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Gr(n);return t.jsx(cg,{...a,...r,ref:s})});a4.displayName=r4;var dz="AlertDialogAction",i4=u.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Gr(n);return t.jsx(dg,{...a,...r,ref:s})});i4.displayName=dz;var o4="AlertDialogCancel",l4=u.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=lz(o4,n),i=Gr(n),o=Ze(s,a);return t.jsx(dg,{...i,...r,ref:o})});l4.displayName=o4;var uz=({contentRef:e})=>{const s=`\`${uo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uo}\` by passing a \`${r4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},hz=J_,mz=Q_,fz=Z_,c4=e4,d4=t4,u4=i4,h4=l4,m4=n4,f4=a4;const ks=hz,Ls=mz,pz=fz,p4=ce.forwardRef(({className:e,...s},n)=>t.jsx(c4,{className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:n}));p4.displayName=c4.displayName;const as=ce.forwardRef(({className:e,...s},n)=>t.jsxs(pz,{children:[t.jsx(p4,{}),t.jsx(d4,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg mb-16 md:mb-0",e),...s})]}));as.displayName=d4.displayName;const is=({className:e,...s})=>t.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-right",e),...s});is.displayName="AlertDialogHeader";const os=({className:e,...s})=>t.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-start sm:space-x-2 sm:space-x-reverse",e),...s});os.displayName="AlertDialogFooter";const ls=ce.forwardRef(({className:e,...s},n)=>t.jsx(m4,{ref:n,className:je("text-lg font-semibold",e),...s}));ls.displayName=m4.displayName;const cs=ce.forwardRef(({className:e,...s},n)=>t.jsx(f4,{ref:n,className:je("text-sm text-muted-foreground",e),...s}));cs.displayName=f4.displayName;const ds=ce.forwardRef(({className:e,...s},n)=>t.jsx(u4,{ref:n,className:je(E0(),e),...s}));ds.displayName=u4.displayName;const us=ce.forwardRef(({className:e,...s},n)=>t.jsx(h4,{ref:n,className:je(E0({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));us.displayName=h4.displayName;const xz=()=>{var ie,fe,ue,le,Pe;const{user:e}=De(),{conversations:s,messages:n,activeConversation:r,loading:a,connected:i,setActiveConversation:o,sendMessage:l,markConversationAsRead:c,deleteConversation:d}=Ua(),[m,h]=u.useState(""),[p,v]=u.useState(""),[w,g]=u.useState([]),[y,f]=u.useState(!1),[x,j]=u.useState(!1),[N,S]=u.useState([]),[A,C]=u.useState(!1),k=u.useRef(null),M=u.useRef(null);u.useEffect(()=>{r&&(c(r),D(),P())},[r,c]);const P=async()=>{var Y;const L=s.find(X=>X.id===r);if(!((Y=L==null?void 0:L.participant)!=null&&Y.id)){S([]);return}try{C(!0),S([]);const X=await ve.getSellerServices(L.participant.id);console.log("Raw API response:",X),console.log("Response type:",typeof X),console.log("Is array:",Array.isArray(X));const pe=(X==null?void 0:X.data)||X||[];console.log("Processed services:",pe),console.log("Services length:",pe.length),S(pe)}catch(X){console.error("Error loading seller services:",X)}finally{C(!1)}};u.useEffect(()=>{r&&n[r]&&D()},[n,r]),u.useEffect(()=>{console.log("sellerServices changed:",N),console.log("sellerServices length:",N.length)},[N]),u.useEffect(()=>{const L=()=>{r&&setTimeout(D,100)};return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[r]);const D=()=>{try{const L=document.querySelector(".messages-container");L&&(L.scrollTop=L.scrollHeight)}catch{}},I=async L=>{if(L.preventDefault(),!m.trim()&&w.length===0||!r||y)return;const Y=s.find(X=>X.id===r);if(Y){f(!0);try{await l(Y.participant.id,m.trim(),w.length>0?w:null),h(""),g([]),setTimeout(()=>{D()},100)}catch{}finally{f(!1)}}},H=L=>{const Y=Array.from(L.target.files),X=Y.filter(Ie=>Ie.type.startsWith("image/")),pe=5-w.length,Me=X.slice(0,pe);Me.length<Y.length&&alert("يمكنك رفع 5 صور كحد أقصى فقط"),g([...w,...Me])},O=L=>{g(w.filter((Y,X)=>X!==L))},$=L=>new Date(L).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!1}),W=L=>{const Y=new Date(L),X=new Date,pe=new Date(X);return pe.setDate(pe.getDate()-1),Y.toDateString()===X.toDateString()?"اليوم":Y.toDateString()===pe.toDateString()?"أمس":Y.toLocaleDateString("ar-SA")},G=L=>{var pe,Me;const Y=L.senderId===e.id,X=((pe=n[r])==null?void 0:pe.indexOf(L))===0||((Me=n[r])==null?void 0:Me[n[r].indexOf(L)-1])&&W(L.timestamp)!==W(n[r][n[r].indexOf(L)-1].timestamp);return t.jsxs("div",{children:[X&&t.jsx("div",{className:"flex justify-center my-4",children:t.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-3 py-1 rounded-full",children:W(L.timestamp)})}),t.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:je("flex mb-4",Y?"justify-start":"justify-end"),children:t.jsxs("div",{className:je("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",Y?"bg-primary text-primary-foreground mr-2":"bg-gray-100 text-gray-800 ml-2"),children:[L.text&&t.jsx("p",{className:"break-words",dir:"rtl",children:L.text}),L.attachments&&L.attachments.length>0&&t.jsx("div",{className:"mt-2 space-y-2",children:L.attachments.map((Ie,qe)=>t.jsx(q9,{attachment:Ie,isOwn:Y},qe))}),t.jsx("p",{className:je("text-xs mt-1 opacity-70",Y?"text-right":"text-left"),children:$(L.timestamp)})]})})]},L.id)},R=s.find(L=>L.id===r),V=n[r]||[],q=s.filter(L=>L.participant.name.toLowerCase().includes(p.toLowerCase())),T=L=>{if(!L)return!1;const Y=new Date(L);return(new Date-Y)/(1e3*60)<5},U=L=>{if(!L)return"غير متصل";const Y=new Date(L),X=new Date;if(T(L))return"متصل الآن";if(Y.toDateString()===X.toDateString())return`آخر ظهور اليوم ${Y.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}`;const pe=new Date(X);if(pe.setDate(pe.getDate()-1),Y.toDateString()===pe.toDateString())return`آخر ظهور أمس ${Y.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}`;const Me={year:"numeric",month:"2-digit",day:"2-digit",calendar:"gregory",numberingSystem:"arabext"};return`آخر ظهور ${Y.toLocaleDateString("ar-SA",Me)}`};if(u.useEffect(()=>{r&&R&&console.log("Current conversation participant:",{name:R.participant.name,last_seen:R.participant.last_seen,isOnline:T(R.participant.last_seen)})},[r,R]),!e)return t.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"يرجى تسجيل الدخول لعرض الرسائل."});const se=((ie=document.querySelector("header"))==null?void 0:ie.offsetHeight)||70;return t.jsxs("div",{className:"flex border-t h-full",style:{height:`calc(100vh - ${se}px)`,overflow:"hidden"},children:[t.jsxs("aside",{className:`w-full md:w-1/3 lg:w-1/4 border-l bg-neutral-100 p-4 flex flex-col ${r&&"hidden md:flex"}`,style:{height:"100%",overflowY:"auto"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-primary",children:"المحادثات"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[!i&&t.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse",title:"غير متصل"}),i&&t.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full",title:"متصل"})]})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(oe,{type:"text",placeholder:"بحث في المحادثات...",value:p,onChange:L=>v(L.target.value),className:"pr-10"}),t.jsx(As,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),t.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 pr-2",children:a?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"جاري التحميل..."})]}):q.length>0?q.map(L=>t.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},onClick:()=>o(L.id),className:je("flex items-center p-3 rounded-lg cursor-pointer transition-colors hover:bg-orange-100",r===L.id?"bg-orange-200":"bg-white"),children:[t.jsxs(ms,{className:"h-10 w-10 ml-3 relative",children:[t.jsx(Es,{src:L.participant.avatar}),t.jsx(fs,{children:L.participant.name.charAt(0)}),T(L.participant.last_seen)&&t.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("p",{className:"font-semibold text-gray-800 truncate",children:L.participant.name}),L.unreadCount>0&&t.jsx(me,{className:"bg-primary text-primary-foreground",children:L.unreadCount})]}),L.lastMessage&&t.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[L.lastMessage.senderId===e.id?"أنت: ":"",L.lastMessage.text]})]})]},L.id)):t.jsx("p",{className:"text-gray-500 text-center mt-4",children:"لا توجد محادثات."})})]}),t.jsx("main",{className:`flex-1 flex flex-col bg-white ${!r&&"hidden md:flex"}`,style:{height:"100%"},children:r&&R?t.jsxs(t.Fragment,{children:[t.jsxs("header",{className:"p-3 border-b flex items-center justify-between bg-gray-50 shrink-0",style:{height:"60px"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(z,{variant:"ghost",size:"icon",className:"md:hidden mr-2",onClick:()=>o(null),children:t.jsx(An,{className:"h-5 w-5"})}),t.jsxs(ms,{className:"h-10 w-10 ml-3 relative",children:[t.jsx(Es,{src:R.participant.avatar}),t.jsx(fs,{children:R.participant.name.charAt(0)}),T(R.participant.last_seen)&&t.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:R.participant.name}),t.jsx("p",{className:"text-xs text-gray-500",children:U(R.participant.last_seen)})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[!A&&N.length>0&&t.jsxs(z,{variant:"outline",size:"sm",onClick:()=>j(!0),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[t.jsx(Lt,{className:"h-4 w-4 mr-1"}),"طلب خدمة"]}),A&&t.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400 mr-1"}),"جاري التحقق من الخدمات..."]}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-red-100",children:t.jsx(zs,{className:"h-5 w-5"})})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"حذف المحادثة"}),t.jsx(cs,{children:"هل أنت متأكد من حذف هذه المحادثة؟ لا يمكن التراجع عن هذا الإجراء."})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsx(ds,{onClick:()=>d(r),children:"حذف"})]})]})]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 messages-container",style:{height:"calc(100% - 120px)"},children:a?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):V.length>0?t.jsxs(t.Fragment,{children:[V.map(G),t.jsx("div",{ref:k})]}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx(un,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"ابدأ محادثة جديدة"})]})})}),w.length>0&&t.jsx("div",{className:"border-t p-2 bg-gray-50",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("div",{className:"w-full flex justify-between mb-1",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:[w.length,"/5 صور"]}),w.length>0&&t.jsx("button",{type:"button",onClick:()=>g([]),className:"text-xs text-red-500 hover:text-red-700",children:"مسح الكل"})]}),w.map((L,Y)=>t.jsx("div",{className:"relative",children:t.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2 rounded border",children:[t.jsx(Va,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs truncate max-w-20",children:L.name}),t.jsx("button",{onClick:()=>O(Y),className:"text-red-500 hover:text-red-700",children:"×"})]})},Y))]})}),t.jsx("div",{className:"p-4 border-t bg-white shrink-0 md:pb-4",children:t.jsxs("form",{onSubmit:I,className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[t.jsx(z,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var L;return(L=M.current)==null?void 0:L.click()},disabled:w.length>=5,className:`${w.length>=5?"text-gray-300":"text-gray-500 hover:text-gray-700"}`,title:w.length>=5?"الحد الأقصى 5 صور":"إرفاق صور",children:t.jsx(p6,{className:"h-5 w-5"})}),t.jsx("input",{ref:M,type:"file",multiple:!0,accept:"image/*",onChange:H,className:"hidden"}),t.jsx(oe,{type:"text",placeholder:"اكتب رسالة...",value:m,onChange:L=>h(L.target.value),className:"flex-1",dir:"rtl"})]}),t.jsx(z,{type:"submit",disabled:!m.trim()&&w.length===0||y,className:"shrink-0",children:y?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):t.jsx(uu,{className:"h-4 w-4"})})]})})]}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx(un,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"مرحباً بك في الرسائل"}),t.jsx("p",{className:"text-gray-500",children:"اختر محادثة من القائمة للبدء"})]})})}),t.jsx(W9,{isOpen:x,onClose:()=>j(!1),sellerId:(fe=R==null?void 0:R.participant)==null?void 0:fe.id,sellerUserId:(ue=R==null?void 0:R.participant)==null?void 0:ue.id,sellerName:(le=R==null?void 0:R.participant)==null?void 0:le.name,sellerAvatar:(Pe=R==null?void 0:R.participant)==null?void 0:Pe.avatar,preloadedServices:N})]})},gz=()=>{const{cart:e,removeFromCart:s,updateQuantity:n,getCartTotal:r,clearCart:a}=Nc(),{toast:i}=Ke(),o=We(),l=()=>{if(e.length===0){i({variant:"destructive",title:"السلة فارغة",description:"الرجاء إضافة منتجات إلى السلة أولاً."});return}o("/checkout")};return t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"سلة التسوق"}),t.jsxs(z,{variant:"outline",onClick:()=>o("/explore"),className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:[t.jsx(An,{className:"ml-2 h-4 w-4"})," متابعة التسوق"]})]}),e.length===0?t.jsx(J,{className:"text-center py-12 shadow-lg border-roman-500/20",children:t.jsxs(Q,{children:[t.jsx(Lt,{className:"h-24 w-24 text-success-500 mx-auto mb-6"}),t.jsx("h2",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:"سلة التسوق فارغة"}),t.jsx("p",{className:"text-neutral-900/70 mb-6",children:"لم تقم بإضافة أي منتجات إلى السلة بعد."}),t.jsx(z,{asChild:!0,size:"lg",className:"bg-roman-500 hover:bg-roman-600 text-white",children:t.jsx(we,{to:"/explore",children:"ابدأ التسوق الآن"})})]})}):t.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[t.jsx("div",{className:"md:col-span-2 space-y-6",children:e.map((c,d)=>t.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:d*.1},children:t.jsxs(J,{className:"flex flex-col sm:flex-row items-center p-4 shadow-md hover:shadow-lg transition-shadow duration-300 card-hover border-roman-500/20",children:[t.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-md overflow-hidden mb-4 sm:mb-0 sm:ml-4",children:t.jsx("img",{src:"https://images.unsplash.com/photo-1688811363469-49a6f3bc2025",alt:c.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1 text-center sm:text-right",children:[t.jsx(we,{to:`/gigs/${c.id}`,className:"text-lg font-semibold text-neutral-900 hover:text-roman-500 transition-colors",children:c.title}),t.jsxs("p",{className:"text-sm text-neutral-900/70",children:["السعر: ",c.price," جنيه"]}),t.jsxs("div",{className:"flex items-center justify-center sm:justify-start my-2 space-x-2 space-x-reverse",children:[t.jsx(z,{variant:"outline",size:"icon",onClick:()=>n(c.id,c.quantity-1),disabled:c.quantity<=1,className:"border-roman-500/50 text-roman-500",children:t.jsx(h6,{className:"h-4 w-4"})}),t.jsx(oe,{type:"number",value:c.quantity,readOnly:!0,className:"w-16 text-center border-roman-500/30"}),t.jsx(z,{variant:"outline",size:"icon",onClick:()=>n(c.id,c.quantity+1),className:"border-roman-500/50 text-roman-500",children:t.jsx(Zx,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex flex-col items-center sm:items-end mt-4 sm:mt-0 sm:mr-auto",children:[t.jsxs("p",{className:"text-lg font-bold text-roman-500 mb-2",children:[c.price*c.quantity," جنيه"]}),t.jsx(z,{variant:"ghost",size:"icon",onClick:()=>s(c.id),className:"text-roman-500 hover:bg-roman-500/10",children:t.jsx(zs,{className:"h-5 w-5"})})]})]})},c.id))}),t.jsx("div",{className:"md:col-span-1",children:t.jsxs(J,{className:"shadow-xl border-orange-200 sticky top-24",children:[t.jsx(de,{children:t.jsx(he,{className:"text-2xl text-primary",children:"ملخص الطلب"})}),t.jsx(Q,{className:"space-y-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"المجموع الفرعي:"}),t.jsxs("span",{className:"font-semibold",children:[r()," جنيه"]})]}),t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"مصاريف التوصيل:"}),t.jsx("span",{className:"text-orange-600 font-semibold",children:"سيتم حسابه عند الطلب"})]}),t.jsx(dt,{}),t.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800",children:[t.jsx("span",{children:"الإجمالي المتوقع:"}),t.jsxs("span",{className:"text-roman-500",children:[r()," ج.م + مصاريف التوصيل"]})]}),t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border-r-4 border-blue-400 mt-4",children:t.jsx("p",{className:"text-xs text-blue-700 text-center",children:"💡 تم إضافة مصاريف التوصيل عند اختيار المدينة في صفحة الإتمام"})})]})}),t.jsxs(St,{className:"flex flex-col gap-3",children:[t.jsxs(z,{size:"lg",onClick:l,className:"w-full bg-green-500 hover:bg-green-600",children:[t.jsx(Ws,{className:"ml-2 h-5 w-5"})," إتمام عملية الشراء"]}),t.jsx(z,{variant:"outline",onClick:a,className:"w-full text-destructive border-destructive hover:bg-red-50",children:"تفريغ السلة"})]})]})})]})]})})},vz=()=>{const[e,s]=u.useState([]),[n,r]=u.useState(!0),[a,i]=u.useState(new Set),{user:o}=De(),{addToCart:l}=Nc(),{toast:c}=Ke(),d=We();u.useEffect(()=>{o&&m()},[o]);const m=async()=>{try{r(!0);const g=await ve.getWishlist();s(g.items||[])}catch(g){console.error("Error fetching wishlist:",g),c({title:"خطأ",description:"حدث خطأ في جلب قائمة الأمنيات",variant:"destructive"})}finally{r(!1)}},h=async g=>{try{i(f=>new Set([...f,g]));const y=await ve.removeFromWishlist(g);y.success&&(s(f=>f.filter(x=>x.product.id!==g)),c({title:"تم الحذف",description:y.message||"تمت إزالة المنتج من قائمة الأمنيات"}))}catch(y){console.error("Error removing from wishlist:",y),c({title:"خطأ",description:"حدث خطأ في إزالة المنتج من قائمة الأمنيات",variant:"destructive"})}finally{i(y=>{const f=new Set(y);return f.delete(g),f})}},p=async g=>{var y,f;try{g.type==="product"?l({id:g.id,title:g.title,price:g.price,image:(f=(y=g.images)==null?void 0:y[0])==null?void 0:f.image_url,quantity:1}):d(`/gigs/${g.id}`)}catch(x){console.error("Error adding to cart:",x),c({title:"خطأ",description:"حدث خطأ في إضافة المنتج للسلة",variant:"destructive"})}},v=g=>{d(`/sellers/${g}`)},w=async()=>{try{const g=await ve.clearWishlist();g.success&&(s([]),c({title:"تم التفريغ",description:g.message||"تم تفريغ قائمة الأمنيات بالكامل"}))}catch(g){console.error("Error clearing wishlist:",g),c({title:"خطأ",description:"حدث خطأ في تفريغ قائمة الأمنيات",variant:"destructive"})}};return n?t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[t.jsx(ry,{className:"h-8 w-8 animate-spin text-roman-500"}),t.jsx("span",{className:"mr-2 text-lg",children:"جاري تحميل قائمة الأمنيات..."})]})}):t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(_n,{className:"h-8 w-8 text-warning-500 ml-3"}),t.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"قائمة الأمنيات"}),t.jsxs(me,{variant:"secondary",className:"mr-3",children:[e.length," عنصر"]})]}),e.length>0&&t.jsxs(z,{variant:"outline",onClick:w,className:"border-red-300 text-red-600 hover:bg-red-50",children:[t.jsx(zs,{className:"h-4 w-4 ml-2"}),"تفريغ القائمة"]})]}),e.length===0?t.jsxs(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center py-16",children:[t.jsx(_n,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:"قائمة الأمنيات فارغة"}),t.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"لم تقم بإضافة أي منتجات إلى قائمة الأمنيات بعد. استكشف المنتجات وأضف المفضلة لديك!"}),t.jsx(we,{to:"/explore",children:t.jsx(z,{className:"bg-roman-500 hover:bg-roman-600",children:"استكشاف المنتجات"})})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((g,y)=>{var f,x;return t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:y*.1},children:t.jsxs(J,{className:"group hover:shadow-lg transition-all duration-300 border-roman-500/20",children:[t.jsx(de,{className:"p-0",children:t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:((x=(f=g.product.images)==null?void 0:f[0])==null?void 0:x.image_url)||"/placeholder-image.jpg",alt:g.product.title,className:"w-full h-48 object-cover rounded-t-lg"}),t.jsx(z,{size:"sm",variant:"ghost",onClick:()=>h(g.product.id),disabled:a.has(g.product.id),className:"absolute top-2 right-2 bg-white/80 hover:bg-white text-red-600 shadow-md",children:a.has(g.product.id)?t.jsx(ry,{className:"h-4 w-4 animate-spin"}):t.jsx(zs,{className:"h-4 w-4"})}),t.jsx(me,{variant:g.product.type==="product"?"default":"secondary",className:"absolute top-2 left-2",children:g.product.type==="product"?"منتج":"خدمة"})]})}),t.jsxs(Q,{className:"p-4",children:[t.jsx(we,{to:`/gigs/${g.product.id}`,children:t.jsx("h3",{className:"font-semibold text-lg text-neutral-900 hover:text-roman-500 transition-colors cursor-pointer mb-2",children:g.product.title})}),t.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:g.product.description}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("span",{className:"text-lg font-bold text-warning-500",children:[g.product.price," ريال"]}),g.product.seller&&t.jsxs("span",{className:"text-sm text-gray-500",children:["بواسطة: ",g.product.seller.name]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{size:"sm",onClick:()=>p(g.product),className:"flex-1 bg-roman-500 hover:bg-roman-600",children:g.product.type==="product"?t.jsxs(t.Fragment,{children:[t.jsx(e0,{className:"h-4 w-4 ml-1"}),"أضف للسلة"]}):t.jsxs(t.Fragment,{children:[t.jsx(Xt,{className:"h-4 w-4 ml-1"}),"اطلب الخدمة"]})}),g.product.seller&&t.jsx(z,{size:"sm",variant:"outline",onClick:()=>v(g.product.seller.id),className:"border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:t.jsx(Xt,{className:"h-4 w-4"})})]})]})]})},g.id)})})]})})},yz=()=>{const{cart:e,clearCart:s,getCartTotal:n}=Nc(),{toast:r}=Ke(),a=We(),[i,o]=u.useState({customer_name:"",customer_phone:"",delivery_address:"",payment_method:"cash_on_delivery",requirements:"",city_id:""}),[l,c]=u.useState(!1),[d,m]=u.useState({}),[h,p]=u.useState(null),[v,w]=u.useState([]),[g,y]=u.useState(!1);ce.useEffect(()=>{e.length===0&&a("/cart")},[e,a]),ce.useEffect(()=>{(async()=>{try{y(!0);const M=await ve.getCities(),P=(M==null?void 0:M.data)||M||[];w(Array.isArray(P)?P:[])}catch(M){console.error("Failed to load cities",M)}finally{y(!1)}})()},[]);const f=(k,M)=>{o(P=>({...P,[k]:M})),d[k]&&m(P=>({...P,[k]:""}))},x=()=>{const k={};return i.customer_name.trim()||(k.customer_name="اسم العميل مطلوب"),i.customer_phone.trim()?/^[0-9]{11}$/.test(i.customer_phone.replace(/\s/g,""))||(k.customer_phone="رقم الهاتف يجب أن يكون 11 رقم"):k.customer_phone="رقم الهاتف مطلوب",i.delivery_address.trim()||(k.delivery_address="عنوان التوصيل مطلوب"),i.payment_method||(k.payment_method="طريقة الدفع مطلوبة"),i.city_id||(k.city_id="المدينة مطلوبة"),m(k),Object.keys(k).length===0},j=async()=>{var k,M;if(!x()){r({variant:"destructive",title:"خطأ في البيانات",description:"يرجى تصحيح الأخطاء والمحاولة مرة أخرى."});return}c(!0);try{const P=e.map(H=>({product_id:H.id,quantity:H.quantity}));let D;if(h){const H=new FormData;H.append("cart_items",JSON.stringify(P)),Object.keys(i).forEach(O=>{i[O]!==void 0&&i[O]!==null&&i[O]!==""&&H.append(O,i[O])}),H.append("payment_proof",h),console.log("Creating order with payment proof file"),D=await ve.createOrderWithFiles(H)}else{const H={cart_items:P,...i};console.log("Creating order with data:",H),D=await ve.createOrder(H)}if(console.log("Full API response:",D),!D||!D.id&&!((k=D.data)!=null&&k.id))throw new Error("Invalid response structure from server");s(),r({title:"تم إنشاء الطلب بنجاح!",description:"سيتم مراجعة طلبك وإشعارك بأي تحديثات."});const I=((M=D.data)==null?void 0:M.id)||D.id;if(console.log("Order ID received:",I),!I)throw new Error("No order ID received from server");console.log("Navigating to order:",I),a(`/orders/${I}`)}catch(P){console.error("Error creating order:",P),console.error("Error response:",P.response);let D="حدث خطأ أثناء إنشاء الطلب. يرجى المحاولة مرة أخرى.";P.message&&(D=P.message),P.message&&P.message.includes("API error: 422")&&(D="خطأ في البيانات المرسلة. تأكد من صحة جميع البيانات."),P.message&&P.message.includes("API error: 500")&&(D="خطأ في الخادم. يرجى المحاولة مرة أخرى لاحقاً."),r({variant:"destructive",title:"خطأ في إنشاء الطلب",description:D})}finally{c(!1)}},N=n(),S=v.find(k=>String(k.id)===String(i.city_id)),A=S?Number(S.delivery_fee||0):0,C=N+A;return e.length===0?null:t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"إتمام الطلب"}),t.jsxs(z,{variant:"outline",onClick:()=>a("/cart"),className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:[t.jsx(An,{className:"ml-2 h-4 w-4"})," العودة للسلة"]})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsxs(J,{className:"shadow-lg border-roman-500/20",children:[t.jsx(de,{children:t.jsx(he,{className:"text-2xl text-neutral-900",children:"بيانات الطلب"})}),t.jsxs(Q,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"customer_name",className:"text-neutral-900 flex items-center",children:[t.jsx(tt,{className:"ml-2 h-4 w-4 text-roman-500"}),"اسم العميل *"]}),t.jsx(oe,{id:"customer_name",type:"text",placeholder:"أدخل اسمك الكامل",value:i.customer_name,onChange:k=>f("customer_name",k.target.value),className:`border-roman-500/30 ${d.customer_name?"border-red-500":""}`}),d.customer_name&&t.jsx("p",{className:"text-red-500 text-sm",children:d.customer_name})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"customer_phone",className:"text-neutral-900 flex items-center",children:[t.jsx(Dt,{className:"ml-2 h-4 w-4 text-roman-500"}),"رقم الهاتف *"]}),t.jsx(oe,{id:"customer_phone",type:"tel",placeholder:"مثال: 01234567890",value:i.customer_phone,onChange:k=>f("customer_phone",k.target.value),className:`border-roman-500/30 ${d.customer_phone?"border-red-500":""}`}),d.customer_phone&&t.jsx("p",{className:"text-red-500 text-sm",children:d.customer_phone})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"delivery_address",className:"text-neutral-900 flex items-center",children:[t.jsx(zt,{className:"ml-2 h-4 w-4 text-roman-500"}),"عنوان التوصيل *"]}),t.jsx(et,{id:"delivery_address",placeholder:"أدخل العنوان المفصل للتوصيل",value:i.delivery_address,onChange:k=>f("delivery_address",k.target.value),className:`border-roman-500/30 min-h-[100px] ${d.delivery_address?"border-red-500":""}`}),d.delivery_address&&t.jsx("p",{className:"text-red-500 text-sm",children:d.delivery_address})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{className:"text-neutral-900 flex items-center",children:[t.jsx(Ws,{className:"ml-2 h-4 w-4 text-roman-500"}),"طريقة الدفع *"]}),t.jsxs(yt,{value:i.payment_method,onValueChange:k=>f("payment_method",k),children:[t.jsx(ht,{className:"border-roman-500/30",children:t.jsx(ut,{placeholder:"اختر طريقة الدفع"})}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"cash_on_delivery",children:"الدفع عند الاستلام"}),t.jsx(Ne,{value:"bank_transfer",children:"تحويل بنكي"}),t.jsx(Ne,{value:"vodafone_cash",children:"فودافون كاش"}),t.jsx(Ne,{value:"instapay",children:"انستاباي"})]})]}),d.payment_method&&t.jsx("p",{className:"text-red-500 text-sm",children:d.payment_method})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{className:"text-neutral-900 flex items-center",children:[t.jsx(zt,{className:"ml-2 h-4 w-4 text-roman-500"}),"المدينة *"]}),t.jsxs(yt,{value:String(i.city_id||""),onValueChange:k=>f("city_id",k),disabled:g,children:[t.jsx(ht,{className:"border-roman-500/30",children:t.jsx(ut,{placeholder:g?"جاري التحميل...":"اختر المدينة"})}),t.jsx(mt,{children:v.map(k=>t.jsxs(Ne,{value:String(k.id),children:[k.name," — رسوم التوصيل: ",Number(k.delivery_fee||0)," ج.م"]},k.id))})]}),d.city_id&&t.jsx("p",{className:"text-red-500 text-sm",children:d.city_id})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"requirements",className:"text-neutral-900 flex items-center",children:[t.jsx(Yx,{className:"ml-2 h-4 w-4 text-roman-500"}),"متطلبات إضافية (اختياري)"]}),t.jsx(et,{id:"requirements",placeholder:"أي متطلبات أو ملاحظات إضافية",value:i.requirements,onChange:k=>f("requirements",k.target.value),className:"border-roman-500/30"})]}),i.payment_method!=="cash_on_delivery"&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{className:"text-neutral-900 flex items-center",children:[t.jsx(fi,{className:"ml-2 h-4 w-4 text-roman-500"}),"صورة إثبات الدفع (اختياري)"]}),t.jsxs("div",{className:"border-2 border-dashed border-roman-500/30 rounded-lg p-4",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:k=>p(k.target.files[0]),className:"hidden",id:"payment_proof"}),t.jsxs("label",{htmlFor:"payment_proof",className:"cursor-pointer flex flex-col items-center justify-center space-y-2",children:[t.jsx(fi,{className:"h-8 w-8 text-roman-500"}),t.jsx("span",{className:"text-sm text-neutral-900",children:h?h.name:"اضغط لاختيار صورة إثبات الدفع"}),t.jsx("span",{className:"text-xs text-neutral-900/60",children:"يمكنك رفع الصورة الآن أو لاحقاً من صفحة تفاصيل الطلب"})]})]})]})]})]})}),t.jsx("div",{className:"md:col-span-1",children:t.jsxs(J,{className:"shadow-xl border-orange-200 sticky top-24",children:[t.jsx(de,{children:t.jsxs(he,{className:"text-2xl text-primary flex items-center",children:[t.jsx(Lt,{className:"ml-2 h-5 w-5"}),"ملخص الطلب"]})}),t.jsxs(Q,{className:"space-y-4",children:[t.jsx("div",{className:"space-y-3",children:e.map(k=>t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-neutral-900",children:k.title}),t.jsxs("p",{className:"text-neutral-900/60",children:["الكمية: ",k.quantity]})]}),t.jsxs("p",{className:"font-medium text-roman-500",children:[k.price*k.quantity," جنيه"]})]},k.id))}),t.jsx(dt,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[t.jsx("span",{children:"المجموع الفرعي:"}),t.jsxs("span",{className:"font-semibold",children:[N," جنيه"]})]}),t.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[t.jsx("span",{children:"مصاريف التوصيل:"}),t.jsx("span",{className:`font-semibold ${S?"text-orange-600":"text-amber-600"}`,children:S?`${A} جنيه`:"اختر المدينة"})]}),S&&t.jsx("div",{className:"pt-2 border-t border-gray-200",children:t.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["المدينة: ",S.name]})}),t.jsx(dt,{}),t.jsxs("div",{className:"flex justify-between items-center text-2xl font-bold text-gray-800",children:[t.jsx("span",{children:"المبلغ النهائي:"}),t.jsxs("span",{className:"text-roman-500",children:[C," جنيه"]})]}),S&&t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border-r-4 border-blue-400 mt-4",children:t.jsxs("p",{className:"text-xs text-blue-700 text-center",children:["💡 المبلغ النهائي يشمل قيمة المنتجات ومصاريف التوصيل (",A," ج.م)"]})})]})]}),t.jsx(Q,{className:"pt-0",children:t.jsx(z,{size:"lg",onClick:j,disabled:l,className:"w-full bg-green-500 hover:bg-green-600",children:l?t.jsx(t.Fragment,{children:"جاري إنشاء الطلب..."}):t.jsxs(t.Fragment,{children:[t.jsx(Ws,{className:"ml-2 h-5 w-5"}),"تأكيد الطلب"]})})})]})})]})]})})},jz=()=>{var Mc,jr,Dc,Wo,Ho,qo,Go,Oc,$c;const{orderId:e}=Fa();console.log("orderId from useParams:",e);const{user:s}=De(),{toast:n}=Ke(),r=We(),[a,i]=u.useState(null),[o,l]=u.useState(!0),[c,d]=u.useState(!1),[m,h]=u.useState(null),[p,v]=u.useState(null),[w,g]=u.useState(""),[y,f]=u.useState(""),[x,j]=u.useState(""),[N,S]=u.useState(""),[A,C]=u.useState(""),[k,M]=u.useState([]),[P,D]=u.useState(!1),[I,H]=u.useState({}),[O,$]=u.useState({}),[W,G]=u.useState(!1),[R,V]=u.useState([]),[q,T]=u.useState(!1),[U,se]=u.useState(null),[ie,fe]=u.useState(0),[ue,le]=u.useState(""),[Pe,L]=u.useState(!1),[Y,X]=u.useState(!1),[pe,Me]=u.useState(null);u.useEffect(()=>{e&&qe()},[e]);const Ie=async te=>{if(!te.completion_deadline||!["seller_approved","in_progress"].includes(te.status)||te.is_late)return;const _e=new Date,Ye=new Date(te.completion_deadline);if(_e>Ye)try{console.log("Order is late, updating status..."),await ve.put(`/orders/${te.id}/check-late`),te.is_late=!0,te.late_reason="تجاوز الموعد النهائي للإنجاز",console.log("Order marked as late successfully")}catch(Ct){console.error("Error marking order as late:",Ct)}},qe=async()=>{l(!0);try{console.log("Loading order with ID:",e);const te=await ve.getOrder(e);console.log("Order API response:",te);const _e=te.data||te;if(!_e||!_e.id)throw new Error("Invalid order data received");await Ie(_e),i(_e),g(_e.delivery_address||""),j(_e.customer_phone||""),console.log("Order loaded successfully")}catch(te){console.error("Error loading order:",te),n({variant:"destructive",title:"خطأ في تحميل الطلب",description:`حدث خطأ أثناء تحميل تفاصيل الطلب رقم ${e}. ${te.message||""}`})}finally{l(!1)}},At=async()=>{if(!m){n({variant:"destructive",title:"لم يتم اختيار ملف",description:"يرجى اختيار صورة إيصال الدفع أولاً."});return}d(!0);try{await ve.uploadPaymentProof(e,m),n({title:"تم رفع إيصال الدفع",description:"تم رفع إيصال الدفع بنجاح. سيتم مراجعته من قبل الإدارة."}),h(null),qe()}catch(te){console.error("Error uploading payment proof:",te),n({variant:"destructive",title:"خطأ في رفع الإيصال",description:"حدث خطأ أثناء رفع إيصال الدفع. يرجى المحاولة مرة أخرى."})}finally{d(!1)}},ss=async()=>{if(!p){n({variant:"destructive",title:"لم يتم اختيار ملف",description:"يرجى اختيار صورة إثبات دفع باقي المبلغ أولاً."});return}d(!0);try{const te=new FormData;te.append("payment_proof",p),te.append("payment_type","remaining"),await ve.uploadPaymentProof(e,te),n({title:"تم رفع إثبات دفع باقي المبلغ",description:"تم رفع إثبات دفع باقي المبلغ بنجاح. سيتم مراجعته من قبل الإدارة."}),v(null),qe()}catch(te){console.error("Error uploading remaining payment proof:",te),n({variant:"destructive",title:"خطأ في رفع الإثبات",description:"حدث خطأ أثناء رفع إثبات دفع باقي المبلغ. يرجى المحاولة مرة أخرى."})}finally{d(!1)}},sn=async()=>{if(!w.trim()){n({variant:"destructive",title:"عنوان التوصيل مطلوب",description:"يرجى إدخال عنوان التوصيل."});return}d(!0);try{await ve.updateOrder(e,{delivery_address:w,customer_phone:x}),n({title:"تم تحديث المعلومات",description:"تم تحديث معلومات الطلب بنجاح."}),qe()}catch(te){console.error("Error updating order:",te),n({variant:"destructive",title:"خطأ في التحديث",description:"حدث خطأ أثناء تحديث معلومات الطلب."})}finally{d(!1)}},ye=async()=>{d(!0);try{await Ce.adminApproveOrder(e,y),n({title:"تم اعتماد الطلب",description:"تم اعتماد الطلب من قبل الإدارة بنجاح."}),f(""),qe()}catch(te){console.error("Error approving order:",te),n({variant:"destructive",title:"خطأ في الاعتماد",description:"حدث خطأ أثناء اعتماد الطلب."})}finally{d(!1)}},ne=async()=>{var Ye,Ct,xn,br,wr;if(!N.trim()){n({variant:"destructive",title:"خطأ في البيانات",description:"يرجى إدخال عنوان البائع لاستلام الطلب."});return}if(!A){n({variant:"destructive",title:"خطأ في البيانات",description:"يرجى تحديد الموعد النهائي لإنجاز الطلب."});return}if(new Date(A)<=new Date){n({variant:"destructive",title:"خطأ في التاريخ",description:"يجب أن يكون الموعد النهائي للإنجاز في المستقبل."});return}d(!0);try{await Ss.approveOrder(e,{notes:y,seller_address:N,completion_deadline:A}),n({title:"تم قبول الطلب",description:"تم قبول الطلب من قبل البائع بنجاح."}),f(""),S(""),C(""),qe()}catch(Qt){if(console.error("Error seller approving order:",Qt),((Ye=Qt.response)==null?void 0:Ye.status)===422&&((xn=(Ct=Qt.response)==null?void 0:Ct.data)!=null&&xn.errors)){const Ko=Qt.response.data.errors,Ic=Object.values(Ko).flat();n({variant:"destructive",title:"خطأ في البيانات",description:Ic.join(". ")})}else n({variant:"destructive",title:"خطأ في قبول الطلب",description:((wr=(br=Qt.response)==null?void 0:br.data)==null?void 0:wr.message)||"حدث خطأ أثناء قبول الطلب."})}finally{d(!1)}},Ve=async()=>{d(!0);try{await Ss.startWork(e,y),n({title:"تم بدء العمل",description:"تم بدء العمل على الطلب بنجاح."}),f(""),qe()}catch(te){console.error("Error starting work:",te),n({variant:"destructive",title:"خطأ في بدء العمل",description:"حدث خطأ أثناء بدء العمل على الطلب."})}finally{d(!1)}},Ue=async()=>{d(!0);try{await Ss.completeWork(e,y),n({title:"تم إنهاء العمل",description:"تم إنهاء العمل على الطلب وهو جاهز للتوصيل."}),f(""),qe()}catch(te){console.error("Error completing work:",te),n({variant:"destructive",title:"خطأ في إنهاء العمل",description:"حدث خطأ أثناء إنهاء العمل على الطلب."})}finally{d(!1)}},Re=async()=>{d(!0);try{await Ss.approveProposedPrice(e,y),n({title:"تمت الموافقة على السعر",description:"تمت الموافقة على السعر المقترح. الطلب الآن في انتظار مراجعة الإدارة."}),f(""),qe()}catch(te){console.error("Error approving price:",te),n({variant:"destructive",title:"خطأ في الموافقة",description:te.message||"حدث خطأ أثناء الموافقة على السعر."})}finally{d(!1)}},Je=async()=>{if(!y.trim()){n({variant:"destructive",title:"يرجى إدخال سبب الرفض",description:"يجب كتابة سبب رفض السعر المقترح."});return}d(!0);try{await Ss.rejectProposedPrice(e,y),n({title:"تم رفض السعر",description:"تم رفض السعر المقترح وإلغاء الطلب. يمكن للمشتري إنشاء طلب جديد بسعر آخر."}),f(""),qe()}catch(te){console.error("Error rejecting price:",te),n({variant:"destructive",title:"خطأ في الرفض",description:te.message||"حدث خطأ أثناء رفض السعر."})}finally{d(!1)}},Fe=async()=>{d(!0);try{await Is.pickupOrder(e,y),n({title:"تم استلام الطلب للتوصيل",description:"تم استلام الطلب من البائع للتوصيل."}),f(""),qe()}catch(te){console.error("Error picking up order:",te),n({variant:"destructive",title:"خطأ في استلام الطلب",description:"حدث خطأ أثناء استلام الطلب للتوصيل."})}finally{d(!1)}},Mn=async()=>{d(!0);try{await Is.markAsDelivered(e,y),n({title:"تم توصيل الطلب",description:"تم تسليم الطلب للعميل بنجاح."}),f(""),qe()}catch(te){console.error("Error marking as delivered:",te),n({variant:"destructive",title:"خطأ في تسليم الطلب",description:"حدث خطأ أثناء تسليم الطلب."})}finally{d(!1)}},yr=async()=>{d(!0);try{await ve.completeOrder(e),n({title:"تم إكمال الطلب",description:"تم إكمال الطلب بنجاح. شكراً لكم!"}),qe()}catch(te){console.error("Error completing order:",te),n({variant:"destructive",title:"خطأ في إكمال الطلب",description:"حدث خطأ أثناء إكمال الطلب."})}finally{d(!1)}},pt=async()=>{d(!0);try{await ve.cancelOrder(e,y||"تم إلغاء الطلب"),n({title:"تم إلغاء الطلب",description:"تم إلغاء الطلب بنجاح."}),f(""),qe()}catch(te){console.error("Error canceling order:",te),n({variant:"destructive",title:"خطأ في إلغاء الطلب",description:"حدث خطأ أثناء إلغاء الطلب."})}finally{d(!1)}},Dn=async()=>{var te;try{const _e=await ve.canReviewOrder(e);M(_e.products||[]),D(((te=_e.products)==null?void 0:te.some(Ye=>Ye.can_review))||!1)}catch(_e){console.error("Error loading reviewable products:",_e)}},Ht=async()=>{T(!0);try{const te=await ve.getOrderReviews(e);V(te.data||te||[])}catch(te){console.error("Error loading existing reviews:",te),V([])}finally{T(!1)}},Dh=te=>{se(te.id),fe(te.rating),le(te.comment||"")},Rc=()=>{se(null),fe(0),le("")},Vo=async te=>{if(!ie||ie<1||ie>5){n({variant:"destructive",title:"تقييم غير صحيح",description:"يرجى اختيار تقييم من 1 إلى 5 نجوم."});return}L(!0);try{await ve.updateReview(te,{rating:ie,comment:ue,status:"published"}),n({title:"تم تحديث التقييم",description:"تم تحديث التقييم بنجاح."}),Rc(),Ht()}catch(_e){console.error("Error updating review:",_e),n({variant:"destructive",title:"خطأ في تحديث التقييم",description:"حدث خطأ أثناء تحديث التقييم. يرجى المحاولة مرة أخرى."})}finally{L(!1)}},Uo=async te=>{X(!0);try{await ve.deleteReview(te),n({title:"تم حذف التقييم",description:"تم حذف التقييم بنجاح."}),Ht(),Dn(),Me(null)}catch(_e){console.error("Error deleting review:",_e),n({variant:"destructive",title:"خطأ في حذف التقييم",description:"حدث خطأ أثناء حذف التقييم. يرجى المحاولة مرة أخرى."})}finally{X(!1)}},Oh=(te,_e)=>{H(Ye=>({...Ye,[te]:_e}))},$h=(te,_e)=>{$(Ye=>({...Ye,[te]:_e}))},Ih=async te=>{const _e=I[te],Ye=O[te]||"";if(!_e||_e<1||_e>5){n({variant:"destructive",title:"تقييم غير صحيح",description:"يرجى اختيار تقييم من 1 إلى 5 نجوم."});return}G(!0);try{await ve.createReview({product_id:te,order_id:e,rating:_e,comment:Ye,status:"published"}),n({title:"تم إرسال التقييم",description:"شكراً لك على تقييم المنتج."}),Dn(),Ht()}catch(Ct){console.error("Error submitting review:",Ct),n({variant:"destructive",title:"خطأ في إرسال التقييم",description:"حدث خطأ أثناء إرسال التقييم. يرجى المحاولة مرة أخرى."})}finally{G(!1)}};u.useEffect(()=>{(a==null?void 0:a.status)==="completed"&&(s==null?void 0:s.id)===a.user.id&&Dn()},[a,s]),u.useEffect(()=>{a&&s&&Ht()},[a,s]);const Lh=te=>{const _e={pending:{label:"بانتظار المراجعة",icon:t.jsx(Zs,{className:"h-4 w-4 ml-1"}),color:"bg-amber-100 text-amber-700 border-amber-200 shadow-md",pulse:!0},admin_approved:{label:"معتمد من الإدارة",icon:t.jsx(Be,{className:"h-4 w-4 ml-1"}),color:"bg-blue-100 text-blue-700 border-blue-200 shadow-md"},seller_approved:{label:"مقبول من البائع",icon:t.jsx(ws,{className:"h-4 w-4 ml-1"}),color:"bg-green-100 text-green-700 border-green-200 shadow-md"},in_progress:{label:"جاري العمل",icon:t.jsx(dp,{className:"h-4 w-4 ml-1"}),color:"bg-roman-500/20 text-roman-500 border-roman-500/30 shadow-md",pulse:!0},ready_for_delivery:{label:"جاهز للتوصيل",icon:t.jsx(It,{className:"h-4 w-4 ml-1"}),color:"bg-roman-500/20 text-roman-500 border-roman-500/30 shadow-md"},out_for_delivery:{label:"في الطريق للتوصيل",icon:t.jsx(Wt,{className:"h-4 w-4 ml-1"}),color:"bg-warning-500/20 text-warning-500 border-warning-500/30 shadow-md",pulse:!0},delivered:{label:"تم التوصيل",icon:t.jsx(ws,{className:"h-4 w-4 ml-1"}),color:"bg-green-100 text-green-700 border-green-200 shadow-md"},completed:{label:"مكتمل",icon:t.jsx(Be,{className:"h-4 w-4 ml-1"}),color:"bg-emerald-100 text-emerald-700 border-emerald-200 shadow-md"},cancelled:{label:"ملغى",icon:t.jsx(hs,{className:"h-4 w-4 ml-1"}),color:"bg-red-100 text-red-700 border-red-200 shadow-md"}},Ye=_e[te]||_e.pending;return t.jsxs(me,{variant:"outline",className:`${Ye.color} font-semibold flex items-center px-4 py-2 text-sm relative overflow-hidden ${Ye.pulse?"animate-pulse":""}`,children:[Ye.pulse&&t.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"}),t.jsxs("span",{className:"relative flex items-center",children:[Ye.icon,Ye.label]})]})},Bo=()=>a!=null&&a.timeline?t.jsxs(J,{className:"border-0 shadow-lg overflow-hidden",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center text-xl",children:[t.jsx(hr,{className:"h-6 w-6 ml-2"}),"الجدول الزمني للطلب"]})}),t.jsxs(Q,{className:"p-6",children:["          ",t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute right-6 top-0 bottom-0 w-0.5 bg-roman-500"}),t.jsx("div",{className:"space-y-6",children:a.timeline.map((te,_e)=>t.jsxs(K.div,{className:"relative flex items-start space-x-4 space-x-reverse",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_e*.15},children:["                  ",t.jsx("div",{className:"flex-shrink-0 relative z-10",children:t.jsx("div",{className:"w-12 h-12 bg-roman-500 rounded-full flex items-center justify-center shadow-lg border-4 border-white",children:t.jsx(ws,{className:"h-5 w-5 text-white"})})}),t.jsxs("div",{className:"flex-1 bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-100",children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:te.label}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:te.date?new Date(te.date).toLocaleString("ar-EG"):""}),te.notes&&t.jsx("p",{className:"text-sm text-gray-700 bg-blue-50 p-3 rounded-md border-r-4 border-blue-400",children:te.notes})]})]},_e))})]})]})]}):null,On=()=>{var Yo,Zn,Lc;if(!a)return null;const te=(s==null?void 0:s.id)===((Yo=a.user)==null?void 0:Yo.id),_e=(s==null?void 0:s.id)===((Lc=(Zn=a.seller)==null?void 0:Zn.user)==null?void 0:Lc.id),Ye=(s==null?void 0:s.role)==="super_admin",Ct=(s==null?void 0:s.role)==="delivery",xn=te&&(a.status==="pending"&&!a.payment_proof&&!(a.is_service_order&&a.requires_deposit)||a.is_service_order&&a.requires_deposit&&a.deposit_status==="paid"&&!a.remaining_payment_proof&&["admin_approved","seller_approved","in_progress","work_completed","ready_for_delivery","out_for_delivery","delivered"].includes(a.status)||a.is_service_order&&a.requires_deposit&&a.deposit_status==="paid"&&a.remaining_payment_proof||["pending","admin_approved","seller_approved","in_progress"].includes(a.status)||a.status==="delivered"),br=Ye&&a.status==="pending"&&a.payment_proof,wr=_e&&(a.price_approval_status==="pending_approval"&&a.buyer_proposed_price||a.status==="admin_approved"||a.status==="seller_approved"||a.status==="in_progress"),Qt=Ct&&(a.status==="ready_for_delivery"||a.status==="out_for_delivery"),Ko=te&&["pending","admin_approved"].includes(a.status)||Ye&&["pending","admin_approved","seller_approved"].includes(a.status)||_e&&["admin_approved"].includes(a.status);return xn||br||wr||Qt||Ko?t.jsxs(J,{className:"mt-6",children:[t.jsx(de,{children:t.jsx(he,{children:"الإجراءات المتاحة"})}),t.jsxs(Q,{className:"space-y-4",children:[te&&t.jsxs(t.Fragment,{children:[a.status==="pending"&&!a.payment_proof&&!(a.is_service_order&&a.requires_deposit)&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{children:"رفع إيصال الدفع"}),t.jsx(oe,{type:"file",accept:"image/*",onChange:_t=>h(_t.target.files[0])}),t.jsxs(z,{onClick:At,disabled:c||!m,className:"w-full",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(fi,{className:"h-4 w-4 ml-2"}),"رفع إيصال الدفع"]})]}),a.is_service_order&&a.requires_deposit&&a.deposit_status==="paid"&&!a.remaining_payment_proof&&["admin_approved","seller_approved","in_progress","work_completed","ready_for_delivery","out_for_delivery","delivered"].includes(a.status)&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"دفع باقي المبلغ"}),t.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["تم دفع العربون (",a.deposit_amount," جنيه). المبلغ المتبقي: ",a.total_amount-a.deposit_amount," جنيه"]}),t.jsx("p",{className:"text-xs text-blue-600",children:"يمكنك دفع باقي المبلغ ورفع إثبات الدفع في أي مرحلة من مراحل الطلب"})]}),t.jsx(ee,{children:"رفع إثبات دفع باقي المبلغ"}),t.jsx(oe,{type:"file",accept:"image/*",onChange:_t=>v(_t.target.files[0])}),t.jsxs(z,{onClick:ss,disabled:c||!p,className:"w-full bg-green-600 hover:bg-green-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(fi,{className:"h-4 w-4 ml-2"}),"رفع إثبات دفع باقي المبلغ"]})]}),a.is_service_order&&a.requires_deposit&&a.deposit_status==="paid"&&a.remaining_payment_proof&&t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"✅ تم رفع إثبات دفع باقي المبلغ"}),t.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["تم رفع إثبات دفع المبلغ المتبقي (",a.total_amount-a.deposit_amount," جنيه) بنجاح"]}),a.status==="pending"&&t.jsx("p",{className:"text-xs text-green-600 font-medium",children:"⏳ ينتظر مراجعة الإدارة"}),a.status!=="pending"&&t.jsx("p",{className:"text-xs text-green-600 font-medium",children:"✅ تم اعتماد الدفع من قبل الإدارة"})]})}),(a.status==="pending"||a.status==="admin_approved"||a.status==="seller_approved"||a.status==="in_progress")&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{children:"عنوان التوصيل"}),t.jsx(et,{value:w,onChange:_t=>g(_t.target.value),placeholder:"أدخل عنوان التوصيل الكامل..."}),t.jsx(ee,{children:"رقم الهاتف"}),t.jsx(oe,{value:x,onChange:_t=>j(_t.target.value),placeholder:"رقم الهاتف للتواصل"}),t.jsxs(z,{onClick:sn,disabled:c,className:"w-full",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(ws,{className:"h-4 w-4 ml-2"}),"تحديث معلومات الطلب"]})]}),a.status==="delivered"&&t.jsxs(z,{onClick:yr,disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(Be,{className:"h-4 w-4 ml-2"}),"تأكيد استلام الطلب"]})]}),Ye&&a.status==="pending"&&a.payment_proof&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{children:"ملاحظات الإدارة"}),t.jsx(et,{value:y,onChange:_t=>f(_t.target.value),placeholder:"أدخل ملاحظات الاعتماد..."}),t.jsxs(z,{onClick:ye,disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(Be,{className:"h-4 w-4 ml-2"}),"اعتماد الطلب"]})]}),_e&&t.jsxs(t.Fragment,{children:[a.price_approval_status==="pending_approval"&&a.buyer_proposed_price&&t.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[t.jsx(Ps,{className:"h-5 w-5"}),t.jsx("h4",{className:"font-semibold",children:"يرجى مراجعة السعر المقترح"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-sm text-gray-700",children:[t.jsx("span",{className:"font-medium",children:"السعر الأصلي:"})," ",a.original_service_price," ج.م"]}),t.jsxs("p",{className:"text-sm text-gray-700",children:[t.jsx("span",{className:"font-medium",children:"السعر المقترح من المشتري:"})," ",a.buyer_proposed_price," ج.م"]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"ملاحظات (اختياري)"}),t.jsx(et,{value:y,onChange:_t=>f(_t.target.value),placeholder:"أدخل ملاحظاتك على السعر...",className:"mt-2"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{onClick:Re,disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(ws,{className:"h-4 w-4 ml-2"}),"الموافقة على السعر"]}),t.jsxs(z,{onClick:Je,disabled:c,variant:"destructive",className:"flex-1",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(st,{className:"h-4 w-4 ml-2"}),"رفض السعر"]})]})]}),a.status==="admin_approved"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{children:"عنوان البائع لاستلام الطلب"}),t.jsx(et,{value:N,onChange:_t=>S(_t.target.value),placeholder:"أدخل عنوانك الكامل لاستلام الطلب من قبل الدليفري...",className:"mt-2",rows:3})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"الموعد النهائي لإنجاز الطلب"}),t.jsx(oe,{type:"datetime-local",value:A,onChange:_t=>C(_t.target.value),className:"mt-2",min:new Date().toISOString().slice(0,16)}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"يجب أن يكون الموعد في المستقبل"})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"ملاحظات البائع"}),t.jsx(et,{value:y,onChange:_t=>f(_t.target.value),placeholder:"أدخل ملاحظات قبول الطلب...",className:"mt-2"})]}),t.jsxs(z,{onClick:ne,disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(ws,{className:"h-4 w-4 ml-2"}),"قبول الطلب"]})]}),a.status==="seller_approved"&&t.jsxs(z,{onClick:Ve,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(dp,{className:"h-4 w-4 ml-2"}),"بدء العمل على الطلب"]}),a.status==="in_progress"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{children:"ملاحظات إنهاء العمل"}),t.jsx(et,{value:y,onChange:_t=>f(_t.target.value),placeholder:"أدخل ملاحظات إنهاء العمل..."}),t.jsxs(z,{onClick:Ue,disabled:c,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(It,{className:"h-4 w-4 ml-2"}),"إنهاء العمل - جاهز للتوصيل"]})]})]}),Ct&&t.jsxs(t.Fragment,{children:[a.status==="ready_for_delivery"&&t.jsxs(z,{onClick:Fe,disabled:c,className:"w-full bg-orange-600 hover:bg-orange-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(Wt,{className:"h-4 w-4 ml-2"}),"استلام الطلب للتوصيل"]}),a.status==="out_for_delivery"&&t.jsxs(z,{onClick:Mn,disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(ws,{className:"h-4 w-4 ml-2"}),"تأكيد التسليم للعميل"]})]}),(te&&["pending","admin_approved"].includes(a.status)||Ye&&["pending","admin_approved","seller_approved"].includes(a.status)||_e&&["admin_approved"].includes(a.status))&&t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"destructive",className:"w-full",children:[t.jsx(hs,{className:"h-4 w-4 ml-2"}),"إلغاء الطلب"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"تأكيد إلغاء الطلب"}),t.jsx(cs,{children:"هل أنت متأكد من رغبتك في إلغاء هذا الطلب؟ هذا الإجراء لا يمكن التراجع عنه."})]}),t.jsxs("div",{className:"my-4",children:[t.jsx(ee,{children:"سبب الإلغاء"}),t.jsx(et,{value:y,onChange:_t=>f(_t.target.value),placeholder:"أدخل سبب إلغاء الطلب..."})]}),t.jsxs(os,{children:[t.jsx(us,{children:"تراجع"}),t.jsxs(ds,{onClick:pt,disabled:c,className:"bg-red-600 hover:bg-red-700",children:[c?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):null,"إلغاء الطلب"]})]})]})]})]})]}):null};return o?t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx("div",{className:"flex justify-center items-center min-h-64",children:t.jsx(Se,{className:"h-8 w-8 animate-spin"})})}):a?t.jsxs("div",{className:"min-h-screen bg-neutral-100",children:[t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:["              ",t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-roman-500",children:"تفاصيل الطلب"}),t.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[t.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["#",a.id]}),Lh(a.status)]})]}),t.jsxs(z,{variant:"outline",onClick:()=>r("/dashboard/orders"),className:"self-start sm:self-center border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white transition-all duration-300",children:[t.jsx(An,{className:"ml-2 h-4 w-4"}),"العودة للطلبات"]})]})}),t.jsxs("div",{className:"grid lg:grid-cols-12 gap-8",children:[t.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[t.jsxs(J,{className:"bg-white border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500/10 rounded-t-lg",children:t.jsxs(he,{className:"flex items-center text-xl",children:[t.jsx(Ps,{className:"h-6 w-6 ml-2 text-roman-500"}),"حالة الطلب الحالية"]})}),t.jsx(Q,{className:"pt-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[a.status_ar&&t.jsx("p",{className:"text-xl font-bold text-gray-800",children:a.status_ar}),a.next_action&&t.jsx("p",{className:"text-gray-600",children:a.next_action})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"تاريخ الطلب"}),t.jsx("p",{className:"font-semibold",children:new Date(a.created_at).toLocaleDateString("ar-EG")})]})]})})]}),"              ",t.jsxs(J,{className:"border-0 shadow-lg overflow-hidden",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center text-xl",children:[t.jsx(It,{className:"h-6 w-6 ml-2"}),"عناصر الطلب (",((Mc=a.items)==null?void 0:Mc.length)||0," منتج)"]})}),t.jsxs(Q,{className:"p-0",children:[t.jsxs("div",{className:"divide-y divide-gray-100",children:[a.items&&a.items.map((te,_e)=>{var Ye,Ct,xn;return t.jsx(K.div,{className:"p-6 hover:bg-gray-50 transition-colors duration-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_e*.1},children:t.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:((Ye=te.product)==null?void 0:Ye.image)||"https://via.placeholder.com/100",alt:((Ct=te.product)==null?void 0:Ct.name)||"منتج",className:"w-20 h-20 object-cover rounded-xl shadow-md"}),t.jsx("div",{className:"absolute -top-2 -right-2 bg-roman-500 text-white text-xs font-bold rounded-full h-6 flex items-center justify-center",children:te.product.category.name})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-1",children:((xn=te.product)==null?void 0:xn.title)||"منتج"}),t.jsx("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:t.jsxs("span",{children:["السعر: ",te.price," جنيه "]})}),t.jsx("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:t.jsxs("span",{children:["الكمية: ",te.quantity]})})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"الإجمالي"}),t.jsxs("p",{className:"text-xl font-bold text-roman-500",children:[te.subtotal," جنيه"]})]})]})},_e)}),"                  "]}),t.jsxs("div",{className:"bg-gray-50 p-6",children:[a.buyer_proposed_price&&t.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[t.jsx("span",{children:"السعر الأصلي:"}),t.jsxs("span",{className:"line-through",children:[a.original_service_price," جنيه"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-semibold text-gray-700",children:"السعر المقترح:"}),t.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[a.buyer_proposed_price," جنيه"]})]}),a.price_approval_status==="pending_approval"&&t.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 text-xs mt-2 bg-yellow-50 p-2 rounded",children:[t.jsx(Ps,{className:"h-4 w-4"}),t.jsx("span",{children:"في انتظار موافقة البائع على السعر"})]}),a.price_approval_status==="approved"&&t.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-xs mt-2 bg-green-50 p-2 rounded",children:[t.jsx(Be,{className:"h-4 w-4"}),t.jsx("span",{children:"تمت الموافقة على السعر المقترح"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[t.jsx("span",{children:"المجموع الفرعي:"}),t.jsxs("span",{className:"font-semibold",children:[a.total_price," جنيه"]})]}),a.delivery_fee&&a.delivery_fee>0&&t.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[t.jsx("span",{children:"مصاريف التوصيل:"}),t.jsxs("span",{className:"font-semibold text-orange-600",children:[a.delivery_fee," جنيه"]})]}),a.is_service_order&&a.requires_deposit&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[t.jsx("span",{children:"قيمة العربون:"}),t.jsxs("span",{className:"font-semibold text-blue-600",children:[a.deposit_amount," جنيه"]})]}),t.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[t.jsx("span",{children:"المبلغ المتبقي:"}),t.jsxs("span",{className:"font-semibold text-green-600",children:[a.total_amount-a.deposit_amount," جنيه"]})]})]}),t.jsx(dt,{className:"my-4"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-2xl font-bold text-gray-800",children:"المبلغ النهائي:"}),t.jsxs("span",{className:"text-3xl font-bold text-roman-500",children:[a.buyer_total||a.total_price+(a.delivery_fee||0)," جنيه"]})]})]})]})]})]}),(a.city||a.delivery_fee)&&t.jsxs(J,{className:"border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center text-xl",children:[t.jsx(Wt,{className:"h-6 w-6 ml-2"}),"تفاصيل التوصيل"]})}),t.jsxs(Q,{className:"pt-6 space-y-4",children:[a.city&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"المدينة:"}),t.jsx("span",{className:"font-semibold text-gray-800",children:a.city.name})]}),a.delivery_fee&&a.delivery_fee>0&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"تكلفة التوصيل:"}),t.jsxs("span",{className:"font-semibold text-orange-600",children:[a.delivery_fee," جنيه"]})]})]})]}),"              ",t.jsxs(J,{className:"border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center text-xl",children:[t.jsx(Ws,{className:"h-6 w-6 ml-2"}),"معلومات الدفع"]})}),t.jsx(Q,{className:"pt-6",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"طريقة الدفع:"}),t.jsx("span",{className:"font-semibold",children:a.payment_method_ar||a.payment_method})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"حالة الدفع:"}),t.jsx(me,{variant:a.payment_status==="paid"?"default":"secondary",className:a.payment_status==="paid"?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:a.payment_status==="paid"?"مدفوع ✓":"غير مدفوع ⏳"})]}),a.is_service_order&&a.requires_deposit&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"نوع الطلب:"}),t.jsx(me,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"طلب خدمة"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"قيمة العربون:"}),t.jsxs("span",{className:"font-semibold text-blue-600",children:[a.deposit_amount," جنيه"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"حالة العربون:"}),t.jsx(me,{variant:a.deposit_status==="paid"?"default":"secondary",className:a.deposit_status==="paid"?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:a.deposit_status==="paid"?"مدفوع ✓":"غير مدفوع ⏳"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[a.is_service_order&&a.deposit_image&&t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600 mb-2 block",children:"صورة إيصال العربون:"}),t.jsx("img",{src:a.deposit_image,alt:"إيصال العربون",className:"max-w-full h-auto rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300",onClick:()=>window.open(a.deposit_image,"_blank")})]}),a.is_service_order&&a.remaining_payment_proof&&t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600 mb-2 block",children:"صورة إيصال باقي المبلغ:"}),t.jsx("img",{src:a.remaining_payment_proof,alt:"إيصال باقي المبلغ",className:"max-w-full h-auto rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300",onClick:()=>window.open(a.remaining_payment_proof,"_blank")}),a.status==="pending"&&a.remaining_payment_proof&&t.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:t.jsx("p",{className:"text-xs text-yellow-800",children:"تم رفع إثبات دفع باقي المبلغ وينتظر مراجعة الإدارة"})})]}),a.payment_proof&&t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600 mb-2 block",children:"إيصال الدفع:"}),t.jsx("img",{src:a.payment_proof,alt:"إيصال الدفع",className:"max-w-full h-auto rounded-lg shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300",onClick:()=>window.open(a.payment_proof,"_blank")})]})]})]})})]}),(a.requirements||a.service_requirements||a.notes)&&t.jsxs(J,{className:"border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center text-xl",children:[t.jsx(Yx,{className:"h-6 w-6 ml-2"}),"ملاحظات ومتطلبات"]})}),t.jsxs(Q,{className:"pt-6",children:[a.is_service_order&&a.service_requirements&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"متطلبات الخدمة:"}),t.jsx("p",{className:"text-gray-600 bg-blue-50 p-4 rounded-lg border-r-4 border-blue-500",children:a.service_requirements})]}),a.requirements&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"متطلبات خاصة:"}),t.jsx("p",{className:"text-gray-600 bg-gray-50 p-4 rounded-lg border-r-4 border-roman-500",children:a.requirements})]}),a.notes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"ملاحظات إضافية:"}),t.jsx("p",{className:"text-gray-600 bg-green-50 p-4 rounded-lg border-r-4 border-green-500",children:a.notes})]})]})]}),Bo()]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs(J,{className:"border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(tt,{className:"h-5 w-5 ml-2"}),"معلومات العميل"]})}),t.jsxs(Q,{className:"pt-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-roman-500 rounded-full flex items-center justify-center",children:t.jsx(tt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:((jr=a.user)==null?void 0:jr.name)||"غير محدد"}),t.jsx("p",{className:"text-sm text-gray-500",children:"العميل"})]})]}),a.customer_phone&&t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-roman-500 rounded-full flex items-center justify-center",children:t.jsx(Dt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:a.customer_phone}),t.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"})]})]}),a.delivery_address&&t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-roman-500 rounded-full flex items-center justify-center",children:t.jsx(zt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"عنوان التوصيل"}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:a.delivery_address})]})]})]})]}),"              ",t.jsxs(J,{className:"border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(tt,{className:"h-5 w-5 ml-2"}),"معلومات البائع"]})}),t.jsxs(Q,{className:"pt-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-roman-500 rounded-full flex items-center justify-center",children:t.jsx(tt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:((Wo=(Dc=a.seller)==null?void 0:Dc.user)==null?void 0:Wo.name)||((Ho=a.seller)==null?void 0:Ho.name)||"غير محدد"}),t.jsx("p",{className:"text-sm text-gray-500",children:"البائع"})]})]}),((qo=a.seller)==null?void 0:qo.phone)&&t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-roman-500 rounded-full flex items-center justify-center",children:t.jsx(Dt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:a.seller.phone}),t.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"})]})]}),a.seller_address&&t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-roman-500 rounded-full flex items-center justify-center",children:t.jsx(zt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:a.seller_address}),t.jsx("p",{className:"text-sm text-gray-500",children:"عنوان البائع"})]})]})]})]}),"              ",t.jsxs(J,{className:"border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(hr,{className:"h-5 w-5 ml-2"}),"التواريخ المهمة"]})}),t.jsxs(Q,{className:"pt-6 space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"تاريخ الطلب:"}),t.jsx("span",{className:"font-semibold",children:new Date(a.created_at).toLocaleDateString("ar-EG")})]}),a.expected_delivery_date&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"التسليم المتوقع:"}),t.jsx("span",{className:"font-semibold text-orange-600",children:new Date(a.expected_delivery_date).toLocaleDateString("ar-EG")})]}),a.delivered_at&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"تاريخ التسليم:"}),t.jsx("span",{className:"font-semibold text-green-600",children:new Date(a.delivered_at).toLocaleDateString("ar-EG")})]}),a.completion_deadline&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"الموعد النهائي للإنجاز:"}),t.jsx("span",{className:`font-semibold ${a.is_late||(Go=a.time_remaining)!=null&&Go.is_late?"text-red-600":"text-blue-600"}`,children:new Date(a.completion_deadline).toLocaleDateString("ar-EG")})]})]}),(a.is_late||((Oc=a.time_remaining)==null?void 0:Oc.is_late))&&t.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(hs,{className:"h-5 w-5 text-red-600 ml-2"}),t.jsx("span",{className:"font-semibold text-red-800",children:"تحذير: تأخر في إنجاز الطلب"})]}),t.jsx("p",{className:"text-sm text-red-700 mt-2",children:($c=a.time_remaining)!=null&&$c.is_late?`تأخر الطلب بـ ${a.time_remaining.overdue_hours} ساعة`:"لم يتم إنجاز الطلب في الوقت المحدد"})]}),a.time_remaining&&!a.time_remaining.is_late&&["seller_approved","in_progress"].includes(a.status)&&t.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Zs,{className:"h-5 w-5 text-blue-600 ml-2"}),t.jsx("span",{className:"font-semibold text-blue-800",children:"الوقت المتبقي للإنجاز"})]}),t.jsx("p",{className:"text-sm text-blue-700 mt-2",children:(()=>{let te=0;a.time_remaining.total_hours?te=Math.floor(a.time_remaining.total_hours):a.time_remaining.days&&(te=Math.floor(a.time_remaining.days*24));const _e=Math.floor(te/24),Ye=te%24;let Ct="";return _e>0&&(Ct+=`${_e} يوم`),_e>0&&Ye>0&&(Ct+=" و "),Ye>0&&(Ct+=`${Ye} ساعة`),Ct||"أقل من ساعة"})()})]})]})]}),R.length>0&&t.jsxs(J,{className:"border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(ze,{className:"h-5 w-5 ml-2"}),"تقييمات الطلب"]})}),t.jsx(Q,{className:"pt-6",children:q?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(Se,{className:"h-6 w-6 animate-spin mx-auto mb-3"}),t.jsx("p",{className:"text-gray-600",children:"جاري تحميل التقييمات..."})]}):t.jsx("div",{className:"space-y-6",children:R.map(te=>{var _e,Ye,Ct,xn,br,wr;return t.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:(_e=te.user)!=null&&_e.avatar?t.jsx("img",{src:te.user.avatar,alt:te.user.name||"مستخدم",className:"w-10 h-10 rounded-full object-cover border-2 border-neutral-200"}):t.jsx("div",{className:"w-10 h-10 bg-roman-500 rounded-full flex items-center justify-center text-white font-bold",children:((Ct=(Ye=te.user)==null?void 0:Ye.name)==null?void 0:Ct.charAt(0))||"م"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 text-right",children:((xn=te.user)==null?void 0:xn.name)||"مستخدم"}),t.jsx("p",{className:"text-sm text-gray-500 text-right",children:new Date(te.created_at).toLocaleDateString("ar-EG")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[U===te.id?t.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Qt=>t.jsx("button",{type:"button",onClick:()=>fe(Qt),className:`h-5 w-5 ${Qt<=ie?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:t.jsx(ze,{className:"h-4 w-4"})},Qt))}):t.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Qt=>t.jsx(ze,{className:`h-4 w-4 ${Qt<=te.rating?"text-yellow-400 fill-current":"text-gray-300"}`},Qt))}),((br=te.user)==null?void 0:br.id)===(s==null?void 0:s.id)&&t.jsx("div",{className:"flex items-center gap-1",children:U===te.id?t.jsxs(t.Fragment,{children:[t.jsx(z,{onClick:()=>Vo(te.id),disabled:Pe,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:Pe?t.jsx(Se,{className:"h-3 w-3 animate-spin"}):t.jsx(ws,{className:"h-3 w-3"})}),t.jsx(z,{onClick:Rc,size:"sm",variant:"outline",children:t.jsx(st,{className:"h-3 w-3"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(z,{onClick:()=>Dh(te),size:"sm",variant:"outline",children:t.jsx(Do,{className:"h-3 w-3"})}),t.jsx(z,{onClick:()=>Me(te.id),disabled:Y,size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:t.jsx(zs,{className:"h-3 w-3"})})]})})]})]}),te.product&&t.jsxs("div",{className:"flex items-center gap-3 mb-3 p-3 bg-white rounded-lg border",children:[te.product.image?t.jsx("img",{src:te.product.image,alt:te.product.title,className:"w-12 h-12 rounded-lg object-cover border border-neutral-200"}):t.jsx("div",{className:"w-12 h-12 bg-neutral-100 rounded-lg flex items-center justify-center",children:t.jsx(It,{className:"h-6 w-6 text-roman-500"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700 block text-right",children:te.product.title}),t.jsx("span",{className:"text-xs text-gray-500 block text-right",children:((wr=te.product.category)==null?void 0:wr.name)||"غير محدد"})]})]}),U===te.id?t.jsxs("div",{className:"mt-3",children:[t.jsx(ee,{className:"text-sm font-medium",children:"التعليق (اختياري)"}),t.jsx(et,{value:ue,onChange:Qt=>le(Qt.target.value),placeholder:"اكتب تعليقك على المنتج...",className:"mt-1",rows:3})]}):te.comment&&t.jsx("p",{className:"text-gray-700 leading-relaxed text-right",children:te.comment})]})]})},te.id)})})})]}),P&&t.jsxs(J,{className:"border-0 shadow-lg",children:[t.jsx(de,{className:"bg-roman-500 text-white",children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(ze,{className:"h-5 w-5 ml-2"}),"تقييم المنتجات"]})}),t.jsx(Q,{className:"pt-6",children:t.jsx("div",{className:"space-y-6",children:k.map(te=>t.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[te.product_image&&t.jsx("img",{src:te.product_image,alt:te.product_title,className:"w-12 h-12 object-cover rounded-lg"}),t.jsx("div",{className:"flex-1",children:t.jsx("h4",{className:"font-semibold text-gray-800",children:te.product_title})})]}),te.can_review?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm font-medium",children:"التقييم"}),t.jsx("div",{className:"flex items-center mt-1",children:[1,2,3,4,5].map(_e=>t.jsx("button",{type:"button",onClick:()=>Oh(te.product_id,_e),className:`h-8 w-8 ${_e<=(I[te.product_id]||0)?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:t.jsx(ze,{className:"h-6 w-6"})},_e))})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm font-medium",children:"التعليق (اختياري)"}),t.jsx(et,{value:O[te.product_id]||"",onChange:_e=>$h(te.product_id,_e.target.value),placeholder:"اكتب تعليقك على المنتج...",className:"mt-1",rows:3})]}),t.jsxs(z,{onClick:()=>Ih(te.product_id),disabled:W||!I[te.product_id],className:"w-full bg-roman-500 hover:bg-roman-500/90",children:[W?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):t.jsx(ze,{className:"h-4 w-4 ml-2"}),"إرسال التقييم"]})]}):t.jsxs("div",{className:"text-center py-4",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[t.jsx(Be,{className:"h-5 w-5"}),t.jsx("span",{children:"تم التقييم بنجاح"})]}),te.existing_review&&t.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border",children:[t.jsx("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[1,2,3,4,5].map(_e=>t.jsx(ze,{className:`h-4 w-4 ${_e<=te.existing_review.rating?"text-yellow-400 fill-current":"text-gray-300"}`},_e))}),te.existing_review.comment&&t.jsx("p",{className:"text-sm text-gray-600 text-center",children:te.existing_review.comment})]})]})]},te.product_id))})})]}),On()]})]})]})}),t.jsx(ks,{open:pe!==null,onOpenChange:()=>Me(null),children:t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"حذف التقييم"}),t.jsx(cs,{children:"هل أنت متأكد من أنك تريد حذف هذا التقييم؟ لا يمكن التراجع عن هذا الإجراء."})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsx(ds,{onClick:()=>Uo(pe),disabled:Y,className:"bg-red-600 hover:bg-red-700",children:Y?t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}),"جاري الحذف..."]}):"حذف"})]})]})})]}):t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx(J,{className:"text-center py-12",children:t.jsxs(Q,{children:[t.jsx(Ps,{className:"h-24 w-24 text-red-500 mx-auto mb-6"}),t.jsx("h2",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:"الطلب غير موجود"}),t.jsx("p",{className:"text-neutral-900/70 mb-6",children:"لم يتم العثور على الطلب المطلوب."}),t.jsxs(z,{onClick:()=>r("/dashboard/orders"),className:"bg-roman-500 hover:bg-roman-500/90",children:[t.jsx(An,{className:"h-4 w-4 ml-2"}),"العودة للطلبات"]})]})})})},bz=()=>{const e=We(),s=Jt(),{login:n,user:r,loading:a}=De(),[i,o]=u.useState(""),[l,c]=u.useState(""),[d,m]=u.useState(!1),[h,p]=u.useState(!1);u.useEffect(()=>{var w,g;if(!a&&r){const y=(g=(w=s.state)==null?void 0:w.from)==null?void 0:g.pathname;if(y){e(y,{replace:!0});return}r.role==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})}},[r,a,e,s.state]);const v=async w=>{w.preventDefault(),p(!0),await n({email:i,password:l}),p(!1)};return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-roman-500 mx-auto mb-4"}),t.jsx("p",{className:"text-neutral-900",children:"جاري التحميل..."})]})}):r?null:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100 p-4",style:{backgroundImage:'url("public/bgimages.jpg")',backgroundSize:"cover",backgroundPosition:"center"},children:t.jsx(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs(J,{className:"shadow-2xl border-roman-500/20",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"mx-auto p-3 bg-roman-500/10 rounded-full w-fit mb-4",children:t.jsx(h1,{className:"h-10 w-10 text-roman-500"})}),t.jsx(he,{className:"text-3xl font-bold text-neutral-900",children:"تسجيل الدخول"}),t.jsx(nt,{className:"text-neutral-900/70",children:"مرحباً بعودتك! أدخل بياناتك للمتابعة."})]}),t.jsx("div",{className:"mx-4 mb-4 p-3 bg-success-100/30 border-r-4 border-roman-500 rounded-md text-sm",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(Xx,{className:"h-5 w-5 text-roman-500 ml-2 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-neutral-900 mb-1",children:"أمثلة للاختبار:"}),t.jsxs("p",{className:"text-neutral-900/80 mb-1",children:[t.jsx("strong",{children:"مشتري:"})," nora@example.com/ password123"]}),t.jsxs("p",{className:"text-neutral-900/80 mb-1",children:[t.jsx("strong",{children:"بائع:"})," sara@example.com / password123"]}),t.jsxs("p",{className:"text-neutral-900/80",children:[t.jsx("strong",{children:"مسؤول:"})," admin@example.com / admin123"]})]})]})}),t.jsx(Q,{children:t.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"email",className:"text-neutral-900",children:"البريد الإلكتروني"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"email",type:"email",placeholder:"example@mail.com",value:i,onChange:w=>o(w.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"password",className:"text-neutral-900",children:"كلمة المرور"}),t.jsxs("div",{className:"relative",children:[t.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"password",type:d?"text":"password",placeholder:"********",value:l,onChange:w=>c(w.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"}),t.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-roman-500/60 hover:text-roman-500",children:d?t.jsx(No,{className:"h-5 w-5"}):t.jsx(en,{className:"h-5 w-5"})})]})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(we,{to:"/forgot-password",className:"text-sm text-warning-500 hover:underline",children:"هل نسيت كلمة المرور؟"})}),t.jsx(z,{type:"submit",className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white text-lg py-3",disabled:h,children:h?"جاري تسجيل الدخول...":"تسجيل الدخول"})]})}),t.jsxs(St,{className:"flex flex-col items-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-neutral-900/80",children:["ليس لديك حساب؟"," ",t.jsx(we,{to:"/register",className:"font-medium text-roman-500 hover:underline",children:"إنشاء حساب جديد"})]}),t.jsx(z,{variant:"outline",onClick:()=>e("/"),className:"w-full border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:"العودة إلى الصفحة الرئيسية"})]})]})})})};function wz(e){const s=Nz(e),n=u.forwardRef((r,a)=>{const{children:i,...o}=r,l=u.Children.toArray(i),c=l.find(Cz);if(c){const d=c.props.children,m=l.map(h=>h===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:h);return t.jsx(s,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,m):null})}return t.jsx(s,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Nz(e){const s=u.forwardRef((n,r)=>{const{children:a,...i}=n;if(u.isValidElement(a)){const o=kz(a),l=_z(i,a.props);return a.type!==u.Fragment&&(l.ref=r?Ju(r,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var Sz=Symbol("radix.slottable");function Cz(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sz}function _z(e,s){const n={...s};for(const r in s){const a=e[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function kz(e){var r,a;let s=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Pz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ug=Pz.reduce((e,s)=>{const n=wz(`Primitive.${s}`),r=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{}),Ah="Checkbox",[Ez,NB]=pn(Ah),[Tz,hg]=Ez(Ah);function Az(e){const{__scopeCheckbox:s,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:m="on",internal_do_not_use_render:h}=e,[p,v]=za({prop:n,defaultProp:a??!1,onChange:c,caller:Ah}),[w,g]=u.useState(null),[y,f]=u.useState(null),x=u.useRef(!1),j=w?!!o||!!w.closest("form"):!0,N={checked:p,disabled:i,setChecked:v,control:w,setControl:g,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:Na(a)?!1:a,isFormControl:j,bubbleInput:y,setBubbleInput:f};return t.jsx(Tz,{scope:s,...N,children:Rz(h)?h(N):r})}var x4="CheckboxTrigger",g4=u.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:m,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:w}=hg(x4,e),g=Ze(a,m),y=u.useRef(c);return u.useEffect(()=>{const f=i==null?void 0:i.form;if(f){const x=()=>h(y.current);return f.addEventListener("reset",x),()=>f.removeEventListener("reset",x)}},[i,h]),t.jsx(ug.button,{type:"button",role:"checkbox","aria-checked":Na(c)?"mixed":c,"aria-required":d,"data-state":w4(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:ke(s,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:ke(n,f=>{h(x=>Na(x)?!0:!x),w&&v&&(p.current=f.isPropagationStopped(),p.current||f.stopPropagation())})})});g4.displayName=x4;var mg=u.forwardRef((e,s)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:m,...h}=e;return t.jsx(Az,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:m,value:c,internal_do_not_use_render:({isFormControl:p})=>t.jsxs(t.Fragment,{children:[t.jsx(g4,{...h,ref:s,__scopeCheckbox:n}),p&&t.jsx(b4,{__scopeCheckbox:n})]})})});mg.displayName=Ah;var v4="CheckboxIndicator",y4=u.forwardRef((e,s)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=hg(v4,n);return t.jsx(Xn,{present:r||Na(i.checked)||i.checked===!0,children:t.jsx(ug.span,{"data-state":w4(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...e.style}})})});y4.displayName=v4;var j4="CheckboxBubbleInput",b4=u.forwardRef(({__scopeCheckbox:e,...s},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:m,form:h,bubbleInput:p,setBubbleInput:v}=hg(j4,e),w=Ze(n,v),g=eg(i),y=gh(r);u.useEffect(()=>{const x=p;if(!x)return;const j=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(j,"checked").set,A=!a.current;if(g!==i&&S){const C=new Event("click",{bubbles:A});x.indeterminate=Na(i),S.call(x,Na(i)?!1:i),x.dispatchEvent(C)}},[p,g,i,a]);const f=u.useRef(Na(i)?!1:i);return t.jsx(ug.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??f.current,required:l,disabled:c,name:d,value:m,form:h,...s,tabIndex:-1,ref:w,style:{...s.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});b4.displayName=j4;function Rz(e){return typeof e=="function"}function Na(e){return e==="indeterminate"}function w4(e){return Na(e)?"indeterminate":e?"checked":"unchecked"}const Fp=u.forwardRef(({className:e,...s},n)=>t.jsx(mg,{ref:n,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(y4,{className:je("flex items-center justify-center text-current"),children:t.jsx(ws,{className:"h-4 w-4"})})}));Fp.displayName=mg.displayName;const Mz=()=>{const e=We(),s=Jt(),[n]=MN(),{user:r,loading:a,sendEmailVerificationOTP:i}=De(),{toast:o}=Ke(),[l,c]=u.useState(""),[d,m]=u.useState(""),[h,p]=u.useState(""),[v,w]=u.useState("");u.useState(n.get("role")||"buyer");const[g,y]=u.useState(!0),[f,x]=u.useState(n.get("role")==="seller"),[j,N]=u.useState(!1),[S,A]=u.useState(!1),[C,k]=u.useState(!1);u.useEffect(()=>{var P,D;if(!a&&r){const I=(D=(P=s.state)==null?void 0:P.from)==null?void 0:D.pathname;if(I){e(I,{replace:!0});return}r.role==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})}},[r,a,e,s.state]);const M=async P=>{if(P.preventDefault(),h!==v){o({variant:"destructive",title:"كلمتا المرور غير متطابقتين",description:"يرجى التأكد من تطابق كلمتي المرور."});return}if(!g&&!f){o({variant:"destructive",title:"يجب اختيار دور واحد على الأقل",description:"يرجى اختيار ما إذا كنت تريد أن تكون مشترياً أو بائعاً أو كليهما."});return}k(!0),await i(d)&&e("/verify-email",{state:{email:d,registrationData:{name:l,email:d,password:h,role:f?"seller":"buyer",is_buyer:g,is_seller:f}}}),k(!1)};return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-roman-500 mx-auto mb-4"}),t.jsx("p",{className:"text-neutral-900",children:"جاري التحميل..."})]})}):r?null:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100 p-4 py-12",style:{backgroundImage:'url("public/bgimages2.jpg")',backgroundSize:"cover",backgroundPosition:"center"},children:t.jsx(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-lg",children:t.jsxs(J,{className:"shadow-2xl border-roman-500/20",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"mx-auto p-3 bg-roman-500/10 rounded-full w-fit mb-4",children:t.jsx(t0,{className:"h-10 w-10 text-roman-500"})}),t.jsx(he,{className:"text-3xl font-bold text-neutral-900",children:"إنشاء حساب جديد"}),t.jsx(nt,{className:"text-neutral-900/70",children:"انضم إلينا اليوم واكتشف عالم الإبداع اليدوي."})]}),t.jsx(Q,{children:t.jsxs("form",{onSubmit:M,className:"space-y-5",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"name",className:"text-neutral-900",children:"الاسم الكامل"}),t.jsxs("div",{className:"relative",children:[t.jsx(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"name",type:"text",placeholder:"اسمك الكامل",value:l,onChange:P=>c(P.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"email-register",className:"text-neutral-900",children:"البريد الإلكتروني"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"email-register",type:"email",placeholder:"example@mail.com",value:d,onChange:P=>m(P.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"password-register",className:"text-neutral-900",children:"كلمة المرور"}),t.jsxs("div",{className:"relative",children:[t.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"password-register",type:j?"text":"password",placeholder:"********",value:h,onChange:P=>p(P.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"}),t.jsx("button",{type:"button",onClick:()=>N(!j),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-roman-500/60 hover:text-roman-500",children:j?t.jsx(No,{className:"h-5 w-5"}):t.jsx(en,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"confirm-password",className:"text-neutral-900",children:"تأكيد كلمة المرور"}),t.jsxs("div",{className:"relative",children:[t.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"confirm-password",type:S?"text":"password",placeholder:"********",value:v,onChange:P=>w(P.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"}),t.jsx("button",{type:"button",onClick:()=>A(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-roman-500/60 hover:text-roman-500",children:S?t.jsx(No,{className:"h-5 w-5"}):t.jsx(en,{className:"h-5 w-5"})})]})]}),"              ",t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-neutral-900 text-base font-medium",children:"أريد أن أكون:"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-roman-500/20 rounded-lg hover:bg-roman-500/5 transition-colors",children:[t.jsx(Fp,{id:"buyer",checked:g,onCheckedChange:y,className:"data-[state=checked]:bg-roman-500 data-[state=checked]:border-roman-500"}),t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx(Lt,{className:"h-5 w-5 text-roman-500 mr-3"}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"buyer",className:"text-neutral-900 font-medium cursor-pointer",children:"مشتري"}),t.jsx("p",{className:"text-sm text-neutral-900/70",children:"أريد شراء المنتجات والحرف اليدوية"})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-roman-500/20 rounded-lg hover:bg-roman-500/5 transition-colors",children:[t.jsx(Fp,{id:"seller",checked:f,onCheckedChange:x,className:"data-[state=checked]:bg-roman-500 data-[state=checked]:border-roman-500"}),t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx(v1,{className:"h-5 w-5 text-roman-500 mr-3"}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"seller",className:"text-neutral-900 font-medium cursor-pointer",children:"بائع (حرفي)"}),t.jsx("p",{className:"text-sm text-neutral-900/70",children:"أريد بيع منتجاتي وحرفي اليدوية"})]})]})]})]}),g&&f&&t.jsx("div",{className:"p-3 bg-roman-500/10 rounded-lg border border-roman-500/20",children:t.jsx("p",{className:"text-sm text-roman-500",children:"✨ رائع! ستتمكن من التبديل بين دوري المشتري والبائع في أي وقت من لوحة التحكم."})})]}),t.jsx(z,{type:"submit",className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white text-lg py-3",disabled:C,children:C?"جاري إنشاء الحساب...":"إنشاء حساب"})]})}),t.jsxs(St,{className:"flex flex-col items-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-neutral-900/80",children:["لديك حساب بالفعل؟"," ",t.jsx(we,{to:"/login",className:"font-medium text-roman-500 hover:underline",children:"تسجيل الدخول"})]}),t.jsx(z,{variant:"outline",onClick:()=>e("/"),className:"w-full border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:"العودة إلى الصفحة الرئيسية"})]})]})})})},Dz=()=>{const e=We(),{sendPasswordResetOTP:s}=De(),[n,r]=u.useState(""),[a,i]=u.useState(!1),o=async l=>{l.preventDefault(),i(!0),await s(n)&&e("/reset-password",{state:{email:n}}),i(!1)};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100 p-4",children:t.jsx(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs(J,{className:"shadow-2xl border-roman-500/20",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"mx-auto p-3 bg-roman-500/10 rounded-full w-fit mb-4",children:t.jsx(u6,{className:"h-10 w-10 text-roman-500"})}),t.jsx(he,{className:"text-3xl font-bold text-neutral-900",children:"استعادة كلمة المرور"}),t.jsx(nt,{className:"text-neutral-900/70",children:"أدخل بريدك الإلكتروني لتلقي رمز التحقق"})]}),t.jsx(Q,{children:t.jsxs("form",{onSubmit:o,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"email",className:"text-neutral-900",children:"البريد الإلكتروني"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"email",type:"email",placeholder:"example@mail.com",value:n,onChange:l=>r(l.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"})]})]}),t.jsx(z,{type:"submit",className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white text-lg py-3",disabled:a,children:a?"جاري الإرسال...":"إرسال رمز التحقق"})]})}),t.jsxs(St,{className:"flex flex-col items-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-neutral-900/80",children:["تذكرت كلمة المرور؟"," ",t.jsx(we,{to:"/login",className:"font-medium text-roman-500 hover:underline",children:"تسجيل الدخول"})]}),t.jsxs(z,{variant:"outline",onClick:()=>e("/"),className:"w-full border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:[t.jsx(An,{className:"ml-2 h-4 w-4"}),"العودة إلى الصفحة الرئيسية"]})]})]})})})},Oz=()=>{var I;const e=We(),s=Jt(),{verifyPasswordResetOTP:n,resetPassword:r,sendPasswordResetOTP:a}=De(),[i,o]=u.useState(((I=s.state)==null?void 0:I.email)||""),[l,c]=u.useState(""),[d,m]=u.useState(""),[h,p]=u.useState(""),[v,w]=u.useState(!1),[g,y]=u.useState(!1),[f,x]=u.useState(!1),[j,N]=u.useState(!1),[S,A]=u.useState(!1),[C,k]=u.useState(!1);u.useEffect(()=>{i||e("/forgot-password")},[i,e]);const M=async()=>{if(!l||l.length!==4)return;N(!0),await n(i,l)&&k(!0),N(!1)},P=async H=>{if(H.preventDefault(),d!==h||d.length<6)return;x(!0),await r(i,l,d,h)&&e("/login"),x(!1)},D=async()=>{A(!0),await a(i),A(!1)};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100 p-4",children:t.jsx(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs(J,{className:"shadow-2xl border-roman-500/20",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"mx-auto p-3 bg-roman-500/10 rounded-full w-fit mb-4",children:t.jsx(Js,{className:"h-10 w-10 text-roman-500"})}),t.jsx(he,{className:"text-3xl font-bold text-neutral-900",children:"تغيير كلمة المرور"}),t.jsx(nt,{className:"text-neutral-900/70",children:"أدخل رمز التحقق وكلمة المرور الجديدة"})]}),t.jsx(Q,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-success-100/20 p-3 rounded-lg border border-roman-500/20",children:[t.jsx("p",{className:"text-sm text-neutral-900/80",children:"البريد الإلكتروني:"}),t.jsx("p",{className:"font-medium text-neutral-900",children:i})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"otp",className:"text-neutral-900",children:"رمز التحقق (4 أرقام)"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(u1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"otp",type:"text",placeholder:"0000",value:l,onChange:H=>c(H.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,className:"pr-10 text-center text-lg letter-spacing-wider border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20",disabled:C})]}),!C&&t.jsx(z,{type:"button",onClick:M,disabled:j||l.length!==4,className:"bg-roman-500 hover:bg-roman-500/90",children:j?"جاري التحقق...":"تحقق"})]}),C&&t.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[t.jsx(Js,{className:"h-4 w-4 ml-1"}),"تم التحقق بنجاح"]})]}),!C&&t.jsx(z,{type:"button",variant:"outline",onClick:D,disabled:S,className:"w-full border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:S?"جاري الإرسال...":"إعادة إرسال رمز التحقق"})]}),C&&t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"password",className:"text-neutral-900",children:"كلمة المرور الجديدة"}),t.jsxs("div",{className:"relative",children:[t.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"password",type:v?"text":"password",placeholder:"********",value:d,onChange:H=>m(H.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"}),t.jsx("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-roman-500/60 hover:text-roman-500",children:v?t.jsx(No,{className:"h-5 w-5"}):t.jsx(en,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"confirmPassword",className:"text-neutral-900",children:"تأكيد كلمة المرور"}),t.jsxs("div",{className:"relative",children:[t.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"confirmPassword",type:g?"text":"password",placeholder:"********",value:h,onChange:H=>p(H.target.value),required:!0,className:"pr-10 border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20"}),t.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-roman-500/60 hover:text-roman-500",children:g?t.jsx(No,{className:"h-5 w-5"}):t.jsx(en,{className:"h-5 w-5"})})]})]}),t.jsx(z,{type:"submit",className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white text-lg py-3",disabled:f,children:f?"جاري التغيير...":"تغيير كلمة المرور"})]})]})}),t.jsxs(St,{className:"flex flex-col items-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-neutral-900/80",children:["تذكرت كلمة المرور؟"," ",t.jsx(we,{to:"/login",className:"font-medium text-roman-500 hover:underline",children:"تسجيل الدخول"})]}),t.jsxs(z,{variant:"outline",onClick:()=>e("/"),className:"w-full border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:[t.jsx(An,{className:"ml-2 h-4 w-4"}),"العودة إلى الصفحة الرئيسية"]})]})]})})})},$z=()=>{var y,f;const e=We(),s=Jt(),{registerWithEmailVerification:n,sendEmailVerificationOTP:r}=De(),[a,i]=u.useState(((y=s.state)==null?void 0:y.email)||""),[o,l]=u.useState(""),[c,d]=u.useState(!1),[m,h]=u.useState(!1),[p,v]=u.useState(((f=s.state)==null?void 0:f.registrationData)||null);u.useEffect(()=>{(!a||!p)&&e("/register")},[a,p,e]);const w=async x=>{if(x.preventDefault(),!o||o.length!==4)return;d(!0);const j={...p,otp_code:o};await n(j)&&e("/dashboard"),d(!1)},g=async()=>{h(!0),await r(a),h(!1)};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100 p-4",children:t.jsx(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs(J,{className:"shadow-2xl border-roman-500/20",children:[t.jsxs(de,{className:"text-center",children:[t.jsx("div",{className:"mx-auto p-3 bg-roman-500/10 rounded-full w-fit mb-4",children:t.jsx(Be,{className:"h-10 w-10 text-roman-500"})}),t.jsx(he,{className:"text-3xl font-bold text-neutral-900",children:"تأكيد البريد الإلكتروني"}),t.jsx(nt,{className:"text-neutral-900/70",children:"أدخل رمز التحقق المرسل إلى بريدك الإلكتروني"})]}),t.jsx(Q,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-success-100/20 p-4 rounded-lg border border-roman-500/20",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Gn,{className:"h-5 w-5 text-roman-500 ml-2"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-900/80",children:"تم إرسال رمز التحقق إلى:"}),t.jsx("p",{className:"font-medium text-neutral-900",children:a})]})]})}),t.jsxs("form",{onSubmit:w,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"otp",className:"text-neutral-900",children:"رمز التحقق (4 أرقام)"}),t.jsxs("div",{className:"relative",children:[t.jsx(u1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-roman-500/60"}),t.jsx(oe,{id:"otp",type:"text",placeholder:"0000",value:o,onChange:x=>l(x.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,className:"pr-10 text-center text-2xl letter-spacing-widest border-roman-500/30 focus:border-roman-500 focus:ring-roman-500/20",required:!0})]}),t.jsx("p",{className:"text-sm text-neutral-900/60",children:"الرمز صالح لمدة 10 دقائق"})]}),t.jsx(z,{type:"submit",className:"w-full bg-roman-500 hover:bg-roman-500/90 text-white text-lg py-3",disabled:c||o.length!==4,children:c?"جاري التحقق...":"تأكيد البريد الإلكتروني"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-neutral-900/80 mb-2",children:"لم تستلم الرمز؟"}),t.jsx(z,{type:"button",variant:"outline",onClick:g,disabled:m,className:"border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:m?"جاري الإرسال...":"إعادة إرسال الرمز"})]})]})}),t.jsxs(St,{className:"flex flex-col items-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-neutral-900/80",children:["لديك حساب بالفعل؟"," ",t.jsx(we,{to:"/login",className:"font-medium text-roman-500 hover:underline",children:"تسجيل الدخول"})]}),t.jsxs(z,{variant:"outline",onClick:()=>e("/register"),className:"w-full border-roman-500/50 text-roman-500 hover:bg-roman-500 hover:text-white",children:[t.jsx(An,{className:"ml-2 h-4 w-4"}),"العودة إلى التسجيل"]})]})]})})})},Iz=()=>t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-100 p-4",children:t.jsxs(K.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,duration:.5},className:"w-full max-w-lg text-center",children:[t.jsxs(J,{className:"shadow-2xl border-orange-200 overflow-hidden",children:[t.jsxs(de,{className:"bg-roman-500 p-8",children:[t.jsx(hs,{className:"h-20 w-20 text-white mx-auto mb-4"}),t.jsx(he,{className:"text-5xl font-extrabold text-white",children:"404"}),t.jsx(nt,{className:"text-xl text-neutral-100 mt-2",children:"عفواً، الصفحة التي تبحث عنها غير موجودة."})]}),t.jsxs(Q,{className:"p-8",children:[t.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"ربما تم حذف الصفحة، أو تغيير اسمها، أو أنها غير متاحة مؤقتاً."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[t.jsx(z,{asChild:!0,size:"lg",className:"bg-primary hover:bg-primary/90",children:t.jsxs(we,{to:"/",children:[t.jsx(Jx,{className:"ml-2 h-5 w-5"}),"العودة إلى الصفحة الرئيسية"]})}),t.jsx(z,{asChild:!0,variant:"outline",size:"lg",className:"border-primary text-primary hover:bg-primary/10",children:t.jsx(we,{to:"/explore",children:"استكشاف المنتجات"})})]})]})]}),t.jsxs("p",{className:"mt-8 text-sm text-gray-500",children:["إذا كنت تعتقد أن هذا خطأ، يرجى ",t.jsx(we,{to:"/contact",className:"text-primary hover:underline",children:"الاتصال بالدعم"}),"."]})]})}),Ii=({title:e,description:s,link:n,icon:r})=>t.jsx(K.div,{whileHover:{y:-5},className:"h-full",children:t.jsxs(J,{className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300 border-blue-200 flex flex-col",children:[t.jsxs(de,{className:"flex-row items-center space-x-4 pb-2",children:[t.jsx("div",{className:"p-3 rounded-full bg-blue-600/10 text-blue-600",children:t.jsx(r,{className:"h-6 w-6"})}),t.jsx(he,{className:"text-xl text-gray-700",children:e})]}),t.jsx(Q,{className:"flex-grow",children:t.jsx("p",{className:"text-sm text-gray-500",children:s})}),t.jsx(St,{children:t.jsx(z,{asChild:!0,variant:"outline",className:"w-full border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:t.jsx(we,{to:n,children:"الانتقال"})})})]})}),Lz=()=>t.jsxs("div",{className:"p-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"مرحباً بك في لوحة تحكم المدير"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"من هنا يمكنك إدارة جميع جوانب النظام بما في ذلك التصنيفات والمنتجات والبائعين والمستخدمين والمحادثات."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(Ii,{title:"إدارة التصنيفات",description:"إضافة وتعديل وحذف تصنيفات المنتجات.",link:"/admin/categories",icon:Pa}),t.jsx(Ii,{title:"إدارة المنتجات",description:"استعراض وإدارة جميع المنتجات في النظام.",link:"/admin/products",icon:nc}),t.jsx(Ii,{title:"إدارة البائعين",description:"الموافقة على البائعين الجدد وإدارة حساباتهم.",link:"/admin/sellers",icon:Hn}),t.jsx(Ii,{title:"إدارة المستخدمين",description:"استعراض وإدارة حسابات المستخدمين.",link:"/admin/users",icon:Sn}),t.jsx(Ii,{title:"المحادثات",description:"عرض جميع المحادثات بين المستخدمين والبائعين.",link:"/admin/messages",icon:un}),t.jsx(Ii,{title:"إعدادات النظام",description:"تكوين إعدادات النظام العامة.",link:"/admin/settings",icon:ka})]})]}),Fz=()=>{const{notifications:e,unreadCount:s,loading:n,error:r,markAsRead:a,markAllAsRead:i,deleteNotification:o,refreshNotifications:l}=a0(),[c,d]=u.useState("all"),[m,h]=u.useState(!1),p=We(),v=async()=>{h(!0),await l(),h(!1)},w=x=>({order:"bg-blue-100 text-blue-600",message:"bg-green-100 text-green-600",review:"bg-yellow-100 text-yellow-600",payment:"bg-purple-100 text-purple-600"})[x]||"bg-gray-100 text-gray-600",g=x=>({order:It,message:Xt,review:ze,payment:bt})[x]||Er,y=x=>{var j,N,S,A;if(x.read||a(x.id),x.link){p(x.link);return}switch(x.type){case"order":p(`/orders/${((j=x.data)==null?void 0:j.orderId)||""}`);break;case"message":p(`/messages/${((N=x.data)==null?void 0:N.conversationId)||""}`);break;case"review":p(`/products/${((S=x.data)==null?void 0:S.productId)||""}#reviews`);break;case"payment":p("/dashboard/earnings");break;default:(A=x.data)!=null&&A.link&&p(x.data.link)}},f=e.filter(x=>c==="unread"?!x.read:c==="read"?x.read:!0);return t.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:t.jsxs("div",{className:"max-w-lg mx-auto px-4 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Er,{className:"w-6 h-6 text-warning-500"}),t.jsx("h1",{className:"text-xl font-bold text-neutral-900",children:"الإشعارات"}),s>0&&t.jsx("span",{className:"bg-warning-500 text-white text-xs px-2 py-1 rounded-full",children:s})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:v,disabled:m,className:"p-2 text-gray-400 hover:text-warning-500 transition-colors disabled:opacity-50",title:"تحديث",children:t.jsx(Wn,{className:`w-5 h-5 ${m?"animate-spin":""}`})}),s>0&&t.jsx("button",{onClick:i,className:"text-sm text-warning-500 font-medium hover:text-warning-500/80",children:"قراءة الكل"})]})]}),t.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"الكل"},{key:"unread",label:"غير مقروءة"},{key:"read",label:"مقروءة"}].map(({key:x,label:j})=>t.jsx("button",{onClick:()=>d(x),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${c===x?"bg-white text-warning-500 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:j},x))})]})}),t.jsx("div",{className:"max-w-lg mx-auto px-4 py-4",children:n?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx(Se,{className:"w-8 h-8 text-warning-500 animate-spin"}),t.jsx("span",{className:"mr-3 text-gray-500",children:"جارِ تحميل الإشعارات..."})]}):r?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Er,{className:"w-16 h-16 text-red-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-red-500 mb-2",children:"خطأ في تحميل الإشعارات"}),t.jsx("p",{className:"text-gray-400 mb-4",children:r}),t.jsx("button",{onClick:v,className:"px-4 py-2 bg-roman-500 text-white rounded-lg hover:bg-roman-500/90 transition-colors",children:"إعادة المحاولة"})]}):f.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Er,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"لا توجد إشعارات"}),t.jsx("p",{className:"text-gray-400",children:c==="unread"?"لا توجد إشعارات غير مقروءة":"ستظهر الإشعارات هنا"})]}):t.jsx("div",{className:"space-y-3",children:f.map(x=>{const j=g(x.type);return t.jsx("div",{className:`bg-white rounded-lg border p-4 transition-all hover:shadow-md ${x.read?"border-gray-200":"border-r-4 border-r-warning-500"} cursor-pointer`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${w(x.type)}`,onClick:()=>y(x),children:t.jsx(j,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",onClick:()=>y(x),children:[t.jsx("h3",{className:`font-medium ${x.read?"text-gray-700":"text-neutral-900"}`,children:x.title}),t.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap mr-2",children:x.time})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3 cursor-pointer",onClick:()=>y(x),children:x.message}),t.jsxs("div",{className:"flex items-center gap-3",onClick:N=>N.stopPropagation(),children:[!x.read&&t.jsxs("button",{onClick:N=>{N.stopPropagation(),a(x.id)},className:"flex items-center gap-1 text-xs text-warning-500 hover:text-warning-500/80",children:[t.jsx(ws,{className:"w-3 h-3"}),"تم القراءة"]}),t.jsxs("button",{onClick:N=>{N.stopPropagation(),o(x.id)},className:"flex items-center gap-1 text-xs text-red-500 hover:text-red-600",children:[t.jsx(zs,{className:"w-3 h-3"}),"حذف"]})]})]})]})},x.id)})})})]})},zz=()=>{const{toast:e}=Ke(),[s,n]=u.useState([{number:"0",label:"حرفي موثوق",icon:Sn},{number:"0",label:"منتج يدوي",icon:ua},{number:"0",label:"عميل راضي",icon:ze},{number:"0",label:"تصنيف متنوع",icon:kl}]),[r,a]=u.useState(!0),[i,o]=u.useState({name:"",email:"",phone:"",subject:"",message:""}),[l,c]=u.useState(!1),[d,m]=u.useState(!1);u.useEffect(()=>{(async()=>{try{const f=await ve.getAboutUsStats();if(f.success){const x=f.data;n([{number:x.trusted_artisans>0?`${x.trusted_artisans}+`:"0",label:"حرفي موثوق",icon:Sn},{number:x.handmade_products>0?`${x.handmade_products}+`:"0",label:"منتج يدوي",icon:ua},{number:x.satisfied_customers>0?`${x.satisfied_customers}+`:"0",label:"عميل راضي",icon:ze},{number:x.diverse_categories>0?`${x.diverse_categories}+`:"0",label:"تصنيف متنوع",icon:kl}])}}catch(f){console.error("Error fetching about us stats:",f)}finally{a(!1)}})()},[]);const h=y=>{const{name:f,value:x}=y.target;o(j=>({...j,[f]:x}))},p=async y=>{if(y.preventDefault(),!i.name||!i.email||!i.message){e({variant:"destructive",title:"خطأ في الإرسال",description:"الرجاء ملء جميع الحقول المطلوبة"});return}c(!0);try{await ve.submitContactForm(i)&&(m(!0),e({title:"تم إرسال رسالتك بنجاح",description:"سنتواصل معك قريباً، شكراً لتواصلك معنا"}),o({name:"",email:"",phone:"",subject:"",message:""}))}catch(f){console.error("Error submitting contact form:",f),e({variant:"destructive",title:"خطأ في الإرسال",description:"حدث خطأ أثناء إرسال رسالتك، الرجاء المحاولة مرة أخرى"})}finally{c(!1)}};if(d)return t.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center px-4",dir:"rtl",children:t.jsx(K.div,{className:"max-w-2xl mx-auto text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,type:"spring"},children:t.jsxs("div",{className:"bg-white rounded-3xl p-12 shadow-2xl border border-success-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-roman-500"}),t.jsx(K.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,duration:.5,type:"spring"},children:t.jsx(Be,{className:"h-20 w-20 text-green-500 mx-auto mb-6"})}),t.jsx("h2",{className:"text-3xl font-bold text-neutral-900 mb-4",children:"تم إرسال رسالتك بنجاح!"}),t.jsx("p",{className:"text-neutral-900 mb-8 text-lg leading-relaxed",children:"شكراً لتواصلك معنا. سنتواصل معك عبر البريد الإلكتروني أو الهاتف خلال 24-48 ساعة."}),t.jsx(z,{onClick:()=>m(!1),className:"bg-roman-500 hover:bg-roman-500/90 text-white px-8 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"إرسال رسالة أخرى"})]})})});const v=[{title:"الجودة والإتقان",description:"نؤمن بأن كل قطعة يدوية تحمل روح صانعها ولمسة الإبداع الحقيقي",icon:_l,color:"roman-500"},{title:"دعم الحرفيين",description:"نوفر منصة عادلة تمكن الحرفيين من عرض إبداعاتهم والوصول لجمهور أوسع",icon:Hn,color:"roman-500"},{title:"الأصالة والتراث",description:"نحافظ على التراث المصري العريق ونقدمه بثوب عصري يناسب الأجيال الجديدة",icon:_n,color:"warning-500"}],w=[{title:"منتجات يدوية أصلية 100%",icon:ua,color:"roman-500"},{title:"جودة مضمونة وحرفية عالية",icon:_l,color:"roman-500"},{title:"صنع بحب وشغف حقيقي",icon:_n,color:"warning-500"},{title:"دعم فني متواصل",icon:Js,color:"success-500"}],g=[{name:"أحمد محمد",role:"مؤسس ومدير عام",description:"خبير في التجارة الإلكترونية مع شغف بدعم الحرفيين المصريين",color:"roman-500"},{name:"فاطمة أحمد",role:"مديرة المنتجات",description:"متخصصة في تطوير المنتجات مع خلفية في الفنون والحرف اليدوية",color:"roman-500"},{name:"محمود علي",role:"مدير التكنولوجيا",description:"مطور برامج محترف يهتم بإنشاء حلول تقنية مبتكرة",color:"warning-500"}];return t.jsxs("div",{className:"min-h-screen bg-neutral-100",dir:"rtl",children:[t.jsxs("div",{className:"bg-roman-500 text-white py-20 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-darkOlive/20"}),t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full translate-y-24 -translate-x-24"}),t.jsx(K.div,{className:"container mx-auto px-4 relative z-10",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:t.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[t.jsx(K.h1,{className:"text-5xl md:text-6xl font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"من نحن"}),t.jsxs(K.p,{className:"text-xl md:text-2xl text-white/90 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:["منصة ",t.jsxs("span",{className:"inline-flex items-center gap-2 font-bold text-neutral-100",children:[t.jsx("img",{src:"/Asset_12.svg",alt:"بازار Logo",className:"h-8 w-8 object-contain inline"}),"بازار"]})," هي المكان الذي يجمع بين الحرفيين المبدعين والعملاء الباحثين عن الأصالة والجودة. نؤمن بقوة الإبداع اليدوي ونسعى لإحياء التراث المصري العريق في ثوب عصري جديد."]})]})})]}),t.jsxs("div",{className:"container mx-auto px-4 py-16",children:[t.jsxs(K.div,{className:"grid grid-cols-1 xl:grid-cols-2 gap-12 mb-24",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[t.jsx(K.div,{whileHover:{y:-5},transition:{duration:.3},children:t.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-success-200 relative overflow-hidden h-full",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-success-200 rounded-full -translate-y-16 translate-x-16"}),t.jsxs("div",{className:"relative z-10 text-center",children:[t.jsx("div",{className:"bg-roman-500 p-4 rounded-2xl w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-lg",children:t.jsx(en,{className:"h-10 w-10 text-white"})}),t.jsx("h3",{className:"text-3xl font-bold text-neutral-900 mb-6",children:"رؤيتنا"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed text-lg",children:"أن نكون المنصة الرائدة في الشرق الأوسط لتسويق المنتجات اليدوية والحرف التراثية، ونصبح الجسر الذي يربط بين الماضي العريق والحاضر المبدع."})]})]})}),t.jsx(K.div,{whileHover:{y:-5},transition:{duration:.3},children:t.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-success-200 relative overflow-hidden h-full",children:[t.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-neutral-100 rounded-full -translate-y-16 -translate-x-16"}),t.jsxs("div",{className:"relative z-10 text-center",children:[t.jsx("div",{className:"bg-roman-500 p-4 rounded-2xl w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-lg",children:t.jsx(w6,{className:"h-10 w-10 text-white"})}),t.jsx("h3",{className:"text-3xl font-bold text-neutral-900 mb-6",children:"مهمتنا"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed text-lg",children:"تمكين الحرفيين المصريين من عرض وبيع منتجاتهم اليدوية الفريدة، وتوفير تجربة تسوق مميزة للعملاء الذين يقدرون الفن والإبداع الحقيقي."})]})]})})]}),t.jsxs(K.div,{className:"mb-24",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h3",{className:"text-4xl font-bold text-neutral-900 mb-4",children:"إنجازاتنا بالأرقام"}),t.jsx("p",{className:"text-xl text-neutral-700",children:"أرقام تعكس ثقة عملائنا وشركائنا"})]}),t.jsx("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-success-200",children:t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((y,f)=>t.jsx(K.div,{className:"text-center group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*f},whileHover:{y:-5},children:t.jsxs("div",{className:"bg-neutral-100 rounded-2xl p-6 shadow-lg group-hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:`bg-${f%2===0,"roman-500"} rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg`,children:t.jsx(y.icon,{className:"h-8 w-8 text-white"})}),t.jsx("div",{className:`text-3xl font-bold text-${f%2===0,"roman-500"} mb-2`,children:r?t.jsx("div",{className:"animate-pulse bg-success-200 h-8 w-16 mx-auto rounded"}):y.number}),t.jsx("div",{className:"text-neutral-700 font-medium",children:y.label})]})},f))})})]}),t.jsxs(K.div,{className:"mb-24",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h3",{className:"text-4xl font-bold text-neutral-900 mb-4",children:"قيمنا ومبادئنا"}),t.jsx("p",{className:"text-xl text-neutral-700",children:"المبادئ التي توجه عملنا وتحدد هويتنا"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:v.map((y,f)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2*f},whileHover:{y:-5},children:t.jsx(J,{className:"h-full border-2 border-success-200 hover:border-roman-500/50 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:t.jsxs(Q,{className:"p-8 text-center",children:[t.jsx("div",{className:`bg-${y.color} p-4 rounded-2xl w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-lg`,children:t.jsx(y.icon,{className:"h-10 w-10 text-white"})}),t.jsx("h4",{className:"text-xl font-bold text-neutral-900 mb-4",children:y.title}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:y.description})]})})},f))})]}),t.jsxs(K.div,{className:"mb-24",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h3",{className:"text-4xl font-bold text-neutral-900 mb-4",children:"شغفنا بالفن والإبداع"}),t.jsx("p",{className:"text-xl text-neutral-700",children:"ما يميزنا ويجعلنا خيارك الأول"})]}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-12 items-center",children:[t.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-success-200",children:[t.jsx("p",{className:"text-lg text-neutral-700 leading-relaxed mb-8",children:"في بازار، نؤمن بأن كل قطعة يدوية تحكي قصة. قصة الحرفي الذي أبدعها، قصة التراث الذي تحمله، وقصة الحب والشغف الذي وُضع فيها. نحن لسنا مجرد منصة تجارية، بل مجتمع يقدر الفن الحقيقي."}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map((y,f)=>t.jsxs(K.div,{className:"flex items-center space-x-3 space-x-reverse p-4 bg-neutral-100 rounded-xl",whileHover:{x:-5},transition:{duration:.2},children:[t.jsx("div",{className:`bg-${y.color} p-2 rounded-lg`,children:t.jsx(y.icon,{className:"h-5 w-5 text-white"})}),t.jsx("span",{className:"text-neutral-900 font-medium",children:y.title})]},f))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx(K.div,{className:"bg-roman-500/20 rounded-2xl h-40 flex items-center justify-center shadow-lg",whileHover:{scale:1.05},transition:{duration:.2},children:t.jsx(ua,{className:"h-16 w-16 text-roman-500"})}),t.jsx(K.div,{className:"bg-roman-500/20 rounded-2xl h-32 flex items-center justify-center shadow-lg",whileHover:{scale:1.05},transition:{duration:.2},children:t.jsx(_n,{className:"h-12 w-12 text-roman-500"})})]}),t.jsxs("div",{className:"space-y-6 mt-8",children:[t.jsx(K.div,{className:"bg-success-400/30 rounded-2xl h-32 flex items-center justify-center shadow-lg",whileHover:{scale:1.05},transition:{duration:.2},children:t.jsx(_l,{className:"h-12 w-12 text-roman-500"})}),t.jsx(K.div,{className:"bg-neutral-100 rounded-2xl h-40 flex items-center justify-center shadow-lg",whileHover:{scale:1.05},transition:{duration:.2},children:t.jsx(Sn,{className:"h-16 w-16 text-neutral-900"})})]})]})]})]}),t.jsxs(K.div,{className:"mb-24",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h3",{className:"text-4xl font-bold text-neutral-900 mb-4",children:"فريق العمل"}),t.jsx("p",{className:"text-xl text-neutral-700",children:"الأشخاص الذين يجعلون أحلامنا حقيقة"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:g.map((y,f)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2*f},whileHover:{y:-5},children:t.jsx(J,{className:"h-full border-2 border-success-200 hover:border-roman-500/50 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:t.jsxs(Q,{className:"p-8 text-center",children:[t.jsx("div",{className:`bg-${y.color} p-4 rounded-2xl w-24 h-24 flex items-center justify-center mx-auto mb-6 shadow-lg`,children:t.jsx(Sn,{className:"h-12 w-12 text-white"})}),t.jsx("h4",{className:"text-xl font-bold text-neutral-900 mb-2",children:y.name}),t.jsx("p",{className:`text-${y.color} font-medium mb-4`,children:y.role}),t.jsx("p",{className:"text-neutral-700 text-sm leading-relaxed",children:y.description})]})})},f))})]}),t.jsxs(K.div,{className:"grid grid-cols-1 xl:grid-cols-5 gap-12 mb-24",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2},children:[t.jsx(K.div,{className:"xl:col-span-2",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:t.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-success-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-success-100 rounded-full -translate-y-16 translate-x-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h2",{className:"text-3xl font-bold text-neutral-900 mb-8 text-right",children:"معلومات التواصل"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs(K.div,{className:"flex items-center space-x-4 space-x-reverse group",whileHover:{x:-5},transition:{duration:.2},children:[t.jsx("div",{className:"bg-roman-500 p-4 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300",children:t.jsx(Gn,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{className:"text-right flex-1",children:[t.jsx("h3",{className:"font-bold text-neutral-900 mb-1 text-lg",children:"البريد الإلكتروني"}),t.jsx("p",{className:"text-roman-500 font-semibold text-left",dir:"ltr",children:"support@bazaar.com"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"نجيب على رسائلك خلال 24 ساعة"})]})]}),t.jsxs(K.div,{className:"flex items-center space-x-4 space-x-reverse group",whileHover:{x:-5},transition:{duration:.2},children:[t.jsx("div",{className:"bg-warning-500 p-4 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300",children:t.jsx(Dt,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{className:"text-right flex-1",children:[t.jsx("h3",{className:"font-bold text-neutral-900 mb-1 text-lg",children:"رقم الهاتف"}),t.jsx("p",{className:"text-warning-500 font-semibold text-left",dir:"ltr",children:"+20 123 456 7890"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"من السبت إلى الخميس: 9 ص - 6 م"})]})]}),t.jsxs(K.div,{className:"flex items-center space-x-4 space-x-reverse group",whileHover:{x:-5},transition:{duration:.2},children:[t.jsx("div",{className:"bg-roman-500 p-4 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300",children:t.jsx(zt,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{className:"text-right flex-1",children:[t.jsx("h3",{className:"font-bold text-neutral-900 mb-1 text-lg",children:"العنوان"}),t.jsx("p",{className:"text-darkOlive font-semibold",children:"القاهرة، مصر"}),t.jsx("p",{className:"text-sm text-roman-500",children:"مقر منصة بازار للحرف اليدوية"})]})]}),t.jsxs(K.div,{className:"flex items-center space-x-4 space-x-reverse group",whileHover:{x:-5},transition:{duration:.2},children:[t.jsx("div",{className:"bg-success-500 p-4 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300",children:t.jsx(Zs,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{className:"text-right flex-1",children:[t.jsx("h3",{className:"font-bold text-neutral-900 mb-1 text-lg",children:"ساعات العمل"}),t.jsx("p",{className:"text-roman-500 font-semibold",children:"السبت - الخميس"}),t.jsx("p",{className:"text-sm text-roman-500",children:"9:00 صباحاً - 6:00 مساءً"})]})]})]}),t.jsx("div",{className:"mt-12 pt-8 border-t border-success-200",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-roman-500",children:"24"}),t.jsx("div",{className:"text-sm text-roman-500",children:"ساعة"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-roman-500",children:"99%"}),t.jsx("div",{className:"text-sm text-roman-500",children:"استجابة"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-warning-500",children:"7"}),t.jsx("div",{className:"text-sm text-roman-500",children:"أيام"})]})]})})]})]})}),t.jsx(K.div,{className:"xl:col-span-3",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-neutral-100 rounded-3xl transform rotate-1"}),t.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl border border-success-200 overflow-hidden",children:[t.jsxs("div",{className:"bg-roman-500 p-8 relative",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-darkOlive/20"}),t.jsxs("div",{className:"relative z-10 text-center",children:[t.jsx(Xt,{className:"h-12 w-12 text-white mx-auto mb-4"}),t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"أرسل لنا رسالة"}),t.jsx("p",{className:"text-white/90 text-lg",children:"نحن نتطلع لسماع أفكارك واقتراحاتك"})]})]}),t.jsx("div",{className:"p-8",children:t.jsxs("form",{onSubmit:p,className:"space-y-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[t.jsxs("label",{htmlFor:"name",className:"block text-sm font-bold text-neutral-900 mb-3 text-right flex items-center",children:[t.jsx(tt,{className:"h-4 w-4 ml-2"}),"الاسم الكامل *"]}),t.jsx(oe,{id:"name",name:"name",value:i.name,onChange:h,placeholder:"أدخل اسمك الكامل",required:!0,className:"border-2 border-success-200 focus:border-roman-500 rounded-xl px-4 py-3 text-right transition-all duration-300 hover:border-success-400",dir:"rtl"})]}),t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[t.jsxs("label",{htmlFor:"email",className:"block text-sm font-bold text-neutral-900 mb-3 text-right flex items-center",children:[t.jsx(GA,{className:"h-4 w-4 ml-2"}),"البريد الإلكتروني *"]}),t.jsx(oe,{id:"email",name:"email",type:"email",value:i.email,onChange:h,placeholder:"your@email.com",required:!0,className:"border-2 border-success-200 focus:border-roman-500 rounded-xl px-4 py-3 text-left transition-all duration-300 hover:border-success-400",dir:"ltr"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[t.jsxs("label",{htmlFor:"phone",className:"block text-sm font-bold text-neutral-900 mb-3 text-right flex items-center",children:[t.jsx(g6,{className:"h-4 w-4 ml-2"}),"رقم الهاتف"]}),t.jsx(oe,{id:"phone",name:"phone",value:i.phone,onChange:h,placeholder:"01234567890",className:"border-2 border-success-200 focus:border-roman-500 rounded-xl px-4 py-3 text-left transition-all duration-300 hover:border-success-400",dir:"ltr"})]}),t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[t.jsxs("label",{htmlFor:"subject",className:"block text-sm font-bold text-neutral-900 mb-3 text-right flex items-center",children:[t.jsx(kl,{className:"h-4 w-4 ml-2"}),"موضوع الرسالة"]}),t.jsx(oe,{id:"subject",name:"subject",value:i.subject,onChange:h,placeholder:"موضوع استفسارك",className:"border-2 border-success-200 focus:border-roman-500 rounded-xl px-4 py-3 text-right transition-all duration-300 hover:border-success-400",dir:"rtl"})]})]}),t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"relative",children:[t.jsxs("label",{htmlFor:"message",className:"block text-sm font-bold text-neutral-900 mb-3 text-right flex items-center",children:[t.jsx(un,{className:"h-4 w-4 ml-2"}),"الرسالة *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(et,{id:"message",name:"message",value:i.message,onChange:h,placeholder:"اكتب رسالتك هنا... شاركنا أفكارك واقتراحاتك",rows:6,required:!0,className:"border-2 border-success-200 focus:border-roman-500 rounded-xl px-4 py-4 resize-none text-right transition-all duration-300 hover:border-success-400 bg-neutral-100/30 focus:bg-white",dir:"rtl"}),t.jsxs("div",{className:"absolute bottom-4 left-4 text-xs text-roman-500",children:[i.message.length," / 1000"]})]})]}),t.jsx(K.div,{className:"text-center pt-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:t.jsx(z,{type:"submit",disabled:l,className:"bg-roman-500 hover:bg-roman-600 text-white px-12 py-4 text-lg rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 disabled:transform-none disabled:hover:scale-100",children:l?t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"mr-3 h-5 w-5 animate-spin"}),"جاري الإرسال..."]}):t.jsxs(t.Fragment,{children:[t.jsx(uu,{className:"mr-3 h-5 w-5"}),"إرسال الرسالة"]})})}),t.jsx(K.p,{className:"text-sm text-roman-500 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.7},children:"* الحقول المطلوبة"})]})})]})]})})]}),t.jsxs(K.div,{className:"max-w-6xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.4},children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl font-bold text-neutral-900 mb-4",children:"الأسئلة الشائعة"}),t.jsx("p",{className:"text-xl text-neutral-900",children:"إجابات على أكثر الأسئلة شيوعاً"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsx(K.div,{whileHover:{y:-5},transition:{duration:.3},children:t.jsx(J,{className:"border-2 border-success-200 hover:border-roman-500/50 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 h-full",children:t.jsxs(Q,{className:"p-8 text-right",children:[t.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse mb-4",children:[t.jsx("div",{className:"bg-roman-500/10 p-2 rounded-lg",children:t.jsx(ze,{className:"h-5 w-5 text-roman-500"})}),t.jsx("h3",{className:"font-bold text-neutral-900 text-lg",children:"كيف يمكنني التسجيل كحرفي؟"})]}),t.jsx("p",{className:"text-neutral-900 leading-relaxed",children:"يمكنك التسجيل من خلال إنشاء حساب جديد ثم التبديل إلى وضع البائع من لوحة التحكم الخاصة بك."})]})})}),t.jsx(K.div,{whileHover:{y:-5},transition:{duration:.3},children:t.jsx(J,{className:"border-2 border-success-200 hover:border-success-400/50 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 h-full",children:t.jsxs(Q,{className:"p-8 text-right",children:[t.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse mb-4",children:[t.jsx("div",{className:"bg-success-400/20 p-2 rounded-lg",children:t.jsx(ze,{className:"h-5 w-5 text-success-500"})}),t.jsx("h3",{className:"font-bold text-neutral-900 text-lg",children:"كيف يتم ضمان جودة المنتجات؟"})]}),t.jsx("p",{className:"text-neutral-900 leading-relaxed",children:"نراجع جميع المنتجات قبل نشرها ونتابع تقييمات العملاء لضمان أعلى مستويات الجودة."})]})})}),t.jsx(K.div,{whileHover:{y:-5},transition:{duration:.3},children:t.jsx(J,{className:"border-2 border-success-200 hover:border-roman-500/50 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 h-full",children:t.jsxs(Q,{className:"p-8 text-right",children:[t.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse mb-4",children:[t.jsx("div",{className:"bg-roman-500/10 p-2 rounded-lg",children:t.jsx(ze,{className:"h-5 w-5 text-roman-500"})}),t.jsx("h3",{className:"font-bold text-neutral-900 text-lg",children:"ما هي طرق الدفع المتاحة؟"})]}),t.jsx("p",{className:"text-neutral-900 leading-relaxed",children:"نقبل الدفع عند الاستلام، التحويل البنكي، والمحافظ الإلكترونية المختلفة."})]})})}),t.jsx(K.div,{whileHover:{y:-5},transition:{duration:.3},children:t.jsx(J,{className:"border-2 border-success-200 hover:border-warning-500/50 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 h-full",children:t.jsxs(Q,{className:"p-8 text-right",children:[t.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse mb-4",children:[t.jsx("div",{className:"bg-warning-500/10 p-2 rounded-lg",children:t.jsx(ze,{className:"h-5 w-5 text-warning-500"})}),t.jsx("h3",{className:"font-bold text-neutral-900 text-lg",children:"كم يستغرق وقت التوصيل؟"})]}),t.jsx("p",{className:"text-neutral-900 leading-relaxed",children:"يختلف وقت التوصيل حسب نوع المنتج والموقع، عادة من 3-7 أيام عمل."})]})})})]})]})]})]})},Vz=()=>{const[e,s]=u.useState(null),n=a=>{s(e===a?null:a)},r=[{id:"registration",title:"سياسة التسجيل وإنشاء الحسابات",icon:Sn,content:[{subtitle:"متطلبات التسجيل",points:["يجب أن يكون عمر المستخدم 18 عاماً أو أكثر","يجب توفير بريد إلكتروني صحيح وفعال","يتطلب التحقق من البريد الإلكتروني خلال 24 ساعة","المعلومات المدخلة يجب أن تكون حقيقية ودقيقة","لا يمكن استخدام أسماء مستعارة أو هويات وهمية"]},{subtitle:"أنواع الحسابات",points:["حساب مشتري: للتصفح والشراء من المنصة","حساب بائع: لعرض وبيع المنتجات اليدوية","يمكن التبديل بين أنواع الحسابات من لوحة التحكم","حساب البائع يتطلب اشتراك شهري بعد انتهاء الفترة المجانية"]},{subtitle:"التحقق من الهوية",points:["إرسال كود مكون من 6 أرقام للبريد الإلكتروني","صلاحية الكود 15 دقيقة فقط","لا يمكن استخدام الكود أكثر من مرة واحدة","يحق للمنصة طلب وثائق إضافية للتحقق من الهوية عند الحاجة"]}]},{id:"security",title:"سياسات الأمان والحماية",icon:Js,content:[{subtitle:"حماية كلمات المرور",points:["يتم تشفير جميع كلمات المرور باستخدام تقنيات آمنة","لا يتم تخزين كلمات المرور بشكل صريح أبداً","يجب أن تحتوي كلمة المرور على 8 أحرف على الأقل","يُنصح بتضمين أرقام وأحرف خاصة في كلمة المرور"]},{subtitle:"حماية من التسلل",points:["قفل الحساب بعد 5 محاولات دخول فاشلة","إشعار فوري عبر البريد الإلكتروني عند محاولات الدخول المشبوهة","تسجيل جميع محاولات الدخول مع الوقت والتاريخ","إمكانية إلغاء جميع الجلسات النشطة عند تغيير كلمة المرور"]},{subtitle:"استرجاع كلمة المرور",points:["يتم الاسترجاع فقط عبر البريد الإلكتروني المُسجل","رمز الاسترجاع صالح لمدة 15 دقيقة فقط","لا يمكن استخدام نفس رمز الاسترجاع أكثر من مرة","إلغاء جميع الجلسات النشطة بعد تغيير كلمة المرور بنجاح"]}]},{id:"products",title:"سياسة المنتجات والبيع",icon:ze,content:[{subtitle:"متطلبات رفع المنتجات",points:["يتطلب اشتراك نشط في إحدى الباقات المدفوعة","جميع المنتجات يجب أن تكون يدوية الصنع","مراجعة جميع المنتجات قبل النشر من قبل الإدارة","يحق للإدارة رفض أي منتج لا يتوافق مع معايير المنصة","الحد الأقصى 5 صور لكل منتج"]},{subtitle:"المحتوى المحظور",points:["منتجات تحتوي على محتوى مسيء أو غير لائق","منتجات مقلدة أو منسوخة من علامات تجارية أخرى","منتجات خطيرة أو مواد محظورة قانونياً","معلومات تواصل خارجية في وصف المنتج","روابط لمواقع أو منصات أخرى"]},{subtitle:"نظام الباقات",points:["الباقة المجانية: شهر واحد عند التسجيل","إمكانية تمديد الباقة المجانية شهرين إضافيين بالدعوات","الباقة الأساسية (100 جنيه): رفع منتجات + توصيل","الباقة الاحترافية (250 جنيه): جميع المميزات + تصوير احترافي + إنشاء فعاليات","تجميد المنتجات عند انتهاء الباقة"]}]},{id:"orders",title:"سياسة الطلبات والمدفوعات",icon:Ws,content:[{subtitle:"إنشاء الطلبات",points:["يتطلب تسجيل الدخول لإنشاء طلب","يجب إدخال جميع بيانات الشحن مكتملة","رفع إثبات الدفع للطرق اليدوية (فودافون كاش، إنستاباي)","موافقة المشرف على الطلب قبل بدء التنفيذ"]},{subtitle:"حالات الطلب",points:["قيد الانتظار: بعد إنشاء الطلب مباشرة","مدفوع: بعد موافقة المشرف على إثبات الدفع","جاري التنفيذ: بعد موافقة البائع وبدء العمل","جاري التوصيل: عند استلام الدليفري للمنتج","مكتمل: عند التسليم النهائي للعميل","ملغي: عند الإلغاء من البائع أو المشرف"]},{subtitle:"نظام العربون",points:["يمكن دفع عربون من خلال المحادثة مع البائع","قيمة العربون لا تتجاوز 100% من سعر المنتج","يتم تسجيل العربون وإثبات الدفع","إمكانية دفع الرصيد المتبقي لاحقاً","لا يمكن إلغاء الطلب بعد دفع العربون إلا بموافقة البائع"]}]},{id:"messaging",title:"سياسة المراسلة والتواصل",icon:Xt,content:[{subtitle:"قواعد المحادثة",points:["المحادثات مخصصة لمناقشة تفاصيل المنتجات والطلبات فقط","منع مشاركة معلومات التواصل الخارجي (أرقام هواتف، إيميلات)","منع إرسال روابط لمواقع أو منصات أخرى","فلترة تلقائية للمحتوى غير المناسب","إمكانية الإبلاغ عن إساءة الاستخدام"]},{subtitle:"المحتوى المحظور",points:["الكلمات المسيئة أو التنمر","المحتوى الذي يحرض على العنف أو الكراهية","التهديدات أو التخويف","المحتوى الجنسي أو غير اللائق","الرسائل التجارية المزعجة (سبام)"]},{subtitle:"العقوبات",points:["تحذير أولي للمخالفات البسيطة","حظر مؤقت للمخالفات المتكررة","حظر دائم للمخالفات الجسيمة","حذف الرسائل المخالفة تلقائياً","تعليق الحساب عند الإصرار على المخالفة"]}]},{id:"reviews",title:"سياسة التقييمات والمراجعات",icon:ze,content:[{subtitle:"شروط كتابة المراجعات",points:["يتطلب إكمال الطلب بنجاح لكتابة مراجعة","مراجعة واحدة فقط لكل طلب مكتمل","يجب أن تكون المراجعة حول المنتج والخدمة فقط","منع المراجعات الشخصية أو المسيئة للبائع","مراجعة المحتوى قبل النشر"]},{subtitle:"معايير المراجعات",points:["الصدق والموضوعية في التقييم","التركيز على جودة المنتج ووقت التسليم","منع المراجعات المدفوعة أو المزيفة","إمكانية رد البائع على المراجعات","حذف المراجعات غير العادلة أو المضللة"]}]},{id:"delivery",title:"سياسة التوصيل",icon:Be,content:[{subtitle:"خدمة التوصيل",points:["موظفو التوصيل مُعتمدون من المنصة","تتبع GPS للطلبات في الوقت الفعلي","محاولتان للتوصيل خلال 3 أيام","إرفاق صور عند رفض استلام المنتج","تقييم موظف التوصيل بعد كل عملية تسليم"]},{subtitle:"مسؤوليات العميل",points:["توفير عنوان واضح ومفصل","تواجد شخص لاستلام الطلب في الوقت المحدد","فحص المنتج عند الاستلام","الإبلاغ عن أي مشاكل فوراً","احترام موظف التوصيل والتعامل بأدب"]}]},{id:"privacy",title:"سياسة الخصوصية وحماية البيانات",icon:_a,content:[{subtitle:"جمع البيانات",points:["نجمع فقط البيانات الضرورية لتشغيل الخدمة","بيانات الهوية والتواصل والعنوان","سجل المعاملات والطلبات","بيانات تحليلات الاستخدام (مجهولة الهوية)","ملفات تعريف الارتباط لتحسين التجربة"]},{subtitle:"استخدام البيانات",points:["تقديم وتحسين خدمات المنصة","معالجة الطلبات والمدفوعات","التواصل بخصوص الطلبات والحساب","منع الاحتيال وضمان الأمان","تحليلات لتطوير المنصة"]},{subtitle:"حماية البيانات",points:["تشفير جميع البيانات الحساسة","حماية متقدمة للخوادم والأنظمة","عدم مشاركة البيانات مع أطراف ثالثة دون موافقة","إمكانية حذف الحساب والبيانات","نسخ احتياطية آمنة ومشفرة"]}]},{id:"violations",title:"المخالفات والعقوبات",icon:hs,content:[{subtitle:"أنواع المخالفات",points:["انتحال الهوية أو استخدام معلومات كاذبة","محاولة الاحتيال أو التلاعب في الأسعار","رفع منتجات مخالفة أو محظورة","إساءة استخدام نظام المراسلة","التحايل على قواعد النظام"]},{subtitle:"نظام العقوبات",points:["تنبيه أولي للمخالفات البسيطة","تقييد مؤقت لبعض الميزات","تعليق الحساب لفترة محددة","حظر دائم للمخالفات الجسيمة","إحالة للسلطات في القضايا القانونية"]},{subtitle:"حق الاستئناف",points:["إمكانية الاستئناف خلال 15 يوم من العقوبة","مراجعة شاملة للحالة من قبل فريق مختص","رد خلال 7 أيام عمل من تاريخ الاستئناف","إمكانية تقديم أدلة أو توضيحات إضافية","القرار النهائي ملزم لجميع الأطراف"]}]}];return t.jsxs("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:[t.jsxs(K.div,{className:"text-center mb-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"سياسات وقوانين المنصة"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"يرجى قراءة هذه السياسات بعناية قبل استخدام منصة بازار. هذه القوانين تضمن تجربة آمنة وعادلة لجميع المستخدمين."})]}),t.jsx(K.div,{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:t.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[t.jsx(hs,{className:"h-6 w-6 text-yellow-600 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"إشعار هام"}),t.jsx("p",{className:"text-yellow-700 text-right",children:"استخدام منصة بازار يعني موافقتك على جميع الشروط والأحكام المذكورة أدناه. نحتفظ بالحق في تحديث هذه السياسات في أي وقت، وسيتم إشعارك بأي تغييرات هامة."})]})]})}),t.jsx("div",{className:"space-y-6",children:r.map((a,i)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},children:t.jsxs(J,{className:"border-neutral-200/50 shadow-md hover:shadow-lg transition-shadow",children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center justify-between cursor-pointer",onClick:()=>n(a.id),children:[t.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[t.jsx("div",{className:"bg-roman-500/10 rounded-lg p-2",children:t.jsx(a.icon,{className:"h-6 w-6 text-roman-500"})}),t.jsx("span",{className:"text-xl font-bold text-gray-800",children:a.title})]}),e===a.id?t.jsx(d1,{className:"h-5 w-5 text-gray-500"}):t.jsx(Kx,{className:"h-5 w-5 text-gray-500"})]})}),e===a.id&&t.jsx(Q,{className:"space-y-6",children:a.content.map((o,l)=>t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-2",children:o.subtitle}),t.jsx("ul",{className:"space-y-3",children:o.points.map((c,d)=>t.jsxs("li",{className:"flex items-start space-x-3 space-x-reverse",children:[t.jsx(Be,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700 text-right",children:c})]},d))})]},l))})]})},a.id))}),t.jsxs(K.div,{className:"mt-12 bg-gradient-to-r from-roman-500/5 to-warning-500/5 rounded-2xl p-8 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:[t.jsx(o6,{className:"h-12 w-12 text-roman-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"لديك استفسار حول السياسات؟"}),t.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"إذا كان لديك أي استفسار حول هذه السياسات أو تحتاج إلى توضيح أي نقطة، لا تتردد في التواصل مع فريق الدعم الفني."}),t.jsxs(z,{className:"bg-roman-500 hover:bg-roman-500/90 text-white px-8 py-3",onClick:()=>window.location.href="/about-us",children:[t.jsx(Xt,{className:"ml-2 h-5 w-5"}),"تواصل معنا"]})]}),t.jsx(K.div,{className:"text-center mt-8 text-gray-500",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},children:t.jsxs("p",{children:["آخر تحديث: ",new Date().toLocaleDateString("ar-EG")]})})]})},N4=6048e5,Uz=864e5,Zj=Symbol.for("constructDateFrom");function Ma(e,s){return typeof e=="function"?e(s):e&&typeof e=="object"&&Zj in e?e[Zj](s):e instanceof Date?new e.constructor(s):new Date(s)}function Qn(e,s){return Ma(s||e,e)}let Bz={};function Rh(){return Bz}function mc(e,s){var l,c,d,m;const n=Rh(),r=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,a=Qn(e,s==null?void 0:s.in),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Au(e,s){return mc(e,{...s,weekStartsOn:1})}function S4(e,s){const n=Qn(e,s==null?void 0:s.in),r=n.getFullYear(),a=Ma(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=Au(a),o=Ma(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Au(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function eb(e){const s=Qn(e),n=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return n.setUTCFullYear(s.getFullYear()),+e-+n}function Wz(e,...s){const n=Ma.bind(null,e||s.find(r=>typeof r=="object"));return s.map(n)}function tb(e,s){const n=Qn(e,s==null?void 0:s.in);return n.setHours(0,0,0,0),n}function Hz(e,s,n){const[r,a]=Wz(n==null?void 0:n.in,e,s),i=tb(r),o=tb(a),l=+i-eb(i),c=+o-eb(o);return Math.round((l-c)/Uz)}function qz(e,s){const n=S4(e,s),r=Ma((s==null?void 0:s.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Au(r)}function Gz(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Kz(e){return!(!Gz(e)&&typeof e!="number"||isNaN(+Qn(e)))}function Yz(e,s){const n=Qn(e,s==null?void 0:s.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Xz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jz=(e,s,n)=>{let r;const a=Xz[e];return typeof a=="string"?r=a:s===1?r=a.one:r=a.other.replace("{{count}}",s.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ho(e){return(s={})=>{const n=s.width?String(s.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Qz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tV={date:ho({formats:Qz,defaultWidth:"full"}),time:ho({formats:Zz,defaultWidth:"full"}),dateTime:ho({formats:eV,defaultWidth:"full"})},sV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nV=(e,s,n,r)=>sV[e];function ir(e){return(s,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(s):s;return a[i]}}const rV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dV=(e,s)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uV={ordinalNumber:dV,era:ir({values:rV,defaultWidth:"wide"}),quarter:ir({values:aV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ir({values:iV,defaultWidth:"wide"}),day:ir({values:oV,defaultWidth:"wide"}),dayPeriod:ir({values:lV,defaultWidth:"wide",formattingValues:cV,defaultFormattingWidth:"wide"})};function or(e){return(s,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=s.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mV(l,h=>h.test(o)):hV(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const m=s.slice(o.length);return{value:d,rest:m}}}function hV(e,s){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s(e[n]))return n}function mV(e,s){for(let n=0;n<e.length;n++)if(s(e[n]))return n}function C4(e){return(s,n={})=>{const r=s.match(e.matchPattern);if(!r)return null;const a=r[0],i=s.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=s.slice(a.length);return{value:o,rest:l}}}const fV=/^(\d+)(th|st|nd|rd)?/i,pV=/\d+/i,xV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gV={any:[/^b/i,/^(a|c)/i]},vV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yV={any:[/1/i,/2/i,/3/i,/4/i]},jV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_V={ordinalNumber:C4({matchPattern:fV,parsePattern:pV,valueCallback:e=>parseInt(e,10)}),era:or({matchPatterns:xV,defaultMatchWidth:"wide",parsePatterns:gV,defaultParseWidth:"any"}),quarter:or({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:yV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:or({matchPatterns:jV,defaultMatchWidth:"wide",parsePatterns:bV,defaultParseWidth:"any"}),day:or({matchPatterns:wV,defaultMatchWidth:"wide",parsePatterns:NV,defaultParseWidth:"any"}),dayPeriod:or({matchPatterns:SV,defaultMatchWidth:"any",parsePatterns:CV,defaultParseWidth:"any"})},kV={code:"en-US",formatDistance:Jz,formatLong:tV,formatRelative:nV,localize:uV,match:_V,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PV(e,s){const n=Qn(e,s==null?void 0:s.in);return Hz(n,Yz(n))+1}function EV(e,s){const n=Qn(e,s==null?void 0:s.in),r=+Au(n)-+qz(n);return Math.round(r/N4)+1}function _4(e,s){var m,h,p,v;const n=Qn(e,s==null?void 0:s.in),r=n.getFullYear(),a=Rh(),i=(s==null?void 0:s.firstWeekContainsDate)??((h=(m=s==null?void 0:s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(p=a.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=Ma((s==null?void 0:s.in)||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=mc(o,s),c=Ma((s==null?void 0:s.in)||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=mc(c,s);return+n>=+l?r+1:+n>=+d?r:r-1}function TV(e,s){var l,c,d,m;const n=Rh(),r=(s==null?void 0:s.firstWeekContainsDate)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,a=_4(e,s),i=Ma((s==null?void 0:s.in)||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),mc(i,s)}function AV(e,s){const n=Qn(e,s==null?void 0:s.in),r=+mc(n,s)-+TV(n,s);return Math.round(r/N4)+1}function ot(e,s){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(s,"0");return n+r}const Xr={y(e,s){const n=e.getFullYear(),r=n>0?n:1-n;return ot(s==="yy"?r%100:r,s.length)},M(e,s){const n=e.getMonth();return s==="M"?String(n+1):ot(n+1,2)},d(e,s){return ot(e.getDate(),s.length)},a(e,s){const n=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,s){return ot(e.getHours()%12||12,s.length)},H(e,s){return ot(e.getHours(),s.length)},m(e,s){return ot(e.getMinutes(),s.length)},s(e,s){return ot(e.getSeconds(),s.length)},S(e,s){const n=s.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return ot(a,s.length)}},Li={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sb={G:function(e,s,n){const r=e.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,s,n){if(s==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Xr.y(e,s)},Y:function(e,s,n,r){const a=_4(e,r),i=a>0?a:1-a;if(s==="YY"){const o=i%100;return ot(o,2)}return s==="Yo"?n.ordinalNumber(i,{unit:"year"}):ot(i,s.length)},R:function(e,s){const n=S4(e);return ot(n,s.length)},u:function(e,s){const n=e.getFullYear();return ot(n,s.length)},Q:function(e,s,n){const r=Math.ceil((e.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,s,n){const r=Math.ceil((e.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,s,n){const r=e.getMonth();switch(s){case"M":case"MM":return Xr.M(e,s);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,s,n){const r=e.getMonth();switch(s){case"L":return String(r+1);case"LL":return ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,s,n,r){const a=AV(e,r);return s==="wo"?n.ordinalNumber(a,{unit:"week"}):ot(a,s.length)},I:function(e,s,n){const r=EV(e);return s==="Io"?n.ordinalNumber(r,{unit:"week"}):ot(r,s.length)},d:function(e,s,n){return s==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Xr.d(e,s)},D:function(e,s,n){const r=PV(e);return s==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ot(r,s.length)},E:function(e,s,n){const r=e.getDay();switch(s){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,s,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return ot(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,s,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return ot(i,s.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,s,n){const r=e.getDay(),a=r===0?7:r;switch(s){case"i":return String(a);case"ii":return ot(a,s.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,s,n){const a=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,s,n){const r=e.getHours();let a;switch(r===12?a=Li.noon:r===0?a=Li.midnight:a=r/12>=1?"pm":"am",s){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,s,n){const r=e.getHours();let a;switch(r>=17?a=Li.evening:r>=12?a=Li.afternoon:r>=4?a=Li.morning:a=Li.night,s){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,s,n){if(s==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xr.h(e,s)},H:function(e,s,n){return s==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xr.H(e,s)},K:function(e,s,n){const r=e.getHours()%12;return s==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,s.length)},k:function(e,s,n){let r=e.getHours();return r===0&&(r=24),s==="ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,s.length)},m:function(e,s,n){return s==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xr.m(e,s)},s:function(e,s,n){return s==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xr.s(e,s)},S:function(e,s){return Xr.S(e,s)},X:function(e,s,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return rb(r);case"XXXX":case"XX":return Qa(r);case"XXXXX":case"XXX":default:return Qa(r,":")}},x:function(e,s,n){const r=e.getTimezoneOffset();switch(s){case"x":return rb(r);case"xxxx":case"xx":return Qa(r);case"xxxxx":case"xxx":default:return Qa(r,":")}},O:function(e,s,n){const r=e.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+nb(r,":");case"OOOO":default:return"GMT"+Qa(r,":")}},z:function(e,s,n){const r=e.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+nb(r,":");case"zzzz":default:return"GMT"+Qa(r,":")}},t:function(e,s,n){const r=Math.trunc(+e/1e3);return ot(r,s.length)},T:function(e,s,n){return ot(+e,s.length)}};function nb(e,s=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+s+ot(i,2)}function rb(e,s){return e%60===0?(e>0?"-":"+")+ot(Math.abs(e)/60,2):Qa(e,s)}function Qa(e,s=""){const n=e>0?"-":"+",r=Math.abs(e),a=ot(Math.trunc(r/60),2),i=ot(r%60,2);return n+a+s+i}const ab=(e,s)=>{switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},k4=(e,s)=>{switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},RV=(e,s)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return ab(e,s);let i;switch(r){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",ab(r,s)).replace("{{time}}",k4(a,s))},MV={p:k4,P:RV},DV=/^D+$/,OV=/^Y+$/,$V=["D","DD","YY","YYYY"];function IV(e){return DV.test(e)}function LV(e){return OV.test(e)}function FV(e,s,n){const r=zV(e,s,n);if(console.warn(r),$V.includes(e))throw new RangeError(r)}function zV(e,s,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${s}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BV=/^'([^]*?)'?$/,WV=/''/g,HV=/[a-zA-Z]/;function mo(e,s,n){var m,h,p,v,w,g,y,f;const r=Rh(),a=(n==null?void 0:n.locale)??r.locale??kV,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((f=(y=r.locale)==null?void 0:y.options)==null?void 0:f.weekStartsOn)??0,l=Qn(e,n==null?void 0:n.in);if(!Kz(l))throw new RangeError("Invalid time value");let c=s.match(UV).map(x=>{const j=x[0];if(j==="p"||j==="P"){const N=MV[j];return N(x,a.formatLong)}return x}).join("").match(VV).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const j=x[0];if(j==="'")return{isToken:!1,value:qV(x)};if(sb[j])return{isToken:!0,value:x};if(j.match(HV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const j=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&LV(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&IV(j))&&FV(j,s,String(e));const N=sb[j[0]];return N(l,j,a.localize,d)}).join("")}function qV(e){const s=e.match(BV);return s?s[1].replace(WV,"'"):e}const GV={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},KV=(e,s,n)=>{const r=GV[e];let a;return typeof r=="string"?a=r:s===1?a=r.one:s===2?a=r.two:s<=10?a=r.threeToTen.replace("{{count}}",String(s)):a=r.other.replace("{{count}}",String(s)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"خلال "+a:"منذ "+a:a},YV={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},XV={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},JV={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QV={date:ho({formats:YV,defaultWidth:"full"}),time:ho({formats:XV,defaultWidth:"full"}),dateTime:ho({formats:JV,defaultWidth:"full"})},ZV={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},eU=e=>ZV[e],tU={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},sU={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},nU={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},rU={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},aU={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},iU={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},oU=e=>String(e),lU={ordinalNumber:oU,era:ir({values:tU,defaultWidth:"wide"}),quarter:ir({values:sU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ir({values:nU,defaultWidth:"wide"}),day:ir({values:rU,defaultWidth:"wide"}),dayPeriod:ir({values:aU,defaultWidth:"wide",formattingValues:iU,defaultFormattingWidth:"wide"})},cU=/^(\d+)(th|st|nd|rd)?/i,dU=/\d+/i,uU={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},hU={any:[/قبل/,/بعد/]},mU={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},fU={any:[/1/i,/2/i,/3/i,/4/i]},pU={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},xU={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},gU={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},vU={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},yU={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},jU={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},bU={ordinalNumber:C4({matchPattern:cU,parsePattern:dU,valueCallback:e=>parseInt(e,10)}),era:or({matchPatterns:uU,defaultMatchWidth:"wide",parsePatterns:hU,defaultParseWidth:"any"}),quarter:or({matchPatterns:mU,defaultMatchWidth:"wide",parsePatterns:fU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:or({matchPatterns:pU,defaultMatchWidth:"wide",parsePatterns:xU,defaultParseWidth:"any"}),day:or({matchPatterns:gU,defaultMatchWidth:"wide",parsePatterns:vU,defaultParseWidth:"any"}),dayPeriod:or({matchPatterns:yU,defaultMatchWidth:"any",parsePatterns:jU,defaultParseWidth:"any"})},fo={code:"ar",formatDistance:KV,formatLong:QV,formatRelative:eU,localize:lU,match:bU,options:{weekStartsOn:6,firstWeekContainsDate:1}},wU=()=>{const[e,s]=u.useState([]),[n,r]=u.useState(!0),[a,i]=u.useState({search:"",type:"",priority:""}),[o,l]=u.useState({current_page:1,last_page:1,total:0}),c=[{value:"info",label:"معلومات",color:"bg-success-100 text-neutral-900",icon:mi},{value:"warning",label:"تحذير",color:"bg-warning-100 text-warning-800",icon:hs},{value:"success",label:"إنجاز",color:"bg-success-200 text-success-800",icon:Be},{value:"error",label:"خطأ",color:"bg-roman-100 text-roman-700",icon:Ps}],d=[{value:"low",label:"منخفضة",color:"bg-neutral-200 text-neutral-900"},{value:"medium",label:"متوسطة",color:"bg-success-100 text-success-700"},{value:"high",label:"عالية",color:"bg-roman-100 text-roman-700"}];u.useEffect(()=>{const y=setTimeout(()=>{m(1)},500);return()=>clearTimeout(y)},[a.search]),u.useEffect(()=>{m(1)},[a.type,a.priority]),u.useEffect(()=>{o.current_page>1&&m(o.current_page)},[o.current_page]);const m=async(y=1)=>{try{r(!0);const f={...a,page:y};Object.keys(f).forEach(j=>{f[j]||delete f[j]});const x=await ve.getPublicAnnouncements(f);x.success&&(s(x.data),l(x.pagination))}catch(f){console.error("Error fetching announcements:",f)}finally{r(!1)}},h=(y,f)=>{i(x=>({...x,[y]:f})),o.current_page!==1&&l(x=>({...x,current_page:1}))},p=y=>{l(f=>({...f,current_page:y})),m(y)},v=y=>c.find(f=>f.value===y),w=y=>d.find(f=>f.value===y),g=y=>{switch(y){case"high":return"#e85856";case"medium":return"#75875b";case"low":return"#a3a3a3";default:return"#e85856"}};return t.jsxs("div",{className:"min-h-screen bg-neutral-100",children:[t.jsx("div",{className:"bg-gradient-to-r from-roman-500 to-roman-700 text-white py-16",children:t.jsxs("div",{className:"container mx-auto px-4 text-center",children:[t.jsx("h1",{className:"text-4xl font-bold mb-4",children:"الإعلانات والأخبار"}),t.jsx("p",{className:"text-xl opacity-90 text-neutral-100",children:"ابق على اطلاع بآخر الأخبار والإعلانات المهمة"})]})}),t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx(J,{className:"mb-6",children:t.jsx(Q,{className:"p-6",children:t.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[t.jsx("div",{className:"flex-1 min-w-80",children:t.jsxs("div",{className:"relative",children:[t.jsx(As,{className:"absolute right-3 top-2.5 h-5 w-5 text-neutral-400"}),t.jsx(oe,{placeholder:"البحث في الإعلانات... (العنوان والمحتوى)",value:a.search,onChange:y=>h("search",y.target.value),className:"pr-12 pl-10"}),a.search&&t.jsx("button",{onClick:()=>h("search",""),className:"absolute left-3 top-2.5 h-5 w-5 text-neutral-400 hover:text-neutral-900 transition-colors",title:"مسح البحث",children:t.jsx(st,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("select",{value:a.type,onChange:y=>h("type",y.target.value),className:"px-4 py-2 border border-neutral-300/30 rounded-md focus:ring-2 focus:ring-roman-500 focus:border-roman-500 bg-white text-neutral-900",children:[t.jsx("option",{value:"",children:"جميع الأنواع"}),c.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))]}),t.jsxs("select",{value:a.priority,onChange:y=>h("priority",y.target.value),className:"px-4 py-2 border border-neutral-300/30 rounded-md focus:ring-2 focus:ring-roman-500 focus:border-roman-500 bg-white text-neutral-900",children:[t.jsx("option",{value:"",children:"جميع الأولويات"}),d.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))]})]})]})})}),n?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-roman-500"}),t.jsx("p",{className:"mt-4 text-neutral-900",children:"جاري تحميل الإعلانات..."})]}):e.length===0?t.jsx(J,{className:"border-neutral-300/20",children:t.jsxs(Q,{className:"text-center py-12",children:[t.jsx(mi,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"لا توجد إعلانات"}),t.jsx("p",{className:"text-neutral-400",children:"لم يتم العثور على إعلانات تطابق معايير البحث"})]})}):t.jsx("div",{className:"space-y-6",children:e.map(y=>{const f=v(y.type),x=w(y.priority),j=f==null?void 0:f.icon;return t.jsx(J,{className:"hover:shadow-lg transition-shadow duration-200 border-r-4 border-neutral-300/20 bg-white/80 backdrop-blur-sm",style:{borderRightColor:g(y.priority)},children:t.jsxs(Q,{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[j&&t.jsx("div",{className:`p-2 rounded-full ${f.color}`,children:t.jsx(j,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-1",children:y.title}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(me,{className:f==null?void 0:f.color,children:f==null?void 0:f.label}),t.jsx(me,{className:x==null?void 0:x.color,children:x==null?void 0:x.label})]})]})]}),t.jsxs("div",{className:"text-sm text-neutral-400 flex items-center",children:[t.jsx(hr,{className:"h-4 w-4 ml-1 text-roman-500"}),mo(new Date(y.created_at),"dd MMMM yyyy",{locale:fo})]})]}),t.jsx("div",{className:"mb-4",children:t.jsx("p",{className:"text-neutral-900/80 leading-relaxed whitespace-pre-wrap",children:y.content})}),y.image&&t.jsx("div",{className:"mb-4",children:t.jsx("img",{src:`${y.image}`,alt:y.title,className:"max-w-full h-auto rounded-lg shadow-sm"})}),t.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-success-200",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm text-neutral-400",children:[y.creator&&t.jsxs("span",{children:["بواسطة: ",t.jsx("span",{className:"text-roman-500 font-medium",children:y.creator.name})]}),y.starts_at&&t.jsxs("span",{children:["يبدأ: ",mo(new Date(y.starts_at),"dd/MM/yyyy",{locale:fo})]}),y.ends_at&&t.jsxs("span",{children:["ينتهي: ",mo(new Date(y.ends_at),"dd/MM/yyyy",{locale:fo})]})]})})]})},y.id)})}),o.last_page>1&&t.jsx("div",{className:"flex justify-center mt-8",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(z,{variant:"outline",onClick:()=>p(o.current_page-1),disabled:o.current_page===1,className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:"السابق"}),Array.from({length:o.last_page},(y,f)=>f+1).map(y=>t.jsx(z,{variant:y===o.current_page?"default":"outline",onClick:()=>p(y),className:`w-10 ${y===o.current_page?"bg-roman-500 hover:bg-roman-600 text-white":"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white"}`,children:y},y)),t.jsx(z,{variant:"outline",onClick:()=>p(o.current_page+1),disabled:o.current_page===o.last_page,className:"border-roman-500 text-roman-500 hover:bg-roman-500 hover:text-white",children:"التالي"})]})}),e.length>0&&t.jsxs("div",{className:"text-center mt-6 text-sm text-neutral-400",children:["عرض ",e.length," من أصل ",o.total," إعلان"]})]})]})},NU=jc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-red-500/50 text-red-600 dark:border-red-500 [&>svg]:text-red-600 bg-red-50 dark:bg-red-950/10",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600 bg-yellow-50 dark:bg-yellow-950/10",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600 bg-green-50 dark:bg-green-950/10",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600 bg-blue-50 dark:bg-blue-950/10"}},defaultVariants:{variant:"default"}}),Mh=ce.forwardRef(({className:e,variant:s,...n},r)=>t.jsx("div",{ref:r,role:"alert",className:je(NU({variant:s}),e),...n}));Mh.displayName="Alert";const SU=ce.forwardRef(({className:e,...s},n)=>t.jsx("h5",{ref:n,className:je("mb-1 font-medium leading-none tracking-tight",e),...s}));SU.displayName="AlertTitle";const fg=ce.forwardRef(({className:e,...s},n)=>t.jsx("div",{ref:n,className:je("text-sm [&_p]:leading-relaxed",e),...s}));fg.displayName="AlertDescription";const CU=()=>{const[e,s]=u.useState({email:"",password:""}),[n,r]=u.useState(!1),[a,i]=u.useState(""),o=We();u.useEffect(()=>{const d=localStorage.getItem("delivery_token"),m=localStorage.getItem("delivery_person");d&&m&&o("/delivery/dashboard",{replace:!0})},[o]);const l=d=>{const{name:m,value:h}=d.target;s(p=>({...p,[m]:h})),a&&i("")},c=async d=>{d.preventDefault(),r(!0),i("");try{const m=await Is.login(e);m.success?(localStorage.setItem("delivery_token",m.data.token),localStorage.setItem("delivery_person",JSON.stringify(m.data.delivery_person)),Gt({title:"تم تسجيل الدخول بنجاح",description:"مرحباً بك في لوحة تحكم الدليفري"}),o("/delivery/dashboard")):i(m.message||"فشل في تسجيل الدخول")}catch(m){console.error("Login error:",m),i("حدث خطأ أثناء تسجيل الدخول")}finally{r(!1)}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-12",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:t.jsx(Wt,{className:"h-12 w-12 text-blue-600"})})}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"تسجيل دخول الدليفري"}),t.jsx("p",{className:"text-gray-600",children:"أدخل بيانات الدخول الخاصة بك"})]}),t.jsxs(J,{children:[t.jsxs(de,{children:[t.jsx(he,{className:"text-center",children:"تسجيل الدخول"}),t.jsx(nt,{className:"text-center",children:"استخدم البيانات التي أرسلت إليك عبر البريد الإلكتروني"})]}),t.jsxs(Q,{children:[a&&t.jsx(Mh,{className:"mb-4 border-red-200 bg-red-50",children:t.jsx("p",{className:"text-red-600",children:a})}),t.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"email",children:"البريد الإلكتروني"}),t.jsxs("div",{className:"relative",children:[t.jsx(oe,{id:"email",name:"email",type:"email",value:e.email,onChange:l,placeholder:"أدخل البريد الإلكتروني",className:"pr-10",required:!0,disabled:n}),t.jsx(Gn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"password",children:"كلمة المرور"}),t.jsxs("div",{className:"relative",children:[t.jsx(oe,{id:"password",name:"password",type:"password",value:e.password,onChange:l,placeholder:"أدخل كلمة المرور",className:"pr-10",required:!0,disabled:n}),t.jsx(_a,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),t.jsx(z,{type:"submit",className:"w-full",disabled:n,children:n?t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري تسجيل الدخول..."]}):"تسجيل الدخول"})]})]})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["هل نسيت كلمة المرور؟"," ",t.jsx("span",{className:"text-blue-600",children:"تواصل مع الإدارة"})]})})]})})},_U=()=>{var D,I,H;const[e,s]=u.useState(null),[n,r]=u.useState({}),[a,i]=u.useState([]),[o,l]=u.useState([]),[c,d]=u.useState(!0),[m,h]=u.useState(!1),[p,v]=u.useState(null),w=We(),g=localStorage.getItem("delivery_token");u.useEffect(()=>{if(!g){w("/delivery/login");return}y(),f(),x()},[g,w]),u.useEffect(()=>{a.length>0&&localStorage.setItem("delivery_orders",JSON.stringify(a))},[a]);const y=async()=>{try{const O=await Is.getProfile();O.success&&(s(O.data.delivery_person),r(O.data.stats),h(O.data.stats.is_available))}catch(O){if(console.error("Error fetching dashboard data:",O),O.message.includes("401")){localStorage.removeItem("delivery_token"),w("/delivery/login");return}}finally{d(!1)}},f=async()=>{try{const O=localStorage.getItem("delivery_orders"),$=await Is.myOrders();if($.success){const W=$.data;if(O)try{const G=JSON.parse(O),R=W.map(V=>{const q=G.find(T=>T.id===V.id);return q?{...V,delivery_picked_up_at:V.delivery_picked_up_at||q.delivery_picked_up_at,delivered_at:V.delivered_at||q.delivered_at}:V});i(R)}catch(G){console.error("Error parsing cached orders:",G),i(W)}else i(W)}}catch(O){console.error("Error fetching orders:",O)}},x=async()=>{try{const O=await Is.suspendedOrders();O.success&&l(O.data)}catch(O){console.error("Error fetching suspended orders:",O)}},j=async()=>{try{const O=await Is.toggleAvailability();O.success&&(h(O.data.is_available),Gt({title:"تم تحديث الحالة",description:O.message}))}catch(O){console.error("Error toggling availability:",O)}},N=async O=>{v(O);try{const $=await Is.pickupOrder(O);$.success?(Gt({title:"تم الاستلام بنجاح",description:"تم استلام الطلب من البائع بنجاح"}),i(W=>W.map(G=>G.id===O?{...G,delivery_picked_up_at:new Date().toISOString()}:G))):Gt({title:"خطأ",description:$.message||"فشل في استلام الطلب",variant:"destructive"})}catch($){console.error("Error during pickup:",$),Gt({title:"خطأ",description:"حدث خطأ أثناء استلام الطلب",variant:"destructive"})}finally{v(null)}},S=async O=>{v(O);try{const $=await Is.deliverOrder(O);$.success?(Gt({title:"تم التسليم بنجاح",description:"تم تسليم الطلب للعميل بنجاح"}),i(W=>W.map(G=>G.id===O?{...G,delivered_at:new Date().toISOString()}:G))):Gt({title:"خطأ",description:$.message||"فشل في تسليم الطلب",variant:"destructive"})}catch($){console.error("Error during delivery:",$),Gt({title:"خطأ",description:"حدث خطأ أثناء تسليم الطلب",variant:"destructive"})}finally{v(null)}},A=async()=>{try{await Is.logout()}catch(O){console.error("Logout error:",O)}finally{localStorage.removeItem("delivery_token"),localStorage.removeItem("delivery_person"),w("/delivery/login")}},C=async()=>{d(!0),await Promise.all([y(),f(),x()]),d(!1)},k=O=>O==="ready_for_delivery"?a.filter($=>$.status===O&&!$.delivery_picked_up_at):O==="out_for_delivery"?a.filter($=>($.status===O||$.status==="ready_for_delivery"&&$.delivery_picked_up_at)&&!$.delivered_at):a.filter($=>$.status===O),M=O=>{var $,W,G,R,V,q,T;return t.jsxs(J,{className:"mb-4",children:[t.jsx(de,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs(he,{className:"text-lg",children:["طلب #",O.id]}),t.jsx(nt,{children:O.status==="ready_for_delivery"?"جاهز للاستلام":"جاهز للتسليم"})]}),t.jsx(me,{variant:O.status==="ready_for_delivery"?"default":"secondary",children:O.status==="ready_for_delivery"?"استلام":"تسليم"})]})}),t.jsx(Q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"إجمالي المبلغ:"}),t.jsxs("span",{className:"font-semibold text-lg",children:[O.total_price," ج.م"]})]}),O.status==="ready_for_delivery"?t.jsxs("div",{className:"border-t pt-3",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[t.jsx(tt,{className:"h-4 w-4 mr-1"}),"معلومات البائع"]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("div",{children:["الاسم: ",(W=($=O.seller)==null?void 0:$.user)==null?void 0:W.name]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),(R=(G=O.seller)==null?void 0:G.user)==null?void 0:R.phone]})]})]}):t.jsxs("div",{className:"border-t pt-3",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[t.jsx(tt,{className:"h-4 w-4 mr-1"}),"معلومات العميل"]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("div",{children:["الاسم: ",O.customer_name||((V=O.user)==null?void 0:V.name)]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),O.customer_phone||((q=O.user)==null?void 0:q.phone)]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(zt,{className:"h-3 w-3 mr-1"}),O.delivery_address]})]})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("h4",{className:"font-medium mb-2",children:"المنتجات:"}),t.jsx("div",{className:"space-y-1",children:(T=O.items)==null?void 0:T.map((U,se)=>{var ie;return t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{children:(ie=U.product)==null?void 0:ie.title}),t.jsxs("div",{className:"text-gray-600",children:[U.quantity," × ",U.price," ج.م"]})]},se)})})]}),t.jsx("div",{className:"border-t pt-3",children:O.status==="ready_for_delivery"?t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{onClick:()=>w(`/delivery/pickup/${O.id}`),className:"flex-1",variant:"outline",children:[t.jsx(It,{className:"h-4 w-4 mr-2"}),"تفاصيل الاستلام"]}),t.jsx(z,{onClick:()=>N(O.id),disabled:p===O.id,className:"flex-1",children:p===O.id?t.jsxs(t.Fragment,{children:[t.jsx(Wn,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري الاستلام..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Be,{className:"h-4 w-4 mr-2"}),"استلام سريع"]})})]}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{onClick:()=>w(`/delivery/deliver/${O.id}`),className:"flex-1",variant:"outline",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2"}),"تفاصيل التسليم"]}),t.jsx(z,{onClick:()=>S(O.id),disabled:p===O.id,className:"flex-1",variant:"secondary",children:p===O.id?t.jsxs(t.Fragment,{children:[t.jsx(Wn,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري التسليم..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Be,{className:"h-4 w-4 mr-2"}),"تسليم سريع"]})})]})})]})})]},O.id)},P=O=>{var $,W,G;return t.jsxs(J,{className:"mb-4 border-amber-200 bg-amber-50",children:[t.jsx(de,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs(he,{className:"text-lg",children:["طلب #",O.id]}),t.jsxs(nt,{className:"text-amber-700",children:["معلق - ",O.suspension_reason]})]}),t.jsx(me,{variant:"outline",className:"border-amber-500 text-amber-700",children:"معلق"})]})}),t.jsx(Q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"إجمالي المبلغ:"}),t.jsxs("span",{className:"font-semibold text-lg",children:[O.total_price," ج.م"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"تاريخ التعليق:"}),t.jsx("span",{className:"text-sm text-gray-600",children:O.suspended_at?new Date(O.suspended_at).toLocaleString("ar-EG"):"غير محدد"})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[t.jsx(tt,{className:"h-4 w-4 mr-1"}),"معلومات العميل"]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("div",{children:["الاسم: ",O.customer_name||(($=O.user)==null?void 0:$.name)]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),O.customer_phone||((W=O.user)==null?void 0:W.phone)]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(zt,{className:"h-3 w-3 mr-1"}),O.delivery_address]})]})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("h4",{className:"font-medium mb-2 text-amber-700",children:"سبب التعليق:"}),t.jsx("p",{className:"text-sm text-gray-700 bg-amber-100 p-2 rounded",children:O.suspension_reason})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("h4",{className:"font-medium mb-2",children:"المنتجات:"}),t.jsx("div",{className:"space-y-1",children:(G=O.items)==null?void 0:G.map((R,V)=>{var q;return t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{children:(q=R.product)==null?void 0:q.title}),t.jsxs("div",{className:"text-gray-600",children:[R.quantity," × ",R.price," ج.م"]})]},V)})})]}),t.jsx("div",{className:"border-t pt-3",children:t.jsx("p",{className:"text-xs text-amber-700 bg-amber-100 p-2 rounded",children:"ℹ️ هذا الطلب تم تعليقه بسبب عدم إمكانية الوصول للعميل. سيتم التعامل معه لاحقاً من قبل الإدارة."})})]})})]},O.id)};return c?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Wt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-pulse"}),t.jsx("p",{className:"text-gray-600",children:"جاري التحميل..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wt,{className:"h-8 w-8 text-blue-600 mr-3"}),t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"لوحة تحكم الدليفري"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(z,{variant:"outline",size:"sm",onClick:C,className:"mr-2",children:[t.jsx(Wn,{className:"h-4 w-4 mr-1"}),"تحديث"]}),t.jsx(z,{variant:m?"default":"secondary",size:"sm",onClick:j,className:"mr-2",children:m?"متاح":"غير متاح"}),t.jsxs(z,{variant:"outline",size:"sm",onClick:A,children:[t.jsx(wc,{className:"h-4 w-4 mr-1"}),"تسجيل الخروج"]})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["مرحباً ",e==null?void 0:e.name]}),t.jsx("p",{className:"text-gray-600",children:"إليك ملخص أنشطة التوصيل اليوم"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[t.jsxs(J,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(he,{className:"text-sm font-medium",children:"الأرباح اليوم"}),t.jsx(bt,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(Q,{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((D=n.earnings)==null?void 0:D.today)||0," ج.م"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["من ",((I=n.earnings)==null?void 0:I.pickup_count)||0," استلام و ",((H=n.earnings)==null?void 0:H.delivery_count)||0," تسليم"]})]})]}),t.jsxs(J,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(he,{className:"text-sm font-medium",children:"في انتظار الاستلام"}),t.jsx(Zs,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(Q,{children:[t.jsx("div",{className:"text-2xl font-bold",children:k("ready_for_delivery").length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"طلبات مخصصة لي"})]})]}),t.jsxs(J,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(he,{className:"text-sm font-medium",children:"جاهز للتسليم"}),t.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(Q,{children:[t.jsx("div",{className:"text-2xl font-bold",children:k("out_for_delivery").length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"طلبات للتسليم"})]})]}),t.jsxs(J,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(he,{className:"text-sm font-medium",children:"طلبات معلقة"}),t.jsx(f1,{className:"h-4 w-4 text-amber-500"})]}),t.jsxs(Q,{children:[t.jsx("div",{className:"text-2xl font-bold",children:o.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"لم يتم الوصول للعميل"})]})]})]}),t.jsxs(zo,{defaultValue:"pickup",className:"space-y-4",children:[t.jsxs(ki,{className:"grid w-full grid-cols-3",children:[t.jsxs(Kt,{value:"pickup",children:["طلبات الاستلام (",k("ready_for_delivery").length,")"]}),t.jsxs(Kt,{value:"delivery",children:["طلبات التسليم (",k("out_for_delivery").length,")"]}),t.jsxs(Kt,{value:"suspended",children:["طلبات معلقة (",o.length,")"]})]}),t.jsx(_s,{value:"pickup",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:k("ready_for_delivery").length>0?k("ready_for_delivery").map(M):t.jsx(J,{className:"col-span-full",children:t.jsxs(Q,{className:"text-center py-8",children:[t.jsx(It,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"لا توجد طلبات للاستلام حالياً"}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"سيتم تعيين الطلبات من قبل الأدمن"})]})})})}),t.jsx(_s,{value:"delivery",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:k("out_for_delivery").length>0?k("out_for_delivery").map(M):t.jsx(J,{className:"col-span-full",children:t.jsxs(Q,{className:"text-center py-8",children:[t.jsx(Wt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"لا توجد طلبات للتسليم حالياً"}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"اكمل استلام الطلبات أولاً"})]})})})}),t.jsx(_s,{value:"suspended",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.length>0?o.map(P):t.jsx(J,{className:"col-span-full",children:t.jsxs(Q,{className:"text-center py-8",children:[t.jsx(Zs,{className:"h-12 w-12 text-amber-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"لا توجد طلبات معلقة"}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"الطلبات المعلقة ستظهر هنا عند تعليقها"})]})})})})]})]})]})},kU=()=>{var v,w,g,y,f,x,j,N,S;const{orderId:e}=Fa(),s=We(),[n,r]=u.useState(null),[a,i]=u.useState(!0),[o,l]=u.useState(!1),[c,d]=u.useState(""),m=localStorage.getItem("delivery_token");u.useEffect(()=>{if(!m){s("/delivery/login");return}h()},[e,m,s]);const h=async()=>{try{const A=await Is.getOrderDetails(e);A.success?r(A.data):d(A.message||"حدث خطأ أثناء جلب تفاصيل الطلب")}catch(A){if(console.error("Error fetching order details:",A),A.message.includes("401")){localStorage.removeItem("delivery_token"),s("/delivery/login");return}d("حدث خطأ أثناء جلب تفاصيل الطلب")}finally{i(!1)}},p=async()=>{l(!0),d("");try{const A=await Is.pickupOrder(e);A.success?(Gt({title:"تم الاستلام بنجاح",description:"تم استلام الطلب من البائع بنجاح"}),s("/delivery/dashboard")):d(A.message||"فشل في استلام الطلب")}catch(A){console.error("Error during pickup:",A),d("حدث خطأ أثناء استلام الطلب")}finally{l(!1)}};return a?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(It,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-pulse"}),t.jsx("p",{className:"text-gray-600",children:"جاري تحميل تفاصيل الطلب..."})]})}):c&&!n?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx(J,{className:"w-full max-w-md",children:t.jsxs(Q,{className:"text-center py-8",children:[t.jsx("p",{className:"text-red-600 mb-4",children:c}),t.jsx(z,{onClick:()=>s("/delivery/dashboard"),children:"العودة للوحة التحكم"})]})})}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center h-16",children:[t.jsxs(z,{variant:"ghost",onClick:()=>s("/delivery/dashboard"),className:"mr-4",children:[t.jsx(An,{className:"h-4 w-4 mr-1"}),"العودة"]}),t.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:["استلام الطلب #",e]})]})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(It,{className:"h-5 w-5 mr-2"}),"تفاصيل الطلب"]})}),t.jsxs(Q,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"رقم الطلب:"}),t.jsxs("span",{className:"font-semibold",children:["#",n==null?void 0:n.id]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"الحالة:"}),t.jsx(me,{variant:"outline",children:(n==null?void 0:n.status)==="ready_for_delivery"?"جاهز للاستلام":n==null?void 0:n.status})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"إجمالي المبلغ:"}),t.jsxs("span",{className:"font-semibold text-lg",children:[n==null?void 0:n.total_price," ج.م"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"موعد الاستلام:"}),t.jsx("span",{className:"text-sm",children:n!=null&&n.delivery_scheduled_at?new Date(n.delivery_scheduled_at).toLocaleString("ar-EG"):"غير محدد"})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"font-medium mb-3",children:"المنتجات:"}),t.jsx("div",{className:"space-y-2",children:(v=n==null?void 0:n.items)==null?void 0:v.map((A,C)=>{var k;return t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm",children:(k=A.product)==null?void 0:k.title}),t.jsxs("div",{className:"text-sm text-gray-600",children:[A.quantity," × ",A.price," ج.م"]})]},C)})})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(tt,{className:"h-5 w-5 mr-2"}),"معلومات البائع"]})}),t.jsxs(Q,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"الاسم:"}),t.jsx("span",{children:(g=(w=n==null?void 0:n.seller)==null?void 0:w.user)==null?void 0:g.name})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"رقم الهاتف:"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 mr-1"}),t.jsx("span",{children:(f=(y=n==null?void 0:n.seller)==null?void 0:y.user)==null?void 0:f.phone})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"البريد الإلكتروني:"}),t.jsx("span",{className:"text-sm",children:(j=(x=n==null?void 0:n.seller)==null?void 0:x.user)==null?void 0:j.email})]}),(n==null?void 0:n.seller_address)&&t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"عنوان الاستلام:"}),t.jsxs("div",{className:"flex items-start text-right max-w-[60%]",children:[t.jsx(zt,{className:"h-4 w-4 mr-1 mt-0.5"}),t.jsx("span",{className:"text-sm",children:n.seller_address})]})]})]})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(tt,{className:"h-5 w-5 mr-2"}),"معلومات العميل"]})}),t.jsxs(Q,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"الاسم:"}),t.jsx("span",{children:(n==null?void 0:n.customer_name)||((N=n==null?void 0:n.user)==null?void 0:N.name)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"رقم الهاتف:"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 mr-1"}),t.jsx("span",{children:(n==null?void 0:n.customer_phone)||((S=n==null?void 0:n.user)==null?void 0:S.phone)})]})]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"عنوان التسليم:"}),t.jsxs("div",{className:"flex items-start text-right",children:[t.jsx(zt,{className:"h-4 w-4 mr-1 mt-0.5"}),t.jsx("span",{className:"text-sm",children:n==null?void 0:n.delivery_address})]})]})]})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(Be,{className:"h-5 w-5 mr-2"}),"تأكيد الاستلام"]})}),t.jsxs(Q,{children:[c&&t.jsx(Mh,{className:"mb-4",children:t.jsx(fg,{className:"text-red-600",children:c})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"تأكد من استلام جميع المنتجات من البائع قبل النقر على زر الاستلام"}),t.jsx(z,{onClick:p,disabled:o||(n==null?void 0:n.status)!=="ready_for_delivery",className:"w-full",size:"lg",children:o?t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري الاستلام..."]}):t.jsxs(t.Fragment,{children:[t.jsx(It,{className:"h-4 w-4 mr-2"}),"تأكيد استلام الطلب"]})}),(n==null?void 0:n.status)!=="ready_for_delivery"&&t.jsx("p",{className:"text-sm text-amber-600 text-center",children:"هذا الطلب غير جاهز للاستلام حالياً"})]})]})]})]})]})})]})},PU=()=>{var x,j,N,S,A,C,k,M;const{orderId:e}=Fa(),s=We(),[n,r]=u.useState(null),[a,i]=u.useState(!0),[o,l]=u.useState(!1),[c,d]=u.useState(!1),[m,h]=u.useState(""),[p,v]=u.useState(""),w=localStorage.getItem("delivery_token");u.useEffect(()=>{if(!w){s("/delivery/login");return}g()},[e,w,s]);const g=async()=>{try{const P=await Is.getOrderDetails(e);P.success?r(P.data):h(P.message||"حدث خطأ أثناء جلب تفاصيل الطلب")}catch(P){if(console.error("Error fetching order details:",P),P.message.includes("401")){localStorage.removeItem("delivery_token"),s("/delivery/login");return}h("حدث خطأ أثناء جلب تفاصيل الطلب")}finally{i(!1)}},y=async()=>{l(!0),h("");try{const P=await Is.deliverOrder(e);if(P.success){Gt({title:"تم التسليم بنجاح",description:"تم تسليم الطلب للعميل بنجاح"});try{const I=JSON.parse(localStorage.getItem("delivery_orders")||"[]").map(H=>H.id===parseInt(e)?{...H,delivered_at:new Date().toISOString()}:H);localStorage.setItem("delivery_orders",JSON.stringify(I))}catch(D){console.error("Error updating local orders:",D)}s("/delivery/dashboard")}else h(P.message||"فشل في تسليم الطلب")}catch(P){console.error("Error during delivery:",P),h("حدث خطأ أثناء تسليم الطلب")}finally{l(!1)}},f=async()=>{if(!p.trim()){h("يجب إدخال سبب تعليق الطلب");return}d(!0),h("");try{const P=await Is.suspendOrder(e,{reason:p});P.success?(Gt({title:"تم تعليق الطلب",description:"تم تعليق الطلب بسبب عدم إمكانية الوصول للعميل",variant:"default"}),s("/delivery/dashboard")):h(P.message||"فشل في تعليق الطلب")}catch(P){console.error("Error during suspension:",P),h("حدث خطأ أثناء تعليق الطلب")}finally{d(!1)}};return a?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Wt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-pulse"}),t.jsx("p",{className:"text-gray-600",children:"جاري تحميل تفاصيل الطلب..."})]})}):m&&!n?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx(J,{className:"w-full max-w-md",children:t.jsxs(Q,{className:"text-center py-8",children:[t.jsx("p",{className:"text-red-600 mb-4",children:m}),t.jsx(z,{onClick:()=>s("/delivery/dashboard"),children:"العودة للوحة التحكم"})]})})}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center h-16",children:[t.jsxs(z,{variant:"ghost",onClick:()=>s("/delivery/dashboard"),className:"mr-4",children:[t.jsx(An,{className:"h-4 w-4 mr-1"}),"العودة"]}),t.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:["تسليم الطلب #",e]})]})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(It,{className:"h-5 w-5 mr-2"}),"تفاصيل الطلب"]})}),t.jsxs(Q,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"رقم الطلب:"}),t.jsxs("span",{className:"font-semibold",children:["#",n==null?void 0:n.id]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"الحالة:"}),t.jsx(me,{variant:"outline",children:(n==null?void 0:n.status)==="out_for_delivery"?"قيد التوصيل":n==null?void 0:n.status})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"إجمالي المبلغ:"}),t.jsxs("span",{className:"font-semibold text-lg",children:[n==null?void 0:n.total_price," ج.م"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"وقت الاستلام:"}),t.jsx("span",{className:"text-sm",children:n!=null&&n.delivery_picked_up_at?new Date(n.delivery_picked_up_at).toLocaleString("ar-EG"):"غير محدد"})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h4",{className:"font-medium mb-3",children:"المنتجات:"}),t.jsx("div",{className:"space-y-2",children:(x=n==null?void 0:n.items)==null?void 0:x.map((P,D)=>{var I;return t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm",children:(I=P.product)==null?void 0:I.title}),t.jsxs("div",{className:"text-sm text-gray-600",children:[P.quantity," × ",P.price," ج.م"]})]},D)})})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(tt,{className:"h-5 w-5 mr-2"}),"معلومات العميل"]})}),t.jsxs(Q,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"الاسم:"}),t.jsx("span",{children:(n==null?void 0:n.customer_name)||((j=n==null?void 0:n.user)==null?void 0:j.name)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"رقم الهاتف:"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 mr-1"}),t.jsx("span",{children:(n==null?void 0:n.customer_phone)||((N=n==null?void 0:n.user)==null?void 0:N.phone)})]})]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"عنوان التسليم:"}),t.jsxs("div",{className:"flex items-start text-right",children:[t.jsx(zt,{className:"h-4 w-4 mr-1 mt-0.5"}),t.jsx("span",{className:"text-sm",children:n==null?void 0:n.delivery_address})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"البريد الإلكتروني:"}),t.jsx("span",{className:"text-sm",children:(S=n==null?void 0:n.user)==null?void 0:S.email})]})]})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(tt,{className:"h-5 w-5 mr-2"}),"معلومات البائع"]})}),t.jsxs(Q,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"الاسم:"}),t.jsx("span",{children:(C=(A=n==null?void 0:n.seller)==null?void 0:A.user)==null?void 0:C.name})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"رقم الهاتف:"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 mr-1"}),t.jsx("span",{children:(M=(k=n==null?void 0:n.seller)==null?void 0:k.user)==null?void 0:M.phone})]})]})]})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(Be,{className:"h-5 w-5 mr-2"}),"إجراءات التسليم"]})}),t.jsxs(Q,{children:[m&&t.jsx(Mh,{className:"mb-4",children:t.jsx(fg,{className:"text-red-600",children:m})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-green-700",children:"تأكيد التسليم الناجح"}),t.jsx("p",{className:"text-sm text-gray-600",children:"تأكد من تسليم جميع المنتجات للعميل قبل النقر على زر التسليم"}),t.jsx(z,{onClick:y,disabled:o||(n==null?void 0:n.status)!=="out_for_delivery",className:"w-full bg-green-600 hover:bg-green-700",size:"lg",children:o?t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري التسليم..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Be,{className:"h-4 w-4 mr-2"}),"تأكيد تسليم الطلب"]})})]}),t.jsx("div",{className:"border-t pt-4",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("span",{className:"text-sm text-gray-400 bg-gray-50 px-3 py-1 rounded",children:"أو"})})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-amber-700",children:"تعليق الطلب"}),t.jsx("p",{className:"text-sm text-gray-600",children:"في حالة عدم تمكنك من الوصول للعميل أو عدم استجابته"}),t.jsx(et,{placeholder:"اكتب سبب تعليق الطلب (مثل: لم يرد العميل، عنوان خاطئ، إلخ...)",value:p,onChange:P=>v(P.target.value),rows:3,className:"resize-none"}),t.jsx(z,{onClick:f,disabled:c||!p.trim()||(n==null?void 0:n.status)!=="out_for_delivery",className:"w-full bg-amber-600 hover:bg-amber-700",size:"lg",variant:"default",children:c?t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري التعليق..."]}):t.jsxs(t.Fragment,{children:[t.jsx(f1,{className:"h-4 w-4 mr-2"}),"تعليق الطلب"]})})]}),(n==null?void 0:n.status)!=="out_for_delivery"&&t.jsx("p",{className:"text-sm text-amber-600 text-center",children:"هذا الطلب غير متاح للتسليم أو التعليق حالياً"})]})]})]})]})]})})]})},EU=({title:e,value:s,icon:n,color:r,description:a,path:i})=>{const o=We(),l=()=>{i&&o(i)};return t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:l,className:i?"cursor-pointer":"",children:t.jsxs(J,{className:`border-${r}-500 border-t-4 shadow-lg hover:shadow-xl transition-all duration-300 ${i?"hover:scale-105 hover:bg-gray-50":""}`,children:[t.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(he,{className:"text-sm font-medium text-gray-600",children:e}),ce.createElement(n,{className:`h-5 w-5 text-${r}-500`})]}),t.jsxs(Q,{children:[t.jsx("div",{className:"text-3xl font-bold text-gray-800",children:s}),t.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:a})]})]})})},ib=()=>{const{user:e}=De(),[s,n]=u.useState([]);u.useEffect(()=>{e&&r()},[e]);const r=async()=>{try{const i=await ve.getNotifications();n(Array.isArray(i)?i.reverse():[])}catch{n([])}},a=(e==null?void 0:e.active_role)==="seller"?[{title:"إجمالي الأرباح",value:"12,500 جنيه",icon:bt,color:"green",description:"+15% عن الشهر الماضي",path:"/dashboard/earnings"},{title:"الطلبات الجديدة",value:"32",icon:Lt,color:"blue",description:"+5 طلبات اليوم",path:"/dashboard/orders"},{title:"إجمالي الخدمات",value:"15",icon:YA,color:"orange",description:"2 خدمة غير نشطة",path:"/dashboard/gigs"},{title:"العملاء النشطون",value:"120",icon:Sn,color:"purple",description:"متوسط تقييم 4.8",path:null}]:[{title:"إجمالي الطلبات",value:"18",icon:Lt,color:"blue",description:"3 طلبات قيد التنفيذ",path:"/dashboard/orders"},{title:"المبلغ المنفق",value:"4,200 جنيه",icon:bt,color:"green",description:"متوسط قيمة الطلب 233 جنيه",path:null},{title:"البائعون المفضلون",value:"5",icon:Sn,color:"purple",description:"تواصل معهم الآن",path:null},{title:"الرسائل غير المقروءة",value:"2",icon:un,color:"orange",description:"من ليلى حسن وكريم محمود",path:"/dashboard/messages"}];return t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsx(K.h1,{className:"text-3xl font-bold text-gray-800",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:(e==null?void 0:e.active_role)==="seller"?"نظرة عامة على أداء متجرك":"ملخص حسابك"}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:a.map((i,o)=>t.jsx(EU,{...i},o))}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.5},children:t.jsxs(J,{className:"shadow-lg",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl text-gray-700",children:"الإشعارات الأخيرة"})}),t.jsx(Q,{children:s.length===0?t.jsx("p",{className:"text-gray-500 text-center py-4",children:"لا توجد إشعارات لعرضها."}):t.jsx("ul",{className:"space-y-3",children:s.slice(0,5).map((i,o)=>t.jsx("li",{className:`p-3 rounded-lg ${i.is_read?"bg-gray-50":"bg-gray-100 font-bold"}`,children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm",children:i.message}),t.jsx("span",{className:"text-xs text-gray-400 mt-1",children:i.created_at?new Date(i.created_at).toLocaleString("ar-EG"):""})]})},i.id||o))})})]})}),t.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5},children:t.jsxs(J,{className:"shadow-lg",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl text-gray-700",children:(e==null?void 0:e.active_role)==="seller"?"الخدمات الأكثر مبيعاً":"المنتجات المفضلة"})}),t.jsxs(Q,{children:[t.jsx("p",{className:"text-gray-600",children:"هنا ستظهر قائمة بالخدمات أو المنتجات."}),t.jsxs("ul",{className:"mt-4 space-y-2",children:[t.jsx("li",{className:"p-2 bg-gray-50 rounded-md",children:"مجوهرات فضية مخصصة"}),t.jsx("li",{className:"p-2 bg-gray-50 rounded-md",children:"صناديق خشبية مزخرفة"}),t.jsx("li",{className:"p-2 bg-gray-50 rounded-md",children:"وسائد مطرزة يدوياً"})]})]})]})})]})]})},TU=({status:e,statusLabel:s})=>{const r={pending:{icon:t.jsx(Zs,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-amber-100 to-amber-50 text-amber-700 border-amber-200 shadow-sm",pulse:!0},admin_approved:{icon:t.jsx(Be,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-blue-100 to-blue-50 text-blue-700 border-blue-200 shadow-sm"},seller_approved:{icon:t.jsx(Be,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-indigo-100 to-indigo-50 text-indigo-700 border-indigo-200 shadow-sm"},in_progress:{icon:t.jsx(It,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-purple-100 to-purple-50 text-purple-700 border-purple-200 shadow-sm",pulse:!0},work_completed:{icon:t.jsx(It,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-cyan-100 to-cyan-50 text-cyan-700 border-cyan-200 shadow-sm"},out_for_delivery:{icon:t.jsx(Wt,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-orange-100 to-orange-50 text-orange-700 border-orange-200 shadow-sm",pulse:!0},delivered:{icon:t.jsx(Wt,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-green-100 to-green-50 text-green-700 border-green-200 shadow-sm"},completed:{icon:t.jsx(Be,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-emerald-100 to-emerald-50 text-emerald-700 border-emerald-200 shadow-sm"},cancelled:{icon:t.jsx(Pl,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-red-100 to-red-50 text-red-700 border-red-200 shadow-sm"},rejected:{icon:t.jsx(hs,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-red-100 to-red-50 text-red-700 border-red-200 shadow-sm"}}[e]||{icon:t.jsx(Zs,{className:"ml-1 h-3 w-3"}),className:"bg-gradient-to-r from-gray-100 to-gray-50 text-gray-700 border-gray-200 shadow-sm"};return t.jsxs(me,{variant:"outline",className:`${r.className} font-medium flex items-center px-3 py-1 text-xs relative overflow-hidden ${r.pulse?"animate-pulse":""}`,children:[r.pulse&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent animate-pulse"}),t.jsxs("span",{className:"relative flex items-center",children:[r.icon,s||e]})]})},AU=()=>{const{user:e}=De(),{toast:s}=Ke(),[n,r]=u.useState([]),[a,i]=u.useState(!0),[o,l]=u.useState(null),[c,d]=u.useState(null);u.useEffect(()=>{m()},[e]);const m=async()=>{if(e){i(!0),l(null);try{let x;e.active_role==="seller"?x=await Ss.getSellerOrders():x=await ve.getOrders({user_orders:!0}),console.log("Orders API response:",x);const j=x.data||x;r(Array.isArray(j)?j:[])}catch(x){console.error("Error loading orders:",x),l("حدث خطأ أثناء تحميل الطلبات"),s({variant:"destructive",title:"خطأ في تحميل الطلبات",description:"حدث خطأ أثناء تحميل الطلبات. يرجى المحاولة مرة أخرى."})}finally{i(!1)}}},h=async(x,j,N)=>{d(x);try{await j(),s({variant:"success",title:"نجاح",description:N}),m()}catch(S){console.error(`Error performing action on order ${x}:`,S),s({variant:"destructive",title:"خطأ",description:S.message||"حدث خطأ غير متوقع."})}finally{d(null)}},p=x=>{h(x,()=>Ss.approveOrder(x),"تمت الموافقة على الطلب بنجاح")},v=x=>{h(x,()=>Ss.startWork(x),"تم بدء العمل على الطلب")},w=x=>{h(x,()=>Ss.completeWork(x),"تم إكمال العمل على الطلب")},g=x=>{h(x,()=>ve.cancelOrder(x,"تم الإلغاء بواسطة المستخدم"),"تم إلغاء الطلب بنجاح")},y=x=>({cash_on_delivery:"الدفع عند الاستلام",bank_transfer:"تحويل بنكي",credit_card:"بطاقة ائتمان",vodafone_cash:"فودافون كاش",instapay:"انستاباي"})[x]||x,f=x=>x?new Date(x).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):"";return a?t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(e==null?void 0:e.active_role)==="seller"?"الطلبات الواردة":"طلباتي"}),t.jsx(Lt,{className:"h-8 w-8 text-primary"})]}),t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx(Wn,{className:"h-8 w-8 animate-spin text-primary"}),t.jsx("span",{className:"ml-2 text-lg",children:"جاري تحميل الطلبات..."})]})]}):o?t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(e==null?void 0:e.active_role)==="seller"?"الطلبات الواردة":"طلباتي"}),t.jsx(Lt,{className:"h-8 w-8 text-primary"})]}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx(hs,{className:"h-24 w-24 text-red-300 mx-auto mb-6"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"خطأ في تحميل الطلبات"}),t.jsx("p",{className:"text-gray-500 mb-4",children:o}),t.jsxs(z,{onClick:m,className:"bg-roman-500 hover:bg-roman-500/90",children:[t.jsx(Wn,{className:"ml-2 h-4 w-4"}),"إعادة المحاولة"]})]})]}):t.jsx("div",{className:"min-h-screen bg-gray-50 p-6 md:p-8",dir:"rtl",children:t.jsxs(K.div,{className:"max-w-7xl mx-auto space-y-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-roman-500/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-16 h-16 bg-roman-500 rounded-full flex items-center justify-center shadow-lg",children:t.jsx(Lt,{className:"h-8 w-8 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-roman-500",children:(e==null?void 0:e.active_role)==="seller"?"الطلبات الواردة":"طلباتي"}),t.jsxs("p",{className:"text-gray-600 mt-1",children:[n.length," طلب إجمالي"]})]})]}),t.jsxs(z,{onClick:m,className:"bg-roman-500 hover:bg-roman-500/90 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[t.jsx(Wn,{className:"ml-2 h-4 w-4"}),"تحديث الطلبات"]})]})}),n.length===0?t.jsxs(K.div,{className:"bg-white rounded-2xl shadow-lg p-12 text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[t.jsx(Lt,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا توجد طلبات حالياً"}),t.jsx("p",{className:"text-gray-500",children:(e==null?void 0:e.active_role)==="seller"?"لم تتلق أي طلبات جديدة بعد.":"لم تقم بأي طلبات بعد. ابدأ التصفح!"}),(e==null?void 0:e.active_role)==="buyer"&&t.jsx(z,{asChild:!0,className:"mt-6 bg-roman-500 hover:bg-roman-500/90 text-white",children:t.jsx(we,{to:"/explore",children:"استكشف المنتجات"})})]}):t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map((x,j)=>{var N,S;return t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},children:t.jsxs(J,{className:"flex flex-col h-full bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[t.jsxs(de,{className:"p-5 bg-gray-50 border-b border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(he,{className:"text-lg font-bold text-roman-500",children:["طلب رقم #",x.id]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(TU,{status:x.status,statusLabel:x.status_label}),x.price_approval_status==="pending_approval"&&t.jsxs(me,{className:"text-xs bg-yellow-100 text-yellow-700 border-yellow-300 animate-pulse",children:[t.jsx(hs,{className:"ml-1 h-3 w-3"}),"سعر مقترح"]}),(x.is_late||((N=x.time_remaining)==null?void 0:N.is_late))&&t.jsxs(me,{variant:"destructive",className:"text-xs animate-pulse",children:[t.jsx(hs,{className:"ml-1 h-3 w-3"}),"متأخر"]})]})]}),t.jsxs(nt,{className:"text-sm text-gray-500 pt-1",children:[t.jsx(hr,{className:"inline ml-1 h-3 w-3"}),f(x.order_date)]}),x.completion_deadline&&t.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[t.jsx(Zs,{className:"inline ml-1 h-3 w-3"}),"موعد الإنجاز: ",f(x.completion_deadline),x.time_remaining&&!x.time_remaining.is_late&&t.jsxs("span",{className:"text-blue-600 mr-2",children:["(متبقي: ",(()=>{let A=0;x.time_remaining.total_hours?A=Math.floor(x.time_remaining.total_hours):x.time_remaining.days&&(A=Math.floor(x.time_remaining.days*24));const C=Math.floor(A/24),k=A%24;let M="";return C>0&&(M+=`${C}د `),k>0&&(M+=`${k}س`),M||"أقل من ساعة"})(),")"]})]})]}),t.jsx(Q,{className:"p-5 flex-grow",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"border-b pb-2 mb-2",children:[t.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:(e==null?void 0:e.active_role)==="seller"?"معلومات المشتري":"معلومات البائع"}),(e==null?void 0:e.active_role)==="seller"?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(tt,{className:"ml-2 h-4 w-4 text-gray-400"}),x.customer_name]}),t.jsxs("p",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Dt,{className:"ml-2 h-4 w-4 text-gray-400"}),x.customer_phone]})]}):t.jsxs("p",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(tt,{className:"ml-2 h-4 w-4 text-gray-400"}),((S=x.seller)==null?void 0:S.name)||"غير متاح"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:"المنتجات"}),x.items.map(A=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:[A.product.title," (x",A.quantity,")"]}),t.jsxs("p",{className:"font-semibold text-gray-800",children:[A.subtotal," EGP"]})]},A.id))]}),t.jsx(dt,{}),t.jsxs("div",{className:"flex items-center justify-between font-bold text-lg",children:[t.jsx("span",{className:"text-gray-800",children:"الإجمالي"}),t.jsxs("span",{className:"text-roman-500",children:[x.total_price," EGP"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-600 flex items-center",children:[t.jsx(Ws,{className:"ml-1 h-4 w-4"})," طريقة الدفع"]}),t.jsx("span",{className:"font-semibold",children:y(x.payment_method)})]})]})}),t.jsxs(St,{className:"flex-col items-stretch gap-2 pt-4 bg-gray-50 border-t border-gray-100 p-4",children:[t.jsx("div",{className:"flex gap-2",children:t.jsx(z,{asChild:!0,variant:"outline",size:"sm",className:"flex-grow hover:bg-roman-500 hover:text-white transition-colors",children:t.jsxs(we,{to:`/orders/${x.id}`,className:"flex items-center",children:[t.jsx(en,{className:"ml-2 h-4 w-4"}),"التفاصيل"]})})}),t.jsxs("div",{className:"mt-2 space-y-2",children:[(e==null?void 0:e.active_role)==="seller"&&t.jsxs(t.Fragment,{children:[x.status==="admin_approved"&&t.jsx(z,{onClick:()=>p(x.id),disabled:c===x.id,className:"w-full bg-green-500 hover:bg-green-600 text-white",children:c===x.id?"جاري الموافقة...":"الموافقة على الطلب"}),x.status==="seller_approved"&&t.jsx(z,{onClick:()=>v(x.id),disabled:c===x.id,className:"w-full bg-blue-500 hover:bg-blue-600 text-white",children:c===x.id?"جاري البدء...":"بدء العمل"}),x.status==="in_progress"&&t.jsx(z,{onClick:()=>w(x.id),disabled:c===x.id,className:"w-full bg-purple-500 hover:bg-purple-600 text-white",children:c===x.id?"جاري الإنهاء...":"إنهاء العمل"})]}),(e==null?void 0:e.active_role)==="buyer"&&["pending","admin_approved","seller_approved","in_progress"].includes(x.status)&&t.jsx(z,{onClick:()=>g(x.id),disabled:c===x.id,variant:"destructive",className:"w-full",children:c===x.id?"جاري الإلغاء...":"إلغاء الطلب"})]})]})]})},x.id)})})]})})},RU=()=>{const{user:e}=De(),s=We(),{toast:n}=Ke(),[r,a]=u.useState([]),[i,o]=u.useState([]),[l,c]=u.useState(!0),[d,m]=u.useState(null),[h,p]=u.useState(new Set),[v,w]=u.useState("all");u.useEffect(()=>{(async()=>{if(!e||e.active_role!=="seller"){c(!1);return}try{c(!0),m(null);const x=await Ss.getSellerProducts();Array.isArray(x)?a(x):x&&Array.isArray(x.data)||x&&x.success&&Array.isArray(x.data)?a(x.data):a([])}catch(x){console.error("Error fetching seller gigs:",x),m("فشل في تحميل الخدمات. يرجى المحاولة مرة أخرى."),a([]),n({variant:"destructive",title:"خطأ في التحميل",description:"فشل في تحميل خدماتك. يرجى المحاولة مرة أخرى."})}finally{c(!1)}})()},[e,n]),u.useEffect(()=>{o(v==="all"?r:r.filter(f=>f.type===v))},[r,v]);const g=async f=>{try{p(x=>new Set([...x,f])),await Ss.deleteProduct(f),a(x=>x.filter(j=>j.id!==f)),n({title:"تم حذف الخدمة",description:"تم حذف الخدمة بنجاح."})}catch(x){console.error("Error deleting gig:",x),n({variant:"destructive",title:"خطأ في الحذف",description:x.message||"فشل في حذف الخدمة. يرجى المحاولة مرة أخرى."})}finally{p(x=>{const j=new Set(x);return j.delete(f),j})}};if((e==null?void 0:e.active_role)!=="seller")return t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للبائعين فقط."}),t.jsx(z,{onClick:()=>s("/dashboard"),className:"mt-4",children:"العودة للوحة التحكم"})]});if(l)return t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"خدماتي"}),t.jsxs(z,{disabled:!0,className:"bg-green-500",children:[t.jsx(Ar,{className:"ml-2 h-5 w-5"})," أضف خدمة جديدة"]})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin text-primary mb-4"}),t.jsx("p",{className:"text-gray-600",children:"جاري تحميل خدماتك..."})]})]});if(d)return t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"خدماتي"}),t.jsxs(z,{onClick:()=>s("/dashboard/gigs/new"),className:"bg-green-500 hover:bg-green-600",children:[t.jsx(Ar,{className:"ml-2 h-5 w-5"})," أضف خدمة جديدة"]})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(Ps,{className:"h-12 w-12 text-red-500 mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"خطأ في التحميل"}),t.jsx("p",{className:"text-gray-600 mb-4",children:d}),t.jsx(z,{onClick:()=>window.location.reload(),variant:"outline",children:"إعادة المحاولة"})]})]});const y=async()=>{if(!(!e||e.active_role!=="seller"))try{c(!0),m(null);const f=await Ss.getSellerProducts();Array.isArray(f)?a(f):f&&Array.isArray(f.data)||f&&f.success&&Array.isArray(f.data)?a(f.data):a([]),n({title:"تم تحديث الخدمات",description:"تم تحديث قائمة خدماتك بنجاح."})}catch(f){console.error("Error refreshing gigs:",f),m("فشل في تحديث الخدمات. يرجى المحاولة مرة أخرى."),n({variant:"destructive",title:"خطأ في التحديث",description:"فشل في تحديث خدماتك. يرجى المحاولة مرة أخرى."})}finally{c(!1)}};return t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:["      ",t.jsxs(K.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:["        ",t.jsx("div",{children:t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"خدماتي"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Tp,{children:[t.jsx(Ap,{asChild:!0,children:t.jsxs(z,{variant:"outline",className:"flex items-center gap-2",children:[t.jsx(Tr,{className:"h-4 w-4"}),v==="all"?"الكل":v==="gig"?"خدمات/حرف":"منتجات"]})}),t.jsxs(ku,{align:"end",children:[t.jsx(Pu,{children:"تصفية حسب النوع"}),t.jsx(Ol,{}),t.jsxs(rr,{onClick:()=>w("all"),children:["الكل ",v==="all"&&"✓"]}),t.jsxs(rr,{onClick:()=>w("gig"),children:["خدمات/حرف ",v==="gig"&&"✓"]}),t.jsxs(rr,{onClick:()=>w("product"),children:["منتجات ",v==="product"&&"✓"]})]})]}),t.jsxs(z,{onClick:y,variant:"outline",className:"flex items-center gap-2",disabled:l,children:[t.jsx(Wn,{className:`h-4 w-4 ${l?"animate-spin":""}`}),"تحديث"]}),t.jsxs(z,{onClick:()=>s("/dashboard/gigs/new"),className:"bg-green-500 hover:bg-green-600",children:[t.jsx(Ar,{className:"ml-2 h-5 w-5"})," أضف خدمة جديدة"]})]})]}),i.length===0?t.jsxs(K.div,{className:"text-center py-12",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[t.jsx(Lt,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:r.length===0?"ليس لديك خدمات معروضة بعد":"لا توجد خدمات تطابق الفلتر المحدد"}),t.jsx("p",{className:"text-gray-500",children:r.length===0?"ابدأ بإضافة خدماتك ليراها العملاء!":"اختر فلتر مختلف لعرض الخدمات المتاحة."}),r.length===0&&t.jsxs(z,{onClick:()=>s("/dashboard/gigs/new"),className:"mt-6 bg-roman-500 hover:bg-roman-500/90 text-white",children:[t.jsx(Ar,{className:"ml-2 h-4 w-4"})," أضف خدمتك الأولى"]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((f,x)=>t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},children:["              ",t.jsxs(J,{className:"shadow-lg hover:shadow-xl transition-shadow flex flex-col h-full border-neutral-300",children:[t.jsxs("div",{className:"relative h-48",children:[t.jsx("img",{src:(()=>{if(!f.images||!f.images.length)return"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea";const j=f.images[0];return typeof j=="string"?j:j&&typeof j=="object"&&j.image_url?j.image_url.startsWith("http")?j.image_url:`https://handy3.abanoubsamir.com/backend/public/storage/${j.image_url}`:j instanceof File?URL.createObjectURL(j):"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea"})(),alt:f.title,className:"w-full h-full object-cover"}),t.jsx(me,{variant:"secondary",className:"absolute top-2 right-2 bg-roman-500 text-white",children:f.category_name||f.category||"غير محدد"}),t.jsx(me,{variant:"outline",className:`absolute top-2 left-2 ${f.type==="product"?"bg-amber-100 text-amber-800 border-amber-200":"bg-blue-100 text-blue-800 border-blue-200"}`,children:f.type==="product"?"منتج":"خدمة/حرفة"})]}),t.jsxs(de,{className:"pb-2",children:[t.jsx(he,{className:"text-lg font-semibold text-gray-800 h-14 overflow-hidden",children:f.title}),t.jsxs(nt,{className:"text-sm text-primary font-bold",children:[f.price," جنيه"]})]}),t.jsx(Q,{className:"flex-grow space-y-2 text-sm",children:t.jsx("div",{className:"flex items-center text-gray-600",children:t.jsx(me,{variant:f.status==="active"?"default":"secondary",className:"text-xs",children:f.status==="active"?"نشط":f.status==="pending"?"قيد المراجعة":"غير نشط"})})}),t.jsxs(St,{className:"grid grid-cols-2 gap-2 pt-4 border-t",children:["                  ",t.jsxs(z,{variant:"outline",size:"sm",onClick:()=>s(`/dashboard/gigs/edit/${f.id}`),className:"flex items-center",children:[t.jsx(Do,{className:"ml-1 h-4 w-4"})," تعديل"]}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"destructive",size:"sm",disabled:h.has(f.id),children:[h.has(f.id)?t.jsx(Se,{className:"ml-1 h-4 w-4 animate-spin"}):t.jsx(zs,{className:"ml-1 h-4 w-4"}),"حذف"]})}),"                    ",t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"هل أنت متأكد من حذف هذه الخدمة؟"}),t.jsxs(cs,{className:"space-y-2",children:[t.jsxs("p",{children:['لا يمكن التراجع عن هذا الإجراء. سيتم حذف الخدمة "',f.title,'" نهائياً.']}),t.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md",children:[t.jsx("p",{className:"text-sm text-yellow-800",children:t.jsx("strong",{children:"سيتم حذف:"})}),t.jsxs("ul",{className:"text-sm text-yellow-700 mt-1 list-disc list-inside",children:[t.jsx("li",{children:"جميع صور الخدمة"}),t.jsx("li",{children:"تفاصيل الخدمة والوصف"}),t.jsx("li",{children:"الكلمات المفتاحية المرتبطة"})]})]})]})]}),t.jsxs(os,{children:[t.jsx(us,{disabled:h.has(f.id),children:"إلغاء"}),t.jsx(ds,{onClick:()=>g(f.id),className:"bg-destructive hover:bg-destructive/90",disabled:h.has(f.id),children:h.has(f.id)?t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري الحذف..."]}):"حذف نهائياً"})]})]})]})]})]})]},f.id))})]})},Hr=G_,gi=K_,MU=Y_,P4=ce.forwardRef(({className:e,...s},n)=>t.jsx(ig,{ref:n,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));P4.displayName=ig.displayName;const fr=ce.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(MU,{children:[t.jsx(P4,{}),t.jsxs(og,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg mb-16 md:mb-0",e),...n,children:[s,t.jsxs(dg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(st,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fr.displayName=og.displayName;const pr=({className:e,...s})=>t.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-right",e),...s});pr.displayName="DialogHeader";const Ru=({className:e,...s})=>t.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});Ru.displayName="DialogFooter";const xr=ce.forwardRef(({className:e,...s},n)=>t.jsx(lg,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",e),...s}));xr.displayName=lg.displayName;const pg=ce.forwardRef(({className:e,...s},n)=>t.jsx(cg,{ref:n,className:je("text-sm text-muted-foreground",e),...s}));pg.displayName=cg.displayName;const DU=()=>{const{user:e}=De(),s=We(),{toast:n}=Ke(),[r,a]=u.useState({total_revenue:0,pending_clearance:0,withdrawn:0,available_for_withdrawal:0,monthly_breakdown:[],withdrawal_settings:{min_amount:100,max_amount:1e5}}),[i,o]=u.useState([]),[l,c]=u.useState(!0),[d,m]=u.useState(!1),[h,p]=u.useState({amount:"",payment_method:"",payment_details:""}),w=[{value:"vodafone_cash",label:"فودافون كاش"},{value:"instapay",label:"انستا باي"},{value:"etisalat_cash",label:"اتصالات كاش"},{value:"orange_cash",label:"أورانج كاش"},{value:"bank_transfer",label:"تحويل بنكي"}].filter(N=>{var S,A;return((A=(S=r.withdrawal_settings)==null?void 0:S.enabled_payment_methods)==null?void 0:A[N.value])!==!1});u.useEffect(()=>{(e==null?void 0:e.active_role)==="seller"&&(g(),y())},[e]);const g=async()=>{try{const N=await ve.getEarningsSummary();a(N)}catch(N){console.error("Error fetching earnings data:",N),n({title:"خطأ",description:"حدث خطأ في تحميل بيانات الأرباح",variant:"destructive"})}},y=async()=>{try{const N=await ve.getWithdrawalRequests();o(N.withdrawal_requests)}catch(N){console.error("Error fetching withdrawal requests:",N)}finally{c(!1)}},f=async N=>{if(N.preventDefault(),!h.amount||!h.payment_method||!h.payment_details){n({title:"خطأ",description:"يرجى ملء جميع الحقول",variant:"destructive"});return}if(parseFloat(h.amount)>r.available_for_withdrawal){n({title:"خطأ",description:"المبلغ المطلوب أكبر من الرصيد المتاح",variant:"destructive"});return}try{const S=await ve.createWithdrawalRequest(h);n({title:"نجح",description:S.message,variant:"default"}),m(!1),p({amount:"",payment_method:"",payment_details:""}),g(),y()}catch(S){let A="حدث خطأ في إرسال طلب السحب";if(S.message&&S.message.includes("API error:"))try{const C=S.message.split("API error:")[1],k=JSON.parse(C.split(" - ")[1]);A=k.error||k.message||A}catch(C){console.error("Error parsing API error:",C)}n({title:"خطأ",description:A,variant:"destructive"})}},x=N=>{switch(N){case"pending":return t.jsx(Ps,{className:"h-4 w-4 text-yellow-500"});case"approved":return t.jsx(Be,{className:"h-4 w-4 text-green-500"});case"rejected":return t.jsx(Pl,{className:"h-4 w-4 text-red-500"});default:return null}},j=N=>{switch(N){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(e==null?void 0:e.active_role)!=="seller"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للبائعين فقط."}),t.jsx(z,{onClick:()=>s("/dashboard"),className:"mt-4",children:"العودة للوحة التحكم"})]}):l?t.jsx("div",{className:"p-6 md:p-8 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),t.jsx("p",{className:"text-gray-500 mt-4",children:"جاري تحميل بيانات الأرباح..."})]})}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs(K.div,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"الأرباح"}),t.jsx("p",{className:"text-gray-500",children:"تابع إيراداتك وقم بإدارة عمليات السحب."})]}),t.jsxs(Hr,{open:d,onOpenChange:m,children:[t.jsx(gi,{asChild:!0,children:t.jsxs(z,{className:"mt-4 sm:mt-0 bg-green-500 hover:bg-green-600",disabled:r.available_for_withdrawal<r.withdrawal_settings.min_amount,children:[t.jsx(bt,{className:"ml-2 h-5 w-5"})," سحب الأرباح"]})}),t.jsxs(fr,{className:"sm:max-w-md",children:[t.jsx(pr,{children:t.jsx(xr,{children:"طلب سحب الأرباح"})}),t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"amount",children:"المبلغ المطلوب سحبه (جنيه)"}),t.jsx(oe,{id:"amount",type:"number",min:r.withdrawal_settings.min_amount,max:Math.min(r.available_for_withdrawal,r.withdrawal_settings.max_amount),value:h.amount,onChange:N=>p({...h,amount:N.target.value}),placeholder:`الحد الأدنى: ${r.withdrawal_settings.min_amount} جنيه`}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["المتاح للسحب: ",r.available_for_withdrawal.toFixed(2)," جنيه"]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"payment_method",children:"طريقة الدفع"}),t.jsxs(yt,{value:h.payment_method,onValueChange:N=>p({...h,payment_method:N}),children:[t.jsx(ht,{children:t.jsx(ut,{placeholder:"اختر طريقة الدفع"})}),t.jsx(mt,{children:w.map(N=>t.jsx(Ne,{value:N.value,children:N.label},N.value))})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"payment_details",children:h.payment_method==="bank_transfer"?"بيانات الحساب البنكي":"رقم المحفظة"}),t.jsx(oe,{id:"payment_details",value:h.payment_details,onChange:N=>p({...h,payment_details:N.target.value}),placeholder:h.payment_method==="bank_transfer"?"رقم الحساب واسم البنك":"رقم المحفظة الإلكترونية"})]}),t.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[t.jsx(z,{type:"button",variant:"outline",onClick:()=>m(!1),children:"إلغاء"}),t.jsx(z,{type:"submit",className:"bg-green-500 hover:bg-green-600",children:"إرسال الطلب"})]})]})]})]})]}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{title:"إجمالي الإيرادات",value:`${r.total_revenue.toFixed(2)} جنيه`,icon:N6,color:"blue"},{title:"قيد التحصيل",value:`${r.pending_clearance.toFixed(2)} جنيه`,icon:Zs,color:"orange"},{title:"تم سحبها",value:`${r.withdrawn.toFixed(2)} جنيه`,icon:tc,color:"purple"},{title:"متاح للسحب",value:`${r.available_for_withdrawal.toFixed(2)} جنيه`,icon:bt,color:"green"}].map((N,S)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.05,duration:.4},children:t.jsxs(J,{className:`border-t-4 border-${N.color}-500 shadow-lg`,children:[t.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(he,{className:"text-sm font-medium text-gray-600",children:N.title}),ce.createElement(N.icon,{className:`h-5 w-5 text-${N.color}-500`})]}),t.jsx(Q,{children:t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:N.value})})]})},S))}),t.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:t.jsxs(J,{className:"shadow-xl",children:[t.jsxs(de,{className:"flex flex-col sm:flex-row justify-between sm:items-center",children:[t.jsxs("div",{children:[t.jsx(he,{className:"text-xl text-gray-700",children:"ملخص الأرباح الشهري"}),t.jsx(nt,{children:"عرض تفصيلي لأرباحك خلال الأشهر الماضية."})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:[t.jsxs(yt,{defaultValue:"last_6_months",children:[t.jsx(ht,{className:"w-[180px]",children:t.jsx(ut,{placeholder:"اختر الفترة"})}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"last_3_months",children:"آخر 3 أشهر"}),t.jsx(Ne,{value:"last_6_months",children:"آخر 6 أشهر"}),t.jsx(Ne,{value:"this_year",children:"هذا العام"})]})]}),t.jsxs(z,{variant:"outline",children:[t.jsx(tc,{className:"ml-2 h-4 w-4"})," تصدير التقرير"]})]})]}),t.jsxs(Q,{children:[t.jsx("div",{className:"h-72 bg-gray-100 rounded-md flex items-center justify-center",children:t.jsx("p",{className:"text-gray-500",children:" (مخطط بياني للأرباح هنا)"})}),t.jsxs("div",{className:"mt-6 space-y-3",children:[r.monthly_breakdown.slice(0,3).map(N=>t.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition",children:[t.jsx("span",{className:"font-medium text-gray-700",children:N.month}),t.jsxs("span",{className:"font-semibold text-green-600",children:[N.earnings.toFixed(2)," جنيه"]})]},N.month)),r.monthly_breakdown.length===0&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"لا توجد أرباح شهرية بعد"})]})]})]})}),t.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5},children:t.jsxs(J,{className:"shadow-xl",children:[t.jsx(de,{children:t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx(he,{className:"text-xl text-gray-700",children:"طلبات السحب"}),t.jsx(nt,{children:"تابع حالة طلبات سحب الأرباح الخاصة بك"})]})})}),t.jsx(Q,{children:i.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-right py-3 px-4",children:"المبلغ"}),t.jsx("th",{className:"text-right py-3 px-4",children:"طريقة الدفع"}),t.jsx("th",{className:"text-right py-3 px-4",children:"الحالة"}),t.jsx("th",{className:"text-right py-3 px-4",children:"تاريخ الطلب"}),t.jsx("th",{className:"text-right py-3 px-4",children:"ملاحظات"})]})}),t.jsx("tbody",{children:i.map(N=>t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsxs("td",{className:"py-3 px-4 font-medium",children:[N.amount," جنيه"]}),t.jsx("td",{className:"py-3 px-4",children:N.payment_method}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs(me,{className:`${j(N.status)} flex items-center gap-1 w-fit`,children:[x(N.status),N.status_label]})}),t.jsx("td",{className:"py-3 px-4 text-gray-600",children:N.created_at}),t.jsx("td",{className:"py-3 px-4 text-gray-600 max-w-xs truncate",children:N.rejection_reason||N.admin_notes||"-"})]},N.id))})]})}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(bt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"لم تقم بأي طلبات سحب بعد"}),t.jsx("p",{className:"text-sm",children:"اطلب سحب أرباحك عندما تصل للحد الأدنى"})]})})]})})]})},OU=()=>{const e=We(),{user:s}=De(),{conversations:n,setActiveConversation:r}=Ua(),a=n.slice(0,5),i=o=>{r(o),e("/chat")};return t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs(K.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"الرسائل"}),t.jsxs(z,{onClick:()=>e("/chat"),className:"bg-roman-500 hover:bg-roman-500/90 text-white",children:[t.jsx(Xt,{className:"ml-2 h-5 w-5"})," عرض كل الرسائل"]})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:t.jsxs(J,{className:"border-t-4 border-blue-500 shadow-lg",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(he,{className:"text-sm font-medium text-gray-600",children:"إجمالي المحادثات"}),t.jsx(Sn,{className:"h-5 w-5 text-blue-500"})]}),t.jsx(Q,{children:t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:n.length})})]})}),t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:t.jsxs(J,{className:"border-t-4 border-orange-500 shadow-lg",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(he,{className:"text-sm font-medium text-gray-600",children:"رسائل غير مقروءة"}),t.jsx(Xt,{className:"h-5 w-5 text-warning-500"})]}),t.jsx(Q,{children:t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:n.reduce((o,l)=>o+l.unreadCount,0)})})]})}),t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:t.jsxs(J,{className:"border-t-4 border-gray-500 shadow-lg",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(he,{className:"text-sm font-medium text-gray-600",children:"محادثات مؤرشفة"}),t.jsx(HA,{className:"h-5 w-5 text-gray-500"})]}),t.jsx(Q,{children:t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"0"})})]})})]}),t.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:t.jsxs(J,{className:"shadow-xl",children:[t.jsxs(de,{children:[t.jsx(he,{className:"text-xl text-gray-700",children:"أحدث الرسائل"}),t.jsx(nt,{children:"نظرة سريعة على أحدث المحادثات النشطة."})]}),t.jsx(Q,{children:a.length>0?t.jsx("ul",{className:"space-y-4",children:a.map(o=>t.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition cursor-pointer",onClick:()=>i(o.id),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(ms,{className:"h-10 w-10 ml-3",children:[t.jsx(Es,{src:o.participant.avatar}),t.jsx(fs,{children:o.participant.name.charAt(0)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:o.participant.name}),o.lastMessage&&t.jsxs("p",{className:"text-sm text-gray-500 truncate max-w-xs",dir:"rtl",children:[o.lastMessage.senderId===(s==null?void 0:s.id)?"أنت: ":"",o.lastMessage.text]})]})]}),t.jsxs("div",{className:"text-right",children:[o.lastMessage&&t.jsx("p",{className:"text-xs text-gray-400 mb-1",children:new Date(o.lastMessage.timestamp).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})}),o.unreadCount>0&&t.jsx(me,{className:"bg-primary text-primary-foreground",children:o.unreadCount})]})]},o.id))}):t.jsx("p",{className:"text-gray-500 text-center py-4",children:"لا توجد رسائل لعرضها."})})]})})]})},bd=({title:e,description:s,icon:n,children:r})=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsxs(J,{className:"shadow-lg border-orange-100",children:[t.jsxs(de,{className:"flex flex-row items-start space-x-4 space-x-reverse pb-4",children:[ce.createElement(n,{className:"h-8 w-8 text-primary mt-1"}),t.jsxs("div",{children:[t.jsx(he,{className:"text-xl text-gray-800",children:e}),t.jsx(nt,{className:"text-gray-500",children:s})]})]}),t.jsx(Q,{children:r})]})}),$U=()=>{const{user:e,updateProfile:s,changePassword:n,uploadProfileImage:r}=De(),{toast:a}=Ke(),[i,o]=u.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",bio:(e==null?void 0:e.bio)||"",avatarUrl:(e==null?void 0:e.avatar)||"",phone:(e==null?void 0:e.phone)||"",skills:(e==null?void 0:e.skills)||[]}),[l,c]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,m]=u.useState(""),[h,p]=u.useState(null),[v,w]=u.useState((e==null?void 0:e.avatar)||null),[g,y]=u.useState(!1),f=M=>{o({...i,[M.target.name]:M.target.value})},x=M=>{const P=M.target.files[0];if(P){if(!P.type.startsWith("image/")){a({variant:"destructive",title:"خطأ",description:"يرجى اختيار ملف صورة صالح."});return}if(P.size>5*1024*1024){a({variant:"destructive",title:"خطأ",description:"حجم الصورة يجب أن يكون أقل من 5 ميجابايت."});return}p(P);const D=new FileReader;D.onload=I=>{w(I.target.result)},D.readAsDataURL(P)}},j=async()=>{if(h){y(!0);try{const M=await r(h);M.success&&(p(null),w(M.data.avatar),o(P=>({...P,avatarUrl:M.data.avatar})))}catch(M){console.error("Avatar upload failed:",M)}finally{y(!1)}}},N=M=>{c({...l,[M.target.name]:M.target.value})},S=()=>{d.trim()!==""&&(i.skills.includes(d.trim())||o({...i,skills:[...i.skills,d.trim()]}),m(""))},A=M=>{o({...i,skills:i.skills.filter(P=>P!==M)})},C=async M=>{if(M.preventDefault(),!i.name||!i.email){a({variant:"destructive",title:"خطأ",description:"الاسم والبريد الإلكتروني حقول إلزامية."});return}const P=await s({name:i.name,email:i.email,bio:i.bio,avatar:i.avatarUrl,phone:i.phone,skills:i.skills});(e==null?void 0:e.active_role)==="seller"&&(P.skills=i.skills),await s(P)&&a({title:"تم تحديث الملف الشخصي",description:"تم حفظ تغييرات ملفك الشخصي بنجاح."})},k=async M=>{if(M.preventDefault(),l.newPassword!==l.confirmPassword){a({variant:"destructive",title:"خطأ",description:"كلمتا المرور الجديدتان غير متطابقتين."});return}if(l.newPassword.length<6){a({variant:"destructive",title:"خطأ",description:"يجب أن تتكون كلمة المرور الجديدة من 6 أحرف على الأقل."});return}await n({currentPassword:l.currentPassword,newPassword:l.newPassword,confirmPassword:l.confirmPassword})&&(c({currentPassword:"",newPassword:"",confirmPassword:""}),a({title:"تم تحديث كلمة المرور",description:"تم تغيير كلمة المرور بنجاح."}))};return t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsx(K.h1,{className:"text-3xl font-bold text-gray-800",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:"إعدادات الحساب"}),t.jsx(bd,{title:"الملف الشخصي",description:"تحديث معلوماتك الشخصية وصورة العرض.",icon:tt,children:t.jsxs("form",{onSubmit:C,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"name",children:"الاسم الكامل"}),t.jsx(oe,{id:"name",name:"name",value:i.name,onChange:f})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"email",children:"البريد الإلكتروني"}),t.jsx(oe,{id:"email",name:"email",type:"email",value:i.email,onChange:f})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"bio",children:"نبذة تعريفية"}),t.jsx(et,{id:"bio",name:"bio",value:i.bio,onChange:f,rows:3,placeholder:"أخبرنا المزيد عنك..."})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"صورة الملف الشخصي"}),t.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse mt-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:v||"https://avatar.iran.liara.run/public/65",alt:"معاينة الصورة الشخصية",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-300"}),h&&t.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"✓"})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(oe,{id:"avatar",type:"file",accept:"image/*",onChange:x,className:"hidden"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ee,{htmlFor:"avatar",className:"cursor-pointer bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"اختيار صورة"}),h&&t.jsx(z,{type:"button",onClick:j,disabled:g,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 text-sm",children:g?"جاري الرفع...":"رفع الصورة"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"يرجى اختيار صورة بصيغة JPG، PNG أو GIF. الحد الأقصى: 5 ميجابايت"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"phone",children:"رقم الهاتف"}),t.jsx(oe,{id:"phone",name:"phone",value:i.phone,onChange:f,placeholder:"مثال: +201234567890"})]}),(e==null?void 0:e.active_role)==="seller"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{children:"المهارات"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:i.skills.map((M,P)=>t.jsxs("div",{className:"bg-gray-100 text-gray-800 px-3 py-1 rounded-full flex items-center",children:[t.jsx("span",{children:M}),t.jsx("button",{type:"button",className:"ml-2 text-gray-500 hover:text-red-500",onClick:()=>A(M),children:"×"})]},P))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(oe,{placeholder:"أضف مهارة جديدة",value:d,onChange:M=>m(M.target.value),onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),S())}),t.jsx(z,{type:"button",onClick:S,className:"bg-gray-200 hover:bg-gray-300 text-gray-800",children:"إضافة"})]})]}),t.jsxs(z,{type:"submit",className:"bg-roman-500 hover:bg-roman-500/90 text-white",children:[t.jsx(an,{className:"ml-2 h-4 w-4"})," حفظ تغييرات الملف الشخصي"]})]})}),t.jsx(dt,{}),t.jsx(bd,{title:"الأمان وكلمة المرور",description:"تغيير كلمة المرور الخاصة بك.",icon:_a,children:t.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"currentPassword",children:"كلمة المرور الحالية"}),t.jsx(oe,{id:"currentPassword",name:"currentPassword",type:"password",value:l.currentPassword,onChange:N})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"newPassword",children:"كلمة المرور الجديدة"}),t.jsx(oe,{id:"newPassword",name:"newPassword",type:"password",value:l.newPassword,onChange:N})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور الجديدة"}),t.jsx(oe,{id:"confirmPassword",name:"confirmPassword",type:"password",value:l.confirmPassword,onChange:N})]})]}),t.jsxs(z,{type:"submit",className:"bg-blue-500 hover:bg-blue-600",children:[t.jsx(an,{className:"ml-2 h-4 w-4"})," تغيير كلمة المرور"]})]})}),t.jsx(dt,{}),t.jsx(bd,{title:"الإشعارات",description:"إدارة تفضيلات الإشعارات الخاصة بك.",icon:Er,children:t.jsx("p",{className:"text-gray-600",children:"سيتم إضافة إعدادات الإشعارات قريباً."})}),(e==null?void 0:e.active_role)==="seller"&&t.jsxs(t.Fragment,{children:[t.jsx(dt,{}),t.jsx(bd,{title:"إعدادات الدفع",description:"إدارة طرق سحب الأرباح.",icon:Ws,children:t.jsx("p",{className:"text-gray-600",children:"سيتم إضافة إعدادات الدفع للبائعين قريباً."})})]})]})},IU=()=>{var w,g,y,f;const{user:e,refreshUser:s}=De(),{toast:n}=Ke(),[r,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(!1),[d,m]=u.useState({amount:"",payment_method:"",payment_details:""}),h=[{value:"vodafone_cash",label:"فودافون كاش"},{value:"instapay",label:"انستا باي"},{value:"etisalat_cash",label:"اتصالات كاش"},{value:"orange_cash",label:"أورانج كاش"},{value:"bank_transfer",label:"تحويل بنكي"}];u.useEffect(()=>{p()},[]);const p=async()=>{try{const x=await ve.getBuyerWithdrawals();a(x.withdrawal_requests||[])}catch{}finally{o(!1)}},v=async x=>{if(x.preventDefault(),!d.amount||!d.payment_method||!d.payment_details){n({title:"خطأ",description:"يرجى ملء جميع الحقول",variant:"destructive"});return}if(parseFloat(d.amount)>((e==null?void 0:e.buyer_wallet_balance)??0)){n({title:"خطأ",description:"المبلغ المطلوب أكبر من الرصيد المتاح",variant:"destructive"});return}try{const j=await ve.createBuyerWithdrawalRequest(d);n({title:"نجاح",description:j.message||"تم إرسال طلب السحب بنجاح"}),c(!1),m({amount:"",payment_method:"",payment_details:""}),await p(),await(s==null?void 0:s())}catch{n({title:"خطأ",description:"تعذر إرسال طلب السحب",variant:"destructive"})}};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:t.jsxs(J,{children:[t.jsxs(de,{className:"flex flex-row items-center justify-between",children:[t.jsxs(he,{className:"text-xl flex items-center",children:[t.jsx("span",{className:"ml-2 inline-flex p-2 rounded-full bg-roman-500/10 text-roman-500",children:t.jsx(bt,{className:"h-5 w-5"})}),"محفظتي"]}),t.jsxs(Hr,{open:l,onOpenChange:c,children:[t.jsx(gi,{asChild:!0,children:t.jsx(z,{className:"bg-green-500 hover:bg-green-600",children:"سحب رصيد"})}),t.jsxs(fr,{className:"sm:max-w-md",children:[t.jsx(pr,{children:t.jsx(xr,{children:"طلب سحب رصيد"})}),t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"amount",children:"المبلغ (جنيه)"}),t.jsx(oe,{id:"amount",type:"number",min:1,max:(e==null?void 0:e.buyer_wallet_balance)??0,value:d.amount,onChange:x=>m({...d,amount:x.target.value})}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["الرصيد المتاح: ",((g=(w=(e==null?void 0:e.buyer_wallet_balance)??0).toFixed)==null?void 0:g.call(w,2))||Number((e==null?void 0:e.buyer_wallet_balance)??0).toFixed(2)," جنيه"]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"طريقة الدفع"}),t.jsxs(yt,{value:d.payment_method,onValueChange:x=>m({...d,payment_method:x}),children:[t.jsx(ht,{children:t.jsx(ut,{placeholder:"اختر طريقة الدفع"})}),t.jsx(mt,{children:h.map(x=>t.jsx(Ne,{value:x.value,children:x.label},x.value))})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"payment_details",children:"بيانات الدفع"}),t.jsx(oe,{id:"payment_details",value:d.payment_details,onChange:x=>m({...d,payment_details:x.target.value}),placeholder:d.payment_method==="bank_transfer"?"رقم الحساب واسم البنك":"رقم المحفظة"})]}),t.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[t.jsx(z,{type:"button",variant:"outline",onClick:()=>c(!1),children:"إلغاء"}),t.jsx(z,{type:"submit",className:"bg-green-500 hover:bg-green-600",children:"إرسال"})]})]})]})]})]}),t.jsx(Q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.jsxs("div",{className:"p-4 rounded-lg bg-success-50",children:[t.jsx("div",{className:"text-sm text-neutral-900/70",children:"الرصيد المتاح"}),t.jsxs("div",{className:"text-2xl font-bold text-neutral-900",children:[((f=(y=(e==null?void 0:e.buyer_wallet_balance)??0).toFixed)==null?void 0:f.call(y,2))||Number((e==null?void 0:e.buyer_wallet_balance)??0).toFixed(2)," جنيه"]})]})})})]})}),t.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:t.jsxs(J,{children:[t.jsx(de,{children:t.jsx(he,{children:"طلبات السحب"})}),t.jsx(Q,{children:i?t.jsx("div",{className:"text-sm text-neutral-900/70",children:"جارِ التحميل..."}):r.length===0?t.jsx("div",{className:"text-sm text-neutral-900/70",children:"لا توجد طلبات سحب بعد"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-right",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-neutral-900/70",children:[t.jsx("th",{className:"p-2",children:"#"}),t.jsx("th",{className:"p-2",children:"المبلغ"}),t.jsx("th",{className:"p-2",children:"طريقة الدفع"}),t.jsx("th",{className:"p-2",children:"البيانات"}),t.jsx("th",{className:"p-2",children:"الحالة"}),t.jsx("th",{className:"p-2",children:"التاريخ"})]})}),t.jsx("tbody",{children:r.map(x=>t.jsxs("tr",{className:"border-t",children:[t.jsx("td",{className:"p-2",children:x.id}),t.jsxs("td",{className:"p-2",children:[Number(x.amount).toFixed(2)," جنيه"]}),t.jsx("td",{className:"p-2",children:x.payment_method}),t.jsx("td",{className:"p-2",children:x.payment_details}),t.jsx("td",{className:"p-2",children:x.status}),t.jsx("td",{className:"p-2",children:x.created_at})]},x.id))})]})})})]})})]})},LU=()=>{const e=We(),{toast:s}=Ke(),{user:n}=De(),[r,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(null),[d,m]=u.useState([]),[h,p]=u.useState(!1),[v,w]=u.useState(null),[g,y]=u.useState({title:"",description:"",price:"",category:"",tags:"",deliveryTime:"",images:[],type:"gig"}),[f,x]=u.useState([]),[j,N]=u.useState(!1);u.useEffect(()=>{(async()=>{let D=!0;o(!0),c(null);try{const I=await ve.getCategories();if(!D)return;if(Array.isArray(I))a(I);else if(I&&Array.isArray(I.data))a(I.data);else if(I&&Array.isArray(I.categories))a(I.categories);else if(I&&I.success&&Array.isArray(I.data))a(I.data);else throw console.error("Invalid categories response structure:",I),new Error("استجابة غير صحيحة من الخادم للتصنيفات")}catch(I){console.error("Error loading categories:",I),D&&(c(I.message||"فشل في تحميل التصنيفات"),a([]))}finally{D&&o(!1)}return()=>{D=!1}})()},[]),u.useEffect(()=>{(async()=>{if(!(!n||n.active_role!=="seller")){p(!0),w(null);try{const D=await Ss.getSellerProducts();Array.isArray(D)?m(D):D&&Array.isArray(D.data)||D&&D.success&&Array.isArray(D.data)?m(D.data):m([])}catch(D){console.error("Error fetching seller gigs:",D),w("فشل في تحميل الخدمات"),m([])}finally{p(!1)}}})()},[n]);const S=P=>{const{name:D,value:I}=P.target;y(H=>({...H,[D]:I}))},A=P=>{y(D=>({...D,category:P}))},C=P=>{const D=Array.from(P.target.files);y(H=>({...H,images:[...H.images,...D].slice(0,5)}));const I=D.map(H=>URL.createObjectURL(H));x(H=>[...H,...I].slice(0,5))},k=P=>{y(D=>({...D,images:D.images.filter((I,H)=>H!==P)})),x(D=>D.filter((I,H)=>H!==P))},M=async P=>{if(P.preventDefault(),!n||n.active_role!=="seller"){s({variant:"destructive",title:"غير مصرح به",description:"يجب أن تكون في وضع البائع لإنشاء خدمة."});return}if(!g.title||!g.description||!g.price||!g.category){s({variant:"destructive",title:"حقول ناقصة",description:"يرجى ملء جميع الحقول الإلزامية."});return}N(!0);try{const D=await Ss.createProduct({title:g.title,description:g.description,price:g.price,category_id:g.category,delivery_time:g.deliveryTime,type:g.type,tags:g.tags.split(",").map(O=>O.trim()).filter(O=>O),images:g.images}),I=D.product||D,H=D.notification||`خدمة "${g.title}" أصبحت جاهزة.`;s({title:"تم إنشاء الخدمة بنجاح!",description:H,duration:6e3}),m(O=>[I,...O]),y({title:"",description:"",price:"",category:"",tags:"",deliveryTime:"",images:[],type:"gig"}),x([]),e("/dashboard/gigs")}catch(D){s({variant:"destructive",title:"خطأ في الإنشاء",description:D.message})}finally{N(!1)}};return(n==null?void 0:n.active_role)!=="seller"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للبائعين فقط."}),t.jsx(z,{onClick:()=>e("/dashboard"),className:"mt-4",children:"العودة للوحة التحكم"})]}):t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إنشاء خدمة جديدة"}),t.jsxs("p",{className:"text-gray-600 mt-2",children:["لديك ",d.length," خدمة منشورة"]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(z,{variant:"outline",onClick:()=>e("/dashboard/gigs"),className:"flex items-center gap-2",children:[t.jsx(en,{className:"h-4 w-4"}),"عرض خدماتي"]}),t.jsx(Ar,{className:"h-8 w-8 text-primary"})]})]}),d.length>0&&t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"خدماتك الحالية"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[d.slice(0,4).map(P=>t.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[t.jsx("h3",{className:"font-medium text-gray-800 truncate",children:P.title}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[P.price," جنيه"]}),t.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded mt-2 inline-block",children:P.type==="gig"?"خدمة/حرفة":"منتج"})]},P.id)),d.length>4&&t.jsx("div",{className:"bg-gray-50 border rounded-lg p-4 flex items-center justify-center",children:t.jsxs("span",{className:"text-gray-500 text-sm",children:["+",d.length-4," خدمة أخرى"]})})]})]}),t.jsx("form",{onSubmit:M,children:t.jsx(J,{className:"shadow-xl border-orange-200",children:t.jsxs(Q,{className:"p-6 space-y-6",children:[t.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[t.jsxs(de,{className:"px-0 pt-0 pb-4",children:[t.jsx(he,{className:"text-xl text-gray-700",children:"المعلومات الأساسية"}),t.jsx(nt,{children:"صف خدمتك بوضوح لجذب العملاء."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"title",className:"flex items-center",children:[t.jsx(qs,{className:"ml-2 h-4 w-4 text-gray-500"}),"عنوان الخدمة"]}),t.jsx(oe,{id:"title",name:"title",value:g.title,onChange:S,placeholder:"مثال: تصميم شعار احترافي لشركتك",required:!0})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"description",className:"flex items-center",children:[t.jsx(qs,{className:"ml-2 h-4 w-4 text-gray-500"}),"وصف الخدمة"]}),t.jsx(et,{id:"description",name:"description",value:g.description,onChange:S,rows:5,placeholder:"اشرح بالتفصيل ما تقدمه في هذه الخدمة...",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"category",className:"flex items-center",children:[t.jsx(Pa,{className:"ml-2 h-4 w-4 text-gray-500"}),"التصنيف"]}),t.jsxs(yt,{onValueChange:A,value:g.category,required:!0,dir:"rtl",disabled:i||l,children:[t.jsxs(ht,{id:"category",dir:"rtl",children:[t.jsx(ut,{placeholder:i?"جاري تحميل التصنيفات...":l?"خطأ في تحميل التصنيفات":"اختر تصنيف الخدمة",dir:"rtl"}),i&&t.jsx(Se,{className:"h-4 w-4 animate-spin"})]}),t.jsx(mt,{dir:"rtl",children:r.length>0?r.map(P=>t.jsx(Ne,{value:String(P.id||P._id),dir:"rtl",children:P.name||P.title||"تصنيف غير محدد"},P.id||P._id)):!i&&!l&&t.jsx(Ne,{value:"no-categories",disabled:!0,dir:"rtl",children:"لا توجد تصنيفات متاحة"})})]}),!i&&!l&&r.length===0&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"لا توجد تصنيفات متاحة حالياً"})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"price",className:"flex items-center",children:[t.jsx(bt,{className:"ml-2 h-4 w-4 text-gray-500"}),"السعر (بالجنيه)"]}),t.jsx(oe,{id:"price",name:"price",type:"number",value:g.price,onChange:S,placeholder:"مثال: 150",required:!0,min:"0"}),g.price==="0"&&t.jsxs("p",{className:"text-sm text-blue-600 mt-1 flex items-center",children:[t.jsx("svg",{className:"h-4 w-4 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"السعر سيتم تحديده مع عرض المشتري (قابل للتفاوض)"]})]})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"tags",className:"flex items-center",children:[t.jsx(Pa,{className:"ml-2 h-4 w-4 text-gray-500"}),"الكلمات المفتاحية (مفصولة بفاصلة)"]}),t.jsx(oe,{id:"tags",name:"tags",value:g.tags,onChange:S,placeholder:"مثال: تصميم, شعار, هوية بصرية"})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"deliveryTime",className:"flex items-center",children:[t.jsx(Zs,{className:"ml-2 h-4 w-4 text-gray-500"}),"مدة التسليم المتوقعة"]}),t.jsx(oe,{id:"deliveryTime",name:"deliveryTime",value:g.deliveryTime,onChange:S,placeholder:"مثال: 3-5 أيام عمل"})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"type",className:"flex items-center",children:[t.jsx(qs,{className:"ml-2 h-4 w-4 text-gray-500"}),"نوع الخدمة"]}),t.jsxs(yt,{id:"type",value:g.type,onValueChange:P=>y(D=>({...D,type:P})),required:!0,dir:"rtl",children:[t.jsx(ht,{dir:"rtl",children:t.jsx(ut,{placeholder:"اختر نوع الخدمة",dir:"rtl"})}),t.jsxs(mt,{dir:"rtl",children:[t.jsx(Ne,{value:"gig",dir:"rtl",children:"خدمة/حرفة"}),t.jsx(Ne,{value:"product",dir:"rtl",children:"منتج قابل للبيع"})]})]})]})]})]}),t.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[t.jsxs(de,{className:"px-0 pt-6 pb-4",children:[t.jsx(he,{className:"text-xl text-gray-700",children:"صور الخدمة"}),t.jsx(nt,{children:"أضف صورًا عالية الجودة تعرض خدمتك (حتى 5 صور)."})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"images",className:"flex items-center cursor-pointer border-2 border-dashed border-gray-300 rounded-md p-6 justify-center hover:border-primary transition-colors",children:[t.jsx(Va,{className:"ml-2 h-8 w-8 text-gray-400"}),t.jsx("span",{className:"text-gray-500",children:"انقر هنا لاختيار الصور"})]}),t.jsx(oe,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:C,className:"hidden"}),f.length>0&&t.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:f.map((P,D)=>t.jsxs("div",{className:"relative group aspect-square",children:[t.jsx("img",{src:P||"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea",alt:`معاينة ${D+1}`,className:"w-full h-full object-cover rounded-md shadow"}),t.jsx(z,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>k(D),children:t.jsx(zs,{className:"h-3 w-3"})})]},D))})]})]}),t.jsx(K.div,{className:"pt-6 flex justify-end",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:t.jsx(z,{type:"submit",size:"lg",className:"bg-green-500 hover:bg-green-600",disabled:j,children:j?"جاري النشر...":t.jsxs(t.Fragment,{children:[t.jsx(an,{className:"ml-2 h-5 w-5"})," نشر الخدمة"]})})})]})})})]})},ob=({children:e,value:s,onValueChange:n,...r})=>t.jsx(yt,{dir:"rtl",value:s,onValueChange:n,...r,children:e}),lb=({children:e,...s})=>t.jsx(ht,{className:"text-right",...s,children:e}),cb=({children:e,...s})=>t.jsx(mt,{align:"end",className:"rtl-select-content",...s,children:e}),wd=({children:e,...s})=>t.jsx(Ne,{className:"text-right",...s,children:e}),FU=()=>{const{gigId:e}=Fa(),s=We(),{toast:n}=Ke(),{user:r}=De(),[a,i]=u.useState(null),[o,l]=u.useState([]),[c,d]=u.useState(!1),[m,h]=u.useState([]),[p,v]=u.useState(!1);u.useEffect(()=>{(async()=>{try{const S=await Z("listcategories");Array.isArray(S)?h(S):S&&Array.isArray(S.data)||S&&S.success&&Array.isArray(S.data)?h(S.data):(console.error("Invalid categories response structure:",S),h([]))}catch(S){console.error("Error loading categories:",S),n({variant:"destructive",title:"خطأ في تحميل التصنيفات",description:S.message||"فشل في تحميل التصنيفات"}),h([])}})()},[n]),u.useEffect(()=>{(async()=>{if(!(!r||r.active_role!=="seller")){d(!0);try{const S=await Ss.getProductById(e);if(S&&(S.data||S)){const A=S.data||S,C=Array.isArray(A.tags)?A.tags.map(M=>typeof M=="object"&&M.tag_name?M.tag_name:M).join(", "):"",k=Array.isArray(A.images)?A.images.map(M=>typeof M=="string"?M:M&&M.image_url?M.image_url.startsWith("http")?M.image_url:`https://handy3.abanoubsamir.com/backend/public/storage/${M.image_url}`:null).filter(Boolean):[];i({...A,category:A.category_id||A.category&&A.category.id,price:A.price?A.price.toString():"0",tags:C,deliveryTime:A.delivery_time||"",type:A.type||"gig"}),l(k)}else n({variant:"destructive",title:"خطأ في تحميل البيانات",description:"لم يتم العثور على الخدمة المطلوبة."}),s("/dashboard/gigs")}catch(S){console.error("Error fetching gig details:",S),n({variant:"destructive",title:"خطأ في تحميل البيانات",description:S.message||"فشل في تحميل تفاصيل الخدمة."}),s("/dashboard/gigs")}finally{d(!1)}}})()},[e,r,s,n]);const w=N=>{const{name:S,value:A}=N.target;i(C=>({...C,[S]:A}))},g=N=>{i(S=>({...S,category:N}))},y=N=>{i(S=>({...S,type:N}))},f=N=>{const S=Array.from(N.target.files);if(!S.length)return;if(o.length+S.length>5){n({variant:"destructive",title:"الحد الأقصى للصور",description:"يمكنك إضافة 5 صور كحد أقصى. يرجى حذف بعض الصور أولاً."});return}i(C=>{const k=Array.isArray(C.images)?[...C.images]:[];return{...C,images:[...k,...S].slice(0,5),hasNewImages:!0}});const A=S.map(C=>URL.createObjectURL(C));l(C=>[...C,...A].slice(0,5))},x=N=>{l(A=>{const C=[...A];return C.splice(N,1),C}),i(A=>{const C=Array.isArray(A.images)?[...A.images]:[];return N<C.length&&C.splice(N,1),{...A,images:C}});const S=o[N];S&&typeof S=="string"&&S.startsWith("blob:")&&URL.revokeObjectURL(S)},j=async N=>{if(N.preventDefault(),!!a){if(!a.title||!a.title.trim()){n({variant:"destructive",title:"حقل العنوان مطلوب",description:"يرجى إدخال عنوان للخدمة."});return}if(!a.description||!a.description.trim()){n({variant:"destructive",title:"حقل الوصف مطلوب",description:"يرجى إدخال وصف للخدمة."});return}if(!a.price||parseFloat(a.price)<=0){n({variant:"destructive",title:"السعر غير صحيح",description:"يرجى إدخال سعر صحيح للخدمة."});return}if(!a.category){n({variant:"destructive",title:"التصنيف مطلوب",description:"يرجى اختيار تصنيف للخدمة."});return}if(o.length===0){n({variant:"destructive",title:"الصور مطلوبة",description:"يرجى إضافة صورة واحدة على الأقل للخدمة."});return}v(!0);try{const S={title:a.title,description:a.description,price:parseFloat(a.price),category_id:a.category,tags:a.tags.split(",").map(k=>k.trim()).filter(k=>k),delivery_time:a.deliveryTime,type:a.type||"gig"},A=[],C=[];a.images&&Array.isArray(a.images)&&a.images.forEach(k=>{k instanceof File&&A.push(k)}),o.forEach(k=>{if(typeof k=="string"&&!k.startsWith("blob:")){let M=k;k.includes("/storage/")&&(M=k.substring(k.indexOf("/storage/")+9)),C.push(M)}}),A.length>0&&(S.images=A,console.log("New image files to upload:",A.length)),C.length>0&&(S.existing_images=C,console.log("Existing images to keep:",C)),console.log("Sending update for gig:",e,S),await Ss.updateProduct(e,S),n({title:"تم تحديث الخدمة بنجاح!",description:`تم حفظ التغييرات على خدمة "${a.title}".`}),s("/dashboard/gigs")}catch(S){console.error("Error updating gig:",S),n({variant:"destructive",title:"خطأ في تحديث الخدمة",description:S.message||"فشل في تحديث الخدمة. يرجى المحاولة مرة أخرى."})}finally{v(!1)}}};return c?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx(Se,{className:"h-12 w-12 animate-spin text-primary mx-auto"}),t.jsx("p",{className:"mt-4 text-lg",children:"جاري تحميل الخدمة..."})]}):a?(r==null?void 0:r.active_role)!=="seller"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للبائعين فقط."}),t.jsx(z,{onClick:()=>s("/dashboard"),className:"mt-4",children:"العودة للوحة التحكم"})]}):t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"تعديل الخدمة"}),t.jsx(Do,{className:"h-8 w-8 text-primary"})]}),t.jsx("form",{onSubmit:j,children:t.jsx(J,{className:"shadow-xl border-orange-200",children:t.jsxs(Q,{className:"p-6 space-y-6",children:[t.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[t.jsx(de,{className:"px-0 pt-0 pb-4",children:t.jsx(he,{className:"text-xl text-gray-700",children:"المعلومات الأساسية"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"title",className:"flex items-center",children:[t.jsx(qs,{className:"ml-2 h-4 w-4 text-gray-500"}),"عنوان الخدمة"]}),t.jsx(oe,{id:"title",name:"title",value:a.title,onChange:w,required:!0})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"description",className:"flex items-center",children:[t.jsx(qs,{className:"ml-2 h-4 w-4 text-gray-500"}),"وصف الخدمة"]}),t.jsx(et,{id:"description",name:"description",value:a.description,onChange:w,rows:5,required:!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"category",className:"flex items-center",children:[t.jsx(Pa,{className:"ml-2 h-4 w-4 text-gray-500"}),"التصنيف"]}),t.jsxs(ob,{onValueChange:g,value:a.category?String(a.category):"",required:!0,children:[t.jsx(lb,{id:"category",children:t.jsx(ut,{placeholder:"اختر تصنيف الخدمة"})}),t.jsx(cb,{children:m.length>0?m.map(N=>t.jsx(wd,{value:String(N.id||N._id),children:N.name||N.title||"تصنيف غير محدد"},N.id||N._id)):t.jsx(wd,{value:"no-categories",disabled:!0,children:"لا توجد تصنيفات متاحة"})})]})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"price",className:"flex items-center",children:[t.jsx(bt,{className:"ml-2 h-4 w-4 text-gray-500"}),"السعر (بالجنيه)"]}),t.jsx(oe,{id:"price",name:"price",type:"number",value:a.price,onChange:w,required:!0,min:"1"})]})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"tags",className:"flex items-center",children:[t.jsx(Pa,{className:"ml-2 h-4 w-4 text-gray-500"}),"الكلمات المفتاحية (مفصولة بفاصلة)"]}),t.jsx(oe,{id:"tags",name:"tags",value:a.tags,onChange:w})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"deliveryTime",className:"flex items-center",children:[t.jsx(Zs,{className:"ml-2 h-4 w-4 text-gray-500"}),"مدة التسليم المتوقعة"]}),t.jsx(oe,{id:"deliveryTime",name:"deliveryTime",value:a.deliveryTime,onChange:w})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"type",className:"flex items-center",children:[t.jsx(qs,{className:"ml-2 h-4 w-4 text-gray-500"}),"نوع الخدمة"]}),t.jsxs(ob,{id:"type",value:a.type,onValueChange:y,children:[t.jsx(lb,{children:t.jsx(ut,{placeholder:"اختر نوع الخدمة"})}),t.jsxs(cb,{children:[t.jsx(wd,{value:"gig",children:"خدمة/حرفة"}),t.jsx(wd,{value:"product",children:"منتج قابل للبيع"})]})]})]})]})]}),t.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[t.jsxs(de,{className:"px-0 pt-6 pb-4",children:[t.jsx(he,{className:"text-xl text-gray-700",children:"صور الخدمة"}),t.jsx(nt,{children:"أضف أو عدّل صور خدمتك (حتى 5 صور)."})]}),t.jsxs("div",{children:[t.jsxs(ee,{htmlFor:"images",className:"flex items-center cursor-pointer border-2 border-dashed border-gray-300 rounded-md p-6 justify-center hover:border-primary transition-colors",children:[t.jsx(Va,{className:"ml-2 h-8 w-8 text-gray-400"}),t.jsx("span",{className:"text-gray-500",children:"انقر هنا لاختيار صور جديدة"})]}),t.jsx(oe,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:f,className:"hidden"}),o.length>0&&t.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:["                    ",o.map((N,S)=>t.jsxs("div",{className:"relative group aspect-square",children:[t.jsx("img",{src:typeof N=="string"?N:"https://images.unsplash.com/photo-1690721606848-ac5bdcde45ea",alt:`معاينة ${S+1}`,className:"w-full h-full object-cover rounded-md shadow"}),t.jsx(z,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>x(S),children:t.jsx(zs,{className:"h-3 w-3"})})]},S))]})]})]}),t.jsx(K.div,{className:"pt-6 flex justify-end",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:t.jsx(z,{type:"submit",size:"lg",className:"bg-green-500 hover:bg-green-600",disabled:p,children:p?t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"ml-2 h-5 w-5 animate-spin"})," جاري الحفظ..."]}):t.jsxs(t.Fragment,{children:[t.jsx(an,{className:"ml-2 h-5 w-5"})," حفظ التعديلات"]})})})]})})})]}):t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"لا يمكن تحميل الخدمة"}),t.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على الخدمة المطلوبة أو تم حذفها."}),t.jsx(z,{onClick:()=>s("/dashboard/gigs"),className:"mt-4",children:"العودة للوحة التحكم"})]})},zp=[{value:"gem",label:"جوهرة",icon:t.jsx(l6,{className:"w-5 h-5"})},{value:"star",label:"نجمة",icon:t.jsx(ze,{className:"w-5 h-5"})},{value:"heart",label:"قلب",icon:t.jsx(_n,{className:"w-5 h-5"})},{value:"shopping-bag",label:"تسوق",icon:t.jsx(Lt,{className:"w-5 h-5"})},{value:"book",label:"كتاب",icon:t.jsx(XA,{className:"w-5 h-5"})},{value:"camera",label:"كاميرا",icon:t.jsx(ZA,{className:"w-5 h-5"})},{value:"music",label:"موسيقى",icon:t.jsx(f6,{className:"w-5 h-5"})},{value:"coffee",label:"قهوة",icon:t.jsx(t6,{className:"w-5 h-5"})},{value:"gift",label:"هدية",icon:t.jsx(sc,{className:"w-5 h-5"})},{value:"scissors",label:"مقص",icon:t.jsx(p1,{className:"w-5 h-5"})},{value:"axe",label:"فأس",icon:t.jsx(KA,{className:"w-5 h-5"})},{value:"palette",label:"لوحة ألوان",icon:t.jsx(ua,{className:"w-5 h-5"})},{value:"briefcase",label:"حقيبة",icon:t.jsx(cp,{className:"w-5 h-5"})},{value:"droplet",label:"قطرة",icon:t.jsx(n6,{className:"w-5 h-5"})},{value:"fire",label:"نار",icon:t.jsx(i6,{className:"w-5 h-5"})},{value:"shirt",label:"قميص",icon:t.jsx(nh,{className:"w-5 h-5"})},{value:"image",label:"صورة",icon:t.jsx(Va,{className:"w-5 h-5"})},{value:"watch",label:"ساعة",icon:t.jsx(C6,{className:"w-5 h-5"})},{value:"hammer",label:"مطرقة",icon:t.jsx(c6,{className:"w-5 h-5"})},{value:"utensils",label:"أدوات مائدة",icon:t.jsx(rh,{className:"w-5 h-5"})}],ef=e=>{const s=zp.find(n=>n.value===e);return s?s.icon:null},db=e=>e?`https://handy3.abanoubsamir.com/backend/public/storage/${e}`:null,zU=()=>{const{user:e}=De(),{toast:s}=Ke(),[n,r]=u.useState([]),[a,i]=u.useState(null),[o,l]=u.useState({id:"",name:"",icon:"",description:"",image:null}),[c,d]=u.useState(!1),[m,h]=u.useState(!0),[p,v]=u.useState(!1),[w,g]=u.useState(null),[y,f]=u.useState(null);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){s({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}N()},[e]);const x=(D,I=!1)=>{const H=D.target.files[0];if(H){const O=new FileReader;O.onloadend=()=>{I?(f(O.result),i($=>({...$,image:H}))):(g(O.result),l($=>({...$,image:H})))},O.readAsDataURL(H)}},j=(D=!1)=>{D?(f(null),i(I=>({...I,image:null,removeImage:!0}))):(g(null),l(I=>({...I,image:null})))},N=async()=>{try{h(!0);const D=await Ce.getCategories();r(D.data||[])}catch(D){console.error("Error fetching categories:",D),s({variant:"destructive",title:"خطأ في تحميل التصنيفات",description:"تعذر تحميل التصنيفات من الخادم"})}finally{h(!1)}},S=async D=>{try{v(!0),await Ce.deleteCategory(D),r(I=>I.filter(H=>H.id!==D)),s({title:"تم حذف التصنيف",description:"تم حذف التصنيف بنجاح"})}catch(I){console.error("Error deleting category:",I),s({variant:"destructive",title:"خطأ في الحذف",description:"تعذر حذف التصنيف من الخادم"})}finally{v(!1)}},A=D=>{i({...D}),f(D.image?db(D.image):null)},C=async()=>{if(!a.name){s({variant:"destructive",title:"خطأ في البيانات",description:"اسم التصنيف مطلوب"});return}try{v(!0);let D;a.image instanceof File||a.removeImage?(D=new FormData,D.append("name",a.name),D.append("icon",a.icon||""),D.append("description",a.description||""),a.image instanceof File&&D.append("image",a.image),a.removeImage&&D.append("remove_image","1"),D.append("_method","PUT")):D={name:a.name,icon:a.icon,description:a.description};const I=await Ce.updateCategory(a.id,D);r(H=>H.map(O=>O.id===a.id?I.data:O)),s({title:"تم تحديث التصنيف",description:`تم تحديث التصنيف "${a.name}" بنجاح`}),i(null),f(null)}catch(D){console.error("Error updating category:",D),s({variant:"destructive",title:"خطأ في التحديث",description:"تعذر تحديث التصنيف في الخادم"})}finally{v(!1)}},k=()=>{i(null),f(null)},M=async()=>{if(!o.name){s({variant:"destructive",title:"خطأ في البيانات",description:"اسم التصنيف مطلوب"});return}try{v(!0);let D;o.image?(D=new FormData,D.append("name",o.name),D.append("icon",o.icon||""),D.append("description",o.description||""),D.append("image",o.image)):D={name:o.name,icon:o.icon,description:o.description};const I=await Ce.createCategory(D);r(H=>[...H,I.data]),s({title:"تم إضافة التصنيف",description:`تم إضافة التصنيف "${o.name}" بنجاح`}),l({id:"",name:"",icon:"",description:"",image:null}),g(null),d(!1)}catch(D){console.error("Error creating category:",D),s({variant:"destructive",title:"خطأ في الإضافة",description:"تعذر إضافة التصنيف إلى الخادم"})}finally{v(!1)}},P=()=>{l({id:"",name:"",icon:"",description:"",image:null}),g(null),d(!1)};return(e==null?void 0:e.role)!=="admin"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):m?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل التصنيفات..."})]}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs(K.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة التصنيفات"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"إضافة وتعديل وحذف تصنيفات المنتجات"})]}),"        ",t.jsxs(z,{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700",disabled:c||p,children:[p?t.jsx(Se,{className:"ml-2 h-5 w-5 animate-spin"}):t.jsx(Ar,{className:"ml-2 h-5 w-5"}),"إضافة تصنيف جديد"]})]}),c&&t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:t.jsxs(J,{className:"border-blue-200 shadow-md",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl text-gray-800",children:"إضافة تصنيف جديد"})}),"            ",t.jsxs(Q,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم التصنيف"}),t.jsx(oe,{value:o.name,onChange:D=>l({...o,name:D.target.value}),placeholder:"مثال: المجوهرات",className:"w-full",disabled:p})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الأيقونة"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:o.icon,onChange:D=>l({...o,icon:D.target.value}),className:"w-full border rounded px-3 py-2 appearance-none focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:p,children:[t.jsx("option",{value:"",children:"اختر أيقونة"}),zp.map(D=>t.jsx("option",{value:D.value,children:D.label},D.value))]}),t.jsx("span",{className:"absolute left-3 top-2.5 pointer-events-none",children:ef(o.icon)})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الوصف"}),t.jsx(oe,{value:o.description||"",onChange:D=>l({...o,description:D.target.value}),className:"w-full",placeholder:"اكتب وصف التصنيف هنا",disabled:p})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"صورة التصنيف"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:w?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:w,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg mx-auto"}),t.jsx(z,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:()=>j(!1),disabled:p,children:t.jsx(st,{className:"h-3 w-3"})})]}):t.jsxs("div",{className:"text-center",children:[t.jsx(fi,{className:"mx-auto h-8 w-8 text-gray-400"}),t.jsx("div",{className:"mt-2",children:t.jsxs("label",{htmlFor:"category-image",className:"cursor-pointer",children:[t.jsx("span",{className:"text-sm text-blue-600 hover:text-blue-500",children:"اختر صورة"}),t.jsx("input",{id:"category-image",type:"file",className:"hidden",accept:"image/*",onChange:D=>x(D,!1),disabled:p})]})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 2MB"})]})})]}),t.jsxs("div",{className:"flex justify-end mt-4 space-x-2 space-x-reverse",children:[t.jsxs(z,{onClick:P,variant:"outline",className:"border-gray-300",disabled:p,children:[t.jsx(st,{className:"ml-2 h-4 w-4"})," إلغاء"]}),t.jsxs(z,{onClick:M,className:"bg-blue-600 hover:bg-blue-700",disabled:p,children:[p?t.jsx(Se,{className:"ml-2 h-4 w-4 animate-spin"}):t.jsx(an,{className:"ml-2 h-4 w-4"}),"حفظ"]})]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((D,I)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.05},children:a&&a.id===D.id?t.jsxs(J,{className:"border-blue-200 shadow-md",children:[t.jsxs(de,{children:[t.jsx(he,{className:"text-xl text-gray-800",children:"تعديل التصنيف"}),t.jsx(nt,{className:"text-gray-500 mt-1",children:'يمكنك تعديل اسم التصنيف أو الأيقونة أو الوصف ثم الضغط على "حفظ" لتحديث البيانات.'})]}),"                ",t.jsxs(Q,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم التصنيف"}),t.jsx(oe,{value:a.name,onChange:H=>i({...a,name:H.target.value}),className:"w-full",disabled:p})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الأيقونة"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:a.icon,onChange:H=>i({...a,icon:H.target.value}),className:"w-full border rounded px-3 py-2 appearance-none focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:p,children:[t.jsx("option",{value:"",children:"اختر أيقونة"}),zp.map(H=>t.jsx("option",{value:H.value,children:H.label},H.value))]}),t.jsx("span",{className:"absolute left-3 top-2.5 pointer-events-none",children:ef(a.icon)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الوصف"}),t.jsx(oe,{value:a.description||"",onChange:H=>i({...a,description:H.target.value}),className:"w-full",placeholder:"اكتب وصف التصنيف هنا",disabled:p})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"صورة التصنيف"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:y?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:y,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg mx-auto"}),t.jsx(z,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:()=>j(!0),disabled:p,children:t.jsx(st,{className:"h-3 w-3"})})]}):t.jsxs("div",{className:"text-center",children:[t.jsx(fi,{className:"mx-auto h-8 w-8 text-gray-400"}),t.jsx("div",{className:"mt-2",children:t.jsxs("label",{htmlFor:"edit-category-image",className:"cursor-pointer",children:[t.jsx("span",{className:"text-sm text-blue-600 hover:text-blue-500",children:"اختر صورة"}),t.jsx("input",{id:"edit-category-image",type:"file",className:"hidden",accept:"image/*",onChange:H=>x(H,!0),disabled:p})]})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 2MB"})]})})]})]}),t.jsxs("div",{className:"flex justify-end mt-4 space-x-2 space-x-reverse",children:[t.jsxs(z,{onClick:k,variant:"outline",className:"border-gray-300",disabled:p,children:[t.jsx(st,{className:"ml-2 h-4 w-4"})," إلغاء"]}),t.jsxs(z,{onClick:C,className:"bg-blue-600 hover:bg-blue-700",disabled:p,children:[p?t.jsx(Se,{className:"ml-2 h-4 w-4 animate-spin"}):t.jsx(an,{className:"ml-2 h-4 w-4"}),"حفظ"]})]})]})]}):t.jsxs(J,{className:"shadow-lg hover:shadow-xl transition-shadow border-blue-100",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-full mr-3",children:t.jsx(Pa,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(he,{className:"text-lg text-gray-800",children:D.name}),t.jsx(nt,{className:"text-xs text-blue-500 mt-1",children:D.description||"لا يوجد وصف لهذا التصنيف."})]})]}),"                "]}),t.jsxs(Q,{children:[D.image&&t.jsx("div",{className:"mb-4",children:t.jsx("img",{src:db(D.image),alt:D.name,className:"w-16 h-16 object-cover rounded-lg mx-auto"})}),t.jsx("div",{className:"flex justify-between items-center text-sm text-gray-500",children:t.jsxs("span",{children:["الأيقونة: ",ef(D.icon)||D.icon]})}),t.jsxs("div",{className:"flex justify-end mt-4 space-x-2 space-x-reverse",children:[t.jsxs(z,{onClick:()=>A(D),variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",disabled:p,children:[t.jsx(Do,{className:"ml-1 h-4 w-4"})," تعديل"]}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"destructive",size:"sm",disabled:p,children:[p?t.jsx(Se,{className:"ml-1 h-4 w-4 animate-spin"}):t.jsx(zs,{className:"ml-1 h-4 w-4"}),"حذف"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"هل أنت متأكد من حذف هذا التصنيف؟"}),t.jsxs(cs,{children:['سيؤدي هذا الإجراء إلى حذف التصنيف "',D.name,'" نهائيًا. قد يؤثر هذا على المنتجات المرتبطة بهذا التصنيف.']})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsx(ds,{onClick:()=>S(D.id),className:"bg-red-600 hover:bg-red-700",children:"حذف"})]})]})]})]})]})]})},D.id))})]})},tf=({children:e,value:s,onValueChange:n,...r})=>t.jsx(yt,{dir:"rtl",value:s,onValueChange:n,...r,children:e}),sf=({children:e,...s})=>t.jsx(ht,{className:"text-right",...s,children:e}),nf=({children:e,...s})=>t.jsx(mt,{align:"end",className:"rtl-select-content",...s,children:e}),gt=({children:e,...s})=>t.jsx(Ne,{className:"text-right",...s,children:e}),rf=({children:e,...s})=>t.jsx(ut,{className:"text-right",...s,children:e}),VU=()=>{const{toast:e}=Ke(),[s,n]=u.useState([]),[r,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(!1),[d,m]=u.useState(null),[h,p]=u.useState(""),[v,w]=u.useState(""),[g,y]=u.useState(null),[f,x]=u.useState(""),[j,N]=u.useState(""),[S,A]=u.useState({search:"",date_from:"",date_to:""}),[C,k]=u.useState("all"),[M,P]=u.useState("all"),D=u.useCallback(async(T,U,se)=>{o(!0);try{const ie={search:T.search,status:U==="all"?"":U,payment_proof:se==="all"?"":se,date_from:T.date_from,date_to:T.date_to},fe=await Ce.getOrders(ie);n(fe.data||[]),a(fe.data||[])}catch(ie){console.error("Error loading orders:",ie),e({variant:"destructive",title:"خطأ في تحميل الطلبات",description:"حدث خطأ أثناء تحميل الطلبات. يرجى المحاولة مرة أخرى."})}finally{o(!1)}},[e]);u.useEffect(()=>{D(S,C,M)},[C,M,D]);const I=T=>{const{name:U,value:se}=T.target;A(ie=>({...ie,[U]:se}))},H=()=>{D(S,C,M)},O=()=>{const T={search:"",date_from:"",date_to:""};A(T),k("all"),P("all"),D(T,"all","all")},$=async T=>{c(!0);try{await Ce.adminApproveOrder(T,h),e({title:"تم اعتماد الطلب",description:"تم اعتماد الطلب بنجاح وإرساله للبائع."}),p(""),m(null),D(S,C,M)}catch(U){console.error("Error approving order:",U),e({variant:"destructive",title:"خطأ في اعتماد الطلب",description:"حدث خطأ أثناء اعتماد الطلب."})}finally{c(!1)}},W=async T=>{if(!v.trim()){e({variant:"destructive",title:"سبب الرفض مطلوب",description:"يرجى إدخال سبب رفض الطلب."});return}c(!0);try{await Ce.rejectOrder(T,v),e({title:"تم رفض الطلب",description:"تم رفض الطلب وإشعار العميل."}),w(""),m(null),D(S,C,M)}catch(U){console.error("Error rejecting order:",U),e({variant:"destructive",title:"خطأ في رفض الطلب",description:"حدث خطأ أثناء رفض الطلب."})}finally{c(!1)}},G=async T=>{if(!f){e({variant:"destructive",title:"الحالة الجديدة مطلوبة",description:"يرجى اختيار الحالة الجديدة للطلب."});return}c(!0);try{await Ce.adminUpdateOrderStatus(T,f,j),e({title:"تم تحديث حالة الطلب",description:"تم تحديث حالة الطلب بنجاح وإشعار الأطراف المعنية."}),x(""),N(""),y(null),D(S,C,M)}catch(U){console.error("Error updating order status:",U),e({variant:"destructive",title:"خطأ في تحديث حالة الطلب",description:"حدث خطأ أثناء تحديث حالة الطلب."})}finally{c(!1)}},R=T=>({pending:"بانتظار المراجعة",admin_approved:"معتمد من الإدارة",seller_approved:"مقبول من البائع",in_progress:"جاري العمل",ready_for_delivery:"جاهز للتوصيل",out_for_delivery:"في الطريق",delivered:"تم التوصيل",completed:"مكتمل",cancelled:"ملغى",suspended:"معلق"})[T]||T,V=T=>{const U={pending:{label:"بانتظار المراجعة",color:"bg-amber-100 text-amber-800"},admin_approved:{label:"معتمد من الإدارة",color:"bg-blue-100 text-blue-800"},seller_approved:{label:"مقبول من البائع",color:"bg-green-100 text-green-800"},in_progress:{label:"جاري العمل",color:"bg-purple-100 text-purple-800"},ready_for_delivery:{label:"جاهز للتوصيل",color:"bg-indigo-100 text-indigo-800"},out_for_delivery:{label:"في الطريق",color:"bg-orange-100 text-orange-800"},delivered:{label:"تم التوصيل",color:"bg-green-100 text-green-800"},completed:{label:"مكتمل",color:"bg-green-100 text-green-800"},cancelled:{label:"ملغى",color:"bg-red-100 text-red-800"},suspended:{label:"معلق",color:"bg-yellow-100 text-yellow-800"}},se=U[T]||U.pending;return t.jsx(me,{variant:"outline",className:se.color,children:se.label})},q=({order:T})=>{var se,ie,fe;const U=T.status==="pending"&&(T.payment_proof||T.payment_method==="cash_on_delivery"||T.deposit_image||T.remaining_payment_proof);return t.jsxs(Hr,{children:[t.jsx(gi,{asChild:!0,children:t.jsxs(z,{variant:"outline",size:"sm",children:[t.jsx(en,{className:"h-4 w-4 ml-1"}),"عرض التفاصيل"]})}),t.jsxs(fr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(pr,{children:[t.jsxs(xr,{children:["تفاصيل الطلب رقم: ",T.id]}),t.jsxs(pg,{children:["تاريخ إنشاء الطلب: ",new Date(T.created_at).toLocaleString("ar-EG")]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"معلومات الطلب"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"الحالة:"}),V(T.status)]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"المبلغ الإجمالي:"}),t.jsx("span",{className:"font-semibold",children:T.buyer_proposed_price&&T.price_approval_status==="approved"?`${T.buyer_proposed_price} جنيه (سعر متفاوض عليه)`:`${T.total_amount} جنيه`})]}),T.buyer_proposed_price&&T.price_approval_status==="approved"&&t.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[t.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[t.jsx("span",{children:"السعر الأصلي:"}),t.jsxs("span",{className:"line-through",children:[T.original_service_price," جنيه"]})]}),t.jsxs("div",{className:"flex justify-between text-blue-700 font-semibold",children:[t.jsx("span",{children:"السعر المتفق عليه:"}),t.jsxs("span",{children:[T.buyer_proposed_price," جنيه"]})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"طريقة الدفع:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:T.payment_method_ar||T.payment_method}),T.payment_method==="cash_on_delivery"&&t.jsx(me,{variant:"outline",className:"bg-blue-50 text-blue-800 text-xs",children:"عند الاستلام"}),T.is_service_order&&t.jsx(me,{variant:"outline",className:"bg-green-50 text-green-800 text-xs",children:"طلب خدمة"})]})]}),T.is_service_order&&T.requires_deposit&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"قيمة العربون:"}),t.jsxs("span",{className:"font-semibold text-green-600",children:[T.deposit_amount," جنيه"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"حالة العربون:"}),t.jsx(me,{variant:T.deposit_status==="paid"?"default":"secondary",className:T.deposit_status==="paid"?"bg-green-100 text-green-800 border-green-200":"bg-amber-100 text-amber-800 border-amber-200",children:T.deposit_status==="paid"?"مدفوع ✓":"غير مدفوع ⏳"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"المبلغ المتبقي:"}),t.jsxs("span",{className:"font-semibold text-blue-600",children:[T.total_amount-T.deposit_amount," جنيه"]})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"معلومات العميل"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(tt,{className:"h-4 w-4 ml-2 text-gray-500"}),t.jsx("span",{children:((se=T.user)==null?void 0:se.name)||"غير محدد"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 ml-2 text-gray-500"}),t.jsx("span",{children:T.customer_phone||"غير محدد"})]}),T.delivery_address&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(zt,{className:"h-4 w-4 ml-2 mt-1 text-gray-500"}),t.jsx("span",{children:T.delivery_address})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"معلومات البائع"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(tt,{className:"h-4 w-4 ml-2 text-gray-500"}),t.jsx("span",{children:((ie=T.seller)==null?void 0:ie.name)||"غير محدد"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 ml-2 text-gray-500"}),t.jsx("span",{children:((fe=T.seller)==null?void 0:fe.phone)||"غير محدد"})]})]})]}),T.status==="suspended"&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsxs("h4",{className:"font-semibold mb-2 text-yellow-800 flex items-center",children:[t.jsx(hs,{className:"h-4 w-4 ml-2"}),"معلومات التعليق"]}),t.jsxs("div",{className:"space-y-2 text-sm text-yellow-700",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"تاريخ التعليق:"}),t.jsx("span",{children:T.suspended_at?new Date(T.suspended_at).toLocaleString("ar-EG"):"غير محدد"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"سبب التعليق:"}),t.jsx("p",{className:"mt-1 bg-yellow-100 p-2 rounded text-yellow-800",children:T.suspension_reason||"لم يتم تحديد سبب"})]}),T.delivery_person&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"الدليفري المسؤول:"}),t.jsx("span",{children:T.delivery_person.name})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"عناصر الطلب"}),t.jsx("div",{className:"space-y-2",children:T.items&&T.items.map((ue,le)=>{var Pe,L,Y;return t.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse p-2 bg-gray-50 rounded",children:[t.jsx("img",{src:((Pe=ue.product)==null?void 0:Pe.image)||"https://via.placeholder.com/50",alt:((L=ue.product)==null?void 0:L.name)||"منتج",className:"w-12 h-12 object-cover rounded"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:((Y=ue.product)==null?void 0:Y.name)||"منتج"}),t.jsxs("p",{className:"text-xs text-gray-600",children:[ue.quantity," × ",ue.price," = ",ue.total," جنيه"]}),T.buyer_proposed_price&&T.price_approval_status==="approved"&&t.jsxs("div",{className:"mt-1 text-xs text-blue-600",children:[t.jsxs("span",{className:"line-through text-gray-500",children:["السعر الأصلي: ",T.original_service_price," ج.م"]}),t.jsx("br",{}),t.jsxs("span",{className:"font-semibold",children:["السعر المتفق عليه: ",T.buyer_proposed_price," ج.م"]})]})]})]},le)})})]}),T.is_service_order&&T.deposit_image&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[t.jsx(Ws,{className:"h-4 w-4 ml-2 text-green-600"}),"إيصال العربون (طلب خدمة)"]}),t.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mb-3",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full ml-2"}),t.jsx("span",{className:"font-medium text-green-800",children:"طلب خدمة - تم دفع العربون"})]}),t.jsxs("p",{className:"text-sm text-green-700",children:["قيمة العربون: ",T.deposit_amount," جنيه"]}),t.jsxs("p",{className:"text-xs text-green-600 mt-1 font-medium",children:["المبلغ المتبقي: ",T.total_amount-T.deposit_amount," جنيه"]})]}),t.jsx("img",{src:T.deposit_image_url||T.deposit_image,alt:"إيصال العربون",className:"max-w-full h-auto rounded-md border cursor-pointer",onClick:()=>window.open(T.deposit_image_url||T.deposit_image,"_blank")})]}),T.is_service_order&&T.remaining_payment_proof&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[t.jsx(Ws,{className:"h-4 w-4 ml-2 text-blue-600"}),"إيصال باقي المبلغ (طلب خدمة)"]}),t.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-3",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full ml-2"}),t.jsx("span",{className:"font-medium text-blue-800",children:"تم رفع إثبات دفع باقي المبلغ"})]}),t.jsxs("p",{className:"text-sm text-blue-700",children:["المبلغ المتبقي: ",T.total_amount-T.deposit_amount," جنيه"]}),T.status==="pending"&&T.remaining_payment_proof&&t.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:"⏳ ينتظر مراجعة الإدارة"})]}),t.jsx("img",{src:T.remaining_payment_proof_url||T.remaining_payment_proof,alt:"إيصال باقي المبلغ",className:"max-w-full h-auto rounded-md border cursor-pointer",onClick:()=>window.open(T.remaining_payment_proof_url||T.remaining_payment_proof,"_blank")})]}),T.is_service_order&&T.service_requirements&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"متطلبات الخدمة"}),t.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-blue-800",children:T.service_requirements})})]}),T.payment_proof?t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"إيصال الدفع"}),t.jsx("img",{src:T.payment_proof,alt:"إيصال الدفع",className:"max-w-full h-auto rounded-md border cursor-pointer",onClick:()=>window.open(T.payment_proof,"_blank")})]}):T.payment_method==="cash_on_delivery"?t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[t.jsx(Ws,{className:"h-4 w-4 ml-2 text-blue-600"}),"طريقة الدفع"]}),t.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full ml-2"}),t.jsx("span",{className:"font-medium text-blue-800",children:"دفع عند الاستلام"})]}),t.jsx("p",{className:"text-sm text-blue-700",children:"سيتم تحصيل المبلغ عند توصيل الطلب للعميل"}),t.jsxs("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:["المبلغ المطلوب: ",T.total_amount," جنيه"]})]})]}):null,(T.history&&T.history.length>0||T.timeline&&T.timeline.length>0)&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[t.jsx(hr,{className:"h-4 w-4 ml-2 text-roman-500"}),"الجدول الزمني"]}),t.jsxs("div",{className:"relative max-h-48 overflow-y-auto",children:[t.jsx("div",{className:"absolute right-6 top-0 bottom-0 w-0.5 bg-roman-500/30"}),t.jsx("div",{className:"space-y-4",children:(T.history||T.timeline||[]).map((ue,le)=>t.jsxs(K.div,{className:"relative flex items-start space-x-3 space-x-reverse",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:le*.1},children:[t.jsx("div",{className:"flex-shrink-0 relative z-10",children:t.jsx("div",{className:"w-12 h-12 bg-roman-500 rounded-full flex items-center justify-center shadow-md border-3 border-white",children:t.jsx(ws,{className:"h-4 w-4 text-white"})})}),t.jsxs("div",{className:"flex-1 bg-gray-50 p-3 rounded-lg shadow-sm border border-gray-100 min-w-0",children:[t.jsx("h5",{className:"font-medium text-gray-800 mb-1 text-sm",children:ue.action_type_ar||ue.action_type_label||ue.label}),t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:new Date(ue.created_at||ue.date).toLocaleString("ar-EG")}),ue.action_user&&ue.action_user.name&&ue.action_user.name.trim()!==""&&t.jsxs("p",{className:"text-xs text-green-600 mb-1",children:["بواسطة: ",ue.action_user.name]}),ue.old_status&&ue.new_status&&t.jsxs("p",{className:"text-xs text-blue-600 mb-1",children:['من "',R(ue.old_status),'" إلى "',R(ue.new_status),'"']}),(ue.notes||ue.note)&&t.jsx("p",{className:"text-xs text-gray-700 bg-blue-50 p-2 rounded-md border-r-2 border-blue-400 mt-2",children:ue.notes||ue.note})]})]},le))})]})]})]})]}),U&&t.jsxs("div",{className:"space-y-3 mt-6",children:[T.is_service_order&&T.deposit_image&&!T.remaining_payment_proof&&t.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ws,{className:"h-4 w-4 ml-2 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-green-800",children:"طلب بعربون - المرحلة الأولى"})]}),t.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["تم دفع عربون بقيمة ",T.deposit_amount," جنيه من إجمالي ",T.total_amount," جنيه"]})]}),T.payment_method==="cash_on_delivery"&&t.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ws,{className:"h-4 w-4 ml-2 text-amber-600"}),t.jsx("span",{className:"text-sm font-medium text-amber-800",children:"طلب دفع عند الاستلام"})]}),t.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"يرجى التأكد من صحة بيانات الطلب قبل الاعتماد"})]}),T.is_service_order&&T.remaining_payment_proof&&t.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ws,{className:"h-4 w-4 ml-2 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-blue-800",children:"تم رفع إثبات دفع باقي المبلغ"})]}),t.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"يرجى مراجعة صورة إثبات دفع باقي المبلغ قبل الاعتماد"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>m(T),children:[t.jsx(Be,{className:"h-4 w-4 ml-2"}),"اعتماد الطلب"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"اعتماد الطلب"}),t.jsxs(cs,{children:["هل أنت متأكد من رغبتك في اعتماد طلب رقم ",T.id,"؟",T.is_service_order&&T.deposit_image&&!T.remaining_payment_proof&&t.jsxs("span",{className:"block mt-2 text-green-600 font-medium",children:["ملاحظة: هذا طلب بعربون - تم دفع ",T.deposit_amount," جنيه من أصل ",T.total_amount," جنيه"]}),T.is_service_order&&T.remaining_payment_proof&&t.jsx("span",{className:"block mt-2 text-blue-600 font-medium",children:"ملاحظة: تم رفع إثبات دفع باقي المبلغ - سيتم اعتبار الطلب مدفوع بالكامل"}),T.payment_method==="cash_on_delivery"&&t.jsx("span",{className:"block mt-2 text-amber-600 font-medium",children:"ملاحظة: هذا طلب دفع عند الاستلام"})]})]}),t.jsxs("div",{className:"my-4",children:[t.jsx(ee,{children:"ملاحظات الاعتماد (اختيارية)"}),t.jsx(et,{value:h,onChange:ue=>p(ue.target.value),placeholder:T.deposit_image&&!T.remaining_payment_proof?"أدخل ملاحظات للبائع حول اعتماد العربون...":T.remaining_payment_proof?"أدخل ملاحظات للبائع حول اعتماد الدفع النهائي...":T.payment_method==="cash_on_delivery"?"أدخل أي ملاحظات للبائع حول طلب الدفع عند الاستلام...":"أدخل أي ملاحظات للبائع..."})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsxs(ds,{onClick:()=>$(T.id),disabled:l,className:"bg-green-600 hover:bg-green-700",children:[l?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):null,"اعتماد الطلب"]})]})]})]}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"destructive",className:"flex-1",onClick:()=>m(T),children:[t.jsx(hs,{className:"h-4 w-4 ml-2"}),"رفض الطلب"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"رفض الطلب"}),t.jsxs(cs,{children:["هل أنت متأكد من رغبتك في رفض طلب رقم ",T.id,"؟",T.payment_method==="cash_on_delivery"&&t.jsx("span",{className:"block mt-2 text-amber-600 font-medium",children:"ملاحظة: هذا طلب دفع عند الاستلام"})]})]}),t.jsxs("div",{className:"my-4",children:[t.jsx(ee,{children:"سبب الرفض *"}),t.jsx(et,{value:v,onChange:ue=>w(ue.target.value),placeholder:"أدخل سبب رفض الطلب...",required:!0})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsxs(ds,{onClick:()=>W(T.id),disabled:l||!v.trim(),className:"bg-red-600 hover:bg-red-700",children:[l?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):null,"رفض الطلب"]})]})]})]})]})]})]})]})};return i?t.jsx("div",{className:"flex justify-center items-center min-h-64",children:t.jsx(Se,{className:"h-8 w-8 animate-spin"})}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-neutral-900",children:"إدارة الطلبات"}),t.jsx("p",{className:"text-neutral-900/70",children:"مراجعة واعتماد الطلبات الجديدة"})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(Tr,{className:"h-5 w-5 ml-2"}),"فلترة الطلبات"]})}),t.jsxs(Q,{children:[t.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"md:col-span-3 lg:col-span-2",children:[t.jsx(ee,{children:"البحث"}),t.jsx(oe,{name:"search",value:S.search,onChange:I,placeholder:"رقم الطلب، اسم العميل أو البائع..."})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"من تاريخ"}),t.jsx(oe,{type:"date",name:"date_from",value:S.date_from,onChange:I})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"إلى تاريخ"}),t.jsx(oe,{type:"date",name:"date_to",value:S.date_to,onChange:I})]}),t.jsxs("div",{className:"flex items-end gap-2",children:[t.jsxs(z,{onClick:H,className:"w-full",children:[t.jsx(As,{className:"h-4 w-4 ml-2"}),"بحث"]}),t.jsx(z,{onClick:O,variant:"outline",className:"w-full",children:"إعادة تعيين"})]})]}),t.jsx(dt,{className:"my-4"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{children:"حالة الطلب"}),t.jsxs(tf,{value:C,onValueChange:k,children:[t.jsx(sf,{children:t.jsx(rf,{placeholder:"جميع الحالات"})}),t.jsxs(nf,{children:[t.jsx(gt,{value:"all",children:"جميع الحالات"}),t.jsx(gt,{value:"pending",children:"بانتظار المراجعة"}),t.jsx(gt,{value:"admin_approved",children:"معتمد من الإدارة"}),t.jsx(gt,{value:"seller_approved",children:"مقبول من البائع"}),t.jsx(gt,{value:"in_progress",children:"جاري العمل"}),t.jsx(gt,{value:"ready_for_delivery",children:"جاهز للتوصيل"}),t.jsx(gt,{value:"out_for_delivery",children:"في الطريق"}),t.jsx(gt,{value:"delivered",children:"تم التوصيل"}),t.jsx(gt,{value:"completed",children:"مكتمل"}),t.jsx(gt,{value:"cancelled",children:"ملغى"}),t.jsx(gt,{value:"suspended",children:"معلق"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"طريقة الدفع"}),t.jsxs(tf,{value:M,onValueChange:P,children:[t.jsx(sf,{children:t.jsx(rf,{placeholder:"جميع الطلبات"})}),t.jsxs(nf,{children:[t.jsx(gt,{value:"all",children:"جميع الطلبات"}),t.jsx(gt,{value:"with_proof",children:"مع إيصال دفع"}),t.jsx(gt,{value:"without_proof",children:"بدون إيصال دفع"}),t.jsx(gt,{value:"cash_on_delivery",children:"دفع عند الاستلام"})]})]})]})]})]})]}),t.jsx("div",{className:"grid gap-4",children:r.length===0?t.jsx(J,{className:"text-center py-12",children:t.jsxs(Q,{children:[t.jsx(It,{className:"h-24 w-24 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"لا توجد طلبات"}),t.jsx("p",{className:"text-gray-500",children:"لا توجد طلبات تطابق معايير البحث المحددة."})]})}):r.map((T,U)=>{var se,ie,fe;return t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:U*.1},children:t.jsxs(J,{className:`group relative hover:shadow-xl transition-all duration-300 border-0 shadow-lg bg-white overflow-hidden ${T.status==="suspended"?"ring-2 ring-yellow-300 bg-yellow-50":""}`,children:[t.jsx("div",{className:"absolute inset-0 bg-roman-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),T.status==="suspended"&&t.jsx("div",{className:"absolute top-0 right-0 bg-yellow-500 text-white px-3 py-1 text-xs font-bold rounded-bl-lg",children:"معلق"}),t.jsx(Q,{className:"p-6 relative",children:t.jsxs("div",{className:"grid md:grid-cols-4 gap-4 items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{children:[t.jsxs("h4",{className:"inline-block px-3 py-1 rounded-full bg-roman-500 text-white text-sm font-bold",children:["طلب #",T.id]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(T.created_at).toLocaleDateString("ar-EG")}),T.payment_method==="cash_on_delivery"&&t.jsx("div",{className:"mt-1",children:t.jsxs(me,{variant:"outline",className:"bg-blue-50 text-blue-700 text-xs",children:[t.jsx(Ws,{className:"h-3 w-3 ml-1"}),"دفع عند الاستلام"]})}),T.payment_proof&&T.payment_method!=="cash_on_delivery"&&t.jsx("div",{className:"mt-1",children:t.jsxs(me,{variant:"outline",className:"bg-green-50 text-green-700 text-xs",children:[t.jsx(Be,{className:"h-3 w-3 ml-1"}),"مع إيصال دفع"]})})]})})}),t.jsxs("div",{className:"flex items-center justify-between",children:[V(T.status),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"الإجمالي"}),t.jsxs("p",{className:"text-lg font-bold text-roman-500",children:[T.total_amount," ج.م"]})]})]})]}),t.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:[t.jsx("h5",{className:"text-xs font-semibold text-green-700 mb-2",children:"معلومات العميل"}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(tt,{className:"h-4 w-4 ml-1 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:((se=T.user)==null?void 0:se.name)||"غير محدد"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 ml-1 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:T.customer_phone||"غير محدد"})]})]}),t.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-100",children:[t.jsx("h5",{className:"text-xs font-semibold text-orange-700 mb-2",children:"معلومات البائع"}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(tt,{className:"h-4 w-4 ml-1 text-orange-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:((ie=T.seller)==null?void 0:ie.name)||"غير محدد"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(It,{className:"h-4 w-4 ml-1 text-orange-600"}),t.jsxs("span",{className:"text-sm text-gray-600",children:[((fe=T.items)==null?void 0:fe.length)||0," عنصر"]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx(q,{order:T}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{size:"sm",variant:"outline",className:"w-full border-blue-200 hover:bg-blue-50",onClick:()=>y(T),children:[t.jsx(dp,{className:"h-4 w-4 ml-1"}),"تحديث الحالة"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"تحديث حالة الطلب"}),t.jsxs(cs,{children:["تحديث حالة الطلب رقم ",T.id,' من "',R(T.status),'" إلى حالة جديدة']})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{children:"الحالة الجديدة *"}),t.jsxs(tf,{value:f,onValueChange:x,children:[t.jsx(sf,{children:t.jsx(rf,{placeholder:"اختر الحالة الجديدة"})}),t.jsxs(nf,{children:[t.jsx(gt,{value:"pending",children:"بانتظار المراجعة"}),t.jsx(gt,{value:"admin_approved",children:"معتمد من الإدارة"}),t.jsx(gt,{value:"seller_approved",children:"مقبول من البائع"}),t.jsx(gt,{value:"in_progress",children:"جاري العمل"}),t.jsx(gt,{value:"ready_for_delivery",children:"جاهز للتوصيل"}),t.jsx(gt,{value:"out_for_delivery",children:"في الطريق"}),t.jsx(gt,{value:"delivered",children:"تم التوصيل"}),t.jsx(gt,{value:"completed",children:"مكتمل"}),t.jsx(gt,{value:"cancelled",children:"ملغى"}),t.jsx(gt,{value:"suspended",children:"معلق"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"ملاحظات التحديث (اختيارية)"}),t.jsx(et,{value:j,onChange:ue=>N(ue.target.value),placeholder:"أدخل أي ملاحظات حول تحديث الحالة...",rows:3})]})]}),t.jsxs(os,{children:[t.jsx(us,{onClick:()=>{x(""),N(""),y(null)},children:"إلغاء"}),t.jsxs(ds,{onClick:()=>G(T.id),disabled:l||!f,className:"bg-blue-600 hover:bg-blue-700",children:[l?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):null,"تحديث الحالة"]})]})]})]}),T.status==="pending"&&(T.payment_proof||T.payment_method==="cash_on_delivery"||T.deposit_image||T.remaining_payment_proof)&&t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>m(T),children:[t.jsx(Be,{className:"h-4 w-4 ml-1"}),"اعتماد"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"اعتماد الطلب"}),t.jsxs(cs,{children:["هل أنت متأكد من رغبتك في اعتماد طلب رقم ",T.id,"؟",T.deposit_image&&t.jsx("span",{className:"block mt-2 text-blue-600 font-medium",children:"ملاحظة: هذا طلب بعربون"}),T.remaining_payment_proof&&t.jsx("span",{className:"block mt-2 text-green-600 font-medium",children:"ملاحظة: تم رفع إثبات دفع باقي المبلغ"}),T.payment_method==="cash_on_delivery"&&t.jsx("span",{className:"block mt-2 text-amber-600 font-medium",children:"ملاحظة: هذا طلب دفع عند الاستلام"})]})]}),t.jsxs("div",{className:"my-4",children:[t.jsx(ee,{children:"ملاحظات الاعتماد (اختيارية)"}),t.jsx(et,{value:h,onChange:ue=>p(ue.target.value),placeholder:"أدخل أي ملاحظات للبائع..."})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsxs(ds,{onClick:()=>$(T.id),disabled:l,className:"bg-green-600 hover:bg-green-700",children:[l?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):null,"اعتماد الطلب"]})]})]})]}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{size:"sm",variant:"destructive",className:"flex-1",onClick:()=>m(T),children:[t.jsx(hs,{className:"h-4 w-4 ml-1"}),"رفض"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"رفض الطلب"}),t.jsxs(cs,{children:["هل أنت متأكد من رغبتك في رفض طلب رقم ",T.id,"؟ سيتم إشعار العميل بالرفض."]})]}),t.jsxs("div",{className:"my-4",children:[t.jsx(ee,{children:"سبب الرفض (مطلوب)"}),t.jsx(et,{value:v,onChange:ue=>w(ue.target.value),placeholder:"أدخل سبب رفض الطلب..."})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsxs(ds,{onClick:()=>W(T.id),disabled:l||!v.trim(),className:"bg-red-600 hover:bg-red-700",children:[l?t.jsx(Se,{className:"h-4 w-4 animate-spin ml-2"}):null,"رفض الطلب"]})]})]})]})]}),T.status==="pending"&&!T.payment_proof&&!T.deposit_image&&!T.remaining_payment_proof&&T.payment_method!=="cash_on_delivery"&&t.jsx(me,{variant:"outline",className:"bg-amber-50 text-amber-800 text-center",children:"بانتظار إيصال الدفع"}),T.status==="pending"&&T.payment_method==="cash_on_delivery"&&t.jsx(me,{variant:"outline",className:"bg-blue-50 text-blue-800 text-center",children:"دفع عند الاستلام - جاهز للمراجعة"}),T.status==="suspended"&&t.jsxs("div",{className:"bg-yellow-100 border border-yellow-300 rounded p-3 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center mb-2",children:[t.jsx(hs,{className:"h-4 w-4 ml-1 text-yellow-700"}),t.jsx("span",{className:"text-sm font-semibold text-yellow-800",children:"طلب معلق"})]}),t.jsxs("p",{className:"text-xs text-yellow-700 mb-1",children:["تاريخ التعليق: ",T.suspended_at?new Date(T.suspended_at).toLocaleDateString("ar-EG"):"غير محدد"]}),T.suspension_reason&&t.jsxs("p",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded border",children:["السبب: ",T.suspension_reason]})]})]})]})})]})},T.id)})}),t.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[t.jsx(J,{children:t.jsxs(Q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-600",children:s.filter(T=>T.status==="pending").length}),t.jsx("div",{className:"text-sm text-gray-600",children:"بانتظار المراجعة"})]})}),t.jsx(J,{children:t.jsxs(Q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(T=>T.status==="admin_approved").length}),t.jsx("div",{className:"text-sm text-gray-600",children:"معتمد من الإدارة"})]})}),t.jsx(J,{children:t.jsxs(Q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(T=>["completed","delivered"].includes(T.status)).length}),t.jsx("div",{className:"text-sm text-gray-600",children:"مكتمل"})]})}),t.jsx(J,{children:t.jsxs(Q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.filter(T=>T.status==="suspended").length}),t.jsx("div",{className:"text-sm text-gray-600",children:"معلق"})]})}),t.jsx(J,{children:t.jsxs(Q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.filter(T=>T.status==="cancelled").length}),t.jsx("div",{className:"text-sm text-gray-600",children:"ملغى"})]})})]})]})},UU=()=>{const{user:e}=De(),{toast:s}=Ke(),n=We(),[r,a]=u.useState(""),[i,o]=u.useState(""),[l,c]=u.useState([]),[d,m]=u.useState([]),[h,p]=u.useState(!0),[v,w]=u.useState(!1),[g,y]=u.useState(1),[f,x]=u.useState(1),[j,N]=u.useState(0),[S,A]=u.useState(5);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){s({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}C(),k()},[e]),u.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&C()},[r,i,g,e]);const C=async()=>{try{p(!0);const R={page:g};r&&(R.search=r),i&&(R.category=i);const V=await Ce.getProducts(R);console.log("Full API Response:",V),V.data&&Array.isArray(V.data)&&(c(V.data||[]),y(V.meta.current_page||1),x(V.meta.last_page||1),N(V.meta.total||0),A(V.meta.per_page||5))}catch(R){console.error("Error fetching products:",R),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب بيانات المنتجات"})}finally{p(!1)}},k=async()=>{try{const R=await ve.getCategories();m(R.data||[])}catch(R){console.error("Error fetching categories:",R),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب التصنيفات"})}},M=R=>{a(R),y(1)},P=R=>{o(R),y(1)},D=R=>{R>=1&&R<=f&&R!==g&&y(R)},I=()=>{g>1&&y(g-1)},H=()=>{g<f&&y(g+1)},O=async R=>{try{w(!0),await Ce.deleteProduct(R),await C(),s({title:"تم حذف المنتج",description:"تم حذف المنتج بنجاح."})}catch(V){console.error("Error deleting product:",V),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء حذف المنتج"})}finally{w(!1)}},$=()=>{s({title:"إضافة منتج جديد",description:"سيتم تحويلك إلى صفحة إضافة منتج."})},W=R=>{n(`/gigs/${R}`)},G=async R=>{try{w(!0);const V=l.find(T=>T.id===R),q=!(V!=null&&V.featured);await Ce.toggleProductFeatured(R,q),c(T=>T.map(U=>U.id===R?{...U,featured:q}:U)),s({title:q?"تمييز المنتج":"إلغاء تمييز المنتج",description:q?"تم تمييز المنتج بنجاح.":"تم إلغاء تمييز المنتج بنجاح."})}catch(V){console.error("Error toggling product featured status:",V),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تغيير حالة تمييز المنتج"})}finally{w(!1)}};return(e==null?void 0:e.role)!=="admin"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):h?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل المنتجات..."})]}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs(K.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة المنتجات"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"استعراض وإدارة المنتجات المعروضة"})]}),t.jsxs(z,{onClick:$,className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(Ar,{className:"ml-2 h-5 w-5"})," إضافة منتج جديد"]})]}),t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4",children:["        ",t.jsxs("div",{className:"relative flex-grow",children:[t.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(oe,{placeholder:"البحث عن منتج...",value:r,onChange:R=>M(R.target.value),className:"pr-10"})]}),t.jsx("div",{className:"w-full md:w-1/3",children:t.jsxs(yt,{value:i,onValueChange:P,children:[t.jsxs(ht,{className:"w-full",children:[t.jsx(Tr,{className:"h-4 w-4 ml-2"}),t.jsx(ut,{placeholder:"تصفية حسب التصنيف"})]}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"",children:"الكل"}),d.map(R=>t.jsx(Ne,{value:R.id,children:R.name},R.id))]})]})})]}),"      ",l.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(It,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا توجد منتجات"}),t.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على منتجات تطابق معايير البحث."})]}):t.jsxs(t.Fragment,{children:["          ",t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["عرض ",(g-1)*S+1," إلى ",Math.min(g*S,j)," من ",j," منتج"]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["الصفحة ",g," من ",f]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.map((R,V)=>{const q=d.find(T=>T.id===R.category_id);return t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.05},children:[t.jsxs(J,{className:"shadow-lg hover:shadow-xl transition-shadow border-blue-100 h-full flex flex-col",children:[t.jsxs(de,{className:"pb-2 relative",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx(he,{className:"text-lg text-gray-800 line-clamp-2",children:R.title}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(me,{className:R.status==="active"?"bg-green-500 hover:bg-green-600":"bg-gray-400 hover:bg-gray-500",children:R.status==="active"?"نشط":"غير نشط"}),t.jsx(me,{className:R.featured?"bg-yellow-500 hover:bg-yellow-600":"bg-gray-400 hover:bg-gray-500",children:R.featured?"مميز":"غير مميز"})]})]}),t.jsxs(nt,{className:"text-gray-500 line-clamp-2",children:[R.description.substring(0,100),"..."]})]}),t.jsx(Q,{className:"flex-grow",children:t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"التصنيف:"}),t.jsx(me,{variant:"outline",className:"border-blue-200 text-blue-600",children:(q==null?void 0:q.name)||"غير محدد"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"السعر:"}),t.jsxs("span",{className:"font-semibold text-green-600",children:[R.price," جنيه"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"التقييم:"}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(ze,{className:"h-4 w-4 text-yellow-500 ml-1"}),R.rating," (",R.reviewCount,")"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"معرف البائع:"}),t.jsx("span",{children:R.sellerId})]})]})}),t.jsxs(St,{className:"grid grid-cols-2 gap-2 pt-4 border-t",children:[t.jsxs(z,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>W(R.id),children:[t.jsx(en,{className:"ml-1 h-4 w-4"})," عرض"]}),t.jsxs(z,{variant:R.featured?"outline":"default",size:"sm",className:R.featured?"border-yellow-500 text-yellow-600":"bg-yellow-500 hover:bg-yellow-600",onClick:()=>G(R.id),children:[t.jsx(JA,{className:"ml-1 h-4 w-4"}),R.featured?"إلغاء التمييز":"تمييز"]}),t.jsx(z,{variant:R.status==="active"?"destructive":"default",size:"sm",className:R.status==="active"?"bg-gray-400 hover:bg-gray-500":"bg-green-500 hover:bg-green-600",disabled:v,onClick:async()=>{w(!0);try{const T=R.status==="active"?"inactive":"active";await Ce.updateProductStatus(R.id,T),c(U=>U.map(se=>se.id===R.id?{...se,status:T}:se)),s({title:T==="active"?"تم تفعيل المنتج":"تم إلغاء تفعيل المنتج",description:T==="active"?"تم تفعيل المنتج بنجاح.":"تم إلغاء تفعيل المنتج بنجاح."})}catch{s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تغيير حالة المنتج"})}finally{w(!1)}},children:R.status==="active"?"تعطيل":"تفعيل"}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"destructive",size:"sm",children:[t.jsx(zs,{className:"ml-1 h-4 w-4"})," حذف"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"هل أنت متأكد من حذف هذا المنتج؟"}),t.jsxs(cs,{children:['سيؤدي هذا الإجراء إلى حذف المنتج "',R.title,'" نهائيًا. لا يمكن التراجع عن هذا الإجراء.']})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsx(ds,{onClick:()=>O(R.id),className:"bg-red-600 hover:bg-red-700",children:"حذف"})]})]})]})]})]}),"              "]},R.id)}),"          "]}),f>1&&t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-center items-center gap-2 mt-8",children:[t.jsxs(z,{variant:"outline",size:"sm",onClick:I,disabled:g===1,className:"flex items-center gap-1",children:[t.jsx(sh,{className:"h-4 w-4"}),"السابق"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[g>3&&t.jsxs(t.Fragment,{children:[t.jsx(z,{variant:g===1?"default":"outline",size:"sm",onClick:()=>D(1),className:g===1?"bg-blue-600 hover:bg-blue-700":"",children:"1"}),g>4&&t.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),Array.from({length:Math.min(5,f)},(R,V)=>{const T=Math.max(1,Math.min(g-2,f-4))+V;return T>f||T<1?null:g<=3||T!==1?t.jsx(z,{variant:T===g?"default":"outline",size:"sm",onClick:()=>D(T),className:T===g?"bg-blue-600 hover:bg-blue-700":"",children:T},T):null}),g<f-2&&t.jsxs(t.Fragment,{children:[g<f-3&&t.jsx("span",{className:"px-2 text-gray-500",children:"..."}),t.jsx(z,{variant:f===g?"default":"outline",size:"sm",onClick:()=>D(f),className:f===g?"bg-blue-600 hover:bg-blue-700":"",children:f})]})]}),t.jsxs(z,{variant:"outline",size:"sm",onClick:H,disabled:g===f,className:"flex items-center gap-1",children:["التالي",t.jsx(bc,{className:"h-4 w-4"})]})]})]})]})},BU=()=>{const{user:e}=De(),{toast:s}=Ke(),n=We(),{startConversation:r,setActiveConversation:a}=Ua(),[i,o]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState(""),[h,p]=u.useState(""),[v,w]=u.useState(!0),[g,y]=u.useState(!1),[f,x]=u.useState(1),[j,N]=u.useState(1),[S,A]=u.useState(0),[C,k]=u.useState(5);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){s({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}M()},[e]),u.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&M()},[d,h,f,e]);const M=async()=>{var U,se,ie,fe;try{w(!0);const ue={page:f};d&&(ue.search=d),h&&(ue.status=h);const le=await Ce.getSellers(ue);le.data&&Array.isArray(le.data)?(o(le.data||[]),c(le.data||[]),x(((U=le.meta)==null?void 0:U.current_page)||1),N(((se=le.meta)==null?void 0:se.last_page)||1),A(((ie=le.meta)==null?void 0:ie.total)||0),k(((fe=le.meta)==null?void 0:fe.per_page)||5)):(o(le.data||[]),c(le.data||[]))}catch(ue){console.error("Error fetching sellers:",ue),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب بيانات البائعين"})}finally{w(!1)}},P=U=>{m(U),x(1)},D=(U,se)=>{o(ie=>ie.map(fe=>fe.id===U?{...fe,user:{...fe.user,status:se}}:fe)),c(h&&h!==se?ie=>ie.filter(fe=>fe.id!==U):ie=>ie.map(fe=>fe.id===U?{...fe,user:{...fe.user,status:se}}:fe))},I=U=>{p(U),x(1)},H=U=>{U>=1&&U<=j&&U!==f&&x(U)},O=()=>{f>1&&x(f-1)},$=()=>{f<j&&x(f+1)};u.useEffect(()=>{let U=[...i];h&&(U=U.filter(se=>{var ie;return((ie=se.user)==null?void 0:ie.status)===h})),d&&(U=U.filter(se=>{var ie,fe,ue,le;return((fe=(ie=se.user)==null?void 0:ie.name)==null?void 0:fe.toLowerCase().includes(d.toLowerCase()))||((le=(ue=se.user)==null?void 0:ue.email)==null?void 0:le.toLowerCase().includes(d.toLowerCase()))})),c(U)},[i,h,d]);const W=async U=>{try{y(!0),await Ce.updateSellerStatus(U,"active"),D(U,"active"),s({title:"تمت الموافقة على البائع",description:"تم تفعيل حساب البائع بنجاح."})}catch(se){console.error("Error approving seller:",se),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء الموافقة على البائع"})}finally{y(!1)}},G=async U=>{try{y(!0),await Ce.updateSellerStatus(U,"rejected"),D(U,"rejected"),s({title:"تم رفض البائع",description:"تم رفض حساب البائع."})}catch(se){console.error("Error rejecting seller:",se),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء رفض البائع"})}finally{y(!1)}},R=async U=>{try{y(!0),await Ce.updateSellerStatus(U,"suspended"),D(U,"suspended"),s({title:"تم تعليق البائع",description:"تم تعليق حساب البائع بنجاح."})}catch(se){console.error("Error suspending seller:",se),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تعليق البائع"})}finally{y(!1)}},V=U=>{n(`/sellers/${U}`)},q=async U=>{if(U.user.id===e.id){s({variant:"destructive",title:"لا يمكن مراسلة نفسك",description:"لا يمكنك بدء محادثة مع نفسك."});return}const se={id:U.user.id,name:U.user.name,avatar:U.user.avatar||"",lastSeen:new Date().toISOString()};try{const ie=await r(se);a(ie),n("/chat")}catch(ie){console.error("Error starting conversation:",ie)}},T=U=>{switch(U){case"active":return t.jsxs(me,{className:"bg-green-500 hover:bg-green-600",children:[t.jsx(ws,{className:"h-3 w-3 ml-1"}),"نشط"]});case"pending":return t.jsxs(me,{className:"bg-yellow-500 hover:bg-yellow-600",children:[t.jsx(Js,{className:"h-3 w-3 ml-1"}),"بانتظار الموافقة"]});case"suspended":return t.jsxs(me,{className:"bg-red-500 hover:bg-red-600",children:[t.jsx(oo,{className:"h-3 w-3 ml-1"}),"معلق"]});case"rejected":return t.jsxs(me,{className:"bg-gray-500 hover:bg-gray-600",children:[t.jsx(st,{className:"h-3 w-3 ml-1"}),"مرفوض"]});default:return t.jsx(me,{variant:"outline",children:U})}};return(e==null?void 0:e.role)!=="admin"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):v?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل البائعين..."})]}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs(K.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة البائعين"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"عرض وإدارة جميع حسابات البائعين"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:["          ",t.jsxs(me,{className:"bg-green-100 text-green-700 py-2 px-3",children:[t.jsx(Hn,{className:"h-4 w-4 ml-1"})," نشط: ",i.filter(U=>{var se;return((se=U.user)==null?void 0:se.status)==="active"}).length]}),t.jsxs(me,{className:"bg-yellow-100 text-yellow-700 py-2 px-3",children:[t.jsx(Js,{className:"h-4 w-4 ml-1"})," بانتظار الموافقة: ",i.filter(U=>{var se;return((se=U.user)==null?void 0:se.status)==="pending"}).length]}),t.jsxs(me,{className:"bg-orange-100 text-red-700 py-2 px-3",children:[t.jsx(oo,{className:"h-4 w-4 ml-1"})," معلق: ",i.filter(U=>{var se;return((se=U.user)==null?void 0:se.status)==="suspended"}).length]}),t.jsxs(me,{className:"bg-red-100 text-gray-700 py-2 px-3",children:[t.jsx(st,{className:"h-4 w-4 ml-1"})," مرفوض: ",i.filter(U=>{var se;return((se=U.user)==null?void 0:se.status)==="rejected"}).length]})]})]}),t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4",children:["        ",t.jsxs("div",{className:"relative flex-grow",children:[t.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(oe,{placeholder:"البحث عن بائع...",value:d,onChange:U=>P(U.target.value),className:"pr-10"})]}),t.jsx("div",{className:"w-full md:w-1/4",children:t.jsxs(yt,{value:h,onValueChange:I,children:[t.jsxs(ht,{className:"w-full",children:[t.jsx(Js,{className:"h-4 w-4 ml-2"}),t.jsx(ut,{placeholder:"فلترة حسب الحالة"})]}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"",children:"الكل"}),t.jsx(Ne,{value:"active",children:"نشط"}),t.jsx(Ne,{value:"pending",children:"بانتظار الموافقة"}),t.jsx(Ne,{value:"suspended",children:"معلق"}),t.jsx(Ne,{value:"rejected",children:"مرفوض"})]})]})})]}),"      ",l.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(y1,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا يوجد بائعين"}),t.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على بائعين يطابقون معايير البحث."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["عرض ",(f-1)*C+1," إلى ",Math.min(f*C,S)," من ",S," بائع"]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["الصفحة ",f," من ",j]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map((U,se)=>{var ie,fe;return t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:se*.05},children:t.jsxs(J,{className:"shadow-lg hover:shadow-xl transition-shadow border-blue-100 h-full flex flex-col",children:[t.jsx(de,{className:"pb-2",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(ms,{className:"h-12 w-12 ml-3",children:[t.jsx(Es,{src:U.user.avatar}),t.jsx(fs,{children:((ie=U.user.name)==null?void 0:ie.charAt(0))||"S"})]}),t.jsxs("div",{children:[t.jsx(he,{className:"text-lg text-gray-800",children:U.user.name}),t.jsx(nt,{className:"text-gray-500",children:U.user.email})]})]}),T(U.user.status)]})}),t.jsx(Q,{className:"flex-grow",children:t.jsxs("div",{className:"space-y-3 text-sm",children:["                    ",t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"الوصف:"}),t.jsx("span",{className:"text-right max-w-[200px] truncate",children:((fe=U.user)==null?void 0:fe.bio)||"لا يوجد وصف"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"التقييم:"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(ze,{className:"h-4 w-4 text-yellow-400 fill-current ml-1"}),t.jsx("span",{children:U.rating?parseFloat(U.rating).toFixed(1):"0.0"}),t.jsxs("span",{className:"text-gray-400 mr-1",children:["(",U.review_count||0,")"]})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"تاريخ الانضمام:"}),t.jsx("span",{children:U.member_since?new Date(U.member_since).toLocaleDateString("en-GB"):"غير محدد"})]}),"                      ",t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"المهارات:"}),t.jsx("span",{children:Array.isArray(U.skills)&&U.skills.length>0?U.skills.join(", "):"لا يوجد"})]})]})}),t.jsxs(St,{className:"grid grid-cols-2 gap-2 pt-4 border-t",children:[t.jsxs(z,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>V(U.id),children:[t.jsx(en,{className:"ml-1 h-4 w-4"})," عرض الملف الشخصي"]}),t.jsxs(z,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>q(U),children:[t.jsx(Xt,{className:"ml-1 h-4 w-4"})," محادثة"]}),U.user.status==="pending"&&t.jsxs("div",{className:"grid grid-cols-2 gap-2 col-span-2",children:[t.jsxs(z,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600",onClick:()=>W(U.id),disabled:g,children:[g?t.jsx(Se,{className:"ml-1 h-4 w-4 animate-spin"}):t.jsx(ws,{className:"ml-1 h-4 w-4"}),"موافقة"]}),t.jsxs(z,{variant:"destructive",size:"sm",onClick:()=>G(U.id),disabled:g,children:[g?t.jsx(Se,{className:"ml-1 h-4 w-4 animate-spin"}):t.jsx(st,{className:"ml-1 h-4 w-4"}),"رفض"]})]}),U.user.status==="active"&&t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"destructive",size:"sm",className:"col-span-2",disabled:g,children:[g?t.jsx(Se,{className:"ml-1 h-4 w-4 animate-spin"}):t.jsx(oo,{className:"ml-1 h-4 w-4"}),"تعليق الحساب"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"هل أنت متأكد من تعليق هذا الحساب؟"}),t.jsxs(cs,{children:['سيؤدي هذا إلى منع البائع "',U.user.name,'" من بيع المنتجات مؤقتًا حتى تقوم بإلغاء التعليق.']})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsx(ds,{onClick:()=>R(U.id),className:"bg-red-600 hover:bg-red-700",children:"تعليق الحساب"})]})]})]}),U.user.status==="suspended"&&t.jsxs(z,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 col-span-2",onClick:()=>W(U.id),disabled:g,children:[g?t.jsx(Se,{className:"ml-1 h-4 w-4 animate-spin"}):t.jsx(ws,{className:"ml-1 h-4 w-4"}),"إعادة تفعيل"]})]})]})},U.id)})}),j>1&&t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-center items-center gap-2 mt-8",children:[t.jsxs(z,{variant:"outline",size:"sm",onClick:O,disabled:f===1,className:"flex items-center gap-1",children:[t.jsx(sh,{className:"h-4 w-4"}),"السابق"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[f>3&&t.jsxs(t.Fragment,{children:[t.jsx(z,{variant:f===1?"default":"outline",size:"sm",onClick:()=>H(1),className:f===1?"bg-blue-600 hover:bg-blue-700":"",children:"1"}),f>4&&t.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),Array.from({length:Math.min(5,j)},(U,se)=>{const fe=Math.max(1,Math.min(f-2,j-4))+se;return fe>j||fe<1?null:f<=3||fe!==1?t.jsx(z,{variant:fe===f?"default":"outline",size:"sm",onClick:()=>H(fe),className:fe===f?"bg-blue-600 hover:bg-blue-700":"",children:fe},fe):null}),f<j-2&&t.jsxs(t.Fragment,{children:[f<j-3&&t.jsx("span",{className:"px-2 text-gray-500",children:"..."}),t.jsx(z,{variant:j===f?"default":"outline",size:"sm",onClick:()=>H(j),className:j===f?"bg-blue-600 hover:bg-blue-700":"",children:j})]})]}),t.jsxs(z,{variant:"outline",size:"sm",onClick:$,disabled:f===j,className:"flex items-center gap-1",children:["التالي",t.jsx(bc,{className:"h-4 w-4"})]})]})]})]})},WU=()=>{const{user:e}=De(),{toast:s}=Ke(),n=We(),{startConversation:r,setActiveConversation:a}=Ua(),[i,o]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState(""),[h,p]=u.useState(""),[v,w]=u.useState(""),[g,y]=u.useState(!0),[f,x]=u.useState(!1);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){s({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}j()},[e]);const j=async()=>{try{y(!0);const P={};d&&(P.search=d),h&&(P.role=h),v&&(P.status=v);const D=await Ce.getUsers(P);o(D.data||[]),c(D.data||[])}catch(P){console.error("Error fetching users:",P),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب بيانات المستخدمين"})}finally{y(!1)}};u.useEffect(()=>{let P=[...i];d&&(P=P.filter(D=>D.name.toLowerCase().includes(d.toLowerCase())||D.email.toLowerCase().includes(d.toLowerCase())||D.id.toString().includes(d.toLowerCase()))),h&&(P=P.filter(D=>D.role===h)),v&&(P=P.filter(D=>D.status===v)),c(P)},[d,h,v,i]);const N=async P=>{try{x(!0),await Ce.updateUserStatus(P,"suspended"),o(D=>D.map(I=>I.id===P?{...I,status:"suspended"}:I)),s({title:"تم تعليق المستخدم",description:"تم تعليق حساب المستخدم بنجاح."})}catch(D){console.error("Error suspending user:",D),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تعليق المستخدم"})}finally{x(!1)}},S=async P=>{try{x(!0),await Ce.updateUserStatus(P,"active"),o(D=>D.map(I=>I.id===P?{...I,status:"active"}:I)),s({title:"تم تفعيل المستخدم",description:"تم تفعيل حساب المستخدم بنجاح."})}catch(D){console.error("Error activating user:",D),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تفعيل المستخدم"})}finally{x(!1)}},A=P=>{n(`/profile/${P}`)},C=async P=>{if(P.id===e.id){s({variant:"destructive",title:"لا يمكن مراسلة نفسك",description:"لا يمكنك بدء محادثة مع نفسك."});return}const D={id:P.id,name:P.name,avatar:P.avatar||"",lastSeen:P.last_login||new Date().toISOString()};try{const I=await r(D);a(I),n("/chat")}catch(I){console.error("Error starting conversation:",I)}},k=P=>{switch(P){case"active":return t.jsxs(me,{className:"bg-green-500 hover:bg-green-600",children:[t.jsx(Be,{className:"h-3 w-3 ml-1"}),"نشط"]});case"suspended":return t.jsxs(me,{className:"bg-red-500 hover:bg-red-600",children:[t.jsx(oo,{className:"h-3 w-3 ml-1"}),"معلق"]});case"inactive":return t.jsxs(me,{className:"bg-gray-500 hover:bg-gray-600",children:[t.jsx(st,{className:"h-3 w-3 ml-1"}),"غير نشط"]});default:return t.jsx(me,{variant:"outline",children:P})}},M=P=>{switch(P){case"admin":return t.jsxs(me,{className:"bg-purple-500 hover:bg-purple-600",children:[t.jsx(y6,{className:"h-3 w-3 ml-1"}),"مشرف"]});case"seller":return t.jsxs(me,{className:"bg-blue-500 hover:bg-blue-600",children:[t.jsx(Hn,{className:"h-3 w-3 ml-1"}),"بائع"]});case"buyer":return t.jsxs(me,{className:"bg-green-500 hover:bg-green-600",children:[t.jsx(tt,{className:"h-3 w-3 ml-1"}),"مشتري"]});default:return t.jsx(me,{variant:"outline",children:P})}};return(e==null?void 0:e.role)!=="admin"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):g?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل المستخدمين..."})]}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs(K.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة المستخدمين"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"عرض وإدارة جميع حسابات المستخدمين"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(me,{className:"bg-green-100 text-green-700 py-2 px-3",children:[t.jsx(tt,{className:"h-4 w-4 ml-1"})," المشترين: ",i.filter(P=>P.role==="buyer").length]}),t.jsxs(me,{className:"bg-blue-100 text-blue-700 py-2 px-3",children:[t.jsx(Hn,{className:"h-4 w-4 ml-1"})," البائعين: ",i.filter(P=>P.role==="seller").length]}),t.jsxs(me,{className:"bg-red-100 text-red-700 py-2 px-3",children:[t.jsx(oo,{className:"h-4 w-4 ml-1"})," معلق: ",i.filter(P=>P.status==="suspended").length]})]})]}),t.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-grow",children:[t.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(oe,{placeholder:"البحث عن مستخدم...",value:d,onChange:P=>m(P.target.value),className:"pr-10"})]}),t.jsx("div",{className:"w-full md:w-1/4",children:t.jsxs(yt,{value:h,onValueChange:p,children:[t.jsxs(ht,{className:"w-full",children:[t.jsx(Hn,{className:"h-4 w-4 ml-2"}),t.jsx(ut,{placeholder:"فلترة حسب الدور"})]}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"",children:"الكل"}),t.jsx(Ne,{value:"buyer",children:"مشتري"}),t.jsx(Ne,{value:"seller",children:"بائع"}),t.jsx(Ne,{value:"admin",children:"مشرف"})]})]})}),t.jsx("div",{className:"w-full md:w-1/4",children:t.jsxs(yt,{value:v,onValueChange:w,children:[t.jsxs(ht,{className:"w-full",children:[t.jsx(Js,{className:"h-4 w-4 ml-2"}),t.jsx(ut,{placeholder:"فلترة حسب الحالة"})]}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"",children:"الكل"}),t.jsx(Ne,{value:"active",children:"نشط"}),t.jsx(Ne,{value:"suspended",children:"معلق"}),t.jsx(Ne,{value:"inactive",children:"غير نشط"})]})]})})]}),l.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(y1,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"لا يوجد مستخدمين"}),t.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على مستخدمين يطابقون معايير البحث."})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map((P,D)=>{var I;return t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.05},children:t.jsxs(J,{className:"shadow-lg hover:shadow-xl transition-shadow border-blue-100 h-full flex flex-col",children:[t.jsx(de,{className:"pb-2",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(ms,{className:"h-12 w-12 ml-3",children:[t.jsx(Es,{src:P.avatar}),t.jsx(fs,{children:((I=P.name)==null?void 0:I.charAt(0))||"U"})]}),t.jsxs("div",{children:[t.jsx(he,{className:"text-lg text-gray-800",children:P.name}),t.jsx(nt,{className:"text-gray-500",children:P.email})]})]}),k(P.status)]})}),t.jsx(Q,{className:"flex-grow",children:t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"الدور:"}),M(P.role)]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"تاريخ التسجيل:"}),t.jsx("span",{children:P.created_at?new Date(P.created_at).toLocaleDateString("ar-SA"):"غير محدد"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"آخر تسجيل دخول:"}),t.jsx("span",{children:P.last_login?new Date(P.last_login).toLocaleDateString("ar-SA"):"لم يسجل دخول"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:P.role==="buyer"?"عدد الطلبات:":"عدد المنتجات:"}),t.jsx("span",{children:P.role==="buyer"?P.orders_count||0:P.products_count||0})]})]})}),t.jsxs(St,{className:"grid grid-cols-1 gap-2 pt-4 border-t",children:[t.jsxs(z,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>A(P.id),children:[t.jsx(en,{className:"ml-1 h-4 w-4"}),"  عرض الملف الشخصي"]}),t.jsxs(z,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600",onClick:()=>C(P),children:[t.jsx(Xt,{className:"ml-1 h-4 w-4"})," محادثة"]}),P.status==="active"?t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"destructive",size:"sm",className:"col-span-2",disabled:f,children:[f?t.jsx(Se,{className:"ml-1 h-4 w-4 animate-spin"}):t.jsx(oo,{className:"ml-1 h-4 w-4"}),"تعليق الحساب"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"هل أنت متأكد من تعليق هذا الحساب؟"}),t.jsxs(cs,{children:['سيؤدي هذا إلى منع المستخدم "',P.name,'" من استخدام النظام مؤقتًا حتى تقوم بإلغاء التعليق.']})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsx(ds,{onClick:()=>N(P.id),className:"bg-red-600 hover:bg-red-700",children:"تعليق الحساب"})]})]})]}):t.jsxs(z,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 col-span-2",onClick:()=>S(P.id),disabled:f,children:[f?t.jsx(Se,{className:"ml-1 h-4 w-4 animate-spin"}):t.jsx(Be,{className:"ml-1 h-4 w-4"}),"تفعيل الحساب"]})]})]})},P.id)})})]})},HU=()=>{const{user:e}=De(),{toast:s}=Ke(),[n,r]=u.useState(""),[a,i]=u.useState("all"),[o,l]=u.useState(null),[c,d]=u.useState([]),[m,h]=u.useState([]),[p,v]=u.useState([]),[w,g]=u.useState(!0),[y,f]=u.useState(!1),[x,j]=u.useState({});u.useEffect(()=>{N(),S()},[]);const N=async()=>{try{g(!0);const M={};n&&(M.search=n);const P=await Ce.getAllConversations(M);if(P.success){const D=P.data.map(I=>({id:I.id,buyer:I.buyer,seller:I.seller,lastMessage:I.lastMessage,messageCount:I.messageCount,lastActivity:I.lastMessageTime||I.createdAt,isReported:Math.random()>.9}));d(D)}}catch(M){console.error("Error loading conversations:",M),s({title:"خطأ",description:"حدث خطأ أثناء تحميل المحادثات",variant:"destructive"})}finally{g(!1)}},S=async()=>{try{const M=await Ce.getChatStats();M.success&&j(M.stats)}catch(M){console.error("Error loading chat stats:",M)}};u.useEffect(()=>{const M=setTimeout(()=>{n!==""&&N()},500);return()=>clearTimeout(M)},[n]),u.useEffect(()=>{let M=[...c];a==="reported"&&(M=M.filter(P=>P.isReported)),h(M)},[a,c]);const A=async M=>{l(M),f(!0);try{const P=await Ce.getConversationMessages(M.id);P.success&&v(P.messages)}catch(P){console.error("Error loading messages:",P),s({title:"خطأ",description:"حدث خطأ أثناء تحميل الرسائل",variant:"destructive"})}finally{f(!1)}},C=()=>{l(null)},k=M=>{d(P=>P.map(D=>D.id===M?{...D,isReported:!1}:D)),s({title:"تم حل البلاغ",description:"تم حل البلاغ المتعلق بهذه المحادثة."}),(o==null?void 0:o.id)===M&&l(null)};return(e==null?void 0:e.role)!=="admin"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs(K.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة المحادثات"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"مراقبة وإدارة جميع المحادثات بين المستخدمين"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(me,{className:"bg-blue-100 text-blue-700 py-2 px-3",children:[t.jsx(Xt,{className:"h-4 w-4 ml-1"}),"إجمالي المحادثات: ",x.total_conversations||c.length]}),t.jsxs(me,{className:"bg-green-100 text-green-700 py-2 px-3",children:[t.jsx(Wn,{className:"h-4 w-4 ml-1"}),"نشطة: ",x.active_conversations||0]}),t.jsxs(me,{className:"bg-yellow-100 text-yellow-700 py-2 px-3",children:[t.jsx(Ps,{className:"h-4 w-4 ml-1"}),"بلاغات: ",c.filter(M=>M.isReported).length]})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[t.jsxs("div",{className:`w-full ${o?"lg:w-1/3":"lg:w-full"}`,children:[t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(oe,{placeholder:"البحث في المحادثات...",value:n,onChange:M=>r(M.target.value),className:"pr-10"})]})}),t.jsxs(zo,{defaultValue:"all",value:a,onValueChange:i,children:[t.jsxs(ki,{className:"grid grid-cols-2 mb-4",children:[t.jsx(Kt,{value:"all",children:"جميع المحادثات"}),t.jsxs(Kt,{value:"reported",children:["البلاغات ",t.jsx(me,{className:"mr-1 bg-red-500",children:c.filter(M=>M.isReported).length})]})]}),t.jsx(_s,{value:"all",className:"m-0",children:t.jsxs(J,{children:[t.jsxs(de,{children:[t.jsx(he,{className:"text-lg",children:"جميع المحادثات"}),t.jsx(nt,{children:"مراقبة جميع المحادثات بين المستخدمين"})]}),t.jsx(Q,{children:w?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"جاري تحميل المحادثات..."})]}):m.length>0?t.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:m.map(M=>t.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${(o==null?void 0:o.id)===M.id?"bg-blue-100":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>A(M),children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(ms,{className:"h-10 w-10 ml-3",children:[t.jsx(Es,{src:M.buyer.avatar}),t.jsx(fs,{children:M.buyer.name.charAt(0)})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-800",children:[M.buyer.name,t.jsxs("span",{className:"text-gray-500",children:[" ↔ ",M.seller.name]})]}),M.lastMessage&&t.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:M.lastMessage.text}),t.jsxs("p",{className:"text-xs text-gray-400",children:[M.messageCount," رسالة"]})]})]}),t.jsxs("div",{className:"flex flex-col items-end",children:[M.isReported&&t.jsxs(me,{className:"bg-red-500 mb-1",size:"sm",children:[t.jsx(Ps,{className:"h-3 w-3 ml-1"}),"مُبلغ عنها"]}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(M.lastActivity).toLocaleDateString("ar-EG")})]})]})},M.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Xt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على محادثات تطابق البحث"})]})})]})}),t.jsx(_s,{value:"reported",className:"m-0",children:t.jsxs(J,{children:[t.jsxs(de,{children:[t.jsx(he,{className:"text-lg",children:"البلاغات"}),t.jsx(nt,{children:"المحادثات التي تم الإبلاغ عنها من المستخدمين"})]}),t.jsx(Q,{children:w?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"جاري تحميل البلاغات..."})]}):m.length>0?t.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:m.map(M=>t.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${(o==null?void 0:o.id)===M.id?"bg-blue-100":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>A(M),children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(ms,{className:"h-10 w-10 ml-3",children:[t.jsx(Es,{src:M.buyer.avatar}),t.jsx(fs,{children:M.buyer.name.charAt(0)})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-800",children:[M.buyer.name,t.jsxs("span",{className:"text-gray-500",children:[" ↔ ",M.seller.name]})]}),M.lastMessage&&t.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:M.lastMessage.text}),t.jsxs("p",{className:"text-xs text-gray-400",children:[M.messageCount," رسالة"]})]})]}),t.jsxs("div",{className:"flex flex-col items-end",children:[t.jsxs(me,{className:"bg-red-500 mb-1",size:"sm",children:[t.jsx(Ps,{className:"h-3 w-3 ml-1"}),"مُبلغ عنها"]}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(M.lastActivity).toLocaleDateString("ar-EG")})]})]})},M.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Be,{className:"h-12 w-12 text-green-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"لا توجد بلاغات حاليًا"})]})})]})})]})]}),o&&t.jsx(K.div,{className:"w-full lg:w-2/3",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:t.jsxs(J,{className:"border-blue-200 shadow-lg h-full",children:[t.jsxs(de,{className:"flex flex-row items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(ms,{className:"h-10 w-10 ml-3",children:[t.jsx(Es,{src:o.buyer.avatar}),t.jsx(fs,{children:o.buyer.name.charAt(0)})]}),t.jsxs("div",{children:[t.jsxs(he,{className:"text-lg",children:["محادثة بين ",o.buyer.name," و ",o.seller.name]}),t.jsxs(nt,{children:[o.messageCount," رسالة - آخر نشاط: ",new Date(o.lastActivity).toLocaleDateString("ar-EG")]})]})]}),t.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[o.isReported&&t.jsxs(z,{variant:"outline",className:"border-green-200 text-green-600",onClick:()=>k(o.id),children:[t.jsx(Be,{className:"ml-2 h-4 w-4"}),"حل البلاغ"]}),t.jsxs(z,{variant:"outline",className:"border-gray-200",onClick:C,children:[t.jsx(st,{className:"ml-2 h-4 w-4"}),"إغلاق"]})]})]}),t.jsx(Q,{children:t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 h-[400px] overflow-y-auto",children:y?t.jsxs("div",{className:"h-full flex items-center justify-center",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mb-3"}),t.jsx("p",{className:"text-gray-500",children:"جاري تحميل الرسائل..."})]}):p.length>0?t.jsx("div",{className:"space-y-4",children:p.map((M,P)=>{var H;const D=M.senderId===o.buyer.id,I=D?o.buyer:o.seller;return t.jsx("div",{className:`flex ${D?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`flex items-start max-w-[70%] ${D?"flex-row":"flex-row-reverse"}`,children:[t.jsxs(ms,{className:`h-8 w-8 ${D?"ml-2":"mr-2"}`,children:[t.jsx(Es,{src:I==null?void 0:I.avatar}),t.jsx(fs,{children:((H=I==null?void 0:I.name)==null?void 0:H.charAt(0))||"U"})]}),t.jsxs("div",{children:[t.jsx("div",{className:`px-3 py-2 rounded-lg ${D?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-900"}`,children:t.jsx("p",{className:"text-sm",dir:"rtl",children:M.text})}),t.jsx("p",{className:`text-xs text-gray-500 mt-1 ${D?"text-right":"text-left"}`,children:new Date(M.timestamp).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]})]})},M.id||P)})}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsx("p",{className:"text-gray-500",children:"لا توجد رسائل في هذه المحادثة"})})})}),t.jsxs(St,{className:"flex justify-between border-t pt-4",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(Wn,{className:"h-4 w-4 ml-1"}),"يتم تحديث المحادثة تلقائيًا"]}),t.jsx("div",{children:o.isReported?t.jsxs(z,{className:"bg-green-500 hover:bg-green-600",onClick:()=>k(o.id),children:[t.jsx(Be,{className:"ml-2 h-4 w-4"}),"حل البلاغ"]}):t.jsxs(z,{variant:"outline",className:"border-blue-200 text-blue-600",children:[t.jsx(en,{className:"ml-2 h-4 w-4"}),"مراقبة المحادثة"]})})]})]})})]})]})},dl=({title:e,description:s,icon:n,children:r})=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsxs(J,{className:"shadow-lg border-blue-100",children:[t.jsxs(de,{className:"flex flex-row items-start space-x-4 space-x-reverse pb-4",children:[ce.createElement(n,{className:"h-8 w-8 text-blue-600 mt-1"}),t.jsxs("div",{children:[t.jsx(he,{className:"text-xl text-gray-800",children:e}),t.jsx(nt,{className:"text-gray-500",children:s})]})]}),t.jsx(Q,{children:r})]})}),qU=()=>{De();const{toast:e}=Ke(),[s,n]=u.useState(!1),[r,a]=u.useState({siteName:"منصة الصنايعي",siteDescription:"منصة تسويق المنتجات الحرفية اليدوية",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",maintenanceMode:!1,registrationsEnabled:!0,defaultLanguage:"ar",defaultCurrency:"EGP"}),[i,o]=u.useState({senderName:"منصة الصنايعي",senderEmail:"no-reply@example.com",smtpServer:"smtp.example.com",smtpPort:"587",smtpUsername:"smtp-user",smtpPassword:"smtp-password",useSMTP:!0}),[l,c]=u.useState({newUserNotifications:!0,newOrderNotifications:!0,productReportNotifications:!0,chatReportNotifications:!0,lowStockNotifications:!0,adminEmails:"admin@example.com"}),[d,m]=u.useState({minWithdrawalAmount:"100",maxWithdrawalAmount:"100000",withdrawalProcessingFee:"0",withdrawalProcessingTime:"3-5 أيام عمل",enabledPaymentMethods:{vodafone_cash:!0,instapay:!0,etisalat_cash:!0,orange_cash:!0,bank_transfer:!0}}),[h,p]=u.useState({requireEmailVerification:!0,twoFactorAuthEnabled:!1,passwordMinLength:"8",passwordRequiresUppercase:!0,passwordRequiresNumber:!0,passwordRequiresSymbol:!1,sessionTimeout:"120"}),v=C=>{const{name:k,value:M,type:P,checked:D}=C.target;a(I=>({...I,[k]:P==="checkbox"?D:M}))},w=C=>{const{name:k,value:M,type:P,checked:D}=C.target;o(I=>({...I,[k]:P==="checkbox"?D:M}))},g=C=>{const{name:k,value:M,type:P,checked:D}=C.target;c(I=>({...I,[k]:P==="checkbox"?D:M}))},y=C=>{const{name:k,value:M,type:P,checked:D}=C.target;m(I=>({...I,[k]:P==="checkbox"?D:M}))},f=(C,k)=>{m(M=>({...M,enabledPaymentMethods:{...M.enabledPaymentMethods,[C]:k}}))},x=C=>{const{name:k,value:M,type:P,checked:D}=C.target;p(I=>({...I,[k]:P==="checkbox"?D:M}))};u.useEffect(()=>{j(),N()},[]);const j=async()=>{try{const C=await Ce.getWithdrawalSettings();C.settings&&m({minWithdrawalAmount:C.settings.min_withdrawal_amount||"100",maxWithdrawalAmount:C.settings.max_withdrawal_amount||"100000",withdrawalProcessingFee:C.settings.withdrawal_processing_fee||"0",withdrawalProcessingTime:C.settings.withdrawal_processing_time||"3-5 أيام عمل",enabledPaymentMethods:C.settings.enabled_payment_methods||{vodafone_cash:!0,instapay:!0,etisalat_cash:!0,orange_cash:!0,bank_transfer:!0}})}catch(C){console.error("Error loading withdrawal settings:",C)}},N=async()=>{try{const C=await Ce.getSiteSettings();C.settings&&(C.settings.general&&a(k=>({...k,...C.settings.general})),C.settings.email&&o(k=>({...k,...C.settings.email})),C.settings.notifications&&c(k=>({...k,...C.settings.notifications})),C.settings.security&&p(k=>({...k,...C.settings.security})))}catch(C){console.error("Error loading admin settings:",C),e({variant:"destructive",title:"خطأ في تحميل الإعدادات",description:"تعذر تحميل الإعدادات من الخادم"})}},S=async()=>{n(!0);try{const C={min_withdrawal_amount:d.minWithdrawalAmount,max_withdrawal_amount:d.maxWithdrawalAmount,withdrawal_processing_fee:d.withdrawalProcessingFee,withdrawal_processing_time:d.withdrawalProcessingTime,enabled_payment_methods:d.enabledPaymentMethods};await Ce.updateWithdrawalSettings(C),e({title:"تم حفظ الإعدادات",description:"تم حفظ إعدادات السحب بنجاح",variant:"default"})}catch(C){let k="حدث خطأ في حفظ إعدادات السحب";if(C.message&&C.message.includes("API error:"))try{const M=C.message.split("API error:")[1],P=JSON.parse(M.split(" - ")[1]);k=P.error||P.message||k}catch(M){console.error("Error parsing API error:",M)}e({title:"خطأ",description:k,variant:"destructive"})}finally{n(!1)}},A=async C=>{if(C==="withdrawals"){S();return}n(!0);try{let k;switch(C){case"general":k=r;break;case"email":k=i;break;case"notifications":k=l;break;case"security":k=h;break;default:throw new Error("نوع إعدادات غير صحيح")}await Ce.updateSiteSettings(C,k),e({title:"تم حفظ الإعدادات",description:{general:"تم حفظ الإعدادات العامة بنجاح",email:"تم حفظ إعدادات البريد الإلكتروني بنجاح",notifications:"تم حفظ إعدادات الإشعارات بنجاح",security:"تم حفظ إعدادات الأمان بنجاح"}[C],variant:"default"})}catch(k){let M="حدث خطأ في حفظ الإعدادات";if(k.message&&k.message.includes("API error:"))try{const P=k.message.split("API error:")[1],D=JSON.parse(P.split(" - ")[1]);M=D.error||D.message||M}catch(P){console.error("Error parsing API error:",P)}e({title:"خطأ",description:M,variant:"destructive"})}finally{n(!1)}};return t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsx(K.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إعدادات النظام"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"تكوين وتخصيص إعدادات المنصة"})]})}),t.jsxs(zo,{defaultValue:"general",children:[t.jsxs(ki,{className:"grid grid-cols-5 mb-8",children:[t.jsxs(Kt,{value:"general",children:[t.jsx(kl,{className:"ml-2 h-4 w-4"}),"عام"]}),t.jsxs(Kt,{value:"email",children:[t.jsx(Gn,{className:"ml-2 h-4 w-4"}),"البريد الإلكتروني"]}),t.jsxs(Kt,{value:"notifications",children:[t.jsx(Er,{className:"ml-2 h-4 w-4"}),"الإشعارات"]}),t.jsxs(Kt,{value:"withdrawals",children:[t.jsx(bt,{className:"ml-2 h-4 w-4"}),"السحب"]}),t.jsxs(Kt,{value:"security",children:[t.jsx(Js,{className:"ml-2 h-4 w-4"}),"الأمان"]})]}),t.jsx(_s,{value:"general",children:t.jsxs(dl,{title:"الإعدادات العامة",description:"ضبط الإعدادات الأساسية للمنصة",icon:kl,children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"siteName",children:"اسم الموقع"}),t.jsx(oe,{id:"siteName",name:"siteName",value:r.siteName,onChange:v})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"defaultLanguage",children:"اللغة الافتراضية"}),t.jsxs(yt,{name:"defaultLanguage",value:r.defaultLanguage,onValueChange:C=>a(k=>({...k,defaultLanguage:C})),children:[t.jsx(ht,{children:t.jsx(ut,{placeholder:"اختر اللغة"})}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"ar",children:"العربية"}),t.jsx(Ne,{value:"en",children:"الإنجليزية"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"siteDescription",children:"وصف الموقع"}),t.jsx(et,{id:"siteDescription",name:"siteDescription",value:r.siteDescription,onChange:v,rows:3})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"logoUrl",children:"رابط الشعار"}),t.jsx(oe,{id:"logoUrl",name:"logoUrl",value:r.logoUrl,onChange:v})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"faviconUrl",children:"رابط أيقونة الموقع"}),t.jsx(oe,{id:"faviconUrl",name:"faviconUrl",value:r.faviconUrl,onChange:v})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"defaultCurrency",children:"العملة الافتراضية"}),t.jsxs(yt,{name:"defaultCurrency",value:r.defaultCurrency,onValueChange:C=>a(k=>({...k,defaultCurrency:C})),children:[t.jsx(ht,{children:t.jsx(ut,{placeholder:"اختر العملة"})}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"EGP",children:"جنيه مصري (EGP)"}),t.jsx(Ne,{value:"USD",children:"دولار أمريكي (USD)"}),t.jsx(Ne,{value:"SAR",children:"ريال سعودي (SAR)"}),t.jsx(Ne,{value:"AED",children:"درهم إماراتي (AED)"})]})]})]})}),t.jsx(dt,{className:"my-4"}),t.jsxs("div",{className:"flex flex-col space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"maintenanceMode",className:"cursor-pointer",children:"وضع الصيانة"}),t.jsx(Ot,{id:"maintenanceMode",name:"maintenanceMode",checked:r.maintenanceMode,onCheckedChange:C=>a(k=>({...k,maintenanceMode:C}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"registrationsEnabled",className:"cursor-pointer",children:"تمكين التسجيل للمستخدمين الجدد"}),t.jsx(Ot,{id:"registrationsEnabled",name:"registrationsEnabled",checked:r.registrationsEnabled,onCheckedChange:C=>a(k=>({...k,registrationsEnabled:C}))})]})]})]}),t.jsx("div",{className:"flex justify-end mt-6",children:t.jsxs(z,{onClick:()=>A("general"),className:"bg-blue-600 hover:bg-blue-700",disabled:s,children:[t.jsx(an,{className:"ml-2 h-4 w-4"}),s?"جاري الحفظ...":"حفظ الإعدادات"]})})]})}),t.jsx(_s,{value:"email",children:t.jsxs(dl,{title:"إعدادات البريد الإلكتروني",description:"ضبط إعدادات خادم البريد الإلكتروني ورسائل النظام",icon:Gn,children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"senderName",children:"اسم المرسل"}),t.jsx(oe,{id:"senderName",name:"senderName",value:i.senderName,onChange:w})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"senderEmail",children:"بريد المرسل"}),t.jsx(oe,{id:"senderEmail",name:"senderEmail",type:"email",value:i.senderEmail,onChange:w})]})]}),t.jsx(dt,{className:"my-4"}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(ee,{htmlFor:"useSMTP",className:"cursor-pointer",children:"استخدام خادم SMTP"}),t.jsx(Ot,{id:"useSMTP",name:"useSMTP",checked:i.useSMTP,onCheckedChange:C=>o(k=>({...k,useSMTP:C}))})]}),i.useSMTP&&t.jsxs("div",{className:"space-y-4 border-r-2 border-blue-200 pr-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"smtpServer",children:"خادم SMTP"}),t.jsx(oe,{id:"smtpServer",name:"smtpServer",value:i.smtpServer,onChange:w})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"smtpPort",children:"منفذ SMTP"}),t.jsx(oe,{id:"smtpPort",name:"smtpPort",value:i.smtpPort,onChange:w})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"smtpUsername",children:"اسم مستخدم SMTP"}),t.jsx(oe,{id:"smtpUsername",name:"smtpUsername",value:i.smtpUsername,onChange:w})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"smtpPassword",children:"كلمة مرور SMTP"}),t.jsx(oe,{id:"smtpPassword",name:"smtpPassword",type:"password",value:i.smtpPassword,onChange:w})]})]})]})]}),t.jsx("div",{className:"flex justify-end mt-6",children:t.jsxs(z,{onClick:()=>A("email"),className:"bg-blue-600 hover:bg-blue-700",disabled:s,children:[t.jsx(an,{className:"ml-2 h-4 w-4"}),s?"جاري الحفظ...":"حفظ الإعدادات"]})})]})}),t.jsx(_s,{value:"notifications",children:t.jsxs(dl,{title:"إعدادات الإشعارات",description:"تكوين الإشعارات التي يتلقاها المشرفون والمستخدمون",icon:Er,children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"adminEmails",children:"بريد المشرفين (للإشعارات)"}),t.jsx(oe,{id:"adminEmails",name:"adminEmails",value:l.adminEmails,onChange:g,placeholder:"admin@example.com, admin2@example.com"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"افصل بين عناوين البريد الإلكتروني بفاصلة"})]}),t.jsx(dt,{className:"my-4"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{className:"block mb-2",children:"إشعارات المشرفين"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"newUserNotifications",className:"cursor-pointer",children:"تنبيه عند تسجيل مستخدم جديد"}),t.jsx(Ot,{id:"newUserNotifications",name:"newUserNotifications",checked:l.newUserNotifications,onCheckedChange:C=>c(k=>({...k,newUserNotifications:C}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"newOrderNotifications",className:"cursor-pointer",children:"تنبيه عند إنشاء طلب جديد"}),t.jsx(Ot,{id:"newOrderNotifications",name:"newOrderNotifications",checked:l.newOrderNotifications,onCheckedChange:C=>c(k=>({...k,newOrderNotifications:C}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"productReportNotifications",className:"cursor-pointer",children:"تنبيه عند الإبلاغ عن منتج"}),t.jsx(Ot,{id:"productReportNotifications",name:"productReportNotifications",checked:l.productReportNotifications,onCheckedChange:C=>c(k=>({...k,productReportNotifications:C}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"chatReportNotifications",className:"cursor-pointer",children:"تنبيه عند الإبلاغ عن محادثة"}),t.jsx(Ot,{id:"chatReportNotifications",name:"chatReportNotifications",checked:l.chatReportNotifications,onCheckedChange:C=>c(k=>({...k,chatReportNotifications:C}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"lowStockNotifications",className:"cursor-pointer",children:"تنبيه عند انخفاض المخزون"}),t.jsx(Ot,{id:"lowStockNotifications",name:"lowStockNotifications",checked:l.lowStockNotifications,onCheckedChange:C=>c(k=>({...k,lowStockNotifications:C}))})]})]})]}),t.jsx("div",{className:"flex justify-end mt-6",children:t.jsxs(z,{onClick:()=>A("notifications"),className:"bg-blue-600 hover:bg-blue-700",disabled:s,children:[t.jsx(an,{className:"ml-2 h-4 w-4"}),s?"جاري الحفظ...":"حفظ الإعدادات"]})})]})}),t.jsx(_s,{value:"withdrawals",children:t.jsxs(dl,{title:"إعدادات السحب",description:"تكوين حدود ومتطلبات سحب الأرباح للبائعين",icon:bt,children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"minWithdrawalAmount",children:"الحد الأدنى للسحب (جنيه مصري)"}),t.jsx(oe,{id:"minWithdrawalAmount",name:"minWithdrawalAmount",type:"number",min:"1",value:d.minWithdrawalAmount,onChange:y}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"أقل مبلغ يمكن للبائع طلب سحبه"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"maxWithdrawalAmount",children:"الحد الأقصى للسحب (جنيه مصري)"}),t.jsx(oe,{id:"maxWithdrawalAmount",name:"maxWithdrawalAmount",type:"number",min:"1",value:d.maxWithdrawalAmount,onChange:y}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"أعلى مبلغ يمكن للبائع طلب سحبه في المرة الواحدة"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"withdrawalProcessingFee",children:"رسوم المعالجة (جنيه مصري)"}),t.jsx(oe,{id:"withdrawalProcessingFee",name:"withdrawalProcessingFee",type:"number",min:"0",step:"0.01",value:d.withdrawalProcessingFee,onChange:y}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"رسوم إضافية يتم خصمها من كل عملية سحب"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"withdrawalProcessingTime",children:"وقت المعالجة المتوقع"}),t.jsx(oe,{id:"withdrawalProcessingTime",name:"withdrawalProcessingTime",value:d.withdrawalProcessingTime,onChange:y}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"الوقت المتوقع لمعالجة طلبات السحب"})]})]}),t.jsx(dt,{className:"my-4"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{className:"block mb-2",children:"طرق الدفع المتاحة للسحب"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"vodafone_cash",className:"cursor-pointer",children:"فودافون كاش"}),t.jsx(Ot,{id:"vodafone_cash",checked:d.enabledPaymentMethods.vodafone_cash,onCheckedChange:C=>f("vodafone_cash",C)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"instapay",className:"cursor-pointer",children:"انستا باي"}),t.jsx(Ot,{id:"instapay",checked:d.enabledPaymentMethods.instapay,onCheckedChange:C=>f("instapay",C)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"etisalat_cash",className:"cursor-pointer",children:"اتصالات كاش"}),t.jsx(Ot,{id:"etisalat_cash",checked:d.enabledPaymentMethods.etisalat_cash,onCheckedChange:C=>f("etisalat_cash",C)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"orange_cash",className:"cursor-pointer",children:"أورانج كاش"}),t.jsx(Ot,{id:"orange_cash",checked:d.enabledPaymentMethods.orange_cash,onCheckedChange:C=>f("orange_cash",C)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"bank_transfer",className:"cursor-pointer",children:"تحويل بنكي"}),t.jsx(Ot,{id:"bank_transfer",checked:d.enabledPaymentMethods.bank_transfer,onCheckedChange:C=>f("bank_transfer",C)})]})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"معلومات مهمة:"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("li",{children:"• يجب أن يكون الحد الأقصى أكبر من الحد الأدنى"}),t.jsx("li",{children:"• تطبق هذه الحدود على جميع البائعين في المنصة"}),t.jsx("li",{children:"• يمكن للبائعين رؤية هذه الحدود في صفحة الأرباح"}),t.jsx("li",{children:"• تؤثر طرق الدفع المعطلة على جميع طلبات السحب الجديدة"})]})]})]}),t.jsx("div",{className:"flex justify-end mt-6",children:t.jsxs(z,{onClick:()=>A("withdrawals"),className:"bg-blue-600 hover:bg-blue-700",disabled:s,children:[t.jsx(an,{className:"ml-2 h-4 w-4"}),s?"جاري الحفظ...":"حفظ الإعدادات"]})})]})}),t.jsx(_s,{value:"security",children:t.jsxs(dl,{title:"إعدادات الأمان",description:"تكوين إعدادات أمان النظام وسياسات كلمات المرور",icon:Js,children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"requireEmailVerification",className:"cursor-pointer",children:"طلب تأكيد البريد الإلكتروني"}),t.jsx(Ot,{id:"requireEmailVerification",name:"requireEmailVerification",checked:h.requireEmailVerification,onCheckedChange:C=>p(k=>({...k,requireEmailVerification:C}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"twoFactorAuthEnabled",className:"cursor-pointer",children:"تمكين المصادقة الثنائية (إذا كان متاحًا)"}),t.jsx(Ot,{id:"twoFactorAuthEnabled",name:"twoFactorAuthEnabled",checked:h.twoFactorAuthEnabled,onCheckedChange:C=>p(k=>({...k,twoFactorAuthEnabled:C}))})]}),t.jsx(dt,{className:"my-4"}),t.jsx(ee,{className:"block mb-2",children:"متطلبات كلمة المرور"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"passwordMinLength",children:"الحد الأدنى لطول كلمة المرور"}),t.jsx(oe,{id:"passwordMinLength",name:"passwordMinLength",type:"number",min:"6",max:"64",value:h.passwordMinLength,onChange:x})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"sessionTimeout",children:"مهلة الجلسة (بالدقائق)"}),t.jsx(oe,{id:"sessionTimeout",name:"sessionTimeout",type:"number",min:"5",value:h.sessionTimeout,onChange:x})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"passwordRequiresUppercase",className:"cursor-pointer",children:"يتطلب حرف كبير واحد على الأقل"}),t.jsx(Ot,{id:"passwordRequiresUppercase",name:"passwordRequiresUppercase",checked:h.passwordRequiresUppercase,onCheckedChange:C=>p(k=>({...k,passwordRequiresUppercase:C}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"passwordRequiresNumber",className:"cursor-pointer",children:"يتطلب رقم واحد على الأقل"}),t.jsx(Ot,{id:"passwordRequiresNumber",name:"passwordRequiresNumber",checked:h.passwordRequiresNumber,onCheckedChange:C=>p(k=>({...k,passwordRequiresNumber:C}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"passwordRequiresSymbol",className:"cursor-pointer",children:"يتطلب رمزًا واحدًا على الأقل"}),t.jsx(Ot,{id:"passwordRequiresSymbol",name:"passwordRequiresSymbol",checked:h.passwordRequiresSymbol,onCheckedChange:C=>p(k=>({...k,passwordRequiresSymbol:C}))})]})]}),t.jsx("div",{className:"flex justify-end mt-6",children:t.jsxs(z,{onClick:()=>A("security"),className:"bg-blue-600 hover:bg-blue-700",disabled:s,children:[t.jsx(an,{className:"ml-2 h-4 w-4"}),s?"جاري الحفظ...":"حفظ الإعدادات"]})})]})})]})]})},GU=()=>{const{user:e}=De(),{toast:s}=Ke(),[n,r]=u.useState([]),[a,i]=u.useState(""),[o,l]=u.useState(!0),[c,d]=u.useState(!1),[m,h]=u.useState(null),[p,v]=u.useState([]),[w,g]=u.useState(!1),[y,f]=u.useState(null);u.useState(!1);const[x,j]=u.useState({name:"",email:"",phone:""});u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){s({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}N(),S()},[e]);const N=async()=>{var O;try{l(!0);const $=await Ce.getDeliveryPersonnel(),W=((O=$.data)==null?void 0:O.data)||$.data||[];r(Array.isArray(W)?W:[])}catch($){console.error("Error fetching delivery personnel:",$),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء جلب بيانات موظفي التوصيل"})}finally{l(!1)}},S=async()=>{try{const O=await Ce.getAvailableOrders();v(O.data||[])}catch(O){console.error("Error fetching available orders:",O)}},A=O=>{const{name:$,value:W}=O.target;j(G=>({...G,[$]:W}))},C=async O=>{O.preventDefault();try{m?(await Ce.updateDeliveryPersonnel(m.id,x),s({title:"تم التحديث بنجاح",description:"تم تحديث بيانات موظف التوصيل بنجاح"})):(await Ce.createDeliveryPersonnel(x),s({title:"تم الإنشاء بنجاح",description:"تم إنشاء حساب موظف التوصيل بنجاح وإرسال بيانات الدخول عبر الإيميل"})),d(!1),h(null),j({name:"",email:"",phone:""}),N()}catch($){console.error("Error saving delivery personnel:",$),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء حفظ البيانات"})}},k=O=>{h(O),j({name:O.name,email:O.email,phone:O.phone}),d(!0)},M=async O=>{try{await Ce.deleteDeliveryPersonnel(O),s({title:"تم الحذف بنجاح",description:"تم حذف موظف التوصيل بنجاح"}),N()}catch($){console.error("Error deleting delivery personnel:",$),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء حذف موظف التوصيل"})}},P=async O=>{try{await Ce.resetDeliveryPersonnelPassword(O),s({title:"تم إعادة تعيين كلمة المرور",description:"تم إرسال كلمة المرور الجديدة عبر الإيميل"})}catch($){console.error("Error resetting password:",$),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء إعادة تعيين كلمة المرور"})}},D=async(O,$)=>{try{await Ce.assignOrder(O,$),s({title:"تم تعيين الطلب بنجاح",description:"تم تعيين الطلب لموظف التوصيل بنجاح"}),g(!1),f(null),S()}catch(W){console.error("Error assigning order:",W),s({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تعيين الطلب"})}},I=Array.isArray(n)?n.filter(O=>{var $,W,G;return(($=O.name)==null?void 0:$.toLowerCase().includes(a.toLowerCase()))||((W=O.email)==null?void 0:W.toLowerCase().includes(a.toLowerCase()))||((G=O.phone)==null?void 0:G.includes(a))}):[],H=O=>O?t.jsx(me,{className:"bg-green-500 text-white",children:"متاح"}):t.jsx(me,{variant:"secondary",children:"غير متاح"});return o?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Se,{className:"h-8 w-8 animate-spin text-blue-500"})}):t.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Wt,{className:"h-8 w-8 text-blue-600"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"إدارة موظفي التوصيل"})]}),t.jsxs(Hr,{open:c,onOpenChange:d,children:[t.jsx(gi,{asChild:!0,children:t.jsxs(z,{onClick:()=>{h(null),j({name:"",email:"",phone:""})},children:[t.jsx(t0,{className:"h-4 w-4 mr-2"}),"إضافة موظف جديد"]})}),t.jsxs(fr,{className:"sm:max-w-[425px]",children:[t.jsxs(pr,{children:[t.jsx(xr,{children:m?"تعديل موظف التوصيل":"إضافة موظف توصيل جديد"}),t.jsx(pg,{children:m?"قم بتعديل بيانات موظف التوصيل":"أدخل بيانات موظف التوصيل الجديد. سيتم إرسال بيانات الدخول عبر الإيميل"})]}),t.jsxs("form",{onSubmit:C,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"name",children:"الاسم الكامل"}),t.jsx(oe,{id:"name",name:"name",value:x.name,onChange:A,required:!0,className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"email",children:"البريد الإلكتروني"}),t.jsx(oe,{id:"email",name:"email",type:"email",value:x.email,onChange:A,required:!0,className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"phone",children:"رقم الهاتف"}),t.jsx(oe,{id:"phone",name:"phone",value:x.phone,onChange:A,required:!0,className:"mt-1"})]}),t.jsx(Ru,{children:t.jsx(z,{type:"submit",children:m?"تحديث":"إضافة"})})]})]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(As,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(oe,{placeholder:"البحث عن موظف التوصيل...",value:a,onChange:O=>i(O.target.value),className:"pl-10"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center gap-2",children:[t.jsx(Hn,{className:"h-5 w-5 text-green-500"}),"إجمالي الموظفين"]})}),t.jsx(Q,{children:t.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.length})})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center gap-2",children:[t.jsx(Be,{className:"h-5 w-5 text-blue-500"}),"الموظفين المتاحين"]})}),t.jsx(Q,{children:t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.filter(O=>O.is_available).length})})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center gap-2",children:[t.jsx(It,{className:"h-5 w-5 text-orange-500"}),"الطلبات المتاحة"]})}),t.jsx(Q,{children:t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:p.length})})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(O=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(ms,{children:[t.jsx(Es,{src:O.avatar}),t.jsx(fs,{children:O.name.split(" ").map($=>$[0]).join("").toUpperCase()})]}),t.jsxs("div",{children:[t.jsx(he,{className:"text-lg",children:O.name}),t.jsx(nt,{children:O.email})]})]}),H(O.is_available)]})}),t.jsx(Q,{children:t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm",children:O.phone})]})})}),t.jsx(St,{children:t.jsxs("div",{className:"flex gap-2 w-full",children:[t.jsxs(z,{variant:"outline",size:"sm",onClick:()=>k(O),children:[t.jsx(x6,{className:"h-4 w-4 mr-1"}),"تعديل"]}),t.jsxs(z,{variant:"outline",size:"sm",onClick:()=>P(O.id),children:[t.jsx(v6,{className:"h-4 w-4 mr-1"}),"إعادة تعيين"]}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"destructive",size:"sm",children:[t.jsx(zs,{className:"h-4 w-4 mr-1"}),"حذف"]})}),t.jsxs(as,{children:[t.jsxs(is,{children:[t.jsx(ls,{children:"هل أنت متأكد؟"}),t.jsxs(cs,{children:["سيتم حذف موظف التوصيل ",O.name," نهائياً. هذا الإجراء لا يمكن التراجع عنه."]})]}),t.jsxs(os,{children:[t.jsx(us,{children:"إلغاء"}),t.jsx(ds,{onClick:()=>M(O.id),className:"bg-red-500 hover:bg-red-600",children:"حذف"})]})]})]})]})})]})},O.id))}),I.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Wt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"لا توجد موظفين توصيل"}),t.jsx("p",{className:"text-gray-600",children:a?"لم يتم العثور على موظفين مطابقين للبحث":"قم بإضافة موظف توصيل جديد للبدء"})]}),t.jsx(Hr,{open:w,onOpenChange:g,children:t.jsxs(fr,{children:[t.jsx(pr,{children:t.jsx(xr,{children:"تعيين طلب لموظف التوصيل"})}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx(ee,{children:"اختر موظف التوصيل"}),t.jsxs(yt,{onValueChange:O=>{y&&D(y.id,O)},children:[t.jsx(ht,{children:t.jsx(ut,{placeholder:"اختر موظف التوصيل"})}),t.jsx(mt,{children:n.filter(O=>O.is_available).map(O=>t.jsx(Ne,{value:O.id.toString(),children:O.name},O.id))})]})]})})]})})]})},KU=()=>{const{toast:e}=Ke(),[s,n]=u.useState([]),[r,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(null),[d,m]=u.useState(!1),[h,p]=u.useState(!1),[v,w]=u.useState(""),[g,y]=u.useState(""),[f,x]=u.useState(!1),[j,N]=u.useState({search:"",date_from:"",date_to:""});u.useEffect(()=>{S()},[]);const S=async()=>{var I;try{o(!0);const[H,O]=await Promise.all([Ce.getOrdersReadyForDelivery(),Ce.getAvailableDeliveryPersonnel()]);n(((I=H.data)==null?void 0:I.data)||[]),a(O.data||[])}catch(H){console.error("Error loading data:",H),e({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تحميل البيانات"})}finally{o(!1)}},A=I=>{const{name:H,value:O}=I.target;N($=>({...$,[H]:O}))},C=async()=>{var I;try{o(!0);const H=await Ce.getOrdersReadyForDelivery(j);n(((I=H.data)==null?void 0:I.data)||[])}catch(H){console.error("Error searching orders:",H),e({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء البحث"})}finally{o(!1)}},k=()=>{N({search:"",date_from:"",date_to:""}),S()},M=async()=>{var I,H;if(!(!l||!v))try{x(!0);const O=await Ce.assignPickupPerson(l.id,v);e({title:"تم التعيين بنجاح",description:O.message}),m(!1),w(""),c(null),S()}catch(O){console.error("Error assigning pickup person:",O),e({variant:"destructive",title:"خطأ",description:((H=(I=O.response)==null?void 0:I.data)==null?void 0:H.message)||"حدث خطأ أثناء التعيين"})}finally{x(!1)}},P=async()=>{var I,H;if(!(!l||!g)){if(l.is_service_order&&l.requires_deposit&&l.deposit_status==="paid"&&!l.remaining_payment_proof){e({variant:"destructive",title:"لا يمكن تعيين موظف التسليم",description:"المبلغ النهائي للطلب لم يتم دفعه بعد من قبل العميل."});return}try{x(!0);const O=await Ce.assignDeliveryPerson(l.id,g);e({title:"تم التعيين بنجاح",description:O.message}),p(!1),y(""),c(null),S()}catch(O){console.error("Error assigning delivery person:",O),e({variant:"destructive",title:"خطأ",description:((H=(I=O.response)==null?void 0:I.data)==null?void 0:H.message)||"حدث خطأ أثناء التعيين"})}finally{x(!1)}}},D=I=>I?new Date(I).toLocaleDateString("ar-SA"):"غير محدد";return i?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{children:"جاري التحميل..."})]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"تعيين موظفي التوصيل"}),t.jsx("p",{className:"text-gray-600",children:"إدارة تعيين موظفي الاستلام والتسليم للطلبات الجاهزة"})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"flex items-center gap-2",children:[t.jsx(Tr,{className:"h-5 w-5"}),"فلترة وبحث"]})}),t.jsx(Q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"search",children:"البحث"}),t.jsx(oe,{id:"search",name:"search",placeholder:"رقم الطلب، اسم العميل، أو رقم الهاتف",value:j.search,onChange:A})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"date_from",children:"من تاريخ"}),t.jsx(oe,{id:"date_from",name:"date_from",type:"date",value:j.date_from,onChange:A})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"date_to",children:"إلى تاريخ"}),t.jsx(oe,{id:"date_to",name:"date_to",type:"date",value:j.date_to,onChange:A})]}),t.jsxs("div",{className:"flex items-end gap-2",children:[t.jsx(z,{onClick:C,className:"flex-1",children:"بحث"}),t.jsx(z,{variant:"outline",onClick:k,children:"إعادة تعيين"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(J,{children:t.jsx(Q,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(It,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"إجمالي الطلبات"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]})]})})}),t.jsx(J,{children:t.jsx(Q,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Hn,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"معين للاستلام"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(I=>I.pickup_person_id).length})]})]})})}),t.jsx(J,{children:t.jsx(Q,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wt,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"معين للتسليم"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(I=>I.delivery_person_id).length})]})]})})})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{children:["الطلبات الجاهزة للتوصيل (",s.length,")"]})}),t.jsx(Q,{children:s.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(It,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"لا توجد طلبات جاهزة للتوصيل"})]}):t.jsx("div",{className:"space-y-4",children:s.map(I=>{var H,O,$,W,G;return t.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("h3",{className:"font-semibold",children:["طلب #",I.id]}),t.jsx(me,{variant:"outline",children:D(I.work_completed_at)})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tt,{className:"h-4 w-4"}),t.jsxs("span",{children:["العميل: ",(H=I.user)==null?void 0:H.name]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"h-4 w-4"}),t.jsx("span",{children:I.customer_phone})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tt,{className:"h-4 w-4"}),t.jsxs("span",{children:["البائع: ",($=(O=I.seller)==null?void 0:O.user)==null?void 0:$.name]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:"h-4 w-4"}),t.jsx("span",{children:I.delivery_address})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[I.pickup_person_id?t.jsxs(me,{variant:"default",className:"bg-green-100 text-green-800",children:[t.jsx(Hn,{className:"h-3 w-3 mr-1"}),"موظف الاستلام معين"]}):t.jsxs(me,{variant:"secondary",children:[t.jsx(Zs,{className:"h-3 w-3 mr-1"}),"بحاجة لموظف استلام"]}),I.delivery_person_id?t.jsxs(me,{variant:"default",className:"bg-blue-100 text-blue-800",children:[t.jsx(Wt,{className:"h-3 w-3 mr-1"}),"موظف التسليم معين"]}):t.jsxs(me,{variant:"secondary",children:[t.jsx(Zs,{className:"h-3 w-3 mr-1"}),"بحاجة لموظف تسليم"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Hr,{open:d&&(l==null?void 0:l.id)===I.id,onOpenChange:R=>{m(R),R||c(null)},children:[t.jsx(gi,{asChild:!0,children:t.jsxs(z,{variant:"outline",size:"sm",disabled:!!I.pickup_person_id,onClick:()=>c(I),children:[t.jsx(t0,{className:"h-4 w-4 mr-1"}),"تعيين موظف استلام"]})}),t.jsxs(fr,{children:[t.jsx(pr,{children:t.jsx(xr,{children:"تعيين موظف الاستلام"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(ee,{children:["الطلب #",I.id]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["العميل: ",(W=I.user)==null?void 0:W.name]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"اختر موظف الاستلام"}),t.jsxs(yt,{value:v,onValueChange:w,children:[t.jsx(ht,{children:t.jsx(ut,{placeholder:"اختر موظف الاستلام"})}),t.jsx(mt,{children:r.map(R=>t.jsxs(Ne,{value:R.id.toString(),children:[R.name," - ",R.phone]},R.id))})]})]})]}),t.jsx(Ru,{children:t.jsx(z,{onClick:M,disabled:!v||f,children:f?"جاري التعيين...":"تأكيد التعيين"})})]})]}),t.jsxs(Hr,{open:h&&(l==null?void 0:l.id)===I.id,onOpenChange:R=>{p(R),R||c(null)},children:[t.jsx(gi,{asChild:!0,children:t.jsxs(z,{variant:"outline",size:"sm",disabled:!!I.delivery_person_id,onClick:()=>c(I),children:[t.jsx(Wt,{className:"h-4 w-4 mr-1"}),"تعيين موظف تسليم"]})}),t.jsxs(fr,{children:[t.jsx(pr,{children:t.jsx(xr,{children:"تعيين موظف التسليم"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(ee,{children:["الطلب #",I.id]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["العميل: ",(G=I.user)==null?void 0:G.name]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"اختر موظف التسليم"}),t.jsxs(yt,{value:g,onValueChange:y,children:[t.jsx(ht,{children:t.jsx(ut,{placeholder:"اختر موظف التسليم"})}),t.jsx(mt,{children:r.map(R=>t.jsxs(Ne,{value:R.id.toString(),children:[R.name," - ",R.phone]},R.id))})]})]})]}),t.jsx(Ru,{children:t.jsx(z,{onClick:P,disabled:!g||f,children:f?"جاري التعيين...":"تأكيد التعيين"})})]})]})]})]})},I.id)})})})]})]})},YU=()=>{const{toast:e}=Ke(),[s,n]=u.useState([]),[r,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(""),[d,m]=u.useState("all"),[h,p]=u.useState("all"),[v,w]=u.useState(null),[g,y]=u.useState(!1),[f,x]=u.useState(""),[j,N]=u.useState(""),[S,A]=u.useState("");u.useEffect(()=>{C()},[]);const C=async()=>{try{const[$,W]=await Promise.all([Ce.getWithdrawalRequests(),Ce.getBuyerWithdrawalRequests()]);n($.withdrawal_requests),a(W.withdrawal_requests)}catch($){console.error("Error fetching withdrawal requests:",$),e({title:"خطأ",description:"حدث خطأ في تحميل طلبات السحب",variant:"destructive"})}finally{o(!1)}},k=async()=>{if(v){if(f==="reject"&&!S.trim()){e({title:"خطأ",description:"يرجى إدخال سبب الرفض",variant:"destructive"});return}try{let $;v.type==="buyer"?$=f==="approve"?await Ce.approveBuyerWithdrawalRequest(v.id,{admin_notes:j}):await Ce.rejectBuyerWithdrawalRequest(v.id,{rejection_reason:S}):$=f==="approve"?await Ce.approveWithdrawalRequest(v.id,{admin_notes:j}):await Ce.rejectWithdrawalRequest(v.id,{rejection_reason:S}),e({title:"نجح",description:$.message,variant:"default"}),y(!1),w(null),N(""),A(""),C()}catch($){let W="حدث خطأ في معالجة الطلب";if($.message&&$.message.includes("API error:"))try{const G=$.message.split("API error:")[1],R=JSON.parse(G.split(" - ")[1]);W=R.error||R.message||W}catch(G){console.error("Error parsing API error:",G)}e({title:"خطأ",description:W,variant:"destructive"})}}},M=($,W)=>{w($),x(W),y(!0)},P=$=>{switch($){case"pending":return t.jsx(Ps,{className:"h-4 w-4 text-yellow-500"});case"approved":return t.jsx(Be,{className:"h-4 w-4 text-green-500"});case"rejected":return t.jsx(Pl,{className:"h-4 w-4 text-red-500"});default:return null}},D=$=>{switch($){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=[...s.map($=>({...$,type:"seller",user_name:$.seller_name,user_email:$.seller_email})),...r.map($=>({...$,type:"buyer",user_name:$.user_name,user_email:$.user_email}))],H=I.filter($=>{const W=$.user_name.toLowerCase().includes(l.toLowerCase())||$.user_email.toLowerCase().includes(l.toLowerCase()),G=d==="all"||$.status===d,R=h==="all"||$.type===h;return W&&G&&R}),O={total:I.length,pending:I.filter($=>$.status==="pending").length,approved:I.filter($=>$.status==="approved").length,rejected:I.filter($=>$.status==="rejected").length,totalAmount:I.filter($=>$.status==="approved").reduce(($,W)=>$+parseFloat(W.amount),0)};return i?t.jsx("div",{className:"p-6 md:p-8 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),t.jsx("p",{className:"text-gray-500 mt-4",children:"جاري تحميل طلبات السحب..."})]})}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsx(K.div,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة طلبات السحب"}),t.jsx("p",{className:"text-gray-500",children:"راجع ووافق على طلبات سحب أرباح البائعين وأموال المشترين"})]})}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-5",children:[{title:"إجمالي الطلبات",value:O.total,icon:bt,color:"blue"},{title:"قيد المراجعة",value:O.pending,icon:Ps,color:"yellow"},{title:"تم الموافقة",value:O.approved,icon:Be,color:"green"},{title:"مرفوض",value:O.rejected,icon:Pl,color:"red"},{title:"إجمالي المسحوب",value:`${O.totalAmount.toFixed(2)} ج`,icon:tc,color:"purple"}].map(($,W)=>t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:W*.05,duration:.4},children:t.jsxs(J,{className:`border-t-4 border-${$.color}-500`,children:[t.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:$.title}),ce.createElement($.icon,{className:`h-5 w-5 text-${$.color}-500`})]}),t.jsx(Q,{children:t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:$.value})})]})},W))}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsx(he,{children:"طلبات السحب"})}),t.jsxs(Q,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(As,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(oe,{placeholder:"البحث بالاسم أو البريد الإلكتروني...",value:l,onChange:$=>c($.target.value),className:"pl-10"})]})}),t.jsxs(yt,{value:d,onValueChange:m,children:[t.jsx(ht,{className:"w-[180px]",children:t.jsx(ut,{placeholder:"فلترة بالحالة"})}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"all",children:"جميع الحالات"}),t.jsx(Ne,{value:"pending",children:"قيد المراجعة"}),t.jsx(Ne,{value:"approved",children:"تم الموافقة"}),t.jsx(Ne,{value:"rejected",children:"مرفوض"})]})]}),t.jsxs(yt,{value:h,onValueChange:p,children:[t.jsx(ht,{className:"w-[180px]",children:t.jsx(ut,{placeholder:"فلترة بالنوع"})}),t.jsxs(mt,{children:[t.jsx(Ne,{value:"all",children:"جميع الأنواع"}),t.jsx(Ne,{value:"seller",children:"البائعين"}),t.jsx(Ne,{value:"buyer",children:"المشترين"})]})]})]}),H.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-right py-3 px-4",children:"المستخدم"}),t.jsx("th",{className:"text-right py-3 px-4",children:"النوع"}),t.jsx("th",{className:"text-right py-3 px-4",children:"المبلغ"}),t.jsx("th",{className:"text-right py-3 px-4",children:"طريقة الدفع"}),t.jsx("th",{className:"text-right py-3 px-4",children:"تفاصيل الدفع"}),t.jsx("th",{className:"text-right py-3 px-4",children:"الحالة"}),t.jsx("th",{className:"text-right py-3 px-4",children:"تاريخ الطلب"}),t.jsx("th",{className:"text-right py-3 px-4",children:"الإجراءات"})]})}),t.jsx("tbody",{children:H.map($=>t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tt,{className:"h-4 w-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:$.user_name}),t.jsx("div",{className:"text-gray-500 text-xs",children:$.user_email})]})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(me,{className:$.type==="seller"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:$.type==="seller"?"بائع":"مشتري"})}),t.jsxs("td",{className:"py-3 px-4 font-bold text-green-600",children:[$.amount," جنيه"]}),t.jsx("td",{className:"py-3 px-4",children:$.payment_method}),t.jsx("td",{className:"py-3 px-4 max-w-xs truncate",children:$.payment_details}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs(me,{className:`${D($.status)} flex items-center gap-1 w-fit`,children:[P($.status),$.status_label]})}),t.jsx("td",{className:"py-3 px-4 text-gray-600",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(hr,{className:"h-4 w-4"}),t.jsx("span",{children:$.created_at})]})}),t.jsx("td",{className:"py-3 px-4",children:$.status==="pending"?t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(z,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>M($,"approve"),children:[t.jsx(Be,{className:"h-4 w-4 ml-1"}),"موافقة"]}),t.jsxs(z,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>M($,"reject"),children:[t.jsx(Pl,{className:"h-4 w-4 ml-1"}),"رفض"]})]}):t.jsxs("div",{className:"text-sm text-gray-500",children:[$.processed_at&&t.jsxs("div",{children:["تم المعالجة: ",$.processed_at]}),$.rejection_reason&&t.jsxs("div",{className:"text-red-600 max-w-xs truncate",children:["السبب: ",$.rejection_reason]}),$.admin_notes&&t.jsxs("div",{className:"text-blue-600 max-w-xs truncate",children:["ملاحظات: ",$.admin_notes]})]})})]},`${$.type}-${$.id}`))})]})}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(bt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsxs("p",{children:["لا توجد طلبات سحب ",d!=="all"?XU(d):""]})]})]})]}),t.jsx(Hr,{open:g,onOpenChange:y,children:t.jsxs(fr,{className:"sm:max-w-md",children:[t.jsx(pr,{children:t.jsx(xr,{children:f==="approve"?"الموافقة على طلب السحب":"رفض طلب السحب"})}),v&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"تفاصيل الطلب"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"المستخدم:"})," ",v.user_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"النوع:"})," ",v.type==="seller"?"بائع":"مشتري"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"المبلغ:"})," ",v.amount," جنيه"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"طريقة الدفع:"})," ",v.payment_method]}),t.jsxs("p",{children:[t.jsx("strong",{children:"تفاصيل الدفع:"})," ",v.payment_details]})]})]}),f==="approve"?t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"admin_notes",children:"ملاحظات الإدارة (اختياري)"}),t.jsx(et,{id:"admin_notes",value:j,onChange:$=>N($.target.value),placeholder:"أي ملاحظات إضافية...",rows:3})]}):t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"rejection_reason",children:"سبب الرفض *"}),t.jsx(et,{id:"rejection_reason",value:S,onChange:$=>A($.target.value),placeholder:"اذكر سبب رفض طلب السحب...",rows:3,required:!0})]}),t.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[t.jsx(z,{type:"button",variant:"outline",onClick:()=>y(!1),children:"إلغاء"}),t.jsx(z,{onClick:k,className:f==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600",children:f==="approve"?"موافقة":"رفض"})]})]})]})})]})},XU=e=>({pending:"قيد المراجعة",approved:"تم الموافقة عليها",rejected:"مرفوضة"})[e]||e,JU=()=>{const{user:e}=De(),{toast:s}=Ke(),[n,r]=u.useState([]),[a,i]=u.useState([]),[o,l]=u.useState(null),[c,d]=u.useState(""),[m,h]=u.useState("all"),[p,v]=u.useState(!0),[w,g]=u.useState(!1),[y,f]=u.useState({}),[x,j]=u.useState(""),[N,S]=u.useState(1),[A,C]=u.useState(1);u.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){s({variant:"destructive",title:"غير مصرح به",description:"هذه الصفحة مخصصة للمشرفين فقط."});return}k(),M()},[e,N]),u.useEffect(()=>{P()},[c,m,n]);const k=async()=>{try{v(!0);const $={page:N,per_page:10};m!=="all"&&($.status=m);const W=await Ce.getContactMessages($);W!=null&&W.data&&(r(W.data.data||[]),C(W.data.last_page||1))}catch($){console.error("Error fetching contact messages:",$),s({variant:"destructive",title:"خطأ في تحميل الرسائل",description:"تعذر تحميل رسائل التواصل من الخادم"})}finally{v(!1)}},M=async()=>{try{const $=await Ce.getContactStats();$!=null&&$.data&&f($.data||{})}catch($){console.error("Error fetching contact stats:",$)}},P=()=>{let $=[...n];c&&($=$.filter(W=>{var R,V,q,T;const G=c.toLowerCase();return((R=W.name)==null?void 0:R.toLowerCase().includes(G))||((V=W.email)==null?void 0:V.toLowerCase().includes(G))||((q=W.subject)==null?void 0:q.toLowerCase().includes(G))||((T=W.message)==null?void 0:T.toLowerCase().includes(G))})),i($)},D=async $=>{if(l($),!$.is_read)try{await Ce.markContactMessageAsRead($.id),r(W=>W.map(G=>G.id===$.id?{...G,is_read:!0}:G))}catch(W){console.error("Error marking message as read:",W)}},I=async($,W)=>{try{g(!0),await Ce.markContactMessageAsResolved($,{admin_notes:W}),r(G=>G.map(R=>R.id===$?{...R,is_resolved:!0,is_read:!0,admin_notes:W,resolved_at:new Date().toISOString(),resolved_by:e.id}:R)),l(null),j(""),await M(),s({title:"تم حل الرسالة",description:"تم تعليم الرسالة كمحلولة بنجاح"})}catch(G){console.error("Error resolving message:",G),s({variant:"destructive",title:"خطأ في تحديث الرسالة",description:"تعذر تعليم الرسالة كمحلولة"})}finally{g(!1)}},H=async $=>{try{g(!0),await Ce.deleteContactMessage($),r(W=>W.filter(G=>G.id!==$)),l(null),await M(),s({title:"تم حذف الرسالة",description:"تم حذف الرسالة بنجاح"})}catch(W){console.error("Error deleting message:",W),s({variant:"destructive",title:"خطأ في حذف الرسالة",description:"تعذر حذف الرسالة"})}finally{g(!1)}},O=$=>$.is_resolved?t.jsx(me,{className:"bg-green-100 text-green-700",children:"محلولة"}):$.is_read?t.jsx(me,{className:"bg-blue-100 text-blue-700",children:"مقروءة"}):t.jsx(me,{className:"bg-yellow-100 text-yellow-700",children:"جديدة"});return(e==null?void 0:e.role)!=="admin"?t.jsxs("div",{className:"p-6 md:p-8 text-center",dir:"rtl",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",dir:"rtl",children:[t.jsxs(K.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("div",{className:"text-right",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"رسائل التواصل"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"إدارة رسائل العملاء والزوار"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(me,{className:"bg-blue-100 text-blue-700 py-2 px-3",children:[t.jsx(Xt,{className:"h-4 w-4 mr-1"}),"إجمالي الرسائل: ",y.total||0]}),t.jsxs(me,{className:"bg-yellow-100 text-yellow-700 py-2 px-3",children:[t.jsx(Ps,{className:"h-4 w-4 mr-1"}),"غير مقروءة: ",y.unread||0]}),t.jsxs(me,{className:"bg-red-100 text-red-700 py-2 px-3",children:[t.jsx(st,{className:"h-4 w-4 mr-1"}),"غير محلولة: ",y.unresolved||0]})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[t.jsxs("div",{className:`w-full ${o?"lg:w-1/2":"lg:w-full"}`,children:[t.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:t.jsxs("div",{className:"flex gap-4 mb-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(oe,{placeholder:"البحث في الرسائل...",value:c,onChange:$=>d($.target.value),className:"pr-10 text-right",dir:"rtl"})]}),t.jsx(z,{variant:"outline",onClick:k,disabled:p,children:t.jsx(Wn,{className:`h-4 w-4 ${p?"animate-spin":""}`})})]})}),t.jsxs(zo,{defaultValue:"all",value:m,onValueChange:h,children:[t.jsxs(ki,{className:"grid grid-cols-4 mb-4",children:[t.jsx(Kt,{value:"all",children:"الكل"}),t.jsxs(Kt,{value:"unread",children:["غير مقروءة ",t.jsx(me,{className:"ml-1 bg-yellow-500 text-white",children:y.unread||0})]}),t.jsxs(Kt,{value:"unresolved",children:["غير محلولة ",t.jsx(me,{className:"ml-1 bg-red-500 text-white",children:y.unresolved||0})]}),t.jsxs(Kt,{value:"resolved",children:["محلولة ",t.jsx(me,{className:"ml-1 bg-green-500 text-white",children:y.resolved||0})]})]}),t.jsx(_s,{value:m,className:"m-0",children:t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs(he,{className:"text-lg flex items-center justify-between text-right",children:[t.jsx("span",{children:"رسائل التواصل"}),t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["صفحة ",N," من ",A]})]})}),t.jsx(Q,{children:p?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"جاري تحميل الرسائل..."})]}):a.length>0?t.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pl-2",children:a.map($=>t.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-colors ${(o==null?void 0:o.id)===$.id?"bg-blue-100 border border-blue-200":"bg-gray-50 hover:bg-gray-100"} ${$.is_read?"":"ring-2 ring-yellow-200"}`,onClick:()=>D($),children:[t.jsxs("div",{className:"flex justify-between items-start mb-2 text-right",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tt,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-semibold text-gray-800",children:$.name}),O($)]}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date($.created_at).toLocaleDateString("ar-EG")})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-2 text-right",children:[t.jsx(Gn,{className:"h-3 w-3 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",dir:"ltr",children:$.email}),$.phone&&t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"h-3 w-3 text-gray-400 mr-2"}),t.jsx("span",{className:"text-sm text-gray-600",dir:"ltr",children:$.phone})]})]}),$.subject&&t.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-1 text-right",children:["الموضوع: ",$.subject]}),t.jsx("p",{className:"text-sm text-gray-600 truncate text-right",children:$.message})]},$.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Xt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على رسائل تطابق البحث"})]})}),A>1&&t.jsxs(St,{className:"flex justify-between",children:[t.jsx(z,{variant:"outline",disabled:N>=A,onClick:()=>S($=>Math.min(A,$+1)),children:"التالي"}),t.jsxs("span",{className:"text-sm text-gray-500",children:["صفحة ",N," من ",A]}),t.jsx(z,{variant:"outline",disabled:N<=1,onClick:()=>S($=>Math.max(1,$-1)),children:"السابق"})]})]})})]})]}),o&&t.jsx(K.div,{className:"w-full lg:w-1/2",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:t.jsxs(J,{className:"border-blue-200 shadow-lg h-full",children:[t.jsx(de,{className:"text-right",children:t.jsxs("div",{className:"flex flex-row-reverse items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(he,{className:"text-lg text-right",children:"تفاصيل الرسالة"}),t.jsxs(nt,{className:"text-right",children:["من ",o.name," - ",new Date(o.created_at).toLocaleDateString("ar-EG")]})]}),t.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[!o.is_resolved&&t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"outline",className:"border-green-200 text-green-600",children:[t.jsx(Be,{className:"mr-2 h-4 w-4"}),"حل الرسالة"]})}),t.jsxs(as,{dir:"rtl",children:[t.jsxs(is,{className:"text-right",children:[t.jsx(ls,{children:"حل رسالة التواصل"}),t.jsx(cs,{className:"text-right",children:"هل تريد تعليم هذه الرسالة كمحلولة؟ يمكنك إضافة ملاحظات للمراجعة المستقبلية."})]}),t.jsx("div",{className:"py-4",children:t.jsx(et,{placeholder:"ملاحظات إدارية (اختيارية)",value:x,onChange:$=>j($.target.value),rows:3,className:"text-right",dir:"rtl"})}),t.jsxs(os,{className:"flex-row-reverse",children:[t.jsx(ds,{onClick:()=>I(o.id,x),disabled:w,children:w?t.jsx(Se,{className:"h-4 w-4 animate-spin"}):"حل الرسالة"}),t.jsx(us,{children:"إلغاء"})]})]})]}),t.jsxs(ks,{children:[t.jsx(Ls,{asChild:!0,children:t.jsxs(z,{variant:"outline",className:"border-red-200 text-red-600",children:[t.jsx(zs,{className:"mr-2 h-4 w-4"}),"حذف"]})}),t.jsxs(as,{dir:"rtl",children:[t.jsxs(is,{className:"text-right",children:[t.jsx(ls,{children:"حذف رسالة التواصل"}),t.jsx(cs,{className:"text-right",children:"هل أنت متأكد من حذف هذه الرسالة؟ لا يمكن التراجع عن هذا الإجراء."})]}),t.jsxs(os,{className:"flex-row-reverse",children:[t.jsx(ds,{onClick:()=>H(o.id),disabled:w,className:"bg-red-500 hover:bg-red-600",children:w?t.jsx(Se,{className:"h-4 w-4 animate-spin"}):"حذف"}),t.jsx(us,{children:"إلغاء"})]})]})]}),t.jsxs(z,{variant:"outline",onClick:()=>l(null),children:[t.jsx(st,{className:"mr-2 h-4 w-4"}),"إغلاق"]})]})]})}),t.jsx(Q,{className:"text-right",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-3 text-right",children:"معلومات المرسل"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.jsx("span",{className:"text-sm text-gray-700",children:o.name}),t.jsx(tt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.jsx("span",{className:"text-sm text-gray-700",dir:"ltr",children:o.email}),t.jsx(Gn,{className:"h-4 w-4 text-gray-400"})]}),o.phone&&t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.jsx("span",{className:"text-sm text-gray-700",dir:"ltr",children:o.phone}),t.jsx(Dt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.jsx("span",{className:"text-sm text-gray-700",children:new Date(o.created_at).toLocaleString("ar-EG")}),t.jsx(hr,{className:"h-4 w-4 text-gray-400"})]})]})]}),o.subject&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-right",children:"الموضوع"}),t.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg text-right",children:o.subject})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-right",children:"الرسالة"}),t.jsx("div",{className:"bg-white border rounded-lg p-4 min-h-[150px]",children:t.jsx("p",{className:"text-gray-700 whitespace-pre-wrap text-right",children:o.message})})]}),o.admin_notes&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-right",children:"ملاحظات إدارية"}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[t.jsx("p",{className:"text-green-800 text-right",children:o.admin_notes}),o.resolved_at&&t.jsxs("p",{className:"text-xs text-green-600 mt-2 text-right",children:["تم الحل في: ",new Date(o.resolved_at).toLocaleString("ar-EG")]})]})]})]})})]})})]})]})},QU=()=>{const[e,s]=u.useState([]),[n,r]=u.useState(null),[a,i]=u.useState(!0),[o,l]=u.useState(!1),[c,d]=u.useState(null),[m,h]=u.useState({search:"",type:"",priority:"",status:""}),[p,v]=u.useState({title:"",content:"",type:"info",priority:"medium",is_active:!0,starts_at:"",ends_at:"",image:null}),w=[{value:"info",label:"معلومات",color:"bg-success-100 text-neutral-900",icon:mi},{value:"warning",label:"تحذير",color:"bg-warning-100 text-warning-700",icon:hs},{value:"success",label:"إنجاز",color:"bg-success-200 text-roman-500",icon:Be},{value:"error",label:"خطأ",color:"bg-warning-500/20 text-warning-500",icon:Ps}],g=[{value:"low",label:"منخفضة",color:"bg-neutral-500/20 text-neutral-700"},{value:"medium",label:"متوسطة",color:"bg-success-100 text-roman-500"},{value:"high",label:"عالية",color:"bg-warning-500/20 text-warning-500"}];u.useEffect(()=>{y(),f()},[m]);const y=async()=>{try{i(!0);const P=await Ce.getAnnouncements(m);P.success&&s(P.data)}catch(P){console.error("Error fetching announcements:",P),Gt({title:"خطأ",description:"فشل في تحميل الإعلانات",variant:"destructive"})}finally{i(!1)}},f=async()=>{try{const P=await Ce.getAnnouncementStats();P.success&&r(P.data)}catch(P){console.error("Error fetching stats:",P)}},x=async P=>{var D,I;P.preventDefault();try{const H=new FormData;H.append("title",p.title),H.append("content",p.content),H.append("type",p.type),H.append("priority",p.priority),H.append("is_active",p.is_active?"1":"0"),p.starts_at&&p.starts_at.trim()!==""&&H.append("starts_at",p.starts_at),p.ends_at&&p.ends_at.trim()!==""&&H.append("ends_at",p.ends_at),p.image&&p.image instanceof File&&H.append("image",p.image);let O;c?(H.append("_method","PUT"),O=await Ce.updateAnnouncement(c.id,H)):O=await Ce.createAnnouncement(H),O.success&&(Gt({title:"نجح",description:c?"تم تحديث الإعلان بنجاح":"تم إنشاء الإعلان بنجاح"}),l(!1),S(),y(),f())}catch(H){console.error("Error saving announcement:",H),Gt({title:"خطأ",description:((I=(D=H.response)==null?void 0:D.data)==null?void 0:I.message)||"فشل في حفظ الإعلان",variant:"destructive"})}},j=async P=>{if(confirm("هل أنت متأكد من حذف هذا الإعلان؟"))try{(await Ce.deleteAnnouncement(P)).success&&(Gt({title:"نجح",description:"تم حذف الإعلان بنجاح"}),y(),f())}catch(D){console.error("Error deleting announcement:",D),Gt({title:"خطأ",description:"فشل في حذف الإعلان",variant:"destructive"})}},N=async P=>{try{const D=await Ce.toggleAnnouncementStatus(P);D.success&&(Gt({title:"نجح",description:D.message}),y(),f())}catch(D){console.error("Error toggling status:",D),Gt({title:"خطأ",description:"فشل في تغيير حالة الإعلان",variant:"destructive"})}},S=()=>{v({title:"",content:"",type:"info",priority:"medium",is_active:!0,starts_at:"",ends_at:"",image:null}),d(null)},A=P=>{d(P),v({title:P.title,content:P.content,type:P.type,priority:P.priority,is_active:P.is_active,starts_at:P.starts_at?P.starts_at.split("T")[0]:"",ends_at:P.ends_at?P.ends_at.split("T")[0]:"",image:null}),l(!0)},C=P=>w.find(D=>D.value===P),k=P=>g.find(D=>D.value===P),M=P=>{if(!P.is_active)return t.jsx(me,{variant:"secondary",children:"غير نشط"});const D=new Date,I=P.starts_at?new Date(P.starts_at):null,H=P.ends_at?new Date(P.ends_at):null;return I&&I>D?t.jsx(me,{className:"bg-orange-100 text-orange-800",children:"مجدول"}):H&&H<D?t.jsx(me,{variant:"secondary",children:"منتهي"}):t.jsx(me,{className:"bg-green-100 text-green-800",children:"نشط"})};return t.jsxs("div",{className:"p-6 space-y-6",children:[n&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(J,{children:t.jsxs(Q,{className:"p-4",children:[t.jsx("div",{className:"text-2xl font-bold",children:n.total}),t.jsx("div",{className:"text-sm text-gray-600",children:"إجمالي الإعلانات"})]})}),t.jsx(J,{children:t.jsxs(Q,{className:"p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.active}),t.jsx("div",{className:"text-sm text-gray-600",children:"نشط"})]})}),t.jsx(J,{children:t.jsxs(Q,{className:"p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.visible}),t.jsx("div",{className:"text-sm text-gray-600",children:"مرئي للزوار"})]})}),t.jsx(J,{children:t.jsxs(Q,{className:"p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-600",children:n.inactive}),t.jsx("div",{className:"text-sm text-gray-600",children:"غير نشط"})]})})]}),t.jsxs(J,{children:[t.jsx(de,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(he,{children:"إدارة الإعلانات"}),t.jsxs(Hr,{open:o,onOpenChange:l,children:[t.jsx(gi,{asChild:!0,children:t.jsxs(z,{onClick:S,children:[t.jsx(Zx,{className:"h-4 w-4 ml-2"}),"إضافة إعلان جديد"]})}),t.jsxs(fr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(pr,{children:t.jsx(xr,{children:c?"تعديل الإعلان":"إضافة إعلان جديد"})}),t.jsxs("form",{onSubmit:x,className:"space-y-4",dir:"rtl",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"عنوان الإعلان"}),t.jsx(oe,{value:p.title,onChange:P=>v({...p,title:P.target.value}),required:!0,placeholder:"أدخل عنوان الإعلان"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"نوع الإعلان"}),t.jsx("select",{value:p.type,onChange:P=>v({...p,type:P.target.value}),className:"w-full p-2 border rounded-md",children:w.map(P=>t.jsx("option",{value:P.value,children:P.label},P.value))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"محتوى الإعلان"}),t.jsx(et,{value:p.content,onChange:P=>v({...p,content:P.target.value}),required:!0,rows:4,placeholder:"أدخل محتوى الإعلان"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"الأولوية"}),t.jsx("select",{value:p.priority,onChange:P=>v({...p,priority:P.target.value}),className:"w-full p-2 border rounded-md",children:g.map(P=>t.jsx("option",{value:P.value,children:P.label},P.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"الحالة"}),t.jsxs("select",{value:p.is_active,onChange:P=>v({...p,is_active:P.target.value==="true"}),className:"w-full p-2 border rounded-md",children:[t.jsx("option",{value:"true",children:"نشط"}),t.jsx("option",{value:"false",children:"غير نشط"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"تاريخ البداية (اختياري)"}),t.jsx(oe,{type:"date",value:p.starts_at,onChange:P=>v({...p,starts_at:P.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"تاريخ النهاية (اختياري)"}),t.jsx(oe,{type:"date",value:p.ends_at,onChange:P=>v({...p,ends_at:P.target.value})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"صورة الإعلان (اختياري)"}),t.jsx(oe,{type:"file",accept:"image/*",onChange:P=>v({...p,image:P.target.files[0]})})]}),t.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[t.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"إلغاء"}),t.jsx(z,{type:"submit",children:c?"تحديث":"إنشاء"})]})]})]})]})]})}),t.jsxs(Q,{children:[t.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[t.jsx("div",{className:"flex-1 min-w-60",children:t.jsxs("div",{className:"relative",children:[t.jsx(As,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400"}),t.jsx(oe,{placeholder:"البحث في الإعلانات...",value:m.search,onChange:P=>h({...m,search:P.target.value}),className:"pr-10"})]})}),t.jsxs("select",{value:m.type,onChange:P=>h({...m,type:P.target.value}),className:"px-3 py-2 border rounded-md",children:[t.jsx("option",{value:"",children:"جميع الأنواع"}),w.map(P=>t.jsx("option",{value:P.value,children:P.label},P.value))]}),t.jsxs("select",{value:m.priority,onChange:P=>h({...m,priority:P.target.value}),className:"px-3 py-2 border rounded-md",children:[t.jsx("option",{value:"",children:"جميع الأولويات"}),g.map(P=>t.jsx("option",{value:P.value,children:P.label},P.value))]}),t.jsxs("select",{value:m.status,onChange:P=>h({...m,status:P.target.value}),className:"px-3 py-2 border rounded-md",children:[t.jsx("option",{value:"",children:"جميع الحالات"}),t.jsx("option",{value:"active",children:"نشط"}),t.jsx("option",{value:"inactive",children:"غير نشط"})]})]}),a?t.jsx("div",{className:"text-center py-8",children:"جاري التحميل..."}):e.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"لا توجد إعلانات"}):t.jsx("div",{className:"space-y-4",children:e.map(P=>{var O;const D=C(P.type),I=k(P.priority),H=D==null?void 0:D.icon;return t.jsx(J,{className:"border-r-4",style:{borderRightColor:D!=null&&D.color.includes("blue")?"#3b82f6":D!=null&&D.color.includes("green")?"#10b981":D!=null&&D.color.includes("yellow")?"#f59e0b":"#ef4444"},children:t.jsx(Q,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[H&&t.jsx(H,{className:"h-4 w-4"}),t.jsx("h3",{className:"text-lg font-semibold",children:P.title}),t.jsx(me,{className:D==null?void 0:D.color,children:D==null?void 0:D.label}),t.jsx(me,{className:I==null?void 0:I.color,children:I==null?void 0:I.label}),M(P)]}),t.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:P.content}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:["بواسطة: ",(O=P.creator)==null?void 0:O.name]}),t.jsxs("span",{children:[t.jsx(hr,{className:"h-4 w-4 inline ml-1"}),mo(new Date(P.created_at),"dd/MM/yyyy",{locale:fo})]}),P.starts_at&&t.jsxs("span",{children:["يبدأ: ",mo(new Date(P.starts_at),"dd/MM/yyyy",{locale:fo})]}),P.ends_at&&t.jsxs("span",{children:["ينتهي: ",mo(new Date(P.ends_at),"dd/MM/yyyy",{locale:fo})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(P.id),className:"p-2",children:P.is_active?t.jsx(No,{className:"h-4 w-4"}):t.jsx(en,{className:"h-4 w-4"})}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>A(P),className:"p-2",children:t.jsx(Do,{className:"h-4 w-4"})}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>j(P.id),className:"p-2 text-red-600 hover:text-red-800",children:t.jsx(zs,{className:"h-4 w-4"})})]})]})})},P.id)})})]})]})]})},ZU=()=>{const{user:e}=De(),{toast:s}=Ke(),[n,r]=u.useState([]),[a,i]=u.useState(!0),[o,l]=u.useState(!1),[c,d]=u.useState(!1),[m,h]=u.useState({name:"",delivery_fee:"",platform_commission_percent:""}),[p,v]=u.useState(null),[w,g]=u.useState({name:"",delivery_fee:"",platform_commission_percent:""});u.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&y()},[e]);const y=async()=>{var A;try{i(!0);const C=await Ce.getCities({per_page:100}),k=((A=C==null?void 0:C.data)==null?void 0:A.data)||(C==null?void 0:C.data)||C||[];r(Array.isArray(k)?k:[])}catch(C){console.error("Failed to load cities",C),s({variant:"destructive",title:"خطأ",description:"تعذر تحميل المدن"})}finally{i(!1)}},f=async()=>{if(!m.name||m.delivery_fee===""||m.platform_commission_percent===""){s({variant:"destructive",title:"بيانات ناقصة",description:"أكمل الحقول المطلوبة"});return}try{l(!0);const A={name:m.name,delivery_fee:Number(m.delivery_fee),platform_commission_percent:Number(m.platform_commission_percent)},C=await Ce.createCity(A);r(k=>[...k,C.data||C]),h({name:"",delivery_fee:"",platform_commission_percent:""}),d(!1),s({title:"تمت الإضافة",description:"تمت إضافة المدينة بنجاح"})}catch(A){console.error("Create city failed",A),s({variant:"destructive",title:"خطأ",description:"تعذر إضافة المدينة"})}finally{l(!1)}},x=A=>{v(A.id),g({name:A.name,delivery_fee:A.delivery_fee,platform_commission_percent:A.platform_commission_percent})},j=()=>{v(null),g({name:"",delivery_fee:"",platform_commission_percent:""})},N=async A=>{try{l(!0);const C={name:w.name,delivery_fee:Number(w.delivery_fee),platform_commission_percent:Number(w.platform_commission_percent)},k=await Ce.updateCity(A,C),M=k.data||k;r(P=>P.map(D=>D.id===A?M:D)),v(null),s({title:"تم الحفظ",description:"تم تحديث المدينة بنجاح"})}catch(C){console.error("Update city failed",C),s({variant:"destructive",title:"خطأ",description:"تعذر تحديث المدينة"})}finally{l(!1)}},S=async A=>{try{l(!0),await Ce.deleteCity(A),r(C=>C.filter(k=>k.id!==A)),s({title:"تم الحذف",description:"تم حذف المدينة"})}catch(C){console.error("Delete city failed",C),s({variant:"destructive",title:"خطأ",description:"تعذر حذف المدينة"})}finally{l(!1)}};return(e==null?void 0:e.role)!=="admin"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):a?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"جاري تحميل المدن..."})]}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsxs(K.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة المدن"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"إضافة وتعديل وحذف المدن ورسومها ونسبة عمولة المنصة"})]}),t.jsxs(z,{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700",disabled:c||o,children:[o?t.jsx(Se,{className:"ml-2 h-5 w-5 animate-spin"}):t.jsx(Ar,{className:"ml-2 h-5 w-5"}),"إضافة مدينة"]})]}),c&&t.jsxs(J,{className:"border-blue-200 shadow-md",children:[t.jsx(de,{children:t.jsx(he,{className:"text-xl text-gray-800",children:"مدينة جديدة"})}),t.jsxs(Q,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم المدينة"}),t.jsx(oe,{value:m.name,onChange:A=>h({...m,name:A.target.value}),placeholder:"مثال: القاهرة"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"رسوم التوصيل (ج.م)"}),t.jsx(oe,{type:"number",step:"0.01",value:m.delivery_fee,onChange:A=>h({...m,delivery_fee:A.target.value}),placeholder:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"نسبة عمولة المنصة (%)"}),t.jsx(oe,{type:"number",step:"0.01",value:m.platform_commission_percent,onChange:A=>h({...m,platform_commission_percent:A.target.value}),placeholder:"0"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-4 justify-end",children:[t.jsxs(z,{variant:"outline",onClick:()=>d(!1),disabled:o,children:[t.jsx(st,{className:"ml-2 h-4 w-4"}),"إلغاء"]}),t.jsxs(z,{onClick:f,disabled:o,children:[t.jsx(an,{className:"ml-2 h-4 w-4"}),"حفظ"]})]})]})]}),t.jsxs(J,{className:"shadow-md",children:[t.jsx(de,{children:t.jsx(he,{className:"text-lg",children:"المدن"})}),t.jsx(Q,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المدينة"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رسوم التوصيل"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"نسبة العمولة (%)"}),t.jsx("th",{className:"px-4 py-2"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(A=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-2",children:p===A.id?t.jsx(oe,{value:w.name,onChange:C=>g({...w,name:C.target.value})}):t.jsx("span",{className:"font-medium",children:A.name})}),t.jsx("td",{className:"px-4 py-2",children:p===A.id?t.jsx(oe,{type:"number",step:"0.01",value:w.delivery_fee,onChange:C=>g({...w,delivery_fee:C.target.value})}):t.jsxs("span",{children:[Number(A.delivery_fee||0)," ج.م"]})}),t.jsx("td",{className:"px-4 py-2",children:p===A.id?t.jsx(oe,{type:"number",step:"0.01",value:w.platform_commission_percent,onChange:C=>g({...w,platform_commission_percent:C.target.value})}):t.jsxs("span",{children:[Number(A.platform_commission_percent||0),"%"]})}),t.jsx("td",{className:"px-4 py-2 text-left rtl:text-right whitespace-nowrap",children:p===A.id?t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{size:"sm",onClick:()=>N(A.id),disabled:o,children:[t.jsx(an,{className:"ml-2 h-4 w-4"}),"حفظ"]}),t.jsxs(z,{size:"sm",variant:"outline",onClick:j,disabled:o,children:[t.jsx(st,{className:"ml-2 h-4 w-4"}),"إلغاء"]})]}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{size:"sm",variant:"outline",onClick:()=>x(A),children:[t.jsx(Do,{className:"ml-2 h-4 w-4"}),"تعديل"]}),t.jsxs(z,{size:"sm",variant:"destructive",onClick:()=>S(A.id),disabled:o,children:[t.jsx(zs,{className:"ml-2 h-4 w-4"}),"حذف"]})]})})]},A.id))})]})})})]})]})},eB=()=>{const{user:e}=De(),{toast:s}=Ke(),[n,r]=u.useState([]),[a,i]=u.useState(0),[o,l]=u.useState(!0),[c,d]=u.useState({seller_id:"",city_id:"",date_from:"",date_to:""}),[m,h]=u.useState([]),[p,v]=u.useState(!1);u.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&(g(),w())},[e]);const w=async()=>{var f;try{v(!0);const x=await Ce.getCities({per_page:100}),j=((f=x==null?void 0:x.data)==null?void 0:f.data)||(x==null?void 0:x.data)||x||[];h(Array.isArray(j)?j:[])}catch{}finally{v(!1)}},g=async(f={})=>{var x;try{l(!0);const j=await Ce.getPlatformProfits(f),N=(j==null?void 0:j.total)??0,S=((x=j==null?void 0:j.data)==null?void 0:x.data)||(j==null?void 0:j.data)||[],A=Array.isArray(S)?S:[];i(Number(N)||0),r(A)}catch(j){console.error("Failed to load platform profits",j),s({variant:"destructive",title:"خطأ",description:"تعذر تحميل أرباح المنصة"})}finally{l(!1)}},y=()=>{const f={};c.seller_id&&(f.seller_id=c.seller_id),c.city_id&&(f.city_id=c.city_id),c.date_from&&(f.date_from=c.date_from),c.date_to&&(f.date_to=c.date_to),g(f)};return(e==null?void 0:e.role)!=="admin"?t.jsxs("div",{className:"p-6 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"غير مصرح لك بالدخول"}),t.jsx("p",{className:"text-gray-500",children:"هذه الصفحة مخصصة للمشرفين فقط."})]}):t.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[t.jsx(K.div,{className:"flex items-center justify-between",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"أرباح المنصة"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"إجمالي الأرباح وتفاصيل الأرباح لكل طلب مكتمل"})]})}),t.jsxs(J,{className:"shadow-md",children:[t.jsx(de,{children:t.jsx(he,{className:"text-lg",children:"ملخص"})}),t.jsx(Q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:t.jsxs("div",{className:"p-4 rounded-lg border bg-green-50",children:[t.jsx("div",{className:"text-gray-600",children:"إجمالي أرباح المنصة"}),t.jsxs("div",{className:"text-2xl font-bold",children:[Number(a).toFixed(2)," ج.م"]})]})})})]}),t.jsxs(J,{className:"shadow-md",children:[t.jsx(de,{children:t.jsxs(he,{className:"text-lg flex items-center gap-2",children:[t.jsx(Tr,{className:"w-5 h-5"})," فلاتر"]})}),t.jsx(Q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"معرّف البائع"}),t.jsx(oe,{value:c.seller_id,onChange:f=>d({...c,seller_id:f.target.value}),placeholder:"ID"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"المدينة"}),t.jsxs("select",{value:c.city_id,onChange:f=>d({...c,city_id:f.target.value}),className:"w-full px-3 py-2 border rounded",disabled:p,children:[t.jsx("option",{value:"",children:"الكل"}),m.map(f=>t.jsx("option",{value:f.id,children:f.name},f.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"من تاريخ"}),t.jsx(oe,{type:"date",value:c.date_from,onChange:f=>d({...c,date_from:f.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"إلى تاريخ"}),t.jsx(oe,{type:"date",value:c.date_to,onChange:f=>d({...c,date_to:f.target.value})})]}),t.jsx("div",{children:t.jsx(z,{onClick:y,className:"w-full",disabled:o,children:o?t.jsx(Se,{className:"ml-2 h-4 w-4 animate-spin"}):"تطبيق"})})]})})]}),t.jsxs(J,{className:"shadow-md",children:[t.jsx(de,{children:t.jsx(he,{className:"text-lg",children:"تفاصيل الأرباح"})}),t.jsx(Q,{children:o?t.jsxs("div",{className:"p-6 text-center",children:[t.jsx(Se,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),t.jsx("div",{className:"text-gray-600",children:"جاري التحميل..."})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#الطلب"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المدينة"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"نسبة العمولة"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"قيمة الربح (ج.م)"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(f=>{var x;return t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-2",children:f.order_id}),t.jsx("td",{className:"px-4 py-2",children:((x=f.city)==null?void 0:x.name)||"-"}),t.jsxs("td",{className:"px-4 py-2",children:[Number(f.commission_percent||0),"%"]}),t.jsx("td",{className:"px-4 py-2 font-semibold",children:Number(f.amount||0).toFixed(2)}),t.jsx("td",{className:"px-4 py-2",children:new Date(f.calculated_on||f.created_at).toLocaleString()})]},f.id)})})]})})})]})]})};function tB(){return t.jsx($6,{children:t.jsx(I6,{children:t.jsx(X6,{children:t.jsxs(J6,{children:[t.jsx(Q6,{}),t.jsxs(hT,{children:[t.jsxs(Te,{path:"/",element:t.jsx(KL,{}),children:[t.jsx(Te,{index:!0,element:t.jsx(r7,{})}),t.jsx(Te,{path:"explore",element:t.jsx(y9,{})}),t.jsx(Te,{path:"gigs/:id",element:t.jsx(j9,{})}),t.jsx(Te,{path:"sellers/:id",element:t.jsx(E9,{})}),t.jsx(Te,{path:"contact-us",element:t.jsx(nr,{to:"/about-us",replace:!0})}),t.jsx(Te,{path:"about-us",element:t.jsx(zz,{})}),t.jsx(Te,{path:"policy",element:t.jsx(Vz,{})}),t.jsx(Te,{path:"announcements",element:t.jsx(wU,{})}),t.jsx(Te,{path:"message/:id",element:t.jsx(js,{children:t.jsx(R9,{})})}),t.jsx(Te,{path:"profile/me",element:t.jsx(js,{children:t.jsx(Qj,{})})}),t.jsx(Te,{path:"profile/:id",element:t.jsx(js,{children:t.jsx(Qj,{})})}),t.jsxs(Te,{path:"dashboard",element:t.jsx(js,{allowedRoles:["buyer","seller"],children:t.jsx(B9,{})}),children:[t.jsx(Te,{index:!0,element:t.jsx(ib,{})}),t.jsx(Te,{path:"overview",element:t.jsx(ib,{})}),t.jsx(Te,{path:"orders",element:t.jsx(AU,{})}),t.jsx(Te,{path:"gigs",element:t.jsx(RU,{})}),t.jsx(Te,{path:"gigs/new",element:t.jsx(LU,{})}),t.jsx(Te,{path:"gigs/edit/:gigId",element:t.jsx(FU,{})}),t.jsx(Te,{path:"earnings",element:t.jsx(DU,{})}),t.jsx(Te,{path:"wallet",element:t.jsx(IU,{})}),t.jsx(Te,{path:"messages",element:t.jsx(OU,{})}),t.jsx(Te,{path:"settings",element:t.jsx($U,{})})]}),t.jsx(Te,{path:"chat",element:t.jsx(js,{children:t.jsx(xz,{})})}),t.jsx(Te,{path:"notifications",element:t.jsx(js,{children:t.jsx(Fz,{})})}),t.jsx(Te,{path:"cart",element:t.jsx(js,{children:t.jsx(gz,{})})}),t.jsx(Te,{path:"wishlist",element:t.jsx(js,{children:t.jsx(vz,{})})}),t.jsx(Te,{path:"checkout",element:t.jsx(js,{children:t.jsx(yz,{})})}),t.jsx(Te,{path:"orders/:orderId",element:t.jsx(js,{children:t.jsx(jz,{})})}),t.jsx(Te,{path:"login",element:t.jsx(js,{requireAuth:!1,children:t.jsx(bz,{})})}),t.jsx(Te,{path:"register",element:t.jsx(js,{requireAuth:!1,children:t.jsx(Mz,{})})}),t.jsx(Te,{path:"forgot-password",element:t.jsx(js,{requireAuth:!1,children:t.jsx(Dz,{})})}),t.jsx(Te,{path:"reset-password",element:t.jsx(js,{requireAuth:!1,children:t.jsx(Oz,{})})}),t.jsx(Te,{path:"verify-email",element:t.jsx(js,{requireAuth:!1,children:t.jsx($z,{})})}),t.jsx(Te,{path:"*",element:t.jsx(Iz,{})})]}),t.jsxs(Te,{path:"/admin",element:t.jsx(js,{allowedRoles:["admin"],children:t.jsx(t7,{})}),children:[t.jsx(Te,{path:"dashboard",element:t.jsx(Lz,{})}),t.jsx(Te,{path:"orders",element:t.jsx(VU,{})}),t.jsx(Te,{path:"categories",element:t.jsx(zU,{})}),t.jsx(Te,{path:"products",element:t.jsx(UU,{})}),t.jsx(Te,{path:"sellers",element:t.jsx(BU,{})}),t.jsx(Te,{path:"users",element:t.jsx(WU,{})}),t.jsx(Te,{path:"delivery",element:t.jsx(GU,{})}),t.jsx(Te,{path:"delivery-orders",element:t.jsx(KU,{})}),t.jsx(Te,{path:"withdrawals",element:t.jsx(YU,{})}),t.jsx(Te,{path:"messages",element:t.jsx(HU,{})}),t.jsx(Te,{path:"contact-us",element:t.jsx(JU,{})}),t.jsx(Te,{path:"announcements",element:t.jsx(QU,{})}),t.jsx(Te,{path:"cities",element:t.jsx(ZU,{})}),t.jsx(Te,{path:"platform-profits",element:t.jsx(eB,{})}),t.jsx(Te,{path:"settings",element:t.jsx(qU,{})})]}),t.jsxs(Te,{path:"/delivery",children:[t.jsx(Te,{index:!0,element:t.jsx(nr,{to:"/delivery/login",replace:!0})}),t.jsx(Te,{path:"login",element:t.jsx(CU,{})}),t.jsx(Te,{path:"dashboard",element:t.jsx(Cm,{children:t.jsx(_U,{})})}),t.jsx(Te,{path:"pickup/:orderId",element:t.jsx(Cm,{children:t.jsx(kU,{})})}),t.jsx(Te,{path:"deliver/:orderId",element:t.jsx(Cm,{children:t.jsx(PU,{})})})]})]}),t.jsx(M6,{})]})})})})}af.createRoot(document.getElementById("root")).render(t.jsx(ce.StrictMode,{children:t.jsx(jT,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:t.jsx(tB,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(e=>{})});
